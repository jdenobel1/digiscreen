(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zw(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return i=>i in e}const Si={},cc=[],ao=()=>{},vL=()=>!1,A0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),eC=t=>t.startsWith("onUpdate:"),Pn=Object.assign,tC=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},yL=Object.prototype.hasOwnProperty,bi=(t,e)=>yL.call(t,e),Mt=Array.isArray,dc=t=>f0(t)==="[object Map]",S4=t=>f0(t)==="[object Set]",Ht=t=>typeof t=="function",cn=t=>typeof t=="string",nl=t=>typeof t=="symbol",Ni=t=>t!==null&&typeof t=="object",B4=t=>(Ni(t)||Ht(t))&&Ht(t.then)&&Ht(t.catch),k4=Object.prototype.toString,f0=t=>k4.call(t),wL=t=>f0(t).slice(8,-1),I4=t=>f0(t)==="[object Object]",iC=t=>cn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gh=Zw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),p0=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},CL=/-(\w)/g,Cr=p0(t=>t.replace(CL,(e,i)=>i?i.toUpperCase():"")),EL=/\B([A-Z])/g,sl=p0(t=>t.replace(EL,"-$1").toLowerCase()),g0=p0(t=>t.charAt(0).toUpperCase()+t.slice(1)),Vb=p0(t=>t?"on".concat(g0(t)):""),Xa=(t,e)=>!Object.is(t,e),$b=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},D4=(t,e,i,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:i})},xL=t=>{const e=parseFloat(t);return isNaN(e)?t:e},TL=t=>{const e=cn(t)?Number(t):NaN;return isNaN(e)?t:e};let nE;const F4=()=>nE||(nE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hi(t){if(Mt(t)){const e={};for(let i=0;i<t.length;i++){const s=t[i],n=cn(s)?kL(s):hi(s);if(n)for(const r in n)e[r]=n[r]}return e}else if(cn(t)||Ni(t))return t}const _L=/;(?![^(]*\))/g,SL=/:([^]+)/,BL=/\/\*[^]*?\*\//g;function kL(t){const e={};return t.replace(BL,"").split(_L).forEach(i=>{if(i){const s=i.split(SL);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function je(t){let e="";if(cn(t))e=t;else if(Mt(t))for(let i=0;i<t.length;i++){const s=je(t[i]);s&&(e+=s+" ")}else if(Ni(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const IL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DL=Zw(IL);function P4(t){return!!t||t===""}const L4=t=>!!(t&&t.__v_isRef===!0),te=t=>cn(t)?t:t==null?"":Mt(t)||Ni(t)&&(t.toString===k4||!Ht(t.toString))?L4(t)?te(t.value):JSON.stringify(t,R4,2):String(t),R4=(t,e)=>L4(e)?R4(t,e.value):dc(e)?{["Map(".concat(e.size,")")]:[...e.entries()].reduce((i,[s,n],r)=>(i[jb(s,r)+" =>"]=n,i),{})}:S4(e)?{["Set(".concat(e.size,")")]:[...e.values()].map(i=>jb(i))}:nl(e)?jb(e):Ni(e)&&!Mt(e)&&!I4(e)?String(e):e,jb=(t,e="")=>{var i;return nl(t)?"Symbol(".concat((i=t.description)!=null?i:e,")"):t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ys;class M4{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ys,!e&&Ys&&(this.index=(Ys.scopes||(Ys.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Ys;try{return Ys=this,e()}finally{Ys=i}}}on(){Ys=this}off(){Ys=this.parent}stop(e){if(this._active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function FL(t){return new M4(t)}function PL(){return Ys}let ki;const zb=new WeakSet;class O4{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ys&&Ys.active&&Ys.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zb.has(this)&&(zb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||N4(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,sE(this),H4(this);const e=ki,i=Mr;ki=this,Mr=!0;try{return this.fn()}finally{Q4(this),ki=e,Mr=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)rC(e);this.deps=this.depsTail=void 0,sE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){n1(this)&&this.run()}get dirty(){return n1(this)}}let U4=0,ic;function N4(t){t.flags|=8,t.next=ic,ic=t}function nC(){U4++}function sC(){if(--U4>0)return;let t;for(;ic;){let e=ic,i;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=ic,ic=void 0;e;){if(i=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=i}}if(t)throw t}function H4(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Q4(t){let e,i=t.depsTail,s=i;for(;s;){const n=s.prevDep;s.version===-1?(s===i&&(i=n),rC(s),LL(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=i}function n1(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(V4(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function V4(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===xA))return;t.globalVersion=xA;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!n1(t)){t.flags&=-3;return}const i=ki,s=Mr;ki=t,Mr=!0;try{H4(t);const n=t.fn(t._value);(e.version===0||Xa(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ki=i,Mr=s,Q4(t),t.flags&=-3}}function rC(t,e=!1){const{dep:i,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),i.subs===t&&(i.subs=s),!i.subs&&i.computed){i.computed.flags&=-5;for(let r=i.computed.deps;r;r=r.nextDep)rC(r,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function LL(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let Mr=!0;const $4=[];function rl(){$4.push(Mr),Mr=!1}function ol(){const t=$4.pop();Mr=t===void 0?!0:t}function sE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const i=ki;ki=void 0;try{e()}finally{ki=i}}}let xA=0;class RL{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oC{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ki||!Mr||ki===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==ki)i=this.activeLink=new RL(ki,this),ki.deps?(i.prevDep=ki.depsTail,ki.depsTail.nextDep=i,ki.depsTail=i):ki.deps=ki.depsTail=i,j4(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const s=i.nextDep;s.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=s),i.prevDep=ki.depsTail,i.nextDep=void 0,ki.depsTail.nextDep=i,ki.depsTail=i,ki.deps===i&&(ki.deps=s)}return i}trigger(e){this.version++,xA++,this.notify(e)}notify(e){nC();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{sC()}}}function j4(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)j4(s)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const s1=new WeakMap,ql=Symbol(""),r1=Symbol(""),TA=Symbol("");function ts(t,e,i){if(Mr&&ki){let s=s1.get(t);s||s1.set(t,s=new Map);let n=s.get(i);n||(s.set(i,n=new oC),n.target=t,n.map=s,n.key=i),n.track()}}function Wo(t,e,i,s,n,r){const o=s1.get(t);if(!o){xA++;return}const a=l=>{l&&l.trigger()};if(nC(),e==="clear")o.forEach(a);else{const l=Mt(t),u=l&&iC(i);if(l&&i==="length"){const c=Number(s);o.forEach((h,A)=>{(A==="length"||A===TA||!nl(A)&&A>=c)&&a(h)})}else switch(i!==void 0&&a(o.get(i)),u&&a(o.get(TA)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ql)),dc(t)&&a(o.get(r1)));break;case"delete":l||(a(o.get(ql)),dc(t)&&a(o.get(r1)));break;case"set":dc(t)&&a(o.get(ql));break}}sC()}function Fu(t){const e=fi(t);return e===t?e:(ts(e,"iterate",TA),yr(t)?e:e.map(Xn))}function m0(t){return ts(t=fi(t),"iterate",TA),t}const ML={__proto__:null,[Symbol.iterator](){return Kb(this,Symbol.iterator,Xn)},concat(...t){return Fu(this).concat(...t.map(e=>Mt(e)?Fu(e):e))},entries(){return Kb(this,"entries",t=>(t[1]=Xn(t[1]),t))},every(t,e){return Bo(this,"every",t,e,void 0,arguments)},filter(t,e){return Bo(this,"filter",t,e,i=>i.map(Xn),arguments)},find(t,e){return Bo(this,"find",t,e,Xn,arguments)},findIndex(t,e){return Bo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Bo(this,"findLast",t,e,Xn,arguments)},findLastIndex(t,e){return Bo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Bo(this,"forEach",t,e,void 0,arguments)},includes(...t){return Gb(this,"includes",t)},indexOf(...t){return Gb(this,"indexOf",t)},join(t){return Fu(this).join(t)},lastIndexOf(...t){return Gb(this,"lastIndexOf",t)},map(t,e){return Bo(this,"map",t,e,void 0,arguments)},pop(){return Td(this,"pop")},push(...t){return Td(this,"push",t)},reduce(t,...e){return rE(this,"reduce",t,e)},reduceRight(t,...e){return rE(this,"reduceRight",t,e)},shift(){return Td(this,"shift")},some(t,e){return Bo(this,"some",t,e,void 0,arguments)},splice(...t){return Td(this,"splice",t)},toReversed(){return Fu(this).toReversed()},toSorted(t){return Fu(this).toSorted(t)},toSpliced(...t){return Fu(this).toSpliced(...t)},unshift(...t){return Td(this,"unshift",t)},values(){return Kb(this,"values",Xn)}};function Kb(t,e,i){const s=m0(t),n=s[e]();return s!==t&&!yr(t)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=i(r.value)),r}),n}const OL=Array.prototype;function Bo(t,e,i,s,n,r){const o=m0(t),a=o!==t&&!yr(t),l=o[e];if(l!==OL[e]){const h=l.apply(t,r);return a?Xn(h):h}let u=i;o!==t&&(a?u=function(h,A){return i.call(this,Xn(h),A,t)}:i.length>2&&(u=function(h,A){return i.call(this,h,A,t)}));const c=l.call(o,u,s);return a&&n?n(c):c}function rE(t,e,i,s){const n=m0(t);let r=i;return n!==t&&(yr(t)?i.length>3&&(r=function(o,a,l){return i.call(this,o,a,l,t)}):r=function(o,a,l){return i.call(this,o,Xn(a),l,t)}),n[e](r,...s)}function Gb(t,e,i){const s=fi(t);ts(s,"iterate",TA);const n=s[e](...i);return(n===-1||n===!1)&&cC(i[0])?(i[0]=fi(i[0]),s[e](...i)):n}function Td(t,e,i=[]){rl(),nC();const s=fi(t)[e].apply(t,i);return sC(),ol(),s}const UL=Zw("__proto__,__v_isRef,__isVue"),z4=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(nl));function NL(t){nl(t)||(t=String(t));const e=fi(this);return ts(e,"has",t),e.hasOwnProperty(t)}class K4{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,s){const n=this._isReadonly,r=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return r;if(i==="__v_raw")return s===(n?r?JL:Y4:r?W4:q4).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Mt(e);if(!n){let l;if(o&&(l=ML[i]))return l;if(i==="hasOwnProperty")return NL}const a=Reflect.get(e,i,$n(e)?e:s);return(nl(i)?z4.has(i):UL(i))||(n||ts(e,"get",i),r)?a:$n(a)?o&&iC(i)?a:a.value:Ni(a)?n?X4(a):KA(a):a}}class G4 extends K4{constructor(e=!1){super(!1,e)}set(e,i,s,n){let r=e[i];if(!this._isShallow){const l=ru(r);if(!yr(s)&&!ru(s)&&(r=fi(r),s=fi(s)),!Mt(e)&&$n(r)&&!$n(s))return l?!1:(r.value=s,!0)}const o=Mt(e)&&iC(i)?Number(i)<e.length:bi(e,i),a=Reflect.set(e,i,s,$n(e)?e:n);return e===fi(n)&&(o?Xa(s,r)&&Wo(e,"set",i,s):Wo(e,"add",i,s)),a}deleteProperty(e,i){const s=bi(e,i);e[i];const n=Reflect.deleteProperty(e,i);return n&&s&&Wo(e,"delete",i,void 0),n}has(e,i){const s=Reflect.has(e,i);return(!nl(i)||!z4.has(i))&&ts(e,"has",i),s}ownKeys(e){return ts(e,"iterate",Mt(e)?"length":ql),Reflect.ownKeys(e)}}class HL extends K4{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const QL=new G4,VL=new HL,$L=new G4(!0);const aC=t=>t,b0=t=>Reflect.getPrototypeOf(t);function ep(t,e,i=!1,s=!1){t=t.__v_raw;const n=fi(t),r=fi(e);i||(Xa(e,r)&&ts(n,"get",e),ts(n,"get",r));const{has:o}=b0(n),a=s?aC:i?dC:Xn;if(o.call(n,e))return a(t.get(e));if(o.call(n,r))return a(t.get(r));t!==n&&t.get(e)}function tp(t,e=!1){const i=this.__v_raw,s=fi(i),n=fi(t);return e||(Xa(t,n)&&ts(s,"has",t),ts(s,"has",n)),t===n?i.has(t):i.has(t)||i.has(n)}function ip(t,e=!1){return t=t.__v_raw,!e&&ts(fi(t),"iterate",ql),Reflect.get(t,"size",t)}function oE(t,e=!1){!e&&!yr(t)&&!ru(t)&&(t=fi(t));const i=fi(this);return b0(i).has.call(i,t)||(i.add(t),Wo(i,"add",t,t)),this}function aE(t,e,i=!1){!i&&!yr(e)&&!ru(e)&&(e=fi(e));const s=fi(this),{has:n,get:r}=b0(s);let o=n.call(s,t);o||(t=fi(t),o=n.call(s,t));const a=r.call(s,t);return s.set(t,e),o?Xa(e,a)&&Wo(s,"set",t,e):Wo(s,"add",t,e),this}function lE(t){const e=fi(this),{has:i,get:s}=b0(e);let n=i.call(e,t);n||(t=fi(t),n=i.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return n&&Wo(e,"delete",t,void 0),r}function uE(){const t=fi(this),e=t.size!==0,i=t.clear();return e&&Wo(t,"clear",void 0,void 0),i}function np(t,e){return function(s,n){const r=this,o=r.__v_raw,a=fi(o),l=e?aC:t?dC:Xn;return!t&&ts(a,"iterate",ql),o.forEach((u,c)=>s.call(n,l(u),l(c),r))}}function sp(t,e,i){return function(...s){const n=this.__v_raw,r=fi(n),o=dc(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...s),c=i?aC:e?dC:Xn;return!e&&ts(r,"iterate",l?r1:ql),{next(){const{value:h,done:A}=u.next();return A?{value:h,done:A}:{value:a?[c(h[0]),c(h[1])]:c(h),done:A}},[Symbol.iterator](){return this}}}}function ma(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function jL(){const t={get(r){return ep(this,r)},get size(){return ip(this)},has:tp,add:oE,set:aE,delete:lE,clear:uE,forEach:np(!1,!1)},e={get(r){return ep(this,r,!1,!0)},get size(){return ip(this)},has:tp,add(r){return oE.call(this,r,!0)},set(r,o){return aE.call(this,r,o,!0)},delete:lE,clear:uE,forEach:np(!1,!0)},i={get(r){return ep(this,r,!0)},get size(){return ip(this,!0)},has(r){return tp.call(this,r,!0)},add:ma("add"),set:ma("set"),delete:ma("delete"),clear:ma("clear"),forEach:np(!0,!1)},s={get(r){return ep(this,r,!0,!0)},get size(){return ip(this,!0)},has(r){return tp.call(this,r,!0)},add:ma("add"),set:ma("set"),delete:ma("delete"),clear:ma("clear"),forEach:np(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=sp(r,!1,!1),i[r]=sp(r,!0,!1),e[r]=sp(r,!1,!0),s[r]=sp(r,!0,!0)}),[t,i,e,s]}const[zL,KL,GL,qL]=jL();function lC(t,e){const i=e?t?qL:GL:t?KL:zL;return(s,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(bi(i,n)&&n in s?i:s,n,r)}const WL={get:lC(!1,!1)},YL={get:lC(!1,!0)},XL={get:lC(!0,!1)};const q4=new WeakMap,W4=new WeakMap,Y4=new WeakMap,JL=new WeakMap;function ZL(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eR(t){return t.__v_skip||!Object.isExtensible(t)?0:ZL(wL(t))}function KA(t){return ru(t)?t:uC(t,!1,QL,WL,q4)}function tR(t){return uC(t,!1,$L,YL,W4)}function X4(t){return uC(t,!0,VL,XL,Y4)}function uC(t,e,i,s,n){if(!Ni(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=n.get(t);if(r)return r;const o=eR(t);if(o===0)return t;const a=new Proxy(t,o===2?s:i);return n.set(t,a),a}function hc(t){return ru(t)?hc(t.__v_raw):!!(t&&t.__v_isReactive)}function ru(t){return!!(t&&t.__v_isReadonly)}function yr(t){return!!(t&&t.__v_isShallow)}function cC(t){return t?!!t.__v_raw:!1}function fi(t){const e=t&&t.__v_raw;return e?fi(e):t}function iR(t){return!bi(t,"__v_skip")&&Object.isExtensible(t)&&D4(t,"__v_skip",!0),t}const Xn=t=>Ni(t)?KA(t):t,dC=t=>Ni(t)?X4(t):t;function $n(t){return t?t.__v_isRef===!0:!1}function J4(t){return Z4(t,!1)}function nR(t){return Z4(t,!0)}function Z4(t,e){return $n(t)?t:new sR(t,e)}class sR{constructor(e,i){this.dep=new oC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:fi(e),this._value=i?e:Xn(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,s=this.__v_isShallow||yr(e)||ru(e);e=s?e:fi(e),Xa(e,i)&&(this._rawValue=e,this._value=s?e:Xn(e),this.dep.trigger())}}function rR(t){return $n(t)?t.value:t}const oR={get:(t,e,i)=>e==="__v_raw"?t:rR(Reflect.get(t,e,i)),set:(t,e,i,s)=>{const n=t[e];return $n(n)&&!$n(i)?(n.value=i,!0):Reflect.set(t,e,i,s)}};function e3(t){return hc(t)?t:new Proxy(t,oR)}class aR{constructor(e,i,s){this.fn=e,this.setter=i,this._value=void 0,this.dep=new oC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xA-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ki!==this)return N4(this),!0}get value(){const e=this.dep.track();return V4(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function lR(t,e,i=!1){let s,n;return Ht(t)?s=t:(s=t.get,n=t.set),new aR(s,n,i)}const rp={},Qg=new WeakMap;let Rl;function uR(t,e=!1,i=Rl){if(i){let s=Qg.get(i);s||Qg.set(i,s=[]),s.push(t)}}function cR(t,e,i=Si){const{immediate:s,deep:n,once:r,scheduler:o,augmentJob:a,call:l}=i,u=S=>n?S:yr(S)||n===!1||n===0?$o(S,1):$o(S);let c,h,A,f,m=!1,p=!1;if($n(t)?(h=()=>t.value,m=yr(t)):hc(t)?(h=()=>u(t),m=!0):Mt(t)?(p=!0,m=t.some(S=>hc(S)||yr(S)),h=()=>t.map(S=>{if($n(S))return S.value;if(hc(S))return u(S);if(Ht(S))return l?l(S,2):S()})):Ht(t)?e?h=l?()=>l(t,2):t:h=()=>{if(A){rl();try{A()}finally{ol()}}const S=Rl;Rl=c;try{return l?l(t,3,[f]):t(f)}finally{Rl=S}}:h=ao,e&&n){const S=h,I=n===!0?1/0:n;h=()=>$o(S(),I)}const x=PL(),C=()=>{c.stop(),x&&tC(x.effects,c)};if(r&&e){const S=e;e=(...I)=>{S(...I),C()}}let g=p?new Array(t.length).fill(rp):rp;const w=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const I=c.run();if(n||m||(p?I.some((O,U)=>Xa(O,g[U])):Xa(I,g))){A&&A();const O=Rl;Rl=c;try{const U=[I,g===rp?void 0:p&&g[0]===rp?[]:g,f];l?l(e,3,U):e(...U),g=I}finally{Rl=O}}}else c.run()};return a&&a(w),c=new O4(h),c.scheduler=o?()=>o(w,!1):w,f=S=>uR(S,!1,c),A=c.onStop=()=>{const S=Qg.get(c);if(S){if(l)l(S,4);else for(const I of S)I();Qg.delete(c)}},e?s?w(!0):g=c.run():o?o(w.bind(null,!0),!0):c.run(),C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function $o(t,e=1/0,i){if(e<=0||!Ni(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),e--,$n(t))$o(t.value,e,i);else if(Mt(t))for(let s=0;s<t.length;s++)$o(t[s],e,i);else if(S4(t)||dc(t))t.forEach(s=>{$o(s,e,i)});else if(I4(t)){for(const s in t)$o(t[s],e,i);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&$o(t[s],e,i)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function GA(t,e,i,s){try{return s?t(...s):t()}catch(n){v0(n,e,i)}}function Ur(t,e,i,s){if(Ht(t)){const n=GA(t,e,i,s);return n&&B4(n)&&n.catch(r=>{v0(r,e,i)}),n}if(Mt(t)){const n=[];for(let r=0;r<t.length;r++)n.push(Ur(t[r],e,i,s));return n}}function v0(t,e,i,s=!0){const n=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Si;if(e){let a=e.parent;const l=e.proxy,u="https://vuejs.org/error-reference/#runtime-".concat(i);for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(r){rl(),GA(r,null,10,[t,l,u]),ol();return}}dR(t,i,n,s,o)}function dR(t,e,i,s=!0,n=!1){if(n)throw t;console.error(t)}let _A=!1,o1=!1;const hs=[];let Wr=0;const Ac=[];let ka=null,Gu=0;const t3=Promise.resolve();let hC=null;function hR(t){const e=hC||t3;return t?e.then(this?t.bind(this):t):e}function AR(t){let e=_A?Wr+1:0,i=hs.length;for(;e<i;){const s=e+i>>>1,n=hs[s],r=SA(n);r<t||r===t&&n.flags&2?e=s+1:i=s}return e}function AC(t){if(!(t.flags&1)){const e=SA(t),i=hs[hs.length-1];!i||!(t.flags&2)&&e>=SA(i)?hs.push(t):hs.splice(AR(e),0,t),t.flags|=1,i3()}}function i3(){!_A&&!o1&&(o1=!0,hC=t3.then(s3))}function fR(t){Mt(t)?Ac.push(...t):ka&&t.id===-1?ka.splice(Gu+1,0,t):t.flags&1||(Ac.push(t),t.flags|=1),i3()}function cE(t,e,i=_A?Wr+1:0){for(;i<hs.length;i++){const s=hs[i];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;hs.splice(i,1),i--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function n3(t){if(Ac.length){const e=[...new Set(Ac)].sort((i,s)=>SA(i)-SA(s));if(Ac.length=0,ka){ka.push(...e);return}for(ka=e,Gu=0;Gu<ka.length;Gu++){const i=ka[Gu];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}ka=null,Gu=0}}const SA=t=>t.id==null?t.flags&2?-1:1/0:t.id;function s3(t){o1=!1,_A=!0;try{for(Wr=0;Wr<hs.length;Wr++){const e=hs[Wr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),GA(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Wr<hs.length;Wr++){const e=hs[Wr];e&&(e.flags&=-2)}Wr=0,hs.length=0,n3(),_A=!1,hC=null,(hs.length||Ac.length)&&s3()}}let Dn=null,r3=null;function Vg(t){const e=Dn;return Dn=t,r3=t&&t.type.__scopeId||null,e}function Ct(t,e=Dn,i){if(!e||t._n)return t;const s=(...n)=>{s._d&&CE(-1);const r=Vg(e);let o;try{o=t(...n)}finally{Vg(r),s._d&&CE(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function a1(t,e){if(Dn===null)return t;const i=_0(Dn),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[r,o,a,l=Si]=e[n];r&&(Ht(r)&&(r={mounted:r,updated:r}),r.deep&&$o(o),s.push({dir:r,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Cl(t,e,i,s){const n=t.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(rl(),Ur(l,i,8,[t.el,a,t,e]),ol())}}const pR=Symbol("_vte"),o3=t=>t.__isTeleport,Ia=Symbol("_leaveCb"),op=Symbol("_enterCb");function a3(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qA(()=>{t.isMounted=!0}),pC(()=>{t.isUnmounting=!0}),t}const or=[Function,Array],l3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:or,onEnter:or,onAfterEnter:or,onEnterCancelled:or,onBeforeLeave:or,onLeave:or,onAfterLeave:or,onLeaveCancelled:or,onBeforeAppear:or,onAppear:or,onAfterAppear:or,onAppearCancelled:or},u3=t=>{const e=t.subTree;return e.component?u3(e.component):e},gR={name:"BaseTransition",props:l3,setup(t,{slots:e}){const i=ea(),s=a3();return()=>{const n=e.default&&fC(e.default(),!0);if(!n||!n.length)return;const r=c3(n),o=fi(t),{mode:a}=o;if(s.isLeaving)return qb(r);const l=dE(r);if(!l)return qb(r);let u=BA(l,o,s,i,A=>u=A);l.type!==ps&&ou(l,u);const c=i.subTree,h=c&&dE(c);if(h&&h.type!==ps&&!Nl(l,h)&&u3(i).type!==ps){const A=BA(h,o,s,i);if(ou(h,A),a==="out-in"&&l.type!==ps)return s.isLeaving=!0,A.afterLeave=()=>{s.isLeaving=!1,i.job.flags&8||i.update(),delete A.afterLeave},qb(r);a==="in-out"&&l.type!==ps&&(A.delayLeave=(f,m,p)=>{const x=d3(s,h);x[String(h.key)]=h,f[Ia]=()=>{m(),f[Ia]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return r}}};function c3(t){let e=t[0];if(t.length>1){for(const i of t)if(i.type!==ps){e=i;break}}return e}const mR=gR;function d3(t,e){const{leavingVNodes:i}=t;let s=i.get(e.type);return s||(s=Object.create(null),i.set(e.type,s)),s}function BA(t,e,i,s,n){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:A,onLeave:f,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:x,onAppear:C,onAfterAppear:g,onAppearCancelled:w}=e,S=String(t.key),I=d3(i,t),O=(k,P)=>{k&&Ur(k,s,9,P)},U=(k,P)=>{const T=P[1];O(k,P),Mt(k)?k.every(R=>R.length<=1)&&T():k.length<=1&&T()},$={mode:o,persisted:a,beforeEnter(k){let P=l;if(!i.isMounted)if(r)P=x||l;else return;k[Ia]&&k[Ia](!0);const T=I[S];T&&Nl(t,T)&&T.el[Ia]&&T.el[Ia](),O(P,[k])},enter(k){let P=u,T=c,R=h;if(!i.isMounted)if(r)P=C||u,T=g||c,R=w||h;else return;let E=!1;const _=k[op]=F=>{E||(E=!0,F?O(R,[k]):O(T,[k]),$.delayedLeave&&$.delayedLeave(),k[op]=void 0)};P?U(P,[k,_]):_()},leave(k,P){const T=String(t.key);if(k[op]&&k[op](!0),i.isUnmounting)return P();O(A,[k]);let R=!1;const E=k[Ia]=_=>{R||(R=!0,P(),_?O(p,[k]):O(m,[k]),k[Ia]=void 0,I[T]===t&&delete I[T])};I[T]=t,f?U(f,[k,E]):E()},clone(k){const P=BA(k,e,i,s,n);return n&&n(P),P}};return $}function qb(t){if(y0(t))return t=Ja(t),t.children=null,t}function dE(t){if(!y0(t))return o3(t.type)&&t.children?c3(t.children):t;const{shapeFlag:e,children:i}=t;if(i){if(e&16)return i[0];if(e&32&&Ht(i.default))return i.default()}}function ou(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ou(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fC(t,e=!1,i){let s=[],n=0;for(let r=0;r<t.length;r++){let o=t[r];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:r);o.type===vt?(o.patchFlag&128&&n++,s=s.concat(fC(o.children,e,a))):(e||o.type!==ps)&&s.push(a!=null?Ja(o,{key:a}):o)}if(n>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Yc(t,e){return Ht(t)?Pn({name:t.name},e,{setup:t}):t}function h3(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function l1(t,e,i,s,n=!1){if(Mt(t)){t.forEach((m,p)=>l1(m,e&&(Mt(e)?e[p]:e),i,s,n));return}if(fc(s)&&!n)return;const r=s.shapeFlag&4?_0(s.component):s.el,o=n?null:r,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Si?a.refs={}:a.refs,h=a.setupState,A=fi(h),f=h===Si?()=>!1:m=>bi(A,m);if(u!=null&&u!==l&&(cn(u)?(c[u]=null,f(u)&&(h[u]=null)):$n(u)&&(u.value=null)),Ht(l))GA(l,a,12,[o,c]);else{const m=cn(l),p=$n(l);if(m||p){const x=()=>{if(t.f){const C=m?f(l)?h[l]:c[l]:l.value;n?Mt(C)&&tC(C,r):Mt(C)?C.includes(r)||C.push(r):m?(c[l]=[r],f(l)&&(h[l]=c[l])):(l.value=[r],t.k&&(c[t.k]=l.value))}else m?(c[l]=o,f(l)&&(h[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(x.id=-1,Gs(x,i)):x()}}}const fc=t=>!!t.type.__asyncLoader,y0=t=>t.type.__isKeepAlive;function bR(t,e){A3(t,"a",e)}function vR(t,e){A3(t,"da",e)}function A3(t,e,i=Qn){const s=t.__wdc||(t.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(w0(e,s,i),i){let n=i.parent;for(;n&&n.parent;)y0(n.parent.vnode)&&yR(s,e,i,n),n=n.parent}}function yR(t,e,i,s){const n=w0(e,t,s,!0);E0(()=>{tC(s[e],n)},i)}function w0(t,e,i=Qn,s=!1){if(i){const n=i[t]||(i[t]=[]),r=e.__weh||(e.__weh=(...o)=>{rl();const a=YA(i),l=Ur(e,i,t,o);return a(),ol(),l});return s?n.unshift(r):n.push(r),r}}const ra=t=>(e,i=Qn)=>{(!T0||t==="sp")&&w0(t,(...s)=>e(...s),i)},wR=ra("bm"),qA=ra("m"),CR=ra("bu"),C0=ra("u"),pC=ra("bum"),E0=ra("um"),ER=ra("sp"),xR=ra("rtg"),TR=ra("rtc");function _R(t,e=Qn){w0("ec",t,e)}const SR="components";function Je(t,e){return kR(SR,t,!0,e)||t}const BR=Symbol.for("v-ndc");function kR(t,e,i=!0,s=!1){const n=Dn||Qn;if(n){const r=n.type;{const a=gM(r,!1);if(a&&(a===e||a===Cr(e)||a===g0(Cr(e))))return r}const o=hE(n[t]||r[t],e)||hE(n.appContext[t],e);return!o&&s?r:o}}function hE(t,e){return t&&(t[e]||t[Cr(e)]||t[g0(Cr(e))])}function Yt(t,e,i,s){let n;const r=i,o=Mt(t);if(o||cn(t)){const a=o&&hc(t);let l=!1;a&&(l=!yr(t),t=m0(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?Xn(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,r)}else if(Ni(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,r)}}else n=[];return n}function AE(t,e,i={},s,n){if(Dn.ce||Dn.parent&&fc(Dn.parent)&&Dn.parent.ce)return e!=="default"&&(i.name=e),z(),et(vt,null,[Vt("slot",i,s)],64);let r=t[e];r&&r._c&&(r._d=!1),z();const o=r&&f3(r(i)),a=et(vt,{key:(i.key||o&&o.key||"_".concat(e))+""},o||[],o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function f3(t){return t.some(e=>IA(e)?!(e.type===ps||e.type===vt&&!f3(e.children)):!0)?t:null}const u1=t=>t?R3(t)?_0(t):u1(t.parent):null,qh=Pn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>u1(t.parent),$root:t=>u1(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>g3(t),$forceUpdate:t=>t.f||(t.f=()=>{AC(t.update)}),$nextTick:t=>t.n||(t.n=hR.bind(t.proxy)),$watch:t=>XR.bind(t)}),Wb=(t,e)=>t!==Si&&!t.__isScriptSetup&&bi(t,e),IR={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:s,data:n,props:r,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return n[e];case 4:return i[e];case 3:return r[e]}else{if(Wb(s,e))return o[e]=1,s[e];if(n!==Si&&bi(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&bi(u,e))return o[e]=3,r[e];if(i!==Si&&bi(i,e))return o[e]=4,i[e];c1&&(o[e]=0)}}const c=qh[e];let h,A;if(c)return e==="$attrs"&&ts(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(i!==Si&&bi(i,e))return o[e]=4,i[e];if(A=l.config.globalProperties,bi(A,e))return A[e]},set({_:t},e,i){const{data:s,setupState:n,ctx:r}=t;return Wb(n,e)?(n[e]=i,!0):s!==Si&&bi(s,e)?(s[e]=i,!0):bi(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:s,appContext:n,propsOptions:r}},o){let a;return!!i[o]||t!==Si&&bi(t,o)||Wb(e,o)||(a=r[0])&&bi(a,o)||bi(s,o)||bi(qh,o)||bi(n.config.globalProperties,o)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:bi(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function fE(t){return Mt(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let c1=!0;function DR(t){const e=g3(t),i=t.proxy,s=t.ctx;c1=!1,e.beforeCreate&&pE(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:A,beforeUpdate:f,updated:m,activated:p,deactivated:x,beforeDestroy:C,beforeUnmount:g,destroyed:w,unmounted:S,render:I,renderTracked:O,renderTriggered:U,errorCaptured:$,serverPrefetch:k,expose:P,inheritAttrs:T,components:R,directives:E,filters:_}=e;if(u&&FR(u,s,null),o)for(const Q in o){const G=o[Q];Ht(G)&&(s[Q]=G.bind(i))}if(n){const Q=n.call(i,i);Ni(Q)&&(t.data=KA(Q))}if(c1=!0,r)for(const Q in r){const G=r[Q],Y=Ht(G)?G.bind(i,i):Ht(G.get)?G.get.bind(i,i):ao,ee=!Ht(G)&&Ht(G.set)?G.set.bind(i):ao,W=qu({get:Y,set:ee});Object.defineProperty(s,Q,{enumerable:!0,configurable:!0,get:()=>W.value,set:ge=>W.value=ge})}if(a)for(const Q in a)p3(a[Q],s,i,Q);if(l){const Q=Ht(l)?l.call(i):l;Reflect.ownKeys(Q).forEach(G=>{UR(G,Q[G])})}c&&pE(c,t,"c");function V(Q,G){Mt(G)?G.forEach(Y=>Q(Y.bind(i))):G&&Q(G.bind(i))}if(V(wR,h),V(qA,A),V(CR,f),V(C0,m),V(bR,p),V(vR,x),V(_R,$),V(TR,O),V(xR,U),V(pC,g),V(E0,S),V(ER,k),Mt(P))if(P.length){const Q=t.exposed||(t.exposed={});P.forEach(G=>{Object.defineProperty(Q,G,{get:()=>i[G],set:Y=>i[G]=Y})})}else t.exposed||(t.exposed={});I&&t.render===ao&&(t.render=I),T!=null&&(t.inheritAttrs=T),R&&(t.components=R),E&&(t.directives=E),k&&h3(t)}function FR(t,e,i=ao){Mt(t)&&(t=d1(t));for(const s in t){const n=t[s];let r;Ni(n)?"default"in n?r=Wh(n.from||s,n.default,!0):r=Wh(n.from||s):r=Wh(n),$n(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function pE(t,e,i){Ur(Mt(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,i)}function p3(t,e,i,s){let n=s.includes(".")?I3(i,s):()=>i[s];if(cn(t)){const r=e[t];Ht(r)&&Ga(n,r)}else if(Ht(t))Ga(n,t.bind(i));else if(Ni(t))if(Mt(t))t.forEach(r=>p3(r,e,i,s));else{const r=Ht(t.handler)?t.handler.bind(i):e[t.handler];Ht(r)&&Ga(n,r,t)}}function g3(t){const e=t.type,{mixins:i,extends:s}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!n.length&&!i&&!s?l=e:(l={},n.length&&n.forEach(u=>$g(l,u,o,!0)),$g(l,e,o)),Ni(e)&&r.set(e,l),l}function $g(t,e,i,s=!1){const{mixins:n,extends:r}=e;r&&$g(t,r,i,!0),n&&n.forEach(o=>$g(t,o,i,!0));for(const o in e)if(!(s&&o==="expose")){const a=PR[o]||i&&i[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const PR={data:gE,props:mE,emits:mE,methods:Sh,computed:Sh,beforeCreate:as,created:as,beforeMount:as,mounted:as,beforeUpdate:as,updated:as,beforeDestroy:as,beforeUnmount:as,destroyed:as,unmounted:as,activated:as,deactivated:as,errorCaptured:as,serverPrefetch:as,components:Sh,directives:Sh,watch:RR,provide:gE,inject:LR};function gE(t,e){return e?t?function(){return Pn(Ht(t)?t.call(this,this):t,Ht(e)?e.call(this,this):e)}:e:t}function LR(t,e){return Sh(d1(t),d1(e))}function d1(t){if(Mt(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function as(t,e){return t?[...new Set([].concat(t,e))]:e}function Sh(t,e){return t?Pn(Object.create(null),t,e):e}function mE(t,e){return t?Mt(t)&&Mt(e)?[...new Set([...t,...e])]:Pn(Object.create(null),fE(t),fE(e!=null?e:{})):e}function RR(t,e){if(!t)return e;if(!e)return t;const i=Pn(Object.create(null),t);for(const s in e)i[s]=as(t[s],e[s]);return i}function m3(){return{app:null,config:{isNativeTag:vL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MR=0;function OR(t,e){return function(s,n=null){Ht(s)||(s=Pn({},s)),n!=null&&!Ni(n)&&(n=null);const r=m3(),o=new WeakSet,a=[];let l=!1;const u=r.app={_uid:MR++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:bM,get config(){return r.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ht(c.install)?(o.add(c),c.install(u,...h)):Ht(c)&&(o.add(c),c(u,...h))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,h){return h?(r.components[c]=h,u):r.components[c]},directive(c,h){return h?(r.directives[c]=h,u):r.directives[c]},mount(c,h,A){if(!l){const f=u._ceVNode||Vt(s,n);return f.appContext=r,A===!0?A="svg":A===!1&&(A=void 0),t(f,c,A),l=!0,u._container=c,c.__vue_app__=u,_0(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ur(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return r.provides[c]=h,u},runWithContext(c){const h=pc;pc=u;try{return c()}finally{pc=h}}};return u}}let pc=null;function UR(t,e){if(Qn){let i=Qn.provides;const s=Qn.parent&&Qn.parent.provides;s===i&&(i=Qn.provides=Object.create(s)),i[t]=e}}function Wh(t,e,i=!1){const s=Qn||Dn;if(s||pc){const n=pc?pc._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return i&&Ht(e)?e.call(s&&s.proxy):e}}const b3={},v3=()=>Object.create(b3),y3=t=>Object.getPrototypeOf(t)===b3;function NR(t,e,i,s=!1){const n={},r=v3();t.propsDefaults=Object.create(null),w3(t,e,n,r);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);i?t.props=s?n:tR(n):t.type.props?t.props=n:t.props=r,t.attrs=r}function HR(t,e,i,s){const{props:n,attrs:r,vnode:{patchFlag:o}}=t,a=fi(n),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let A=c[h];if(x0(t.emitsOptions,A))continue;const f=e[A];if(l)if(bi(r,A))f!==r[A]&&(r[A]=f,u=!0);else{const m=Cr(A);n[m]=h1(l,a,m,f,t,!1)}else f!==r[A]&&(r[A]=f,u=!0)}}}else{w3(t,e,n,r)&&(u=!0);let c;for(const h in a)(!e||!bi(e,h)&&((c=sl(h))===h||!bi(e,c)))&&(l?i&&(i[h]!==void 0||i[c]!==void 0)&&(n[h]=h1(l,a,h,void 0,t,!0)):delete n[h]);if(r!==a)for(const h in r)(!e||!bi(e,h))&&(delete r[h],u=!0)}u&&Wo(t.attrs,"set","")}function w3(t,e,i,s){const[n,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Gh(l))continue;const u=e[l];let c;n&&bi(n,c=Cr(l))?!r||!r.includes(c)?i[c]=u:(a||(a={}))[c]=u:x0(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(r){const l=fi(i),u=a||Si;for(let c=0;c<r.length;c++){const h=r[c];i[h]=h1(n,l,h,u[h],t,!bi(u,h))}}return o}function h1(t,e,i,s,n,r){const o=t[i];if(o!=null){const a=bi(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ht(l)){const{propsDefaults:u}=n;if(i in u)s=u[i];else{const c=YA(n);s=u[i]=l.call(null,e),c()}}else s=l;n.ce&&n.ce._setProp(i,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===sl(i))&&(s=!0))}return s}const QR=new WeakMap;function C3(t,e,i=!1){const s=i?QR:e.propsCache,n=s.get(t);if(n)return n;const r=t.props,o={},a=[];let l=!1;if(!Ht(t)){const c=h=>{l=!0;const[A,f]=C3(h,e,!0);Pn(o,A),f&&a.push(...f)};!i&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!r&&!l)return Ni(t)&&s.set(t,cc),cc;if(Mt(r))for(let c=0;c<r.length;c++){const h=Cr(r[c]);bE(h)&&(o[h]=Si)}else if(r)for(const c in r){const h=Cr(c);if(bE(h)){const A=r[c],f=o[h]=Mt(A)||Ht(A)?{type:A}:Pn({},A),m=f.type;let p=!1,x=!0;if(Mt(m))for(let C=0;C<m.length;++C){const g=m[C],w=Ht(g)&&g.name;if(w==="Boolean"){p=!0;break}else w==="String"&&(x=!1)}else p=Ht(m)&&m.name==="Boolean";f[0]=p,f[1]=x,(p||bi(f,"default"))&&a.push(h)}}const u=[o,a];return Ni(t)&&s.set(t,u),u}function bE(t){return t[0]!=="$"&&!Gh(t)}const E3=t=>t[0]==="_"||t==="$stable",gC=t=>Mt(t)?t.map(eo):[eo(t)],VR=(t,e,i)=>{if(e._n)return e;const s=Ct((...n)=>gC(e(...n)),i);return s._c=!1,s},x3=(t,e,i)=>{const s=t._ctx;for(const n in t){if(E3(n))continue;const r=t[n];if(Ht(r))e[n]=VR(n,r,s);else if(r!=null){const o=gC(r);e[n]=()=>o}}},T3=(t,e)=>{const i=gC(e);t.slots.default=()=>i},_3=(t,e,i)=>{for(const s in e)(i||s!=="_")&&(t[s]=e[s])},$R=(t,e,i)=>{const s=t.slots=v3();if(t.vnode.shapeFlag&32){const n=e._;n?(_3(s,e,i),i&&D4(s,"_",n,!0)):x3(e,s)}else e&&T3(t,e)},jR=(t,e,i)=>{const{vnode:s,slots:n}=t;let r=!0,o=Si;if(s.shapeFlag&32){const a=e._;a?i&&a===1?r=!1:_3(n,e,i):(r=!e.$stable,x3(e,n)),o=e}else e&&(T3(t,e),o={default:1});if(r)for(const a in n)!E3(a)&&o[a]==null&&delete n[a]},Gs=sM;function zR(t){return KR(t)}function KR(t,e){const i=F4();i.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:A,setScopeId:f=ao,insertStaticContent:m}=t,p=(oe,Ae,De,Ie=null,Re=null,X=null,ae=void 0,le=null,ye=!!Ae.dynamicChildren)=>{if(oe===Ae)return;oe&&!Nl(oe,Ae)&&(Ie=de(oe),ge(oe,Re,X,!0),oe=null),Ae.patchFlag===-2&&(ye=!1,Ae.dynamicChildren=null);const{type:ke,ref:Qe,shapeFlag:Ve}=Ae;switch(ke){case WA:x(oe,Ae,De,Ie);break;case ps:C(oe,Ae,De,Ie);break;case Xb:oe==null&&g(Ae,De,Ie,ae);break;case vt:R(oe,Ae,De,Ie,Re,X,ae,le,ye);break;default:Ve&1?I(oe,Ae,De,Ie,Re,X,ae,le,ye):Ve&6?E(oe,Ae,De,Ie,Re,X,ae,le,ye):(Ve&64||Ve&128)&&ke.process(oe,Ae,De,Ie,Re,X,ae,le,ye,He)}Qe!=null&&Re&&l1(Qe,oe&&oe.ref,X,Ae||oe,!Ae)},x=(oe,Ae,De,Ie)=>{if(oe==null)s(Ae.el=a(Ae.children),De,Ie);else{const Re=Ae.el=oe.el;Ae.children!==oe.children&&u(Re,Ae.children)}},C=(oe,Ae,De,Ie)=>{oe==null?s(Ae.el=l(Ae.children||""),De,Ie):Ae.el=oe.el},g=(oe,Ae,De,Ie)=>{[oe.el,oe.anchor]=m(oe.children,Ae,De,Ie,oe.el,oe.anchor)},w=({el:oe,anchor:Ae},De,Ie)=>{let Re;for(;oe&&oe!==Ae;)Re=A(oe),s(oe,De,Ie),oe=Re;s(Ae,De,Ie)},S=({el:oe,anchor:Ae})=>{let De;for(;oe&&oe!==Ae;)De=A(oe),n(oe),oe=De;n(Ae)},I=(oe,Ae,De,Ie,Re,X,ae,le,ye)=>{Ae.type==="svg"?ae="svg":Ae.type==="math"&&(ae="mathml"),oe==null?O(Ae,De,Ie,Re,X,ae,le,ye):k(oe,Ae,Re,X,ae,le,ye)},O=(oe,Ae,De,Ie,Re,X,ae,le)=>{let ye,ke;const{props:Qe,shapeFlag:Ve,transition:_e,dirs:Pe}=oe;if(ye=oe.el=o(oe.type,X,Qe&&Qe.is,Qe),Ve&8?c(ye,oe.children):Ve&16&&$(oe.children,ye,null,Ie,Re,Yb(oe,X),ae,le),Pe&&Cl(oe,null,Ie,"created"),U(ye,oe,oe.scopeId,ae,Ie),Qe){for(const lt in Qe)lt!=="value"&&!Gh(lt)&&r(ye,lt,null,Qe[lt],X,Ie);"value"in Qe&&r(ye,"value",null,Qe.value,X),(ke=Qe.onVnodeBeforeMount)&&zr(ke,Ie,oe)}Pe&&Cl(oe,null,Ie,"beforeMount");const Ye=GR(Re,_e);Ye&&_e.beforeEnter(ye),s(ye,Ae,De),((ke=Qe&&Qe.onVnodeMounted)||Ye||Pe)&&Gs(()=>{ke&&zr(ke,Ie,oe),Ye&&_e.enter(ye),Pe&&Cl(oe,null,Ie,"mounted")},Re)},U=(oe,Ae,De,Ie,Re)=>{if(De&&f(oe,De),Ie)for(let X=0;X<Ie.length;X++)f(oe,Ie[X]);if(Re){let X=Re.subTree;if(Ae===X||F3(X.type)&&(X.ssContent===Ae||X.ssFallback===Ae)){const ae=Re.vnode;U(oe,ae,ae.scopeId,ae.slotScopeIds,Re.parent)}}},$=(oe,Ae,De,Ie,Re,X,ae,le,ye=0)=>{for(let ke=ye;ke<oe.length;ke++){const Qe=oe[ke]=le?Da(oe[ke]):eo(oe[ke]);p(null,Qe,Ae,De,Ie,Re,X,ae,le)}},k=(oe,Ae,De,Ie,Re,X,ae)=>{const le=Ae.el=oe.el;let{patchFlag:ye,dynamicChildren:ke,dirs:Qe}=Ae;ye|=oe.patchFlag&16;const Ve=oe.props||Si,_e=Ae.props||Si;let Pe;if(De&&El(De,!1),(Pe=_e.onVnodeBeforeUpdate)&&zr(Pe,De,Ae,oe),Qe&&Cl(Ae,oe,De,"beforeUpdate"),De&&El(De,!0),(Ve.innerHTML&&_e.innerHTML==null||Ve.textContent&&_e.textContent==null)&&c(le,""),ke?P(oe.dynamicChildren,ke,le,De,Ie,Yb(Ae,Re),X):ae||G(oe,Ae,le,null,De,Ie,Yb(Ae,Re),X,!1),ye>0){if(ye&16)T(le,Ve,_e,De,Re);else if(ye&2&&Ve.class!==_e.class&&r(le,"class",null,_e.class,Re),ye&4&&r(le,"style",Ve.style,_e.style,Re),ye&8){const Ye=Ae.dynamicProps;for(let lt=0;lt<Ye.length;lt++){const ut=Ye[lt],Dt=Ve[ut],At=_e[ut];(At!==Dt||ut==="value")&&r(le,ut,Dt,At,Re,De)}}ye&1&&oe.children!==Ae.children&&c(le,Ae.children)}else!ae&&ke==null&&T(le,Ve,_e,De,Re);((Pe=_e.onVnodeUpdated)||Qe)&&Gs(()=>{Pe&&zr(Pe,De,Ae,oe),Qe&&Cl(Ae,oe,De,"updated")},Ie)},P=(oe,Ae,De,Ie,Re,X,ae)=>{for(let le=0;le<Ae.length;le++){const ye=oe[le],ke=Ae[le],Qe=ye.el&&(ye.type===vt||!Nl(ye,ke)||ye.shapeFlag&70)?h(ye.el):De;p(ye,ke,Qe,null,Ie,Re,X,ae,!0)}},T=(oe,Ae,De,Ie,Re)=>{if(Ae!==De){if(Ae!==Si)for(const X in Ae)!Gh(X)&&!(X in De)&&r(oe,X,Ae[X],null,Re,Ie);for(const X in De){if(Gh(X))continue;const ae=De[X],le=Ae[X];ae!==le&&X!=="value"&&r(oe,X,le,ae,Re,Ie)}"value"in De&&r(oe,"value",Ae.value,De.value,Re)}},R=(oe,Ae,De,Ie,Re,X,ae,le,ye)=>{const ke=Ae.el=oe?oe.el:a(""),Qe=Ae.anchor=oe?oe.anchor:a("");let{patchFlag:Ve,dynamicChildren:_e,slotScopeIds:Pe}=Ae;Pe&&(le=le?le.concat(Pe):Pe),oe==null?(s(ke,De,Ie),s(Qe,De,Ie),$(Ae.children||[],De,Qe,Re,X,ae,le,ye)):Ve>0&&Ve&64&&_e&&oe.dynamicChildren?(P(oe.dynamicChildren,_e,De,Re,X,ae,le),(Ae.key!=null||Re&&Ae===Re.subTree)&&S3(oe,Ae,!0)):G(oe,Ae,De,Qe,Re,X,ae,le,ye)},E=(oe,Ae,De,Ie,Re,X,ae,le,ye)=>{Ae.slotScopeIds=le,oe==null?Ae.shapeFlag&512?Re.ctx.activate(Ae,De,Ie,ae,ye):_(Ae,De,Ie,Re,X,ae,ye):F(oe,Ae,ye)},_=(oe,Ae,De,Ie,Re,X,ae)=>{const le=oe.component=dM(oe,Ie,Re);if(y0(oe)&&(le.ctx.renderer=He),hM(le,!1,ae),le.asyncDep){if(Re&&Re.registerDep(le,V,ae),!oe.el){const ye=le.subTree=Vt(ps);C(null,ye,Ae,De)}}else V(le,oe,Ae,De,Re,X,ae)},F=(oe,Ae,De)=>{const Ie=Ae.component=oe.component;if(iM(oe,Ae,De))if(Ie.asyncDep&&!Ie.asyncResolved){Q(Ie,Ae,De);return}else Ie.next=Ae,Ie.update();else Ae.el=oe.el,Ie.vnode=Ae},V=(oe,Ae,De,Ie,Re,X,ae)=>{const le=()=>{if(oe.isMounted){let{next:Ve,bu:_e,u:Pe,parent:Ye,vnode:lt}=oe;{const pt=B3(oe);if(pt){Ve&&(Ve.el=lt.el,Q(oe,Ve,ae)),pt.asyncDep.then(()=>{oe.isUnmounted||le()});return}}let ut=Ve,Dt;El(oe,!1),Ve?(Ve.el=lt.el,Q(oe,Ve,ae)):Ve=lt,_e&&$b(_e),(Dt=Ve.props&&Ve.props.onVnodeBeforeUpdate)&&zr(Dt,Ye,Ve,lt),El(oe,!0);const At=yE(oe),Rt=oe.subTree;oe.subTree=At,p(Rt,At,h(Rt.el),de(Rt),oe,Re,X),Ve.el=At.el,ut===null&&nM(oe,At.el),Pe&&Gs(Pe,Re),(Dt=Ve.props&&Ve.props.onVnodeUpdated)&&Gs(()=>zr(Dt,Ye,Ve,lt),Re)}else{let Ve;const{el:_e,props:Pe}=Ae,{bm:Ye,m:lt,parent:ut,root:Dt,type:At}=oe,Rt=fc(Ae);El(oe,!1),Ye&&$b(Ye),!Rt&&(Ve=Pe&&Pe.onVnodeBeforeMount)&&zr(Ve,ut,Ae),El(oe,!0);{Dt.ce&&Dt.ce._injectChildStyle(At);const pt=oe.subTree=yE(oe);p(null,pt,De,Ie,oe,Re,X),Ae.el=pt.el}if(lt&&Gs(lt,Re),!Rt&&(Ve=Pe&&Pe.onVnodeMounted)){const pt=Ae;Gs(()=>zr(Ve,ut,pt),Re)}(Ae.shapeFlag&256||ut&&fc(ut.vnode)&&ut.vnode.shapeFlag&256)&&oe.a&&Gs(oe.a,Re),oe.isMounted=!0,Ae=De=Ie=null}};oe.scope.on();const ye=oe.effect=new O4(le);oe.scope.off();const ke=oe.update=ye.run.bind(ye),Qe=oe.job=ye.runIfDirty.bind(ye);Qe.i=oe,Qe.id=oe.uid,ye.scheduler=()=>AC(Qe),El(oe,!0),ke()},Q=(oe,Ae,De)=>{Ae.component=oe;const Ie=oe.vnode.props;oe.vnode=Ae,oe.next=null,HR(oe,Ae.props,Ie,De),jR(oe,Ae.children,De),rl(),cE(oe),ol()},G=(oe,Ae,De,Ie,Re,X,ae,le,ye=!1)=>{const ke=oe&&oe.children,Qe=oe?oe.shapeFlag:0,Ve=Ae.children,{patchFlag:_e,shapeFlag:Pe}=Ae;if(_e>0){if(_e&128){ee(ke,Ve,De,Ie,Re,X,ae,le,ye);return}else if(_e&256){Y(ke,Ve,De,Ie,Re,X,ae,le,ye);return}}Pe&8?(Qe&16&&Oe(ke,Re,X),Ve!==ke&&c(De,Ve)):Qe&16?Pe&16?ee(ke,Ve,De,Ie,Re,X,ae,le,ye):Oe(ke,Re,X,!0):(Qe&8&&c(De,""),Pe&16&&$(Ve,De,Ie,Re,X,ae,le,ye))},Y=(oe,Ae,De,Ie,Re,X,ae,le,ye)=>{oe=oe||cc,Ae=Ae||cc;const ke=oe.length,Qe=Ae.length,Ve=Math.min(ke,Qe);let _e;for(_e=0;_e<Ve;_e++){const Pe=Ae[_e]=ye?Da(Ae[_e]):eo(Ae[_e]);p(oe[_e],Pe,De,null,Re,X,ae,le,ye)}ke>Qe?Oe(oe,Re,X,!0,!1,Ve):$(Ae,De,Ie,Re,X,ae,le,ye,Ve)},ee=(oe,Ae,De,Ie,Re,X,ae,le,ye)=>{let ke=0;const Qe=Ae.length;let Ve=oe.length-1,_e=Qe-1;for(;ke<=Ve&&ke<=_e;){const Pe=oe[ke],Ye=Ae[ke]=ye?Da(Ae[ke]):eo(Ae[ke]);if(Nl(Pe,Ye))p(Pe,Ye,De,null,Re,X,ae,le,ye);else break;ke++}for(;ke<=Ve&&ke<=_e;){const Pe=oe[Ve],Ye=Ae[_e]=ye?Da(Ae[_e]):eo(Ae[_e]);if(Nl(Pe,Ye))p(Pe,Ye,De,null,Re,X,ae,le,ye);else break;Ve--,_e--}if(ke>Ve){if(ke<=_e){const Pe=_e+1,Ye=Pe<Qe?Ae[Pe].el:Ie;for(;ke<=_e;)p(null,Ae[ke]=ye?Da(Ae[ke]):eo(Ae[ke]),De,Ye,Re,X,ae,le,ye),ke++}}else if(ke>_e)for(;ke<=Ve;)ge(oe[ke],Re,X,!0),ke++;else{const Pe=ke,Ye=ke,lt=new Map;for(ke=Ye;ke<=_e;ke++){const Tt=Ae[ke]=ye?Da(Ae[ke]):eo(Ae[ke]);Tt.key!=null&&lt.set(Tt.key,ke)}let ut,Dt=0;const At=_e-Ye+1;let Rt=!1,pt=0;const yt=new Array(At);for(ke=0;ke<At;ke++)yt[ke]=0;for(ke=Pe;ke<=Ve;ke++){const Tt=oe[ke];if(Dt>=At){ge(Tt,Re,X,!0);continue}let ni;if(Tt.key!=null)ni=lt.get(Tt.key);else for(ut=Ye;ut<=_e;ut++)if(yt[ut-Ye]===0&&Nl(Tt,Ae[ut])){ni=ut;break}ni===void 0?ge(Tt,Re,X,!0):(yt[ni-Ye]=ke+1,ni>=pt?pt=ni:Rt=!0,p(Tt,Ae[ni],De,null,Re,X,ae,le,ye),Dt++)}const jt=Rt?qR(yt):cc;for(ut=jt.length-1,ke=At-1;ke>=0;ke--){const Tt=Ye+ke,ni=Ae[Tt],Pi=Tt+1<Qe?Ae[Tt+1].el:Ie;yt[ke]===0?p(null,ni,De,Pi,Re,X,ae,le,ye):Rt&&(ut<0||ke!==jt[ut]?W(ni,De,Pi,2):ut--)}}},W=(oe,Ae,De,Ie,Re=null)=>{const{el:X,type:ae,transition:le,children:ye,shapeFlag:ke}=oe;if(ke&6){W(oe.component.subTree,Ae,De,Ie);return}if(ke&128){oe.suspense.move(Ae,De,Ie);return}if(ke&64){ae.move(oe,Ae,De,He);return}if(ae===vt){s(X,Ae,De);for(let Ve=0;Ve<ye.length;Ve++)W(ye[Ve],Ae,De,Ie);s(oe.anchor,Ae,De);return}if(ae===Xb){w(oe,Ae,De);return}if(Ie!==2&&ke&1&&le)if(Ie===0)le.beforeEnter(X),s(X,Ae,De),Gs(()=>le.enter(X),Re);else{const{leave:Ve,delayLeave:_e,afterLeave:Pe}=le,Ye=()=>s(X,Ae,De),lt=()=>{Ve(X,()=>{Ye(),Pe&&Pe()})};_e?_e(X,Ye,lt):lt()}else s(X,Ae,De)},ge=(oe,Ae,De,Ie=!1,Re=!1)=>{const{type:X,props:ae,ref:le,children:ye,dynamicChildren:ke,shapeFlag:Qe,patchFlag:Ve,dirs:_e,cacheIndex:Pe}=oe;if(Ve===-2&&(Re=!1),le!=null&&l1(le,null,De,oe,!0),Pe!=null&&(Ae.renderCache[Pe]=void 0),Qe&256){Ae.ctx.deactivate(oe);return}const Ye=Qe&1&&_e,lt=!fc(oe);let ut;if(lt&&(ut=ae&&ae.onVnodeBeforeUnmount)&&zr(ut,Ae,oe),Qe&6)Ce(oe.component,De,Ie);else{if(Qe&128){oe.suspense.unmount(De,Ie);return}Ye&&Cl(oe,null,Ae,"beforeUnmount"),Qe&64?oe.type.remove(oe,Ae,De,He,Ie):ke&&!ke.hasOnce&&(X!==vt||Ve>0&&Ve&64)?Oe(ke,Ae,De,!1,!0):(X===vt&&Ve&384||!Re&&Qe&16)&&Oe(ye,Ae,De),Ie&&ce(oe)}(lt&&(ut=ae&&ae.onVnodeUnmounted)||Ye)&&Gs(()=>{ut&&zr(ut,Ae,oe),Ye&&Cl(oe,null,Ae,"unmounted")},De)},ce=oe=>{const{type:Ae,el:De,anchor:Ie,transition:Re}=oe;if(Ae===vt){we(De,Ie);return}if(Ae===Xb){S(oe);return}const X=()=>{n(De),Re&&!Re.persisted&&Re.afterLeave&&Re.afterLeave()};if(oe.shapeFlag&1&&Re&&!Re.persisted){const{leave:ae,delayLeave:le}=Re,ye=()=>ae(De,X);le?le(oe.el,X,ye):ye()}else X()},we=(oe,Ae)=>{let De;for(;oe!==Ae;)De=A(oe),n(oe),oe=De;n(Ae)},Ce=(oe,Ae,De)=>{const{bum:Ie,scope:Re,job:X,subTree:ae,um:le,m:ye,a:ke}=oe;vE(ye),vE(ke),Ie&&$b(Ie),Re.stop(),X&&(X.flags|=8,ge(ae,oe,Ae,De)),le&&Gs(le,Ae),Gs(()=>{oe.isUnmounted=!0},Ae),Ae&&Ae.pendingBranch&&!Ae.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===Ae.pendingId&&(Ae.deps--,Ae.deps===0&&Ae.resolve())},Oe=(oe,Ae,De,Ie=!1,Re=!1,X=0)=>{for(let ae=X;ae<oe.length;ae++)ge(oe[ae],Ae,De,Ie,Re)},de=oe=>{if(oe.shapeFlag&6)return de(oe.component.subTree);if(oe.shapeFlag&128)return oe.suspense.next();const Ae=A(oe.anchor||oe.el),De=Ae&&Ae[pR];return De?A(De):Ae};let Te=!1;const xe=(oe,Ae,De)=>{oe==null?Ae._vnode&&ge(Ae._vnode,null,null,!0):p(Ae._vnode||null,oe,Ae,null,null,null,De),Ae._vnode=oe,Te||(Te=!0,cE(),n3(),Te=!1)},He={p,um:ge,m:W,r:ce,mt:_,mc:$,pc:G,pbc:P,n:de,o:t};return{render:xe,hydrate:void 0,createApp:OR(xe)}}function Yb({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function El({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function GR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function S3(t,e,i=!1){const s=t.children,n=e.children;if(Mt(s)&&Mt(n))for(let r=0;r<s.length;r++){const o=s[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=Da(n[r]),a.el=o.el),!i&&a.patchFlag!==-2&&S3(o,a)),a.type===WA&&(a.el=o.el)}}function qR(t){const e=t.slice(),i=[0];let s,n,r,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(n=i[i.length-1],t[n]<u){e[s]=n,i.push(s);continue}for(r=0,o=i.length-1;r<o;)a=r+o>>1,t[i[a]]<u?r=a+1:o=a;u<t[i[r]]&&(r>0&&(e[s]=i[r-1]),i[r]=s)}}for(r=i.length,o=i[r-1];r-- >0;)i[r]=o,o=e[o];return i}function B3(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:B3(e)}function vE(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const WR=Symbol.for("v-scx"),YR=()=>Wh(WR);function Ga(t,e,i){return k3(t,e,i)}function k3(t,e,i=Si){const{immediate:s,deep:n,flush:r,once:o}=i,a=Pn({},i);let l;if(T0)if(r==="sync"){const A=YR();l=A.__watcherHandles||(A.__watcherHandles=[])}else if(!e||s)a.once=!0;else{const A=()=>{};return A.stop=ao,A.resume=ao,A.pause=ao,A}const u=Qn;a.call=(A,f,m)=>Ur(A,u,f,m);let c=!1;r==="post"?a.scheduler=A=>{Gs(A,u&&u.suspense)}:r!=="sync"&&(c=!0,a.scheduler=(A,f)=>{f?A():AC(A)}),a.augmentJob=A=>{e&&(A.flags|=4),c&&(A.flags|=2,u&&(A.id=u.uid,A.i=u))};const h=cR(t,e,a);return l&&l.push(h),h}function XR(t,e,i){const s=this.proxy,n=cn(t)?t.includes(".")?I3(s,t):()=>s[t]:t.bind(s,s);let r;Ht(e)?r=e:(r=e.handler,i=e);const o=YA(this),a=k3(n,r.bind(s),i);return o(),a}function I3(t,e){const i=e.split(".");return()=>{let s=t;for(let n=0;n<i.length&&s;n++)s=s[i[n]];return s}}const JR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t["".concat(e,"Modifiers")]||t["".concat(Cr(e),"Modifiers")]||t["".concat(sl(e),"Modifiers")];function ZR(t,e,...i){if(t.isUnmounted)return;const s=t.vnode.props||Si;let n=i;const r=e.startsWith("update:"),o=r&&JR(s,e.slice(7));o&&(o.trim&&(n=i.map(c=>cn(c)?c.trim():c)),o.number&&(n=i.map(xL)));let a,l=s[a=Vb(e)]||s[a=Vb(Cr(e))];!l&&r&&(l=s[a=Vb(sl(e))]),l&&Ur(l,t,6,n);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ur(u,t,6,n)}}function D3(t,e,i=!1){const s=e.emitsCache,n=s.get(t);if(n!==void 0)return n;const r=t.emits;let o={},a=!1;if(!Ht(t)){const l=u=>{const c=D3(u,e,!0);c&&(a=!0,Pn(o,c))};!i&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ni(t)&&s.set(t,null),null):(Mt(r)?r.forEach(l=>o[l]=null):Pn(o,r),Ni(t)&&s.set(t,o),o)}function x0(t,e){return!t||!A0(e)?!1:(e=e.slice(2).replace(/Once$/,""),bi(t,e[0].toLowerCase()+e.slice(1))||bi(t,sl(e))||bi(t,e))}function yE(t){const{type:e,vnode:i,proxy:s,withProxy:n,propsOptions:[r],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:A,setupState:f,ctx:m,inheritAttrs:p}=t,x=Vg(t);let C,g;try{if(i.shapeFlag&4){const S=n||s,I=S;C=eo(u.call(I,S,c,h,f,A,m)),g=a}else{const S=e;C=eo(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),g=e.props?a:eM(a)}}catch(S){Yh.length=0,v0(S,t,1),C=Vt(ps)}let w=C;if(g&&p!==!1){const S=Object.keys(g),{shapeFlag:I}=w;S.length&&I&7&&(r&&S.some(eC)&&(g=tM(g,r)),w=Ja(w,g,!1,!0))}return i.dirs&&(w=Ja(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&ou(w,i.transition),C=w,Vg(x),C}const eM=t=>{let e;for(const i in t)(i==="class"||i==="style"||A0(i))&&((e||(e={}))[i]=t[i]);return e},tM=(t,e)=>{const i={};for(const s in t)(!eC(s)||!(s.slice(9)in e))&&(i[s]=t[s]);return i};function iM(t,e,i){const{props:s,children:n,component:r}=t,{props:o,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return s?wE(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const A=c[h];if(o[A]!==s[A]&&!x0(u,A))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?wE(s,o,u):!0:!!o;return!1}function wE(t,e,i){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(e[r]!==t[r]&&!x0(i,r))return!0}return!1}function nM({vnode:t,parent:e},i){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=i,e=e.parent;else break}}const F3=t=>t.__isSuspense;function sM(t,e){e&&e.pendingBranch?Mt(t)?e.effects.push(...t):e.effects.push(t):fR(t)}const vt=Symbol.for("v-fgt"),WA=Symbol.for("v-txt"),ps=Symbol.for("v-cmt"),Xb=Symbol.for("v-stc"),Yh=[];let er=null;function z(t=!1){Yh.push(er=t?null:[])}function rM(){Yh.pop(),er=Yh[Yh.length-1]||null}let kA=1;function CE(t){kA+=t,t<0&&er&&(er.hasOnce=!0)}function P3(t){return t.dynamicChildren=kA>0?er||cc:null,rM(),kA>0&&er&&er.push(t),t}function Z(t,e,i,s,n,r){return P3(d(t,e,i,s,n,r,!0))}function et(t,e,i,s,n){return P3(Vt(t,e,i,s,n,!0))}function IA(t){return t?t.__v_isVNode===!0:!1}function Nl(t,e){return t.type===e.type&&t.key===e.key}const L3=({key:t})=>t!=null?t:null,ag=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?cn(t)||$n(t)||Ht(t)?{i:Dn,r:t,k:e,f:!!i}:t:null);function d(t,e=null,i=null,s=0,n=null,r=t===vt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&L3(e),ref:e&&ag(e),scopeId:r3,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Dn};return a?(mC(l,i),r&128&&t.normalize(l)):i&&(l.shapeFlag|=cn(i)?8:16),kA>0&&!o&&er&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&er.push(l),l}const Vt=oM;function oM(t,e=null,i=null,s=0,n=null,r=!1){if((!t||t===BR)&&(t=ps),IA(t)){const a=Ja(t,e,!0);return i&&mC(a,i),kA>0&&!r&&er&&(a.shapeFlag&6?er[er.indexOf(t)]=a:er.push(a)),a.patchFlag=-2,a}if(mM(t)&&(t=t.__vccOpts),e){e=aM(e);let{class:a,style:l}=e;a&&!cn(a)&&(e.class=je(a)),Ni(l)&&(cC(l)&&!Mt(l)&&(l=Pn({},l)),e.style=hi(l))}const o=cn(t)?1:F3(t)?128:o3(t)?64:Ni(t)?4:Ht(t)?2:0;return d(t,e,i,s,n,o,r,!0)}function aM(t){return t?cC(t)||y3(t)?Pn({},t):t:null}function Ja(t,e,i=!1,s=!1){const{props:n,ref:r,patchFlag:o,children:a,transition:l}=t,u=e?lM(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&L3(u),ref:e&&e.ref?i&&r?Mt(r)?r.concat(ag(e)):[r,ag(e)]:ag(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==vt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ja(t.ssContent),ssFallback:t.ssFallback&&Ja(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ou(c,l.clone(c)),c}function No(t=" ",e=0){return Vt(WA,null,t,e)}function Me(t="",e=!1){return e?(z(),et(ps,null,t)):Vt(ps,null,t)}function eo(t){return t==null||typeof t=="boolean"?Vt(ps):Mt(t)?Vt(vt,null,t.slice()):IA(t)?Da(t):Vt(WA,null,String(t))}function Da(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ja(t)}function mC(t,e){let i=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Mt(e))i=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),mC(t,n()),n._c&&(n._d=!0));return}else{i=32;const n=e._;!n&&!y3(e)?e._ctx=Dn:n===3&&Dn&&(Dn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ht(e)?(e={default:e,_ctx:Dn},i=32):(e=String(e),s&64?(i=16,e=[No(e)]):i=8);t.children=e,t.shapeFlag|=i}function lM(...t){const e={};for(let i=0;i<t.length;i++){const s=t[i];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=je([e.class,s.class]));else if(n==="style")e.style=hi([e.style,s.style]);else if(A0(n)){const r=e[n],o=s[n];o&&r!==o&&!(Mt(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=s[n])}return e}function zr(t,e,i,s=null){Ur(t,e,7,[i,s])}const uM=m3();let cM=0;function dM(t,e,i){const s=t.type,n=(e?e.appContext:t.appContext)||uM,r={uid:cM++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new M4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:C3(s,n),emitsOptions:D3(s,n),emit:null,emitted:null,propsDefaults:Si,inheritAttrs:s.inheritAttrs,ctx:Si,data:Si,props:Si,attrs:Si,slots:Si,refs:Si,setupState:Si,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ZR.bind(null,r),t.ce&&t.ce(r),r}let Qn=null;const ea=()=>Qn||Dn;let jg,A1;{const t=F4(),e=(i,s)=>{let n;return(n=t[i])||(n=t[i]=[]),n.push(s),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};jg=e("__VUE_INSTANCE_SETTERS__",i=>Qn=i),A1=e("__VUE_SSR_SETTERS__",i=>T0=i)}const YA=t=>{const e=Qn;return jg(t),t.scope.on(),()=>{t.scope.off(),jg(e)}},EE=()=>{Qn&&Qn.scope.off(),jg(null)};function R3(t){return t.vnode.shapeFlag&4}let T0=!1;function hM(t,e=!1,i=!1){e&&A1(e);const{props:s,children:n}=t.vnode,r=R3(t);NR(t,s,r,e),$R(t,n,i);const o=r?AM(t,e):void 0;return e&&A1(!1),o}function AM(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,IR);const{setup:s}=i;if(s){const n=t.setupContext=s.length>1?pM(t):null,r=YA(t);rl();const o=GA(s,t,0,[t.props,n]);if(ol(),r(),B4(o)){if(fc(t)||h3(t),o.then(EE,EE),e)return o.then(a=>{xE(t,a)}).catch(a=>{v0(a,t,0)});t.asyncDep=o}else xE(t,o)}else M3(t)}function xE(t,e,i){Ht(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ni(e)&&(t.setupState=e3(e)),M3(t)}function M3(t,e,i){const s=t.type;t.render||(t.render=s.render||ao);{const n=YA(t);rl();try{DR(t)}finally{ol(),n()}}}const fM={get(t,e){return ts(t,"get",""),t[e]}};function pM(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,fM),slots:t.slots,emit:t.emit,expose:e}}function _0(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(e3(iR(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in qh)return qh[i](t)},has(e,i){return i in e||i in qh}})):t.proxy}function gM(t,e=!0){return Ht(t)?t.displayName||t.name:t.name||e&&t.__name}function mM(t){return Ht(t)&&"__vccOpts"in t}const qu=(t,e)=>lR(t,e,T0);function mr(t,e,i){const s=arguments.length;return s===2?Ni(e)&&!Mt(e)?IA(e)?Vt(t,null,[e]):Vt(t,e):Vt(t,null,e):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&IA(i)&&(i=[i]),Vt(t,e,i))}const bM="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let f1;const TE=typeof window<"u"&&window.trustedTypes;if(TE)try{f1=TE.createPolicy("vue",{createHTML:t=>t})}catch{}const O3=f1?t=>f1.createHTML(t):t=>t,vM="http://www.w3.org/2000/svg",yM="http://www.w3.org/1998/Math/MathML",Vo=typeof document<"u"?document:null,_E=Vo&&Vo.createElement("template"),wM={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,s)=>{const n=e==="svg"?Vo.createElementNS(vM,t):e==="mathml"?Vo.createElementNS(yM,t):i?Vo.createElement(t,{is:i}):Vo.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>Vo.createTextNode(t),createComment:t=>Vo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,s,n,r){const o=i?i.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),i),!(n===r||!(n=n.nextSibling)););else{_E.innerHTML=O3(s==="svg"?"<svg>".concat(t,"</svg>"):s==="mathml"?"<math>".concat(t,"</math>"):t);const a=_E.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},ba="transition",_d="animation",Sc=Symbol("_vtc"),U3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},N3=Pn({},l3,U3),CM=t=>(t.displayName="Transition",t.props=N3,t),H3=CM((t,{slots:e})=>mr(mR,Q3(t),e)),xl=(t,e=[])=>{Mt(t)?t.forEach(i=>i(...e)):t&&t(...e)},SE=t=>t?Mt(t)?t.some(e=>e.length>1):t.length>1:!1;function Q3(t){const e={};for(const R in t)R in U3||(e[R]=t[R]);if(t.css===!1)return e;const{name:i="v",type:s,duration:n,enterFromClass:r="".concat(i,"-enter-from"),enterActiveClass:o="".concat(i,"-enter-active"),enterToClass:a="".concat(i,"-enter-to"),appearFromClass:l=r,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h="".concat(i,"-leave-from"),leaveActiveClass:A="".concat(i,"-leave-active"),leaveToClass:f="".concat(i,"-leave-to")}=t,m=EM(n),p=m&&m[0],x=m&&m[1],{onBeforeEnter:C,onEnter:g,onEnterCancelled:w,onLeave:S,onLeaveCancelled:I,onBeforeAppear:O=C,onAppear:U=g,onAppearCancelled:$=w}=e,k=(R,E,_)=>{_a(R,E?c:a),_a(R,E?u:o),_&&_()},P=(R,E)=>{R._isLeaving=!1,_a(R,h),_a(R,f),_a(R,A),E&&E()},T=R=>(E,_)=>{const F=R?U:g,V=()=>k(E,R,_);xl(F,[E,V]),BE(()=>{_a(E,R?l:r),Ho(E,R?c:a),SE(F)||kE(E,s,p,V)})};return Pn(e,{onBeforeEnter(R){xl(C,[R]),Ho(R,r),Ho(R,o)},onBeforeAppear(R){xl(O,[R]),Ho(R,l),Ho(R,u)},onEnter:T(!1),onAppear:T(!0),onLeave(R,E){R._isLeaving=!0;const _=()=>P(R,E);Ho(R,h),Ho(R,A),$3(),BE(()=>{R._isLeaving&&(_a(R,h),Ho(R,f),SE(S)||kE(R,s,x,_))}),xl(S,[R,_])},onEnterCancelled(R){k(R,!1),xl(w,[R])},onAppearCancelled(R){k(R,!0),xl($,[R])},onLeaveCancelled(R){P(R),xl(I,[R])}})}function EM(t){if(t==null)return null;if(Ni(t))return[Jb(t.enter),Jb(t.leave)];{const e=Jb(t);return[e,e]}}function Jb(t){return TL(t)}function Ho(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[Sc]||(t[Sc]=new Set)).add(e)}function _a(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const i=t[Sc];i&&(i.delete(e),i.size||(t[Sc]=void 0))}function BE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xM=0;function kE(t,e,i,s){const n=t._endId=++xM,r=()=>{n===t._endId&&s()};if(i!=null)return setTimeout(r,i);const{type:o,timeout:a,propCount:l}=V3(t,e);if(!o)return s();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,A),r()},A=f=>{f.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,A)}function V3(t,e){const i=window.getComputedStyle(t),s=m=>(i[m]||"").split(", "),n=s("".concat(ba,"Delay")),r=s("".concat(ba,"Duration")),o=IE(n,r),a=s("".concat(_d,"Delay")),l=s("".concat(_d,"Duration")),u=IE(a,l);let c=null,h=0,A=0;e===ba?o>0&&(c=ba,h=o,A=r.length):e===_d?u>0&&(c=_d,h=u,A=l.length):(h=Math.max(o,u),c=h>0?o>u?ba:_d:null,A=c?c===ba?r.length:l.length:0);const f=c===ba&&/\b(transform|all)(,|$)/.test(s("".concat(ba,"Property")).toString());return{type:c,timeout:h,propCount:A,hasTransform:f}}function IE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,s)=>DE(i)+DE(t[s])))}function DE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function $3(){return document.body.offsetHeight}function TM(t,e,i){const s=t[Sc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const zg=Symbol("_vod"),j3=Symbol("_vsh"),p1={beforeMount(t,{value:e},{transition:i}){t[zg]=t.style.display==="none"?"":t.style.display,i&&e?i.beforeEnter(t):Sd(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:s}){!e!=!i&&(s?e?(s.beforeEnter(t),Sd(t,!0),s.enter(t)):s.leave(t,()=>{Sd(t,!1)}):Sd(t,e))},beforeUnmount(t,{value:e}){Sd(t,e)}};function Sd(t,e){t.style.display=e?t[zg]:"none",t[j3]=!e}const _M=Symbol(""),SM=/(^|;)\s*display\s*:/;function BM(t,e,i){const s=t.style,n=cn(i);let r=!1;if(i&&!n){if(e)if(cn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&lg(s,a,"")}else for(const o in e)i[o]==null&&lg(s,o,"");for(const o in i)o==="display"&&(r=!0),lg(s,o,i[o])}else if(n){if(e!==i){const o=s[_M];o&&(i+=";"+o),s.cssText=i,r=SM.test(i)}}else e&&t.removeAttribute("style");zg in t&&(t[zg]=r?s.display:"",t[j3]&&(s.display="none"))}const FE=/\s*!important$/;function lg(t,e,i){if(Mt(i))i.forEach(s=>lg(t,e,s));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const s=kM(t,e);FE.test(i)?t.setProperty(sl(s),i.replace(FE,""),"important"):t[s]=i}}const PE=["Webkit","Moz","ms"],Zb={};function kM(t,e){const i=Zb[e];if(i)return i;let s=Cr(e);if(s!=="filter"&&s in t)return Zb[e]=s;s=g0(s);for(let n=0;n<PE.length;n++){const r=PE[n]+s;if(r in t)return Zb[e]=r}return e}const LE="http://www.w3.org/1999/xlink";function RE(t,e,i,s,n,r=DL(e)){s&&e.startsWith("xlink:")?i==null?t.removeAttributeNS(LE,e.slice(6,e.length)):t.setAttributeNS(LE,e,i):i==null||r&&!P4(i)?t.removeAttribute(e):t.setAttribute(e,r?"":nl(i)?String(i):i)}function ME(t,e,i,s){if(e==="innerHTML"||e==="textContent"){i!=null&&(t[e]=e==="innerHTML"?O3(i):i);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const o=n==="OPTION"?t.getAttribute("value")||"":t.value,a=i==null?t.type==="checkbox"?"on":"":String(i);(o!==a||!("_value"in t))&&(t.value=a),i==null&&t.removeAttribute(e),t._value=i;return}let r=!1;if(i===""||i==null){const o=typeof t[e];o==="boolean"?i=P4(i):i==null&&o==="string"?(i="",r=!0):o==="number"&&(i=0,r=!0)}try{t[e]=i}catch{}r&&t.removeAttribute(e)}function IM(t,e,i,s){t.addEventListener(e,i,s)}function DM(t,e,i,s){t.removeEventListener(e,i,s)}const OE=Symbol("_vei");function FM(t,e,i,s,n=null){const r=t[OE]||(t[OE]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=PM(e);if(s){const u=r[e]=MM(s,n);IM(t,a,u,l)}else o&&(DM(t,a,o,l),r[e]=void 0)}}const UE=/(?:Once|Passive|Capture)$/;function PM(t){let e;if(UE.test(t)){e={};let s;for(;s=t.match(UE);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):sl(t.slice(2)),e]}let ev=0;const LM=Promise.resolve(),RM=()=>ev||(LM.then(()=>ev=0),ev=Date.now());function MM(t,e){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Ur(OM(s,i.value),e,5,[s])};return i.value=t,i.attached=RM(),i}function OM(t,e){if(Mt(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const NE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,UM=(t,e,i,s,n,r)=>{const o=n==="svg";e==="class"?TM(t,s,o):e==="style"?BM(t,i,s):A0(e)?eC(e)||FM(t,e,i,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):NM(t,e,s,o))?(ME(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&RE(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!cn(s))?ME(t,Cr(e),s):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),RE(t,e,s,o))};function NM(t,e,i,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&NE(e)&&Ht(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return NE(e)&&cn(i)?!1:e in t}const z3=new WeakMap,K3=new WeakMap,Kg=Symbol("_moveCb"),HE=Symbol("_enterCb"),HM=t=>(delete t.props.mode,t),QM=HM({name:"TransitionGroup",props:Pn({},N3,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=ea(),s=a3();let n,r;return C0(()=>{if(!n.length)return;const o=t.moveClass||"".concat(t.name||"v","-move");if(!KM(n[0].el,i.vnode.el,o))return;n.forEach($M),n.forEach(jM);const a=n.filter(zM);$3(),a.forEach(l=>{const u=l.el,c=u.style;Ho(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Kg]=A=>{A&&A.target!==u||(!A||/transform$/.test(A.propertyName))&&(u.removeEventListener("transitionend",h),u[Kg]=null,_a(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=fi(t),a=Q3(o);let l=o.tag||vt;if(n=[],r)for(let u=0;u<r.length;u++){const c=r[u];c.el&&c.el instanceof Element&&(n.push(c),ou(c,BA(c,a,s,i)),z3.set(c,c.el.getBoundingClientRect()))}r=e.default?fC(e.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&ou(c,BA(c,a,s,i))}return Vt(l,null,r)}}}),VM=QM;function $M(t){const e=t.el;e[Kg]&&e[Kg](),e[HE]&&e[HE]()}function jM(t){K3.set(t,t.el.getBoundingClientRect())}function zM(t){const e=z3.get(t),i=K3.get(t),s=e.left-i.left,n=e.top-i.top;if(s||n){const r=t.el.style;return r.transform=r.webkitTransform="translate(".concat(s,"px,").concat(n,"px)"),r.transitionDuration="0s",t}}function KM(t,e,i){const s=t.cloneNode(),n=t[Sc];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=V3(s);return r.removeChild(s),o}const GM=["ctrl","shift","alt","meta"],qM={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>GM.some(i=>t["".concat(i,"Key")]&&!e.includes(i))},Za=(t,e)=>{const i=t._withMods||(t._withMods={}),s=e.join(".");return i[s]||(i[s]=(n,...r)=>{for(let o=0;o<e.length;o++){const a=qM[e[o]];if(a&&a(n,e))return}return t(n,...r)})},WM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},J=(t,e)=>{const i=t._withKeys||(t._withKeys={}),s=e.join(".");return i[s]||(i[s]=n=>{if(!("key"in n))return;const r=sl(n.key);if(e.some(o=>o===r||WM[o]===r))return t(n)})},YM=Pn({patchProp:UM},wM);let QE;function XM(){return QE||(QE=zR(YM))}const JM=(...t)=>{const e=XM().createApp(...t),{mount:i}=e;return e.mount=s=>{const n=e6(s);if(!n)return;const r=e._component;!Ht(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=i(n,!1,ZM(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function ZM(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function e6(t){return cn(t)?document.querySelector(t):t}let Ue={version:"4.16.1",date:"2022-11-03 09:18",ajaxAlwaysCallbacks:[],autopositionSpacing:4,closeOnEscape:void document.addEventListener("keydown",t=>{t.key!=="Escape"&&t.code!=="Escape"&&t.key!=="Esc"||Ue.getPanels(e=>e.classList.contains("jsPanel")).some(e=>!!e.options.closeOnEscape&&(typeof e.options.closeOnEscape=="function"?e.options.closeOnEscape.call(e,e):(e.close(null,!0),!0)))},!1),defaults:{boxShadow:3,container:"window",contentSize:{width:"400px",height:"200px"},dragit:{cursor:"move",handles:".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",opacity:.8,disableOnMaximized:!0},header:!0,headerTitle:"jsPanel",headerControls:{size:"md"},iconfont:void 0,maximizedMargin:0,minimizeTo:"default",paneltype:"standard",position:{my:"center",at:"center"},resizeit:{handles:"n, e, s, w, ne, se, sw, nw",minWidth:128,minHeight:38},theme:"default"},defaultAutocloseConfig:{time:"8s",progressbar:!0},defaultSnapConfig:{sensitivity:70,trigger:"panel",active:"both"},extensions:{},globalCallbacks:!1,icons:{close:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M13.7,11l6.1-6.1c0.4-0.4,0.4-0.9,0-1.3l-1.4-1.4c-0.4-0.4-0.9-0.4-1.3,0L11,8.3L4.9,2.3C4.6,1.9,4,1.9,3.7,2.3L2.3,3.7 C1.9,4,1.9,4.6,2.3,4.9L8.3,11l-6.1,6.1c-0.4,0.4-0.4,0.9,0,1.3l1.4,1.4c0.4,0.4,0.9,0.4,1.3,0l6.1-6.1l6.1,6.1 c0.4,0.4,0.9,0.4,1.3,0l1.4-1.4c0.4-0.4,0.4-0.9,0-1.3L13.7,11z"/></svg>',maximize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H3.7C2.8,2,2,2.9,2,3.9v14.1C2,19.1,2.8,20,3.7,20h14.6c0.9,0,1.7-0.9,1.7-1.9V3.9C20,2.9,19.2,2,18.3,2z M18.3,17.8 c0,0.1-0.1,0.2-0.2,0.2H3.9c-0.1,0-0.2-0.1-0.2-0.2V8.4h14.6V17.8z"/></svg>',normalize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H7.1C6.1,2,5.4,2.8,5.4,3.7v1.7H3.7C2.8,5.4,2,6.1,2,7.1v11.3C2,19.2,2.8,20,3.7,20h11.3c0.9,0,1.7-0.8,1.7-1.7v-1.7 h1.7c0.9,0,1.7-0.8,1.7-1.7V3.7C20,2.8,19.2,2,18.3,2z M14.9,18.3H3.7V11h11.3V18.3z M18.3,14.9h-1.7V7.1c0-0.9-0.8-1.7-1.7-1.7H7.1 V3.7h11.3V14.9z"/></svg>',minimize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.9,19.8H3.1c-0.6,0-1.1-0.5-1.1-1.1s0.5-1.1,1.1-1.1h15.8c0.6,0,1.1,0.5,1.1,1.1S19.5,19.8,18.9,19.8z"/></svg>',smallify:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M2.1,15.2L2.9,16c0.2,0.2,0.5,0.2,0.7,0L11,8.7l7.4,7.3c0.2,0.2,0.5,0.2,0.7,0l0.8-0.8c0.2-0.2,0.2-0.5,0-0.7L11.3,6 c-0.2-0.2-0.5-0.2-0.7,0l-8.5,8.5C2,14.7,2,15,2.1,15.2z"/></svg>'},idCounter:0,isIE:document.documentMode||!1,pointerdown:"onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],pointermove:"onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],pointerup:"onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"],polyfills:(Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(t==null)throw new TypeError("Cannot convert first argument to object");let e=Object(t);for(let i=1;i<arguments.length;i++){let s=arguments[i];if(s==null)continue;s=Object(s);let n=Object.keys(Object(s));for(let r=0,o=n.length;r<o;r++){let a=n[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(e[a]=s[a])}}return e}}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),i=e.length,s=new Array(i);i--;)s[i]=[e[i],t[e[i]]];return s}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(let i=0;i<this.length;i++)t.call(e,this[i],i,this)}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(t){t.append=t.append||function(){let e=Array.prototype.slice.call(arguments),i=document.createDocumentFragment();e.forEach(function(s){let n=s instanceof Node;i.appendChild(n?s:document.createTextNode(String(s)))}),this.appendChild(i)}}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){let e,i=(this.document||this.ownerDocument).querySelectorAll(t),s=this;do for(e=i.length;--e>=0&&i.item(e)!==s;);while(e<0&&(s=s.parentElement));return s}),function(){if(typeof window.CustomEvent=="function")return!1;function t(e,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};let s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),s}t.prototype=window.Event.prototype,window.CustomEvent=t}(),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(e===void 0||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){var i=e>0?0|e:0;return this.substring(i,i+t.length)===t}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return e===void 0&&(e=0),this.indexOf(t,e)!==-1}),String.prototype.repeat||(String.prototype.repeat=function(t){if(this==null)throw new TypeError("can't convert "+this+" to object");var e=""+this;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),e.length==0||t==0)return"";if(e.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var i=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,i-e.length)}),Number.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},void(Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(this==null)throw new TypeError('"this" is null or not defined');let i=Object(this),s=i.length>>>0;if(s===0)return!1;let n=0|e,r=Math.max(n>=0?n:s-Math.abs(n),0);for(;r<s;){if((o=i[r])===(a=t)||typeof o=="number"&&typeof a=="number"&&isNaN(o)&&isNaN(a))return!0;r++}var o,a;return!1}}))),ziBase:100,colorFilledLight:.81,colorFilledDark:.08,colorFilled:0,colorBrightnessThreshold:.55,colorNames:{default:"b0bec5",secondary:"b0bec5",primary:"01579b",info:"039be5",success:"2e7d32",warning:"f57f17",danger:"dd2c00",light:"e0e0e0",dark:"263238",aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",grey50:"fafafa",grey100:"f5f5f5",grey200:"eeeeee",grey300:"e0e0e0",grey400:"bdbdbd",grey500:"9e9e9e",grey600:"757575",grey700:"616161",grey800:"424242",grey900:"212121",gray50:"fafafa",gray100:"f5f5f5",gray200:"eeeeee",gray300:"e0e0e0",gray400:"bdbdbd",gray500:"9e9e9e",gray600:"757575",gray700:"616161",gray800:"424242",gray900:"212121",bluegrey50:"eceff1",bluegrey100:"CFD8DC",bluegrey200:"B0BEC5",bluegrey300:"90A4AE",bluegrey400:"78909C",bluegrey500:"607D8B",bluegrey600:"546E7A",bluegrey700:"455A64",bluegrey800:"37474F",bluegrey900:"263238",bluegray50:"eceff1",bluegray100:"CFD8DC",bluegray200:"B0BEC5",bluegray300:"90A4AE",bluegray400:"78909C",bluegray500:"607D8B",bluegray600:"546E7A",bluegray700:"455A64",bluegray800:"37474F",bluegray900:"263238",red50:"FFEBEE",red100:"FFCDD2",red200:"EF9A9A",red300:"E57373",red400:"EF5350",red500:"F44336",red600:"E53935",red700:"D32F2F",red800:"C62828",red900:"B71C1C",reda100:"FF8A80",reda200:"FF5252",reda400:"FF1744",reda700:"D50000",pink50:"FCE4EC",pink100:"F8BBD0",pink200:"F48FB1",pink300:"F06292",pink400:"EC407A",pink500:"E91E63",pink600:"D81B60",pink700:"C2185B",pink800:"AD1457",pink900:"880E4F",pinka100:"FF80AB",pinka200:"FF4081",pinka400:"F50057",pinka700:"C51162",purple50:"F3E5F5",purple100:"E1BEE7",purple200:"CE93D8",purple300:"BA68C8",purple400:"AB47BC",purple500:"9C27B0",purple600:"8E24AA",purple700:"7B1FA2",purple800:"6A1B9A",purple900:"4A148C",purplea100:"EA80FC",purplea200:"E040FB",purplea400:"D500F9",purplea700:"AA00FF",deeppurple50:"EDE7F6",deeppurple100:"D1C4E9",deeppurple200:"B39DDB",deeppurple300:"9575CD",deeppurple400:"7E57C2",deeppurple500:"673AB7",deeppurple600:"5E35B1",deeppurple700:"512DA8",deeppurple800:"4527A0",deeppurple900:"311B92",deeppurplea100:"B388FF",deeppurplea200:"7C4DFF",deeppurplea400:"651FFF",deeppurplea700:"6200EA",indigo50:"E8EAF6",indigo100:"C5CAE9",indigo200:"9FA8DA",indigo300:"7986CB",indigo400:"5C6BC0",indigo500:"3F51B5",indigo600:"3949AB",indigo700:"303F9F",indigo800:"283593",indigo900:"1A237E",indigoa100:"8C9EFF",indigoa200:"536DFE",indigoa400:"3D5AFE",indigoa700:"304FFE",blue50:"E3F2FD",blue100:"BBDEFB",blue200:"90CAF9",blue300:"64B5F6",blue400:"42A5F5",blue500:"2196F3",blue600:"1E88E5",blue700:"1976D2",blue800:"1565C0",blue900:"0D47A1",bluea100:"82B1FF",bluea200:"448AFF",bluea400:"2979FF",bluea700:"2962FF",lightblue50:"E1F5FE",lightblue100:"B3E5FC",lightblue200:"81D4FA",lightblue300:"4FC3F7",lightblue400:"29B6F6",lightblue500:"03A9F4",lightblue600:"039BE5",lightblue700:"0288D1",lightblue800:"0277BD",lightblue900:"01579B",lightbluea100:"80D8FF",lightbluea200:"40C4FF",lightbluea400:"00B0FF",lightbluea700:"0091EA",cyan50:"E0F7FA",cyan100:"B2EBF2",cyan200:"80DEEA",cyan300:"4DD0E1",cyan400:"26C6DA",cyan500:"00BCD4",cyan600:"00ACC1",cyan700:"0097A7",cyan800:"00838F",cyan900:"006064",cyana100:"84FFFF",cyana200:"18FFFF",cyana400:"00E5FF",cyana700:"00B8D4",teal50:"E0F2F1",teal100:"B2DFDB",teal200:"80CBC4",teal300:"4DB6AC",teal400:"26A69A",teal500:"009688",teal600:"00897B",teal700:"00796B",teal800:"00695C",teal900:"004D40",teala100:"A7FFEB",teala200:"64FFDA",teala400:"1DE9B6",teala700:"00BFA5",green50:"E8F5E9",green100:"C8E6C9",green200:"A5D6A7",green300:"81C784",green400:"66BB6A",green500:"4CAF50",green600:"43A047",green700:"388E3C",green800:"2E7D32",green900:"1B5E20",greena100:"B9F6CA",greena200:"69F0AE",greena400:"00E676",greena700:"00C853",lightgreen50:"F1F8E9",lightgreen100:"DCEDC8",lightgreen200:"C5E1A5",lightgreen300:"AED581",lightgreen400:"9CCC65",lightgreen500:"8BC34A",lightgreen600:"7CB342",lightgreen700:"689F38",lightgreen800:"558B2F",lightgreen900:"33691E",lightgreena100:"CCFF90",lightgreena200:"B2FF59",lightgreena400:"76FF03",lightgreena700:"64DD17",lime50:"F9FBE7",lime100:"F0F4C3",lime200:"E6EE9C",lime300:"DCE775",lime400:"D4E157",lime500:"CDDC39",lime600:"C0CA33",lime700:"AFB42B",lime800:"9E9D24",lime900:"827717",limea100:"F4FF81",limea200:"EEFF41",limea400:"C6FF00",limea700:"AEEA00",yellow50:"FFFDE7",yellow100:"FFF9C4",yellow200:"FFF59D",yellow300:"FFF176",yellow400:"FFEE58",yellow500:"FFEB3B",yellow600:"FDD835",yellow700:"FBC02D",yellow800:"F9A825",yellow900:"F57F17",yellowa100:"FFFF8D",yellowa200:"FFFF00",yellowa400:"FFEA00",yellowa700:"FFD600",amber50:"FFF8E1",amber100:"FFECB3",amber200:"FFE082",amber300:"FFD54F",amber400:"FFCA28",amber500:"FFC107",amber600:"FFB300",amber700:"FFA000",amber800:"FF8F00",amber900:"FF6F00",ambera100:"FFE57F",ambera200:"FFD740",ambera400:"FFC400",ambera700:"FFAB00",orange50:"FFF3E0",orange100:"FFE0B2",orange200:"FFCC80",orange300:"FFB74D",orange400:"FFA726",orange500:"FF9800",orange600:"FB8C00",orange700:"F57C00",orange800:"EF6C00",orange900:"E65100",orangea100:"FFD180",orangea200:"FFAB40",orangea400:"FF9100",orangea700:"FF6D00",deeporange50:"FBE9E7",deeporange100:"FFCCBC",deeporange200:"FFAB91",deeporange300:"FF8A65",deeporange400:"FF7043",deeporange500:"FF5722",deeporange600:"F4511E",deeporange700:"E64A19",deeporange800:"D84315",deeporange900:"BF360C",deeporangea100:"FF9E80",deeporangea200:"FF6E40",deeporangea400:"FF3D00",deeporangea700:"DD2C00",brown50:"EFEBE9",brown100:"D7CCC8",brown200:"BCAAA4",brown300:"A1887F",brown400:"8D6E63",brown500:"795548",brown600:"6D4C41",brown700:"5D4037",brown800:"4E342E",brown900:"3E2723","mdb-default":"2BBBAD","mdb-default-dark":"00695c","mdb-primary":"4285F4","mdb-primary-dark":"0d47a1","mdb-secondary":"aa66cc","mdb-secondary-dark":"9933CC","mdb-danger":"ff4444","mdb-danger-dark":"CC0000","mdb-warning":"ffbb33","mdb-warning-dark":"FF8800","mdb-success":"00C851","mdb-success-dark":"007E33","mdb-info":"33b5e5","mdb-info-dark":"0099CC","mdb-elegant":"2E2E2E","mdb-elegant-dark":"212121","mdb-stylish":"4B515D","mdb-stylish-dark":"3E4551","mdb-unique":"3F729B","mdb-unique-dark":"1C2331","mdb-special":"37474F","mdb-special-dark":"263238"},errorReporting:1,modifier:!1,helper:(document.addEventListener("keydown",t=>Ue.modifier=t),void document.addEventListener("keyup",()=>Ue.modifier=!1)),usePointerEvents(t=!0){t?(this.pointerdown="onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"]):(this.pointerdown="ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="ontouchend"in window?["touchend","mouseup"]:["mouseup"])},pOcontainer(t){if(t==="window")return document.body;if(typeof t=="string"){let e=document.querySelectorAll(t);return!!(e.length&&e.length>0)&&e}return t.nodeType===1?t:!!t.length&&t[0]},pOcontainment(t){let e=t;if(typeof t=="function"&&(e=t()),typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){if(e.length===1)return[e[0],e[0],e[0],e[0]];if(e.length===2)return e.concat(e);e.length===3&&(e[3]=e[1])}return e},pOsize(t,e){let i=e||this.defaults.contentSize;const s=t.parentElement;if(typeof i=="string"){const n=i.trim().split(" ");(i={}).width=n[0],n.length===2?i.height=n[1]:i.height=n[0]}else i.width&&!i.height?i.height=i.width:i.height&&!i.width&&(i.width=i.height);if(String(i.width).match(/^[\d.]+$/gi))i.width+="px";else if(typeof i.width=="string"&&i.width.endsWith("%"))if(s===document.body)i.width=window.innerWidth*(parseFloat(i.width)/100)+"px";else{const n=window.getComputedStyle(s),r=parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth);i.width=(parseFloat(n.width)-r)*(parseFloat(i.width)/100)+"px"}else typeof i.width=="function"&&(i.width=i.width.call(t,t),(typeof i.width=="number"||typeof i.width=="string"&&i.width.match(/^[\d.]+$/gi))&&(i.width+="px"));if(String(i.height).match(/^[\d.]+$/gi))i.height+="px";else if(typeof i.height=="string"&&i.height.endsWith("%"))if(s===document.body)i.height=window.innerHeight*(parseFloat(i.height)/100)+"px";else{const n=window.getComputedStyle(s),r=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth);i.height=(parseFloat(n.height)-r)*(parseFloat(i.height)/100)+"px"}else typeof i.height=="function"&&(i.height=i.height.call(t,t),(typeof i.height=="number"||typeof i.height=="string"&&i.height.match(/^[\d.]+$/gi))&&(i.height+="px"));return i},pOborder(t){let e=[],i=t.trim().replace(/\s*\(\s*/g,"(").replace(/\s*\)/g,")").replace(/\s+/g," ").split(" ");return i.forEach((s,n)=>{(s.startsWith("--")||s.startsWith("var"))&&(i[n]=Ue.getCssVariableValue(s))}),i.forEach(s=>{Ue.colorNames[s]?e[2]="#"+Ue.colorNames[s]:s.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)/)?e[1]=s:s.match(/(thin|medium|thick)|(\d*\.?\d*(cap|ch|em|ex|ic|lh|rem|rlh|vh|vw|vmax|vmin|vb|vi|px|cm|mm|Q|in|pc|pt))/)?e[0]=s:e[2]=s}),e[0]||(e[0]="medium"),e[1]||(e[1]="solid"),e[2]||(e[2]=""),e},pOheaderControls(t){if(typeof t=="string"){let e={},i=t.toLowerCase(),s=i.match(/xl|lg|md|sm|xs/),n=i.match(/closeonly|none/);return s&&(e.size=s[0]),n&&(e=Object.assign({},e,{maximize:"remove",normalize:"remove",minimize:"remove",smallify:"remove"}),n[0]==="none"&&(e.close="remove")),Object.assign({},this.defaults.headerControls,e)}return Object.assign({},this.defaults.headerControls,t)},pOtheme(t){let e,i="";if((t=t.trim()).match(/^(rgb|hsl|var)/)){let s=t.indexOf(")");(e=t.slice(0,s+1).replace(/\s+/g,"")).startsWith("var")&&(e=Ue.getCssVariableValue(e)),i=t.slice(s+1,t.length).trim()}else if(t.match(/^(#|\w|--)/)){let s=t.indexOf(" ");s>0?(e=t.slice(0,s+1).replace(/\s+/g,""),i=t.slice(s+1,t.length).trim()):e=t,e.startsWith("--")&&(e=Ue.getCssVariableValue(e))}if(e.match(/^([\da-f]{3}|[\da-f]{6})$/gi)&&(e="#"+e),i.startsWith("fillcolor")){let s=i.indexOf(" ");i=(i=i.slice(s+1,i.length).trim().replace(/\s+/g,"")).match(/^([\da-f]{3}|[\da-f]{6})$/gi)?"#"+i:Ue.colorNames[i]?"#"+Ue.colorNames[i]:i.match(/^(--|var)/)?Ue.getCssVariableValue(i):"#fff"}return{color:e,colors:!1,filling:i}},color(t){let e,i,s,n,r,o,a,l,u,c=t.toLowerCase(),h={};const A=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?(0|1|0\.\d{1,2}|\.\d{1,2})?\)$/gi,f=/^hsla?\((\d{1,3}),(\d{1,3}%),(\d{1,3}%),?(0|1|0\.\d{1,2}|\.\d{1,2})?\)$/gi,m=this.colorNames;return m[c]&&(c=m[c]),c.match(/^#?([\da-f]{3}|[\da-f]{6})$/gi)!==null?((c=c.replace("#","")).length%2==1?(e=c.slice(0,1).repeat(2),i=c.slice(1,2).repeat(2),s=c.slice(2,3).repeat(2),h.rgb={r:parseInt(e,16),g:parseInt(i,16),b:parseInt(s,16)},h.hex="#".concat(e).concat(i).concat(s)):(h.rgb={r:parseInt(c.slice(0,2),16),g:parseInt(c.slice(2,4),16),b:parseInt(c.slice(4,6),16)},h.hex="#".concat(c)),u=this.rgbToHsl(h.rgb.r,h.rgb.g,h.rgb.b),h.hsl=u,h.rgb.css="rgb(".concat(h.rgb.r,",").concat(h.rgb.g,",").concat(h.rgb.b,")")):c.match(A)?(a=A.exec(c),h.rgb={css:c,r:a[1],g:a[2],b:a[3]},h.hex=this.rgbToHex(a[1],a[2],a[3]),u=this.rgbToHsl(a[1],a[2],a[3]),h.hsl=u):c.match(f)?(n=(a=f.exec(c))[1]/360,r=a[2].slice(0,a[2].length-1)/100,o=a[3].slice(0,a[3].length-1)/100,l=this.hslToRgb(n,r,o),h.rgb={css:"rgb(".concat(l[0],",").concat(l[1],",").concat(l[2],")"),r:l[0],g:l[1],b:l[2]},h.hex=this.rgbToHex(h.rgb.r,h.rgb.g,h.rgb.b),h.hsl={css:"hsl(".concat(a[1],",").concat(a[2],",").concat(a[3],")"),h:a[1],s:a[2],l:a[3]}):(h.hex="#f5f5f5",h.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},h.hsl={css:"hsl(0,0%,96%)",h:0,s:"0%",l:"96%"}),h},calcColors(t){const e=this.colorBrightnessThreshold,i=this.color(t),s=this.lighten(t,this.colorFilledLight),n=this.darken(t,this.colorFilled),r=this.perceivedBrightness(t)<=e?"#ffffff":"#000000",o=this.perceivedBrightness(s)<=e?"#ffffff":"#000000",a=this.perceivedBrightness(n)<=e?"#ffffff":"#000000",l=this.lighten(t,this.colorFilledDark),u=this.perceivedBrightness(l)<=e?"#ffffff":"#000000";return[i.hsl.css,s,n,r,o,a,l,u]},darken(t,e){const i=this.color(t).hsl,s=parseFloat(i.l),n=Math.round(s-s*e)+"%";return"hsl(".concat(i.h,",").concat(i.s,",").concat(n,")")},lighten(t,e){const i=this.color(t).hsl,s=parseFloat(i.l),n=Math.round(s+(100-s)*e)+"%";return"hsl(".concat(i.h,",").concat(i.s,",").concat(n,")")},hslToRgb(t,e,i){let s,n,r;if(e===0)s=n=r=i;else{let o=(u,c,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?u+6*(c-u)*h:h<.5?c:h<.6666666666666666?u+(c-u)*(.6666666666666666-h)*6:u),a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;s=o(l,a,t+1/3),n=o(l,a,t),r=o(l,a,t-1/3)}return[Math.round(255*s),Math.round(255*n),Math.round(255*r)]},rgbToHsl(t,e,i){t/=255,e/=255,i/=255;let s,n,r=Math.max(t,e,i),o=Math.min(t,e,i),a=(r+o)/2;if(r===o)s=n=0;else{let l=r-o;switch(n=a>.5?l/(2-r-o):l/(r+o),r){case t:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-t)/l+2;break;case i:s=(t-e)/l+4}s/=6}return{css:"hsl("+(s=Math.round(360*s))+","+(n=Math.round(100*n)+"%")+","+(a=Math.round(100*a)+"%")+")",h:s,s:n,l:a}},rgbToHex(t,e,i){let s=Number(t).toString(16),n=Number(e).toString(16),r=Number(i).toString(16);return s.length===1&&(s="0".concat(s)),n.length===1&&(n="0".concat(n)),r.length===1&&(r="0".concat(r)),"#".concat(s).concat(n).concat(r)},perceivedBrightness(t){const e=this.color(t).rgb;return e.r/255*.2126+e.g/255*.7152+e.b/255*.0722},pOposition(t){let e={},i=t.trim().split(/\s+/),s=i.filter(o=>o.match(/^(down|right|up|left)$/i));s.length&&(e.autoposition=s[0],i.splice(i.indexOf(s[0]),1));let n=i.filter(o=>o.match(/^(left-|right-)(top|center|bottom)$|(^center-)(top|bottom)$|(^center$)/i));n.length?(e.my=n[0],e.at=n[1]||n[0],i.splice(i.indexOf(n[0]),1),n[1]&&i.splice(i.indexOf(n[1]),1)):(e.my="center",e.at="center");let r=i.filter(o=>o.match(/^[+-]?\d*\.?\d+[a-z%]*$/i));return r.length&&(e.offsetX=r[0].match(/^[+-]?\d*\.?\d+$/i)?"".concat(r[0],"px"):r[0],r[1]?e.offsetY=r[1].match(/^[+-]?\d*\.?\d+$/i)?"".concat(r[1],"px"):r[1]:e.offsetY=e.offsetX,i.splice(i.indexOf(r[0]),1),r[1]&&i.splice(i.indexOf(r[1]),1)),i.length&&(e.of=i.join(" ")),e},position(t,e){if(!e)return t.style.opacity=1,t;e=typeof e=="string"?Object.assign({},this.defaults.position,this.pOposition(e)):Object.assign({},this.defaults.position,e),["my","at","of"].forEach(p=>{typeof e[p]=="function"&&(e[p]=e[p].call(t,t))}),t.options.container==="window"&&(t.style.position="fixed"),typeof t=="string"?t=document.querySelector(t):Object.getPrototypeOf(t).jquery&&(t=t[0]);const i=t.options.container==="window"?"window":t.parentElement,s=t.getBoundingClientRect(),n=t.parentElement.getBoundingClientRect(),r=i==="window"?{left:0,top:0,width:document.documentElement.clientWidth,height:window.innerHeight}:{width:n.width,height:n.height,left:n.left,top:n.top},o=i==="window"?{x:1,y:1}:{x:r.width/i.offsetWidth,y:r.height/i.offsetHeight},a=i==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:window.getComputedStyle(i);let l;r.width-=(parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))*o.x,r.height-=(parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth))*o.y,l=e.of?typeof e.of=="string"?e.of==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:document.querySelector(e.of).getBoundingClientRect():Object.getPrototypeOf(e.of).jquery?e.of[0].getBoundingClientRect():e.of.getBoundingClientRect():r;let u=this.getScrollbarWidth(document.body),c=this.getScrollbarWidth(t.parentElement),h="0px";e.my.startsWith("left-")?e.at.startsWith("left-")?h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+"px":"0px":e.at.startsWith("center")?h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+l.width/2+"px":r.width/2+"px":e.at.startsWith("right-")&&(h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+l.width+"px":r.width+"px"):e.my.startsWith("center")?e.at.startsWith("left-")?h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-s.width/2+"px":-s.width/2+"px":e.at.startsWith("center")?h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-(s.width-l.width)/2+"px":r.width/2-s.width/2+"px":e.at.startsWith("right-")&&(h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+(l.width-s.width/2)+"px":r.width-s.width/2+"px"):e.my.startsWith("right-")&&(e.at.startsWith("left-")?h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-s.width+"px":-s.width+"px":e.at.startsWith("center")?h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)-s.width+l.width/2+"px":r.width/2-s.width+"px":e.at.startsWith("right-")&&(h=e.of?l.left-r.left-parseFloat(a.borderLeftWidth)+l.width-s.width+"px":r.width-s.width+"px",i!=="window"&&(h=parseFloat(h)-c.y+"px")));let A="0px";e.my.endsWith("-top")?e.at.endsWith("-top")?A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)+"px":"0px":e.at.endsWith("center")?A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)+l.height/2+"px":r.height/2+"px":e.at.endsWith("-bottom")&&(A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)+l.height+"px":r.height+"px"):e.my.endsWith("center")?e.at.endsWith("-top")?A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-s.height/2+"px":-s.height/2+"px":e.at.endsWith("center")?A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-s.height/2+l.height/2+"px":r.height/2-s.height/2+"px":e.at.endsWith("-bottom")&&(A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-s.height/2+l.height+"px":r.height-s.height/2+"px"):e.my.endsWith("-bottom")&&(e.at.endsWith("-top")?A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-s.height+"px":-s.height+"px":e.at.endsWith("center")?A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-s.height+l.height/2+"px":r.height/2-s.height+"px":e.at.endsWith("-bottom")&&(A=e.of?l.top-r.top-parseFloat(a.borderTopWidth)-s.height+l.height+"px":r.height-s.height+"px",A=i!=="window"?parseFloat(A)-c.x+"px":parseFloat(A)-u.x+"px")),t.style.left=o.x===1?h:parseFloat(h)/o.x+"px",t.style.top=o.y===1?A:parseFloat(A)/o.y+"px";let f=getComputedStyle(t),m={left:f.left,top:f.top};return e.autoposition&&e.my===e.at&&["left-top","center-top","right-top","left-bottom","center-bottom","right-bottom"].indexOf(e.my)>=0&&(m=this.applyPositionAutopos(t,m,e)),(e.offsetX||e.offsetY)&&(m=this.applyPositionOffset(t,m,e)),(e.minLeft||e.minTop||e.maxLeft||e.maxTop)&&(m=this.applyPositionMinMax(t,m,e)),e.modify&&(m=this.applyPositionModify(t,m,e)),typeof t.options.opacity=="number"?t.style.opacity=t.options.opacity:t.style.opacity=1,t},applyPositionAutopos(t,e,i){const s="".concat(i.my,"-").concat(i.autoposition.toLowerCase());t.classList.add(s);const n=Array.prototype.slice.call(document.querySelectorAll(".".concat(s))),r=n.indexOf(t);if(n.length>1){switch(i.autoposition){case"down":n.forEach((o,a)=>{a>0&&a<=r&&(e.top=parseFloat(e.top)+n[--a].getBoundingClientRect().height+Ue.autopositionSpacing+"px")});break;case"up":n.forEach((o,a)=>{a>0&&a<=r&&(e.top=parseFloat(e.top)-n[--a].getBoundingClientRect().height-Ue.autopositionSpacing+"px")});break;case"right":n.forEach((o,a)=>{a>0&&a<=r&&(e.left=parseFloat(e.left)+n[--a].getBoundingClientRect().width+Ue.autopositionSpacing+"px")});break;case"left":n.forEach((o,a)=>{a>0&&a<=r&&(e.left=parseFloat(e.left)-n[--a].getBoundingClientRect().width-Ue.autopositionSpacing+"px")})}t.style.left=e.left,t.style.top=e.top}return{left:e.left,top:e.top}},applyPositionOffset(t,e,i){["offsetX","offsetY"].forEach(n=>{i[n]?(typeof i[n]=="function"&&(i[n]=i[n].call(e,e,i)),isNaN(i[n])===!1&&(i[n]="".concat(i[n],"px"))):i[n]="0px"}),t.style.left="calc(".concat(t.style.left," + ").concat(i.offsetX,")"),t.style.top="calc(".concat(t.style.top," + ").concat(i.offsetY,")");const s=getComputedStyle(t);return{left:s.left,top:s.top}},applyPositionMinMax(t,e,i){if(["minLeft","minTop","maxLeft","maxTop"].forEach(n=>{i[n]&&(typeof i[n]=="function"&&(i[n]=i[n].call(e,e,i)),(Number.isInteger(i[n])||i[n].match(/^\d+$/))&&(i[n]="".concat(i[n],"px")))}),i.minLeft){t.style.left=i.minLeft;let n=getComputedStyle(t).left;parseFloat(n)<parseFloat(e.left)?t.style.left=e.left:e.left=n}if(i.minTop){t.style.top=i.minTop;let n=getComputedStyle(t).top;parseFloat(n)<parseFloat(e.top)?t.style.top=e.top:e.top=n}if(i.maxLeft){t.style.left=i.maxLeft;let n=getComputedStyle(t).left;parseFloat(n)>parseFloat(e.left)?t.style.left=e.left:e.left=n}if(i.maxTop){t.style.top=i.maxTop;let n=getComputedStyle(t).top;parseFloat(n)>parseFloat(e.top)?t.style.top=e.top:e.top=n}const s=getComputedStyle(t);return{left:s.left,top:s.top}},applyPositionModify(t,e,i){if(i.modify&&typeof i.modify=="function"){const n=i.modify.call(e,e,i);t.style.left=Number.isInteger(n.left)||n.left.match(/^\d+$/)?"".concat(n.left,"px"):n.left,t.style.top=Number.isInteger(n.top)||n.top.match(/^\d+$/)?"".concat(n.top,"px"):n.top}const s=getComputedStyle(t);return{left:s.left,top:s.top}},autopositionRemaining(t){let e,i=t.options.container;["left-top-down","left-top-right","center-top-down","right-top-down","right-top-left","left-bottom-up","left-bottom-right","center-bottom-up","right-bottom-up","right-bottom-left"].forEach(s=>{t.classList.contains(s)&&(e=s)}),e&&(i==="window"?document.body:typeof i=="string"?document.querySelector(i):i).querySelectorAll(".".concat(e)).forEach(s=>s.reposition())},getThemeDetails(t){const e=this.pOtheme(t);if(e.color.startsWith("bootstrap-")){let i=e.color.indexOf("-"),s=document.createElement("button");s.className="btn btn"+e.color.slice(i),document.body.appendChild(s),e.color=getComputedStyle(s).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(s),s=void 0}return e.colors=this.calcColors(e.color),e},clearTheme(t,e){return t.content.classList.remove("jsPanel-content-filled","jsPanel-content-filledlight"),t.header.classList.remove("jsPanel-hdr-light"),t.header.classList.remove("jsPanel-hdr-dark"),t.style.backgroundColor="",this.setStyles(t.headertoolbar,{boxShadow:"",width:"",marginLeft:"",borderTopColor:"transparent"}),this.setStyles(t.content,{background:"",borderTopColor:"transparent"}),t.header.style.background="",Array.prototype.slice.call(t.controlbar.querySelectorAll(".jsPanel-icon")).concat([t.headerlogo,t.headertitle,t.headertoolbar,t.content]).forEach(i=>i.style.color=""),e&&e.call(t,t),t},applyColorTheme(t,e){if(t.style.backgroundColor=e.colors[0],t.header.style.backgroundColor=e.colors[0],t.header.style.color=e.colors[3],[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(i=>t.querySelector(i).style.color=e.colors[3]),t.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(i=>i.style.color=e.colors[3]),typeof t.options.theme=="string"&&e.filling==="filled"&&(t.content.style.borderTop=e.colors[3]==="#000000"?"1px solid rgba(0,0,0,0.15)":"1px solid rgba(255,255,255,0.15)"),e.colors[3]==="#000000"?t.header.classList.add("jsPanel-hdr-light"):t.header.classList.add("jsPanel-hdr-dark"),e.filling)switch(e.filling){case"filled":this.setStyles(t.content,{backgroundColor:e.colors[2],color:e.colors[3]});break;case"filledlight":t.content.style.backgroundColor=e.colors[1];break;case"filleddark":this.setStyles(t.content,{backgroundColor:e.colors[6],color:e.colors[7]});break;default:t.content.style.backgroundColor=e.filling,t.content.style.color=this.perceivedBrightness(e.filling)<=this.colorBrightnessThreshold?"#fff":"#000"}return t},applyCustomTheme(t,e){let i={bgPanel:"#ffffff",bgContent:"#ffffff",bgFooter:"#f5f5f5",colorHeader:"#000000",colorContent:"#000000",colorFooter:"#000000",border:void 0,borderRadius:void 0},s=typeof e=="object"?Object.assign(i,e):i,n=s.bgPanel,r=s.bgContent,o=s.colorHeader,a=s.colorContent,l=s.bgFooter,u=s.colorFooter;return this.colorNames[n]?t.style.background="#"+this.colorNames[n]:t.style.background=this.getCssVariableValue(n),this.colorNames[o]&&(o="#"+this.colorNames[o]),[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(c=>t.querySelector(c).style.color=this.getCssVariableValue(o)),t.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(c=>c.style.color=this.getCssVariableValue(o)),this.colorNames[r]?t.content.style.background="#"+this.colorNames[r]:t.content.style.background=this.getCssVariableValue(r),this.colorNames[a]?t.content.style.color="#"+this.colorNames[a]:t.content.style.color=this.getCssVariableValue(a),this.perceivedBrightness(o)>this.colorBrightnessThreshold?t.header.classList.add("jsPanel-hdr-dark"):t.header.classList.add("jsPanel-hdr-light"),this.perceivedBrightness(a)>this.colorBrightnessThreshold?t.content.style.borderTop="1px solid rgba(255,255,255,0.15)":t.content.style.borderTop="1px solid rgba(0,0,0,0.15)",this.colorNames[l]?t.footer.style.background="#"+this.colorNames[l]:t.footer.style.background=this.getCssVariableValue(l),this.colorNames[u]?t.footer.style.color="#"+this.colorNames[u]:t.footer.style.color=this.getCssVariableValue(u),s.border&&t.setBorder(s.border),s.borderRadius&&(t.options.borderRadius=void 0,t.setBorderRadius(s.borderRadius)),t},getCssVariableValue(t){if(t.startsWith("--"))return getComputedStyle(document.documentElement).getPropertyValue(t).replace(/\s+/g,"");if(t.startsWith("var")){let e=t.slice(t.indexOf("(")+1,t.indexOf(")"));return getComputedStyle(document.documentElement).getPropertyValue(e).replace(/\s+/g,"")}return t},getScrollbarWidth(t=document.body){if(t===document.body)return{y:window.innerWidth-document.documentElement.clientWidth,x:window.innerHeight-document.documentElement.clientHeight};{let e=getComputedStyle(t);return{y:t.offsetWidth-t.clientWidth-parseFloat(e.borderRightWidth)-parseFloat(e.borderLeftWidth),x:t.offsetHeight-t.clientHeight-parseFloat(e.borderBottomWidth)-parseFloat(e.borderTopWidth)}}},remClass:(t,e)=>(e.trim().split(/\s+/).forEach(i=>t.classList.remove(i)),t),setClass:(t,e)=>(e.trim().split(/\s+/).forEach(i=>t.classList.add(i)),t),setStyles(t,e){for(const[i,s]of Object.entries(e))t.style[i]=typeof s=="string"?Ue.getCssVariableValue(s):s;return t},setStyle(t,e){return this.setStyles.call(t,t,e)},strToHtml:t=>document.createRange().createContextualFragment(t),toggleClass:(t,e)=>(e.trim().split(/\s+/).forEach(i=>t.classList.contains(i)?t.classList.remove(i):t.classList.add(i)),t),emptyNode(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},addScript(t,e="application/javascript",i){if(!document.querySelector('script[src="'.concat(t,'"]'))){const s=document.createElement("script");s.src=t,s.type=e,document.head.appendChild(s),i&&(s.onload=i)}},ajax(t,e){let i,s,n=new XMLHttpRequest;const r={method:"GET",async:!0,user:"",pwd:"",done:function(){if(e){let o=Ue.strToHtml(this.responseText);i.urlSelector&&(o=o.querySelector(i.urlSelector)),e.contentRemove(),e.content.append(o)}},autoresize:!0,autoreposition:!0};if(e&&typeof t=="string")i=Object.assign({},r,{url:t});else{if(typeof t!="object"||!t.url){this.errorReporting&&Ue.errorpanel("XMLHttpRequest seems to miss the <mark>url</mark> parameter!");return}(i=Object.assign({},r,t)).url=t.url,i.async===!1&&(i.timeout=0,i.withCredentials&&(i.withCredentials=void 0),i.responseType&&(i.responseType=void 0))}s=i.url.trim().split(/\s+/),i.url=encodeURI(s[0]),s.length>1&&(s.shift(),i.urlSelector=s.join(" ")),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200?e?i.done.call(n,n,e):i.done.call(n,n):i.fail&&(e?i.fail.call(n,n,e):i.fail.call(n,n)),i.always&&(e?i.always.call(n,n,e):i.always.call(n,n)),e&&(i.autoresize||i.autoreposition)&&Ue.ajaxAutoresizeAutoreposition(e,i),Ue.ajaxAlwaysCallbacks.length&&Ue.ajaxAlwaysCallbacks.forEach(o=>{e?o.call(n,n,e):o.call(n,n)}))},n.open(i.method,i.url,i.async,i.user,i.pwd),n.timeout=i.timeout||0,i.withCredentials&&(n.withCredentials=i.withCredentials),i.responseType&&(n.responseType=i.responseType),i.beforeSend&&(e?i.beforeSend.call(n,n,e):i.beforeSend.call(n,n)),i.data?n.send(i.data):n.send(null)},fetch(t,e){let i;const s={bodyMethod:"text",autoresize:!0,autoreposition:!0,done:function(r,o){if(o){let a=Ue.strToHtml(r);o.contentRemove(),o.content.append(a)}}};if(e&&typeof t=="string")i=Object.assign({},s,{resource:encodeURI(t)});else{if(typeof t!="object"||!t.resource){this.errorReporting&&Ue.errorpanel("Fetch Request seems to miss the <mark>resource</mark> parameter!");return}(i=Object.assign({},s,t)).resource=encodeURI(t.resource)}const n=i.fetchInit||{};i.beforeSend&&(e?i.beforeSend.call(t,t,e):i.beforeSend.call(t,t)),fetch(i.resource,n).then(r=>{if(r.ok)return r[i.bodyMethod]()}).then(r=>{e?i.done.call(r,r,e):i.done.call(r,r),e&&(i.autoresize||i.autoreposition)&&Ue.ajaxAutoresizeAutoreposition(e,i)})},ajaxAutoresizeAutoreposition(t,e){const i=t.options.contentSize;if(typeof i=="string"&&i.match(/auto/i)){const s=i.split(" "),n=Object.assign({},{width:s[0],height:s[1]});e.autoresize&&t.resize(n),t.classList.contains("jsPanel-contextmenu")||e.autoreposition&&t.reposition()}else if(typeof i=="object"&&(i.width==="auto"||i.height==="auto")){const s=Object.assign({},i);e.autoresize&&t.resize(s),t.classList.contains("jsPanel-contextmenu")||e.autoreposition&&t.reposition()}},createPanelTemplate(t=!0){const e=document.createElement("div");return e.className="jsPanel",e.style.left="0",e.style.top="0",t&&["close","maximize","normalize","minimize","smallify"].forEach(i=>{e.setAttribute("data-btn".concat(i),"enabled")}),e.innerHTML='<div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-headerlogo"></div>\n                                    <div class="jsPanel-titlebar">\n                                        <div class="jsPanel-title"></div>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-smallify" aria-label="Smallify">'.concat(this.icons.smallify,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-minimize" aria-label="Minimize">').concat(this.icons.minimize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-normalize" aria-label="Normalize">').concat(this.icons.normalize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-maximize" aria-label="Maximize">').concat(this.icons.maximize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-close" aria-label="Close">').concat(this.icons.close,'</button>\n                                    </div>\n                                </div>\n                                <div class="jsPanel-hdr-toolbar"></div>\n                            </div>\n                            <div class="jsPanel-progressbar">\n                                <div class="jsPanel-progressbar-slider"></div>\n                            </div>\n                            <div class="jsPanel-content"></div>\n                            <div class="jsPanel-minimized-box"></div>\n                            <div class="jsPanel-ftr"></div>'),e},createMinimizedTemplate(){const t=document.createElement("div");return t.className="jsPanel-replacement",t.innerHTML='<div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-headerlogo"></div>\n                                    <div class="jsPanel-titlebar">\n                                        <div class="jsPanel-title"></div>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-normalize" aria-label="Normalize">'.concat(this.icons.normalize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-maximize" aria-label="Maximize">').concat(this.icons.maximize,'</button>\n                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-close" aria-label="Close">').concat(this.icons.close,"</button>\n                                    </div>\n                                </div>\n                            </div>"),t},createSnapArea(t,e,i){const s=document.createElement("div"),n=t.parentElement;s.className="jsPanel-snap-area jsPanel-snap-area-".concat(e),e==="lt"||e==="rt"||e==="rb"||e==="lb"?(s.style.width=i+"px",s.style.height=i+"px"):e==="ct"||e==="cb"?s.style.height=i+"px":e!=="lc"&&e!=="rc"||(s.style.width=i+"px"),n!==document.body&&(s.style.position="absolute"),document.querySelector(".jsPanel-snap-area.jsPanel-snap-area-".concat(e))||t.parentElement.appendChild(s)},removeSnapAreas(){document.querySelectorAll(".jsPanel-snap-area").forEach(t=>t.parentElement.removeChild(t))},extend(t){if(Object.prototype.toString.call(t)==="[object Object]")for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.extensions[e]=t[e])},getPanels:(t=function(){return this.classList.contains("jsPanel-standard")})=>Array.prototype.slice.call(document.querySelectorAll(".jsPanel")).filter(e=>t.call(e,e)).sort((e,i)=>i.style.zIndex-e.style.zIndex),processCallbacks(t,e,i="some",s,n){if(typeof e=="function"&&(e=[e]),i)return e[i](r=>r.call(t,t,s,n));e.forEach(r=>r.call(t,t,s,n))},resetZi(){this.zi=((t=Ue.ziBase)=>{let e=t;return{next:()=>e++}})(),Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).sort((t,e)=>t.style.zIndex-e.style.zIndex).forEach(t=>t.style.zIndex=Ue.zi.next())},errorpanel(t){this.create({paneltype:"error",dragit:!1,resizeit:!1,theme:{bgPanel:"white",bgContent:"white",colorHeader:"rebeccapurple",colorContent:"#333333",border:"2px solid rebeccapurple"},borderRadius:".33rem",headerControls:"closeonly xs",headerTitle:"&#9888; jsPanel Error",contentSize:{width:"50%",height:"auto"},position:"center-top 0 5 down",animateIn:"jsPanelFadeIn",content:'<div class="jsPanel-error-content-separator"></div><p>'.concat(t,"</p>")})},create(t={},e){Ue.zi||(Ue.zi=((T=Ue.ziBase)=>{let R=T;return{next:()=>R++}})()),t.config?delete(t=Object.assign({},this.defaults,t.config,t)).config:t=Object.assign({},this.defaults,t),t.id?typeof t.id=="function"&&(t.id=t.id()):t.id="jsPanel-".concat(Ue.idCounter+=1);const i=document.getElementById(t.id);if(i!==null){if(i.classList.contains("jsPanel")&&i.front(),this.errorReporting){let T="&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>An element with the ID <mark>".concat(t.id,"</mark> already exists in the document.");Ue.errorpanel(T)}return!1}let s=this.pOcontainer(t.container);if(typeof s=="object"&&s.length&&s.length>0&&(s=s[0]),!s)return this.errorReporting&&Ue.errorpanel("&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>The container to append the panel to does not exist"),!1;["onbeforeclose","onbeforemaximize","onbeforeminimize","onbeforenormalize","onbeforesmallify","onbeforeunsmallify","onclosed","onfronted","onmaximized","onminimized","onnormalized","onsmallified","onstatuschange","onunsmallified"].forEach(T=>{t[T]?typeof t[T]=="function"&&(t[T]=[t[T]]):t[T]=[]});const n=t.template||this.createPanelTemplate();n.options=t,n.closetimer=void 0,n.status="initialized",n.currentData={},n.header=n.querySelector(".jsPanel-hdr"),n.headerbar=n.header.querySelector(".jsPanel-headerbar"),n.titlebar=n.header.querySelector(".jsPanel-titlebar"),n.headerlogo=n.headerbar.querySelector(".jsPanel-headerlogo"),n.headertitle=n.headerbar.querySelector(".jsPanel-title"),n.controlbar=n.headerbar.querySelector(".jsPanel-controlbar"),n.headertoolbar=n.header.querySelector(".jsPanel-hdr-toolbar"),n.content=n.querySelector(".jsPanel-content"),n.footer=n.querySelector(".jsPanel-ftr"),n.snappableTo=!1,n.snapped=!1,n.droppableTo=!1,n.progressbar=n.autocloseProgressbar=n.querySelector(".jsPanel-progressbar");const r=new CustomEvent("jspanelloaded",{detail:t.id,cancelable:!0}),o=new CustomEvent("jspanelstatuschange",{detail:t.id,cancelable:!0}),a=new CustomEvent("jspanelbeforenormalize",{detail:t.id,cancelable:!0}),l=new CustomEvent("jspanelnormalized",{detail:t.id,cancelable:!0}),u=new CustomEvent("jspanelbeforemaximize",{detail:t.id,cancelable:!0}),c=new CustomEvent("jspanelmaximized",{detail:t.id,cancelable:!0}),h=new CustomEvent("jspanelbeforeminimize",{detail:t.id,cancelable:!0}),A=new CustomEvent("jspanelminimized",{detail:t.id,cancelable:!0}),f=new CustomEvent("jspanelbeforesmallify",{detail:t.id,cancelable:!0}),m=new CustomEvent("jspanelsmallified",{detail:t.id,cancelable:!0}),p=new CustomEvent("jspanelsmallifiedmax",{detail:t.id,cancelable:!0}),x=new CustomEvent("jspanelbeforeunsmallify",{detail:t.id,cancelable:!0}),C=new CustomEvent("jspanelfronted",{detail:t.id,cancelable:!0}),g=new CustomEvent("jspanelbeforeclose",{detail:t.id,cancelable:!0}),w=new CustomEvent("jspanelclosed",{detail:t.id,cancelable:!0}),S=new CustomEvent("jspanelcloseduser",{detail:t.id,cancelable:!0});[r,o,a,l,u,c,h,A,f,m,p,x,C,g].forEach(T=>T.panel=n);const I=n.querySelector(".jsPanel-btn-close"),O=n.querySelector(".jsPanel-btn-maximize"),U=n.querySelector(".jsPanel-btn-normalize"),$=n.querySelector(".jsPanel-btn-smallify"),k=n.querySelector(".jsPanel-btn-minimize");I&&Ue.pointerup.forEach(T=>{I.addEventListener(T,R=>{if(R.preventDefault(),R.button&&R.button>0)return!1;n.close(null,!0)})}),O&&Ue.pointerup.forEach(T=>{O.addEventListener(T,R=>{if(R.preventDefault(),R.button&&R.button>0)return!1;n.maximize()})}),U&&Ue.pointerup.forEach(T=>{U.addEventListener(T,R=>{if(R.preventDefault(),R.button&&R.button>0)return!1;n.normalize()})}),$&&Ue.pointerup.forEach(T=>{$.addEventListener(T,R=>{if(R.preventDefault(),R.button&&R.button>0)return!1;n.status==="normalized"||n.status==="maximized"?n.smallify():n.status!=="smallified"&&n.status!=="smallifiedmax"||n.unsmallify()})}),k&&Ue.pointerup.forEach(T=>{k.addEventListener(T,R=>{if(R.preventDefault(),R.button&&R.button>0)return!1;n.minimize()})});let P=Ue.extensions;for(let T in P)Object.prototype.hasOwnProperty.call(P,T)&&(n[T]=P[T]);if(n.setBorder=T=>{let R=Ue.pOborder(T);return R[2].length||(R[2]=n.style.backgroundColor),R=R.join(" "),n.style.border=R,n.options.border=R,n},n.setBorderRadius=T=>{typeof T=="string"&&(T.startsWith("--")||T.startsWith("var"))&&(T=T.replace(/\s*\(\s*/g,"(").replace(/\s*\)/g,")").replace(/\s+/g," "),T=Ue.getCssVariableValue(T)),typeof T=="number"&&(T+="px"),n.style.borderRadius=T;const R=getComputedStyle(n);return n.options.header?(n.header.style.borderTopLeftRadius=R.borderTopLeftRadius,n.header.style.borderTopRightRadius=R.borderTopRightRadius):(n.content.style.borderTopLeftRadius=R.borderTopLeftRadius,n.content.style.borderTopRightRadius=R.borderTopRightRadius),n.options.footerToolbar?(n.footer.style.borderBottomRightRadius=R.borderBottomRightRadius,n.footer.style.borderBottomLeftRadius=R.borderBottomLeftRadius):(n.content.style.borderBottomRightRadius=R.borderBottomRightRadius,n.content.style.borderBottomLeftRadius=R.borderBottomLeftRadius),n},n.setTheme=(T=t.theme,R)=>{let E;if(n.status==="minimized"&&(E=!0,n.normalize()),Ue.clearTheme(n),typeof T=="object")t.border=void 0,Ue.applyCustomTheme(n,T);else if(typeof T=="string"){T==="none"&&(T="white");let _=Ue.getThemeDetails(T);Ue.applyColorTheme(n,_)}return E&&n.minimize(),R&&R.call(n,n),n},n.remove=(T,R,E)=>{n.parentElement.removeChild(n),document.getElementById(T)?E&&E.call(n,T,n):(n.removeMinimizedReplacement(),n.status="closed",R&&document.dispatchEvent(S),document.dispatchEvent(w),n.options.onclosed&&Ue.processCallbacks(n,n.options.onclosed,"every",R),Ue.autopositionRemaining(n),E&&E.call(T,T)),window.removeEventListener("resize",n.windowResizeHandler),document.removeEventListener("jspanelresize",n.parentResizeHandler)},n.close=(T,R)=>{if(n.parentElement){if(n.closetimer&&window.clearInterval(n.closetimer),document.dispatchEvent(g),n.statusBefore=n.status,n.options.onbeforeclose&&n.options.onbeforeclose.length>0&&!Ue.processCallbacks(n,n.options.onbeforeclose,"some",n.status,R))return n;n.options.animateOut?(n.options.animateIn&&Ue.remClass(n,n.options.animateIn),Ue.setClass(n,n.options.animateOut),n.addEventListener("animationend",E=>{E.stopPropagation(),n.remove(n.id,R,T)})):n.remove(n.id,R,T)}},n.maximize=(T,R)=>{if(n.statusBefore=n.status,t.onbeforemaximize&&t.onbeforemaximize.length>0&&!Ue.processCallbacks(n,t.onbeforemaximize,"some",n.statusBefore))return n;document.dispatchEvent(u);const E=n.parentElement,_=Ue.pOcontainment(t.maximizedMargin);return E===document.body?(n.style.width=document.documentElement.clientWidth-_[1]-_[3]+"px",n.style.height=document.documentElement.clientHeight-_[0]-_[2]+"px",n.style.left=_[3]+"px",n.style.top=_[0]+"px"):(n.style.width=E.clientWidth-_[1]-_[3]+"px",n.style.height=E.clientHeight-_[0]-_[2]+"px",n.style.left=_[3]+"px",n.style.top=_[0]+"px"),$.style.transform="unset",n.removeMinimizedReplacement(),n.status="maximized",n.setControls([".jsPanel-btn-maximize"]),R||n.front(),document.dispatchEvent(c),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every",n.statusBefore),T&&T.call(n,n,n.statusBefore),t.onmaximized&&Ue.processCallbacks(n,t.onmaximized,"every",n.statusBefore),n},n.minimize=T=>{if(n.status==="minimized"||(n.statusBefore=n.status,t.onbeforeminimize&&t.onbeforeminimize.length>0&&!Ue.processCallbacks(n,t.onbeforeminimize,"some",n.statusBefore)))return n;if(document.dispatchEvent(h),!document.getElementById("jsPanel-replacement-container")){const R=document.createElement("div");R.id="jsPanel-replacement-container",document.body.append(R)}if(n.style.left="-9999px",n.status="minimized",document.dispatchEvent(A),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every",n.statusBefore),t.minimizeTo){let R,E,_,F=n.createMinimizedReplacement();switch(t.minimizeTo){case"default":document.getElementById("jsPanel-replacement-container").append(F);break;case"parentpanel":(R=(_=(E=n.closest(".jsPanel-content").parentElement).querySelectorAll(".jsPanel-minimized-box"))[_.length-1]).append(F);break;case"parent":(R=(E=n.parentElement).querySelector(".jsPanel-minimized-container"))||((R=document.createElement("div")).className="jsPanel-minimized-container",E.append(R)),R.append(F);break;default:document.querySelector(t.minimizeTo).append(F)}}return T&&T.call(n,n,n.statusBefore),t.onminimized&&Ue.processCallbacks(n,t.onminimized,"every",n.statusBefore),n},n.normalize=T=>n.status==="normalized"?n:(n.statusBefore=n.status,t.onbeforenormalize&&t.onbeforenormalize.length>0&&!Ue.processCallbacks(n,t.onbeforenormalize,"some",n.statusBefore)||(document.dispatchEvent(a),n.style.width=n.currentData.width,n.style.height=n.currentData.height,n.snapped?n.snap(n.snapped,!0):(n.style.left=n.currentData.left,n.style.top=n.currentData.top),$.style.transform="unset",n.removeMinimizedReplacement(),n.status="normalized",n.setControls([".jsPanel-btn-normalize"]),n.front(),document.dispatchEvent(l),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every",n.statusBefore),T&&T.call(n,n,n.statusBefore),t.onnormalized&&Ue.processCallbacks(n,t.onnormalized,"every",n.statusBefore)),n),n.smallify=T=>{if(n.status==="smallified"||n.status==="smallifiedmax"||(n.statusBefore=n.status,t.onbeforesmallify&&t.onbeforesmallify.length>0&&!Ue.processCallbacks(n,t.onbeforesmallify,"some",n.statusBefore)))return n;document.dispatchEvent(f),n.style.overflow="hidden";const R=window.getComputedStyle(n),E=parseFloat(window.getComputedStyle(n.headerbar).height);n.style.height=parseFloat(R.borderTopWidth)+parseFloat(R.borderBottomWidth)+E+"px",$.style.transform="rotate(180deg)",n.status==="normalized"?(n.setControls([".jsPanel-btn-normalize"]),n.status="smallified",document.dispatchEvent(m),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every",n.statusBefore)):n.status==="maximized"&&(n.setControls([".jsPanel-btn-maximize"]),n.status="smallifiedmax",document.dispatchEvent(p),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every",n.statusBefore));const _=n.querySelectorAll(".jsPanel-minimized-box");return _[_.length-1].style.display="none",T&&T.call(n,n,n.statusBefore),t.onsmallified&&Ue.processCallbacks(n,t.onsmallified,"every",n.statusBefore),n},n.unsmallify=T=>{if(n.statusBefore=n.status,n.status==="smallified"||n.status==="smallifiedmax"){if(t.onbeforeunsmallify&&t.onbeforeunsmallify.length>0&&!Ue.processCallbacks(n,t.onbeforeunsmallify,"some",n.statusBefore))return n;document.dispatchEvent(x),n.style.overflow="visible",n.front(),n.status==="smallified"?(n.style.height=n.currentData.height,n.setControls([".jsPanel-btn-normalize"]),n.status="normalized",document.dispatchEvent(l),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every",n.statusBefore)):n.status==="smallifiedmax"?n.maximize():n.status==="minimized"&&n.normalize(),$.style.transform="rotate(0deg)";const R=n.querySelectorAll(".jsPanel-minimized-box");R[R.length-1].style.display="flex",T&&T.call(n,n,n.statusBefore),t.onunsmallified&&Ue.processCallbacks(n,t.onunsmallified,"every",n.statusBefore)}return n},n.front=(T,R=!0)=>{if(n.status==="minimized")n.statusBefore==="maximized"?n.maximize():n.normalize();else{const E=Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).map(_=>_.style.zIndex);Math.max(...E)>n.style.zIndex&&(n.style.zIndex=Ue.zi.next()),Ue.resetZi()}return document.dispatchEvent(C),T&&T.call(n,n),t.onfronted&&R&&Ue.processCallbacks(n,t.onfronted,"every",n.status),n},n.snap=(T,R=!1)=>{if(R||(n.currentData.beforeSnap={width:n.currentData.width,height:n.currentData.height}),T&&typeof T=="function"&&!R)T.call(n,n,n.snappableTo);else if(T!==!1){let E=[0,0];if(n.options.dragit.snap.containment&&n.options.dragit.containment){const _=Ue.pOcontainment(n.options.dragit.containment),F=n.snappableTo;F.startsWith("left")?E[0]=_[3]:F.startsWith("right")&&(E[0]=-_[1]),F.endsWith("top")?E[1]=_[0]:F.endsWith("bottom")&&(E[1]=-_[2])}n.reposition("".concat(n.snappableTo," ").concat(E[0]," ").concat(E[1]))}R||(n.snapped=n.snappableTo)},n.move=(T,R)=>{let E=n.overlaps(T,"paddingbox"),_=n.parentElement;return T.appendChild(n),n.options.container=T,n.style.left=E.left+"px",n.style.top=E.top+"px",n.saveCurrentDimensions(),n.saveCurrentPosition(),n.calcSizeFactors(),R&&R.call(n,n,T,_),n},n.closeChildpanels=T=>(n.getChildpanels().forEach(R=>R.close()),T&&T.call(n,n),n),n.getChildpanels=T=>{const R=n.content.querySelectorAll(".jsPanel");return T&&R.forEach((E,_,F)=>{T.call(E,E,_,F)}),R},n.isChildpanel=T=>{const R=n.closest(".jsPanel-content"),E=R?R.parentElement:null;return T&&T.call(n,n,E),!!R&&E},n.contentRemove=T=>(Ue.emptyNode(n.content),T&&T.call(n,n),n),n.createMinimizedReplacement=()=>{const T=Ue.createMinimizedTemplate(),R=window.getComputedStyle(n.headertitle).color,E=window.getComputedStyle(n),_=t.iconfont,F=T.querySelector(".jsPanel-controlbar");return n.options.header!=="auto-show-hide"?Ue.setStyles(T,{backgroundColor:E.backgroundColor,backgroundPositionX:E.backgroundPositionX,backgroundPositionY:E.backgroundPositionY,backgroundRepeat:E.backgroundRepeat,backgroundAttachment:E.backgroundAttachment,backgroundImage:E.backgroundImage,backgroundSize:E.backgroundSize,backgroundOrigin:E.backgroundOrigin,backgroundClip:E.backgroundClip}):T.style.backgroundColor=window.getComputedStyle(n.header).backgroundColor,T.id=n.id+"-min",T.querySelector(".jsPanel-headerbar").replaceChild(n.headerlogo.cloneNode(!0),T.querySelector(".jsPanel-headerlogo")),T.querySelector(".jsPanel-titlebar").replaceChild(n.headertitle.cloneNode(!0),T.querySelector(".jsPanel-title")),T.querySelector(".jsPanel-titlebar").setAttribute("title",n.headertitle.textContent),T.querySelector(".jsPanel-title").style.color=R,F.style.color=R,F.querySelectorAll("button").forEach(V=>V.style.color=R),["jsPanel-hdr-dark","jsPanel-hdr-light"].forEach(V=>{n.header.classList.contains(V)&&T.querySelector(".jsPanel-hdr").classList.add(V)}),n.setIconfont(_,T),n.dataset.btnnormalize==="enabled"?Ue.pointerup.forEach(V=>{T.querySelector(".jsPanel-btn-normalize").addEventListener(V,Q=>{if(Q.preventDefault(),Q.button&&Q.button>0)return!1;n.normalize()})}):F.querySelector(".jsPanel-btn-normalize").style.display="none",n.dataset.btnmaximize==="enabled"?Ue.pointerup.forEach(V=>{T.querySelector(".jsPanel-btn-maximize").addEventListener(V,Q=>{if(Q.preventDefault(),Q.button&&Q.button>0)return!1;n.maximize()})}):F.querySelector(".jsPanel-btn-maximize").style.display="none",n.dataset.btnclose==="enabled"?Ue.pointerup.forEach(V=>{T.querySelector(".jsPanel-btn-close").addEventListener(V,Q=>{if(Q.preventDefault(),Q.button&&Q.button>0)return!1;n.close(null,!0)})}):F.querySelector(".jsPanel-btn-close").style.display="none",T},n.removeMinimizedReplacement=()=>{const T=document.getElementById("".concat(n.id,"-min"));T&&T.parentElement.removeChild(T)},n.drag=(T={})=>{let R,E,_;const F=new CustomEvent("jspaneldragstart",{detail:n.id}),V=new CustomEvent("jspaneldrag",{detail:n.id}),Q=new CustomEvent("jspaneldragstop",{detail:n.id});[F,V,Q].forEach(ce=>ce.panel=n);const G=ce=>{let we=ce.split("-");return we.forEach((Ce,Oe)=>{we[Oe]=Ce.charAt(0).toUpperCase()+Ce.slice(1)}),"snap"+we.join("")};function Y(ce){ce.relatedTarget===null&&Ue.pointermove.forEach(we=>{document.removeEventListener(we,E,!1),n.style.opacity=1})}let ee=T.handles||Ue.defaults.dragit.handles,W=T.cursor||Ue.defaults.dragit.cursor;function ge(ce){if(Ue.pointermove.forEach(we=>document.removeEventListener(we,E)),Ue.removeSnapAreas(),R){if(n.style.opacity=1,R=void 0,_.snap){switch(n.snappableTo){case"left-top":n.snap(_.snap.snapLeftTop);break;case"center-top":n.snap(_.snap.snapCenterTop);break;case"right-top":n.snap(_.snap.snapRightTop);break;case"right-center":n.snap(_.snap.snapRightCenter);break;case"right-bottom":n.snap(_.snap.snapRightBottom);break;case"center-bottom":n.snap(_.snap.snapCenterBottom);break;case"left-bottom":n.snap(_.snap.snapLeftBottom);break;case"left-center":n.snap(_.snap.snapLeftCenter)}_.snap.callback&&n.snappableTo&&typeof _.snap.callback=="function"&&(_.snap.callback.call(n,n),_.snap.repositionOnSnap&&_.snap[G(n.snappableTo)]!==!1&&n.repositionOnSnap(n.snappableTo)),n.snappableTo&&_.snap.repositionOnSnap&&_.snap[G(n.snappableTo)]&&n.repositionOnSnap(n.snappableTo)}if(n.droppableTo&&n.droppableTo){let we=n.parentElement;n.move(n.droppableTo),_.drop.callback&&_.drop.callback.call(n,n,n.droppableTo,we)}if(document.dispatchEvent(Q),_.stop.length){let we=window.getComputedStyle(n),Ce={left:parseFloat(we.left),top:parseFloat(we.top),width:parseFloat(we.width),height:parseFloat(we.height)};Ue.processCallbacks(n,_.stop,!1,Ce,ce)}n.saveCurrentPosition(),n.calcSizeFactors()}n.controlbar.style.pointerEvents="inherit",n.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(we=>we.style.pointerEvents="auto"),document.removeEventListener(ce,ge)}return n.querySelectorAll(ee).forEach(ce=>{ce.style.touchAction="none",ce.style.cursor=W,Ue.pointerdown.forEach(we=>{ce.addEventListener(we,Ce=>{if(Ce.button&&Ce.button>0||(_=Object.assign({},Ue.defaults.dragit,T)).disableOnMaximized&&n.status==="maximized")return!1;if((_.containment||_.containment===0)&&(_.containment=Ue.pOcontainment(_.containment)),_.grid&&Array.isArray(_.grid)&&_.grid.length===1&&(_.grid[1]=_.grid[0]),_.snap&&(typeof _.snap=="object"?_.snap=Object.assign({},Ue.defaultSnapConfig,_.snap):_.snap=Ue.defaultSnapConfig),Ce.target.closest(".jsPanel-ftr-btn"))return;n.controlbar.style.pointerEvents="none",n.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(le=>le.style.pointerEvents="none");let Oe=window.getComputedStyle(n),de=parseFloat(Oe.left),Te=parseFloat(Oe.top),xe=parseFloat(Oe.width),He=parseFloat(Oe.height),$e=Ce.touches?Ce.touches[0].clientX:Ce.clientX,oe=Ce.touches?Ce.touches[0].clientY:Ce.clientY,Ae=n.parentElement,De=Ae.getBoundingClientRect(),Ie=window.getComputedStyle(Ae),Re=n.getScaleFactor(),X=0,ae=Ue.getScrollbarWidth(Ae);E=le=>{if(le.preventDefault(),!R){if(document.dispatchEvent(F),n.style.opacity=_.opacity,n.snapped&&_.snap.resizeToPreSnap&&n.currentData.beforeSnap){n.resize(n.currentData.beforeSnap.width+" "+n.currentData.beforeSnap.height),n.setControls([".jsPanel-btn-normalize"]);let Be=n.getBoundingClientRect(),Xe=$e-(Be.left+Be.width),tt=Be.width/2;Xe>-tt&&(X=Xe+tt)}if(n.front(),n.snapped=!1,n.status==="maximized"&&(n.setControls([".jsPanel-btn-normalize"]),n.status="normalized"),_.drop&&_.drop.dropZones){let Be=_.drop.dropZones.map(tt=>Ue.pOcontainer(tt)),Xe=[];Be.forEach(function(tt){tt.length?tt.forEach(function(_t){Xe.push(_t)}):Xe.push(tt)}),Xe=Xe.filter(function(tt,_t,si){return si.indexOf(tt)===_t}),_.drop.dropZones=Xe}_.start.length&&Ue.processCallbacks(n,_.start,!1,{left:de,top:Te,width:xe,height:He},le)}let ye,ke,Qe,Ve,_e,Pe,Ye,lt,ut,Dt;R=1;let At,Rt=le.touches?le.touches[0].clientX:le.clientX,pt=le.touches?le.touches[0].clientY:le.clientY,yt=window.getComputedStyle(n);if(Ae===document.body){let Be=n.getBoundingClientRect();ut=window.innerWidth-parseInt(Ie.borderLeftWidth,10)-parseInt(Ie.borderRightWidth,10)-(Be.left+Be.width),Dt=window.innerHeight-parseInt(Ie.borderTopWidth,10)-parseInt(Ie.borderBottomWidth,10)-(Be.top+Be.height)}else ut=parseInt(Ie.width,10)-parseInt(Ie.borderLeftWidth,10)-parseInt(Ie.borderRightWidth,10)-(parseInt(yt.left,10)+parseInt(yt.width,10)),Dt=parseInt(Ie.height,10)-parseInt(Ie.borderTopWidth,10)-parseInt(Ie.borderBottomWidth,10)-(parseInt(yt.top,10)+parseInt(yt.height,10));ye=parseFloat(yt.left),Qe=parseFloat(yt.top),_e=ut,Ye=Dt,_.snap&&(_.snap.trigger==="panel"?(ke=ye**2,Ve=Qe**2,Pe=_e**2,lt=Ye**2):_.snap.trigger==="pointer"&&(n.options.container==="window"?(ye=Rt,ke=Rt**2,Ve=(Qe=pt)**2,Pe=(_e=window.innerWidth-Rt)**2,lt=(Ye=window.innerHeight-pt)**2):(ye=(At=n.overlaps(Ae,"paddingbox",le)).pointer.left,Qe=At.pointer.top,_e=At.pointer.right,Ye=At.pointer.bottom,ke=At.pointer.left**2,Ve=At.pointer.top**2,Pe=At.pointer.right**2,lt=At.pointer.bottom**2)));let jt=Math.sqrt(ke+Ve),Tt=Math.sqrt(ke+lt),ni=Math.sqrt(Pe+Ve),Pi=Math.sqrt(Pe+lt),hn=Math.abs(ye-_e)/2,rn=Math.abs(Qe-Ye)/2,xn=Math.sqrt(ke+rn**2),ie=Math.sqrt(Ve+hn**2),se=Math.sqrt(Pe+rn**2),Ee=Math.sqrt(lt+hn**2);if(window.getSelection().removeAllRanges(),document.dispatchEvent(V),_.axis&&_.axis!=="x"||(n.style.left=de+(Rt-$e)/Re.x+X+"px"),_.axis&&_.axis!=="y"||(n.style.top=Te+(pt-oe)/Re.y+"px"),_.grid){let Be=_.grid,Xe=_.axis,tt=Be[0]*Math.round((de+(Rt-$e))/Be[0]),_t=Be[1]*Math.round((Te+(pt-oe))/Be[1]);Xe&&Xe!=="x"||(n.style.left="".concat(tt,"px")),Xe&&Xe!=="y"||(n.style.top="".concat(_t,"px"))}if(_.containment||_.containment===0){let Be,Xe,tt=_.containment;if(n.options.container==="window")Be=window.innerWidth-parseFloat(yt.width)-tt[1]-ae.y,Xe=window.innerHeight-parseFloat(yt.height)-tt[2]-ae.x;else{let _t=parseFloat(Ie.borderLeftWidth)+parseFloat(Ie.borderRightWidth),si=parseFloat(Ie.borderTopWidth)+parseFloat(Ie.borderBottomWidth);Be=De.width/Re.x-parseFloat(yt.width)-tt[1]-_t-ae.y,Xe=De.height/Re.y-parseFloat(yt.height)-tt[2]-si-ae.x}parseFloat(n.style.left)<=tt[3]&&(n.style.left=tt[3]+"px"),parseFloat(n.style.top)<=tt[0]&&(n.style.top=tt[0]+"px"),parseFloat(n.style.left)>=Be&&(n.style.left=Be+"px"),parseFloat(n.style.top)>=Xe&&(n.style.top=Xe+"px")}if(_.drag.length){let Be={left:ye,top:Qe,right:_e,bottom:Ye,width:parseFloat(yt.width),height:parseFloat(yt.height)};Ue.processCallbacks(n,_.drag,!1,Be,le)}if(_.snap){let Be=_.snap.sensitivity,Xe=Ae===document.body?window.innerWidth/8:De.width/8,tt=Ae===document.body?window.innerHeight/8:De.height/8;n.snappableTo=!1,Ue.removeSnapAreas(),jt<Be?_.snap.snapLeftTop!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.left>0&&At.pointer.top>0?(n.snappableTo="left-top",Ue.createSnapArea(n,"lt",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="left-top",Ue.createSnapArea(n,"lt",Be))):Tt<Be?_.snap.snapLeftBottom!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.left>0&&At.pointer.bottom>0?(n.snappableTo="left-bottom",Ue.createSnapArea(n,"lb",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="left-bottom",Ue.createSnapArea(n,"lb",Be))):ni<Be?_.snap.snapRightTop!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.right>0&&At.pointer.top>0?(n.snappableTo="right-top",Ue.createSnapArea(n,"rt",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="right-top",Ue.createSnapArea(n,"rt",Be))):Pi<Be?_.snap.snapRightBottom!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.right>0&&At.pointer.bottom>0?(n.snappableTo="right-bottom",Ue.createSnapArea(n,"rb",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="right-bottom",Ue.createSnapArea(n,"rb",Be))):Qe<Be&&ie<Xe?_.snap.snapCenterTop!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.top>0?(n.snappableTo="center-top",Ue.createSnapArea(n,"ct",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="center-top",Ue.createSnapArea(n,"ct",Be))):ye<Be&&xn<tt?_.snap.snapLeftCenter!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.left>0?(n.snappableTo="left-center",Ue.createSnapArea(n,"lc",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="left-center",Ue.createSnapArea(n,"lc",Be))):_e<Be&&se<tt?_.snap.snapRightCenter!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.right>0?(n.snappableTo="right-center",Ue.createSnapArea(n,"rc",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="right-center",Ue.createSnapArea(n,"rc",Be))):Ye<Be&&Ee<Xe&&_.snap.snapCenterBottom!==!1&&(_.snap.active&&_.snap.active!=="both"?_.snap.trigger==="pointer"&&_.snap.active&&_.snap.active==="inside"&&(At.pointer.bottom>0?(n.snappableTo="center-bottom",Ue.createSnapArea(n,"cb",Be)):(n.snappableTo=!1,Ue.removeSnapAreas())):(n.snappableTo="center-bottom",Ue.createSnapArea(n,"cb",Be)))}if(_.drop&&_.drop.dropZones){let Be=Ue.isIE?"msElementsFromPoint":"elementsFromPoint",Xe=document[Be](le.clientX,le.clientY);Array.isArray(Xe)||(Xe=Array.prototype.slice.call(Xe)),_.drop.dropZones.forEach(tt=>{Xe.includes(tt)&&(n.droppableTo=tt)}),Xe.includes(n.droppableTo)||(n.droppableTo=!1)}},Ue.pointermove.forEach(le=>document.addEventListener(le,E)),window.addEventListener("mouseout",Y,!1)})}),Ue.pointerup.forEach(we=>{document.addEventListener(we,ge),window.removeEventListener("mouseout",Y)}),T.disable&&(ce.style.pointerEvents="none")}),n},n.dragit=T=>{const R=Object.assign({},Ue.defaults.dragit,t.dragit),E=n.querySelectorAll(R.handles);return T==="disable"?E.forEach(_=>_.style.pointerEvents="none"):E.forEach(_=>_.style.pointerEvents="auto"),n},n.sizeit=(T={})=>{const R=new CustomEvent("jspanelresizestart",{detail:n.id}),E=new CustomEvent("jspanelresize",{detail:n.id}),_=new CustomEvent("jspanelresizestop",{detail:n.id});[R,E,_].forEach(Ce=>Ce.panel=n);let F,V,Q,G,Y,ee,W={};W.handles=T.handles||Ue.defaults.resizeit.handles,W.handles.split(",").forEach(Ce=>{const Oe=document.createElement("DIV");Oe.className="jsPanel-resizeit-handle jsPanel-resizeit-".concat(Ce.trim()),n.append(Oe)});let ge=!!T.aspectRatio&&T.aspectRatio;function ce(Ce){Ce.relatedTarget===null&&Ue.pointermove.forEach(Oe=>document.removeEventListener(Oe,F,!1))}function we(Ce){if(Ue.pointermove.forEach(Oe=>document.removeEventListener(Oe,F,!1)),Ce.target.classList&&Ce.target.classList.contains("jsPanel-resizeit-handle")){let Oe,de,Te=Ce.target.className;if(Te.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(Oe=!0),Te.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(de=!0),W.grid&&Array.isArray(W.grid)){W.grid.length===1&&(W.grid[1]=W.grid[0]);const xe=parseFloat(n.style.width),He=parseFloat(n.style.height),$e=xe%W.grid[0],oe=He%W.grid[1],Ae=parseFloat(n.style.left),De=parseFloat(n.style.top),Ie=Ae%W.grid[0],Re=De%W.grid[1];$e<W.grid[0]/2?n.style.width=xe-$e+"px":n.style.width=xe+(W.grid[0]-$e)+"px",oe<W.grid[1]/2?n.style.height=He-oe+"px":n.style.height=He+(W.grid[1]-oe)+"px",Oe&&(Ie<W.grid[0]/2?n.style.left=Ae-Ie+"px":n.style.left=Ae+(W.grid[0]-Ie)+"px"),de&&(Re<W.grid[1]/2?n.style.top=De-Re+"px":n.style.top=De+(W.grid[1]-Re)+"px")}}if(V){n.content.style.pointerEvents="inherit",V=void 0,n.saveCurrentDimensions(),n.saveCurrentPosition(),n.calcSizeFactors();let Oe=n.controlbar.querySelector(".jsPanel-btn-smallify"),de=n.getBoundingClientRect();if(Oe&&de.height>ee+5&&(Oe.style.transform="rotate(0deg)"),document.dispatchEvent(_),W.stop.length){let Te=window.getComputedStyle(n),xe={left:parseFloat(Te.left),top:parseFloat(Te.top),width:parseFloat(Te.width),height:parseFloat(Te.height)};Ue.processCallbacks(n,W.stop,!1,xe,Ce)}}n.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(Oe=>Oe.style.pointerEvents="auto"),W.aspectRatio=ge,document.removeEventListener(Ce,we)}return n.querySelectorAll(".jsPanel-resizeit-handle").forEach(Ce=>{Ce.style.touchAction="none",Ue.pointerdown.forEach(Oe=>{Ce.addEventListener(Oe,de=>{if(de.preventDefault(),de.stopPropagation(),de.button&&de.button>0)return!1;let Te=1;if(((W=Object.assign({},Ue.defaults.resizeit,T)).containment||W.containment===0)&&(W.containment=Ue.pOcontainment(W.containment)),W.aspectRatio&&W.aspectRatio===!0&&(W.aspectRatio="panel"),Ue.modifier){let tt=Ue.modifier;tt.altKey?W.aspectRatio="content":tt.ctrlKey?W.aspectRatio="panel":tt.shiftKey&&(W.aspectRatio=!1,Te=2)}let xe=typeof W.maxWidth=="function"?W.maxWidth():W.maxWidth||1e4,He=typeof W.maxHeight=="function"?W.maxHeight():W.maxHeight||1e4,$e=typeof W.minWidth=="function"?W.minWidth():W.minWidth,oe=typeof W.minHeight=="function"?W.minHeight():W.minHeight;n.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(tt=>tt.style.pointerEvents="none");const Ae=n.parentElement,De=Ae.tagName.toLowerCase(),Ie=n.getBoundingClientRect(),Re=Ae.getBoundingClientRect(),X=window.getComputedStyle(Ae,null),ae=parseInt(X.borderLeftWidth,10),le=parseInt(X.borderTopWidth,10),ye=X.getPropertyValue("position"),ke=de.clientX||de.clientX===0||de.touches[0].clientX,Qe=de.clientY||de.clientY===0||de.touches[0].clientY,Ve=ke/Qe,_e=de.target.classList,Pe=n.getScaleFactor(),Ye=Ie.width/Ie.height,lt=n.content.getBoundingClientRect(),ut=lt.width/lt.height,Dt=n.header.getBoundingClientRect().height,At=n.footer.getBoundingClientRect().height||0;let Rt=Ie.left,pt=Ie.top,yt=1e4,jt=1e4,Tt=1e4,ni=1e4;Y=Ie.width,ee=Ie.height,De!=="body"&&(Rt=Ie.left-Re.left+Ae.scrollLeft,pt=Ie.top-Re.top+Ae.scrollTop),De==="body"&&W.containment?(yt=document.documentElement.clientWidth-Ie.left,Tt=document.documentElement.clientHeight-Ie.top,jt=Ie.width+Ie.left,ni=Ie.height+Ie.top):W.containment&&(ye==="static"?(yt=Re.width-Ie.left+ae,Tt=Re.height+Re.top-Ie.top+le,jt=Ie.width+(Ie.left-Re.left)-ae,ni=Ie.height+(Ie.top-Re.top)-le):(yt=Ae.clientWidth-(Ie.left-Re.left)/Pe.x+ae,Tt=Ae.clientHeight-(Ie.top-Re.top)/Pe.y+le,jt=(Ie.width+Ie.left-Re.left)/Pe.x-ae,ni=n.clientHeight+(Ie.top-Re.top)/Pe.y-le)),W.containment&&(jt-=W.containment[3],ni-=W.containment[0],yt-=W.containment[1],Tt-=W.containment[2]);const Pi=window.getComputedStyle(n),hn=parseFloat(Pi.width)-Ie.width,rn=parseFloat(Pi.height)-Ie.height;let xn=parseFloat(Pi.left)-Ie.left,ie=parseFloat(Pi.top)-Ie.top;Ae!==document.body&&(xn+=Re.left,ie+=Re.top);let se=parseInt(Pi.borderTopWidth,10),Ee=parseInt(Pi.borderRightWidth,10),Be=parseInt(Pi.borderBottomWidth,10),Xe=parseInt(Pi.borderLeftWidth,10);F=tt=>{tt.preventDefault(),V||(document.dispatchEvent(R),W.start.length&&Ue.processCallbacks(n,W.start,!1,{width:Y,height:ee,left:Rt,top:pt},tt),n.front(),n.status==="maximized"&&(n.status="normalized",n.controlbar.querySelector(".jsPanel-btn-maximize")&&n.setControlStatus("maximize","show"),n.controlbar.querySelector(".jsPanel-btn-normalize")&&n.setControlStatus("normalize","hide")),Ie.height>ee+5&&(n.status="normalized",n.setControls([".jsPanel-btn-normalize"]))),V=1,document.dispatchEvent(E);let _t=tt.touches?tt.touches[0].clientX:tt.clientX,si=tt.touches?tt.touches[0].clientY:tt.clientY;_e.contains("jsPanel-resizeit-e")?((Q=Y+(_t-ke)*Te/Pe.x+hn)>=yt&&(Q=yt),Q>=xe&&(Q=xe),Q<=$e&&(Q=$e),n.style.width=Q+"px",Te===2&&(n.style.left=Rt-(_t-ke)+"px"),W.aspectRatio==="content"?(n.style.height=(Q-Ee-Xe)/ut+Dt+At+se+Be+"px",W.containment&&n.overlaps(Ae).bottom<=W.containment[2]&&(n.style.height=Tt+"px",n.style.width=Tt*ut+"px")):W.aspectRatio==="panel"&&(n.style.height=Q/Ye+"px",W.containment&&n.overlaps(Ae).bottom<=W.containment[2]&&(n.style.height=Tt+"px",n.style.width=Tt*Ye+"px"))):_e.contains("jsPanel-resizeit-s")?((G=ee+(si-Qe)*Te/Pe.y+rn)>=Tt&&(G=Tt),G>=He&&(G=He),G<=oe&&(G=oe),n.style.height=G+"px",Te===2&&(n.style.top=pt-(si-Qe)+"px"),W.aspectRatio==="content"?(n.style.width=(G-Dt-At-se-Be)*ut+se+Be+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/ut+"px")):W.aspectRatio==="panel"&&(n.style.width=G*Ye+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/Ye+"px"))):_e.contains("jsPanel-resizeit-w")?((Q=Y+(ke-_t)*Te/Pe.x+hn)<=xe&&Q>=$e&&Q<=jt&&(n.style.left=Rt+(_t-ke)/Pe.x+xn+"px"),Q>=jt&&(Q=jt),Q>=xe&&(Q=xe),Q<=$e&&(Q=$e),n.style.width=Q+"px",W.aspectRatio==="content"?(n.style.height=(Q-Ee-Xe)/ut+Dt+At+se+Be+"px",W.containment&&n.overlaps(Ae).bottom<=W.containment[2]&&(n.style.height=Tt+"px",n.style.width=Tt*ut+"px")):W.aspectRatio==="panel"&&(n.style.height=Q/Ye+"px",W.containment&&n.overlaps(Ae).bottom<=W.containment[2]&&(n.style.height=Tt+"px",n.style.width=Tt*Ye+"px"))):_e.contains("jsPanel-resizeit-n")?((G=ee+(Qe-si)*Te/Pe.y+rn)<=He&&G>=oe&&G<=ni&&(n.style.top=pt+(si-Qe)/Pe.y+ie+"px"),G>=ni&&(G=ni),G>=He&&(G=He),G<=oe&&(G=oe),n.style.height=G+"px",W.aspectRatio==="content"?(n.style.width=(G-Dt-At-se-Be)*ut+se+Be+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/ut+"px")):W.aspectRatio==="panel"&&(n.style.width=G*Ye+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/Ye+"px"))):_e.contains("jsPanel-resizeit-se")?((Q=Y+(_t-ke)*Te/Pe.x+hn)>=yt&&(Q=yt),Q>=xe&&(Q=xe),Q<=$e&&(Q=$e),n.style.width=Q+"px",Te===2&&(n.style.left=Rt-(_t-ke)+"px"),W.aspectRatio&&(n.style.height=Q/Ye+"px"),(G=ee+(si-Qe)*Te/Pe.y+rn)>=Tt&&(G=Tt),G>=He&&(G=He),G<=oe&&(G=oe),n.style.height=G+"px",Te===2&&(n.style.top=pt-(si-Qe)+"px"),W.aspectRatio==="content"?(n.style.width=(G-Dt-At-se-Be)*ut+se+Be+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/ut+"px")):W.aspectRatio==="panel"&&(n.style.width=G*Ye+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/Ye+"px"))):_e.contains("jsPanel-resizeit-sw")?((G=ee+(si-Qe)*Te/Pe.y+rn)>=Tt&&(G=Tt),G>=He&&(G=He),G<=oe&&(G=oe),n.style.height=G+"px",Te===2&&(n.style.top=pt-(si-Qe)+"px"),W.aspectRatio&&(n.style.width=G*Ye+"px"),(Q=Y+(ke-_t)*Te/Pe.x+hn)<=xe&&Q>=$e&&Q<=jt&&(n.style.left=Rt+(_t-ke)/Pe.x+xn+"px"),Q>=jt&&(Q=jt),Q>=xe&&(Q=xe),Q<=$e&&(Q=$e),n.style.width=Q+"px",W.aspectRatio==="content"?(n.style.height=(Q-Ee-Xe)/ut+Dt+At+se+Be+"px",W.containment&&n.overlaps(Ae).bottom<=W.containment[2]&&(n.style.height=Tt+"px",n.style.width=Tt*ut+"px")):W.aspectRatio==="panel"&&(n.style.height=Q/Ye+"px",W.containment&&n.overlaps(Ae).bottom<=W.containment[2]&&(n.style.height=Tt+"px",n.style.width=Tt*Ye+"px"))):_e.contains("jsPanel-resizeit-ne")?((Q=Y+(_t-ke)*Te/Pe.x+hn)>=yt&&(Q=yt),Q>=xe&&(Q=xe),Q<=$e&&(Q=$e),n.style.width=Q+"px",Te===2&&(n.style.left=Rt-(_t-ke)+"px"),W.aspectRatio&&(n.style.height=Q/Ye+"px"),(G=ee+(Qe-si)*Te/Pe.y+rn)<=He&&G>=oe&&G<=ni&&(n.style.top=pt+(si-Qe)/Pe.y+ie+"px"),G>=ni&&(G=ni),G>=He&&(G=He),G<=oe&&(G=oe),n.style.height=G+"px",W.aspectRatio==="content"?(n.style.width=(G-Dt-At-se-Be)*ut+se+Be+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/ut+"px")):W.aspectRatio==="panel"&&(n.style.width=G*Ye+"px",W.containment&&n.overlaps(Ae).right<=W.containment[1]&&(n.style.width=yt+"px",n.style.height=yt/Ye+"px"))):_e.contains("jsPanel-resizeit-nw")&&(W.aspectRatio&&_e.contains("jsPanel-resizeit-nw")&&(si=(_t=si*Ve)/Ve),(Q=Y+(ke-_t)*Te/Pe.x+hn)<=xe&&Q>=$e&&Q<=jt&&(n.style.left=Rt+(_t-ke)/Pe.x+xn+"px"),Q>=jt&&(Q=jt),Q>=xe&&(Q=xe),Q<=$e&&(Q=$e),n.style.width=Q+"px",W.aspectRatio&&(n.style.height=Q/Ye+"px"),(G=ee+(Qe-si)*Te/Pe.y+rn)<=He&&G>=oe&&G<=ni&&(n.style.top=pt+(si-Qe)/Pe.y+ie+"px"),G>=ni&&(G=ni),G>=He&&(G=He),G<=oe&&(G=oe),n.style.height=G+"px",W.aspectRatio==="content"?n.style.width=(G-Dt-At-se-Be)*ut+se+Be+"px":W.aspectRatio==="panel"&&(n.style.width=G*Ye+"px")),window.getSelection().removeAllRanges();const Wi=window.getComputedStyle(n),jn={left:parseFloat(Wi.left),top:parseFloat(Wi.top),right:parseFloat(Wi.right),bottom:parseFloat(Wi.bottom),width:parseFloat(Wi.width),height:parseFloat(Wi.height)};W.resize.length&&Ue.processCallbacks(n,W.resize,!1,jn,tt)},Ue.pointermove.forEach(tt=>document.addEventListener(tt,F,!1)),window.addEventListener("mouseout",ce,!1)})}),Ue.pointerup.forEach(function(Oe){document.addEventListener(Oe,we),window.removeEventListener("mouseout",ce)}),T.disable&&(Ce.style.pointerEvents="none")}),n},n.resizeit=T=>{const R=n.querySelectorAll(".jsPanel-resizeit-handle");return T==="disable"?R.forEach(E=>E.style.pointerEvents="none"):R.forEach(E=>E.style.pointerEvents="auto"),n},n.getScaleFactor=()=>{const T=n.getBoundingClientRect();return{x:T.width/n.offsetWidth,y:T.height/n.offsetHeight}},n.calcSizeFactors=()=>{const T=window.getComputedStyle(n);if(t.container==="window")n.hf=parseFloat(T.left)/(window.innerWidth-parseFloat(T.width)),n.vf=parseFloat(T.top)/(window.innerHeight-parseFloat(T.height));else if(n.parentElement){let R=n.parentElement.getBoundingClientRect();n.hf=parseFloat(T.left)/(R.width-parseFloat(T.width)),n.vf=parseFloat(T.top)/(R.height-parseFloat(T.height))}},n.saveCurrentDimensions=()=>{const T=window.getComputedStyle(n);n.currentData.width=T.width,n.currentData.height=T.height},n.saveCurrentPosition=()=>{const T=window.getComputedStyle(n);n.currentData.left=T.left,n.currentData.top=T.top},n.reposition=(...T)=>{let R,E=t.position,_=!0;return T.forEach(F=>{typeof F=="string"||typeof F=="object"?E=F:typeof F=="boolean"?_=F:typeof F=="function"&&(R=F)}),Ue.position(n,E),n.slaves&&n.slaves.size>0&&n.slaves.forEach(F=>F.reposition()),_&&n.saveCurrentPosition(),R&&R.call(n,n),n},n.repositionOnSnap=T=>{let R="0",E="0",_=Ue.pOcontainment(t.dragit.containment);if(t.dragit.snap.containment)switch(T){case"left-top":R=_[3],E=_[0];break;case"right-top":R=-_[1],E=_[0];break;case"right-bottom":R=-_[1],E=-_[2];break;case"left-bottom":R=_[3],E=-_[2];break;case"center-top":R=_[3]/2-_[1]/2,E=_[0];break;case"center-bottom":R=_[3]/2-_[1]/2,E=-_[2];break;case"left-center":R=_[3],E=_[0]/2-_[2]/2;break;case"right-center":R=-_[1],E=_[0]/2-_[2]/2}Ue.position(n,T),Ue.setStyles(n,{left:"calc(".concat(n.style.left," + ").concat(R,"px)"),top:"calc(".concat(n.style.top," + ").concat(E,"px)")})},n.overlaps=(T,R,E)=>{let _,F=n.getBoundingClientRect(),V=getComputedStyle(n.parentElement),Q=n.getScaleFactor(),G={top:0,right:0,bottom:0,left:0},Y=0,ee=0,W=0,ge=0;n.options.container!=="window"&&R==="paddingbox"&&(G.top=parseInt(V.borderTopWidth,10)*Q.y,G.right=parseInt(V.borderRightWidth,10)*Q.x,G.bottom=parseInt(V.borderBottomWidth,10)*Q.y,G.left=parseInt(V.borderLeftWidth,10)*Q.x),_=typeof T=="string"?T==="window"?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:T==="parent"?n.parentElement.getBoundingClientRect():document.querySelector(T).getBoundingClientRect():T.getBoundingClientRect(),E&&(Y=E.touches?E.touches[0].clientX:E.clientX,ee=E.touches?E.touches[0].clientY:E.clientY,W=Y-_.left,ge=ee-_.top);let ce=F.left<_.right&&F.right>_.left,we=F.top<_.bottom&&F.bottom>_.top;return{overlaps:ce&&we,top:F.top-_.top-G.top,right:_.right-F.right-G.right,bottom:_.bottom-F.bottom-G.bottom,left:F.left-_.left-G.left,parentBorderWidth:G,panelRect:F,referenceRect:_,pointer:{clientX:Y,clientY:ee,left:W-G.left,top:ge-G.top,right:_.width-W-G.right,bottom:_.height-ge-G.bottom}}},n.setSize=()=>{if(t.panelSize){const T=Ue.pOsize(n,t.panelSize);n.style.width=T.width,n.style.height=T.height}else if(t.contentSize){const T=Ue.pOsize(n,t.contentSize);n.content.style.width=T.width,n.content.style.height=T.height,n.style.width=T.width,n.content.style.width="100%"}return n},n.resize=(...T)=>{let R,E=window.getComputedStyle(n),_={width:E.width,height:E.height},F=!0;T.forEach(G=>{typeof G=="string"?_=G:typeof G=="object"?_=Object.assign(_,G):typeof G=="boolean"?F=G:typeof G=="function"&&(R=G)});let V=Ue.pOsize(n,_);n.style.width=V.width,n.style.height=V.height,n.slaves&&n.slaves.size>0&&n.slaves.forEach(G=>G.reposition()),F&&n.saveCurrentDimensions(),n.status="normalized";let Q=n.controlbar.querySelector(".jsPanel-btn-smallify");return Q&&(Q.style.transform="rotate(0deg)"),R&&R.call(n,n),n.calcSizeFactors(),n},n.windowResizeHandler=T=>{if(T.target===window){let R,E,_=n.status,F=t.onwindowresize;if(_==="maximized"&&F)n.maximize(!1,!0);else if(n.snapped&&_!=="minimized")n.snap(n.snapped,!0);else if(_==="normalized"||_==="smallified"||_==="maximized"){let V=typeof F;V==="boolean"?(R=(window.innerWidth-n.offsetWidth)*n.hf,n.style.left=R<=0?0:R+"px",E=(window.innerHeight-n.offsetHeight)*n.vf,n.style.top=E<=0?0:E+"px"):V==="function"?F.call(n,T,n):V==="object"&&(F.preset===!0&&(R=(window.innerWidth-n.offsetWidth)*n.hf,n.style.left=R<=0?0:R+"px",E=(window.innerHeight-n.offsetHeight)*n.vf,n.style.top=E<=0?0:E+"px"),F.callback.call(n,T,n))}else _==="smallifiedmax"&&F&&n.maximize(!1,!0).smallify();n.slaves&&n.slaves.size>0&&n.slaves.forEach(V=>V.reposition())}},n.setControls=(T,R)=>(n.header.querySelectorAll(".jsPanel-btn").forEach(E=>{const _=E.className.split("-"),F=_[_.length-1];n.getAttribute("data-btn".concat(F))!=="hidden"&&(E.style.display="block")}),T.forEach(E=>{const _=n.controlbar.querySelector(E);_&&(_.style.display="none")}),R&&R.call(n,n),n),n.setControlStatus=(T,R="enable",E)=>{const _=n.controlbar.querySelector(".jsPanel-btn-".concat(T));switch(R){case"disable":n.getAttribute("data-btn".concat(T))!=="removed"&&(n.setAttribute("data-btn".concat(T),"disabled"),_.style.pointerEvents="none",_.style.opacity=.4,_.style.cursor="default");break;case"hide":n.getAttribute("data-btn".concat(T))!=="removed"&&(n.setAttribute("data-btn".concat(T),"hidden"),_.style.display="none");break;case"show":n.getAttribute("data-btn".concat(T))!=="removed"&&(n.setAttribute("data-btn".concat(T),"enabled"),_.style.display="block",_.style.pointerEvents="auto",_.style.opacity=1,_.style.cursor="pointer");break;case"enable":n.getAttribute("data-btn".concat(T))!=="removed"&&(n.getAttribute("data-btn".concat(T))==="hidden"&&(_.style.display="block"),n.setAttribute("data-btn".concat(T),"enabled"),_.style.pointerEvents="auto",_.style.opacity=1,_.style.cursor="pointer");break;case"remove":n.controlbar.removeChild(_),n.setAttribute("data-btn".concat(T),"removed")}return E&&E.call(n,n),n},n.setControlSize=T=>{const R=T.toLowerCase();n.controlbar.querySelectorAll(".jsPanel-btn").forEach(E=>{["jsPanel-btn-xl","jsPanel-btn-lg","jsPanel-btn-md","jsPanel-btn-sm","jsPanel-btn-xs"].forEach(_=>E.classList.remove(_)),E.classList.add("jsPanel-btn-".concat(R))}),R==="xl"?n.titlebar.style.fontSize="1.5rem":R==="lg"?n.titlebar.style.fontSize="1.25rem":R==="md"?n.titlebar.style.fontSize="1.05rem":R==="sm"?n.titlebar.style.fontSize=".9rem":R==="xs"&&(n.titlebar.style.fontSize=".8rem")},n.setHeaderControls=T=>{if(n.options.headerControls.add){let _=n.options.headerControls.add;Array.isArray(_)||(_=[_]),_.forEach(F=>n.addControl(F))}let R=[];n.controlbar.querySelectorAll(".jsPanel-btn").forEach(_=>{let F=_.className.match(/jsPanel-btn-[a-z\d]{3,}/i)[0].substring(12);R.push(F)});const E=Ue.pOheaderControls(t.headerControls);return t.headerControls=E,R.forEach(_=>{E[_]&&n.setControlStatus(_,E[_])}),n.setControlSize(E.size),T&&T.call(n,n),n},n.setHeaderLogo=(T,R)=>{let E=[n.headerlogo],_=document.querySelector("#"+n.id+"-min");return _&&E.push(_.querySelector(".jsPanel-headerlogo")),typeof T=="string"?T.startsWith("<")?E.forEach(F=>F.innerHTML=T):E.forEach(F=>{Ue.emptyNode(F);let V=document.createElement("img");V.src=T,F.append(V)}):E.forEach(F=>{Ue.emptyNode(F),F.append(T)}),n.headerlogo.childNodes.forEach(F=>{F.nodeName&&F.nodeName==="IMG"&&F.setAttribute("draggable","false")}),R&&R.call(n,n),n},n.setHeaderRemove=T=>(n.removeChild(n.header),n.content.classList.add("jsPanel-content-noheader"),["close","maximize","normalize","minimize","smallify"].forEach(R=>n.setAttribute("data-btn".concat(R),"removed")),T&&T.call(n,n),n),n.setHeaderTitle=(T,R)=>{let E=[n.headertitle],_=document.querySelector("#"+n.id+"-min");return _&&E.push(_.querySelector(".jsPanel-title")),typeof T=="string"?E.forEach(F=>F.innerHTML=T):typeof T=="function"?E.forEach(F=>{Ue.emptyNode(F),F.innerHTML=T()}):E.forEach(F=>{Ue.emptyNode(F),F.append(T)}),R&&R.call(n,n),n},n.setIconfont=(T,R=n,E)=>{if(T){let _,F;if(T==="fa"||T==="far"||T==="fal"||T==="fas"||T==="fad")_=["".concat(T," fa-window-close"),"".concat(T," fa-window-maximize"),"".concat(T," fa-window-restore"),"".concat(T," fa-window-minimize"),"".concat(T," fa-chevron-up")];else if(T==="material-icons")_=[T,T,T,T,T,T],F=["close","fullscreen","fullscreen_exit","call_received","expand_less"];else if(Array.isArray(T))_=["custom-control-icon ".concat(T[4]),"custom-control-icon ".concat(T[3]),"custom-control-icon ".concat(T[2]),"custom-control-icon ".concat(T[1]),"custom-control-icon ".concat(T[0])];else{if(T!=="bootstrap"&&T!=="glyphicon")return R;_=["glyphicon glyphicon-remove","glyphicon glyphicon-fullscreen","glyphicon glyphicon-resize-full","glyphicon glyphicon-minus","glyphicon glyphicon-chevron-up"]}R.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(V=>Ue.emptyNode(V).innerHTML="<span></span>"),Array.prototype.slice.call(R.querySelectorAll(".jsPanel-controlbar .jsPanel-btn > span")).reverse().forEach((V,Q)=>{V.className=_[Q],T==="material-icons"&&(V.textContent=F[Q])})}return E&&E.call(R,R),R},n.addToolbar=(T,R,E)=>{if(T==="header"?T=n.headertoolbar:T==="footer"&&(T=n.footer),typeof R=="string")T.innerHTML=R;else if(Array.isArray(R))R.forEach(_=>{typeof _=="string"?T.innerHTML+=_:T.append(_)});else if(typeof R=="function"){let _=R.call(n,n);typeof _=="string"?T.innerHTML=_:T.append(_)}else T.append(R);return T.classList.add("active"),E&&E.call(n,n),n},n.addCloseControl=()=>{let T=document.createElement("button"),R=n.content.style.color;return T.classList.add("jsPanel-addCloseCtrl"),T.innerHTML=Ue.icons.close,T.style.color=R,n.options.rtl&&T.classList.add("rtl"),n.appendChild(T),Ue.pointerup.forEach(E=>{T.addEventListener(E,_=>{if(_.preventDefault(),_.button&&_.button>0)return!1;n.close(null,!0)})}),Ue.pointerdown.forEach(E=>{T.addEventListener(E,_=>_.preventDefault())}),n},n.addControl=T=>{if(!T.html)return n;T.position||(T.position=1);const R=n.controlbar.querySelectorAll(".jsPanel-btn").length;let E=document.createElement("button");E.innerHTML=T.html,E.className="jsPanel-btn jsPanel-btn-".concat(T.name," jsPanel-btn-").concat(t.headerControls.size),E.style.color=n.header.style.color,T.position>R?n.controlbar.append(E):n.controlbar.insertBefore(E,n.querySelector(".jsPanel-controlbar .jsPanel-btn:nth-child(".concat(T.position,")")));const _=T.ariaLabel||T.name;return _&&E.setAttribute("aria-label",_),Ue.pointerup.forEach(F=>{E.addEventListener(F,V=>{if(V.preventDefault(),V.button&&V.button>0)return!1;T.handler.call(n,n,E)})}),T.afterInsert&&T.afterInsert.call(E,E),n},n.setRtl=()=>{[n.header,n.content,n.footer].forEach(T=>{T.dir="rtl",t.rtl.lang&&(T.lang=t.rtl.lang)})},n.id=t.id,n.classList.add("jsPanel-"+t.paneltype),t.paneltype==="standard"&&(n.style.zIndex=this.zi.next()),s.append(n),n.front(!1,!1),n.setTheme(t.theme),t.boxShadow&&n.classList.add("jsPanel-depth-".concat(t.boxShadow)),t.header){if(t.headerLogo&&n.setHeaderLogo(t.headerLogo),n.setIconfont(t.iconfont),n.setHeaderTitle(t.headerTitle),n.setHeaderControls(),Ue.isIE){let T=[n.headerbar,n.controlbar];switch(n.options.headerControls.size){case"md":T.forEach(R=>{R.style.height="34px"});break;case"xs":T.forEach(R=>{R.style.height="26px"});break;case"sm":T.forEach(R=>{R.style.height="30px"});break;case"lg":T.forEach(R=>{R.style.height="38px"});break;case"xl":T.forEach(R=>{R.style.height="42px"})}}if(t.header==="auto-show-hide"){let T="jsPanel-depth-"+t.boxShadow;n.header.style.opacity=0,n.style.backgroundColor="transparent",this.remClass(n,T),this.setClass(n.content,T),n.header.addEventListener("mouseenter",()=>{n.header.style.opacity=1,Ue.setClass(n,T),Ue.remClass(n.content,T)}),n.header.addEventListener("mouseleave",()=>{n.header.style.opacity=0,Ue.remClass(n,T),Ue.setClass(n.content,T)})}}else n.setHeaderRemove(),t.addCloseControl&&n.addCloseControl();if(t.headerToolbar&&n.addToolbar(n.headertoolbar,t.headerToolbar),t.footerToolbar&&n.addToolbar(n.footer,t.footerToolbar),t.border&&n.setBorder(t.border),t.borderRadius&&n.setBorderRadius(t.borderRadius),t.css)for(const[T,R]of Object.entries(t.css))if(T==="panel")n.className+=" ".concat(R);else{let E=n.querySelector(".jsPanel-".concat(T));E&&(E.className+=" ".concat(R))}if(t.content&&(typeof t.content=="function"?t.content.call(n,n):typeof t.content=="string"?n.content.innerHTML=t.content:n.content.append(t.content)),t.contentAjax&&this.ajax(t.contentAjax,n),t.contentFetch&&this.fetch(t.contentFetch,n),t.contentOverflow){const T=t.contentOverflow.split(" ");T.length===1?n.content.style.overflow=T[0]:T.length===2&&(n.content.style.overflowX=T[0],n.content.style.overflowY=T[1])}if(t.autoclose){typeof t.autoclose=="number"?t.autoclose={time:t.autoclose+"ms"}:typeof t.autoclose=="string"&&(t.autoclose={time:t.autoclose});let T=Object.assign({},Ue.defaultAutocloseConfig,t.autoclose);T.time&&typeof T.time=="number"&&(T.time+="ms");let R=n.progressbar.querySelector("div");R.addEventListener("animationend",E=>{E.stopPropagation(),n.progressbar.classList.remove("active"),n.close()}),T.progressbar&&(n.progressbar.classList.add("active"),T.background?Ue.colorNames[T.background]?n.progressbar.style.background="#"+Ue.colorNames[T.background]:n.progressbar.style.background=T.background:n.progressbar.classList.add("success-bg")),R.style.animation="".concat(T.time," progressbar")}if(t.rtl&&n.setRtl(),n.setSize(),n.status="normalized",t.position?this.position(n,t.position):n.style.opacity=1,document.dispatchEvent(l),n.calcSizeFactors(),t.animateIn&&(n.addEventListener("animationend",()=>{this.remClass(n,t.animateIn)}),this.setClass(n,t.animateIn)),t.syncMargins){let T=this.pOcontainment(t.maximizedMargin);t.dragit&&(t.dragit.containment=T,t.dragit.snap===!0?(t.dragit.snap=Ue.defaultSnapConfig,t.dragit.snap.containment=!0):t.dragit.snap&&(t.dragit.snap.containment=!0)),t.resizeit&&(t.resizeit.containment=T)}if(t.dragit?(["start","drag","stop"].forEach(T=>{t.dragit[T]?typeof t.dragit[T]=="function"&&(t.dragit[T]=[t.dragit[T]]):t.dragit[T]=[]}),n.drag(t.dragit),n.addEventListener("jspaneldragstop",T=>{T.panel===n&&n.calcSizeFactors()},!1)):n.titlebar.style.cursor="default",t.resizeit){["start","resize","stop"].forEach(R=>{t.resizeit[R]?typeof t.resizeit[R]=="function"&&(t.resizeit[R]=[t.resizeit[R]]):t.resizeit[R]=[]}),n.sizeit(t.resizeit);let T;n.addEventListener("jspanelresizestart",R=>{R.panel===n&&(T=n.status)},!1),n.addEventListener("jspanelresizestop",R=>{R.panel===n&&(T==="smallified"||T==="smallifiedmax"||T==="maximized")&&parseFloat(n.style.height)>parseFloat(window.getComputedStyle(n.header).height)&&(n.setControls([".jsPanel-btn-normalize"]),n.status="normalized",document.dispatchEvent(l),document.dispatchEvent(o),t.onstatuschange&&Ue.processCallbacks(n,t.onstatuschange,"every"),n.calcSizeFactors())},!1)}if(n.saveCurrentDimensions(),n.saveCurrentPosition(),t.setStatus&&(t.setStatus==="smallifiedmax"?n.maximize().smallify():t.setStatus==="smallified"?n.smallify():n[t.setStatus.slice(0,-1)]()),this.pointerdown.forEach(T=>{n.addEventListener(T,R=>{R.target.closest(".jsPanel-btn-close")||R.target.closest(".jsPanel-btn-minimize")||t.paneltype!=="standard"||n.front()},!1)}),t.onwindowresize&&n.options.container==="window"&&window.addEventListener("resize",n.windowResizeHandler,!1),t.onparentresize){let T=t.onparentresize,R=typeof T,E=n.isChildpanel();if(E){const _=E.content;let F=[];n.parentResizeHandler=V=>{if(V.panel===E){F[0]=_.offsetWidth,F[1]=_.offsetHeight;let Q,G,Y=n.status;Y==="maximized"&&T?n.maximize():n.snapped&&Y!=="minimized"?n.snap(n.snapped,!0):Y==="normalized"||Y==="smallified"||Y==="maximized"?R==="function"?T.call(n,n,{width:F[0],height:F[1]}):R==="object"&&T.preset===!0?(Q=(F[0]-n.offsetWidth)*n.hf,n.style.left=Q<=0?0:Q+"px",G=(F[1]-n.offsetHeight)*n.vf,n.style.top=G<=0?0:G+"px",T.callback.call(n,n,{width:F[0],height:F[1]})):R==="boolean"&&(Q=(F[0]-n.offsetWidth)*n.hf,n.style.left=Q<=0?0:Q+"px",G=(F[1]-n.offsetHeight)*n.vf,n.style.top=G<=0?0:G+"px"):Y==="smallifiedmax"&&T&&n.maximize().smallify()}},document.addEventListener("jspanelresize",n.parentResizeHandler,!1)}}return this.globalCallbacks&&(Array.isArray(this.globalCallbacks)?this.globalCallbacks.forEach(T=>T.call(n,n)):this.globalCallbacks.call(n,n)),t.callback&&(Array.isArray(t.callback)?t.callback.forEach(T=>T.call(n,n)):t.callback.call(n,n)),e&&(Array.isArray(e)?e.forEach(T=>T.call(n,n)):e.call(n,n)),document.dispatchEvent(r),n}};const It=(t,e)=>{const i=t.__vccOpts||t;for(const[s,n]of e)i[s]=n;return i},t6={name:"JsPanel",props:{visible:{type:Boolean,default:!1},options:{type:Object,default:()=>({})}},computed:{panelOptions(){return Object.assign({onclosed:this.close},this.options)}},watch:{visible(t){t&&this.createPanel()}},mounted(){this.visible&&this.createPanel()},methods:{async createPanel(){await this.$nextTick();let t=Object.assign({content:this.$refs.default},this.panelOptions);this.$slots.headerToolbar&&(t=Object.assign({headerToolbar:this.$slots.headerToolbar()[0].el},t)),Ue.create(t)},close(){this.$emit("close"),this.$emit("update:visible",!1)}}},i6={key:0,ref:"default"};function n6(t,e,i,s,n,r){return i.visible?(z(),Z("div",i6,[AE(t.$slots,"default"),AE(t.$slots,"headerToolbar")],512)):Me("",!0)}const Gt=It(t6,[["render",n6]]),s6=["audio","calendrier","chrono","codeqr","des","feu","histoire","horloge","horloge-modulable","lien","modalites","plateau","pendu","rebours","retroaction","roue","sonometre","synthese"],tv=["dessin","nuage","texte","liste"],ap=["cartes","classement","document","galerie","groupes","html","iframe","image","images-sequentielles","ordre","surlignage","tableau","tirage-audio","tirage-image","tirage-texte","tirage-nombre","trous","video","webcam"],lp=["calendrier","chrono","dessin","document","feu","horloge","horloge-modulable","html","iframe","liste","modalites","retroaction","sonometre","webcam"],Tl=["tableau","texte"],iv=["calendrier","feu","horloge","horloge-modulable","modalites","retroaction"],nv=["calendrier","chrono","codeqr","des","feu","histoire","horloge","horloge-modulable","modalites","pendu","rebours","roue","tirage-audio","tirage-image","tirage-texte","tirage-nombre"],qt={data(){return{ancienStatut:""}},methods:{definirCaracteristiques(t){this.titre=this.$t(t),this.id=this.panneau.id,this.w=this.panneau.w,this.h=this.panneau.h,this.x=this.panneau.x,this.y=this.panneau.y,this.statut=this.panneau.statut,this.dimensions=this.panneau.dimensions,this.panneau.hasOwnProperty("position")&&(this.position=this.panneau.position),this.panneau.hasOwnProperty("titre")&&(this.titre=this.panneau.titre),this.panneau.mode!==""&&(this.mode=this.panneau.mode)},genererOptions(t){let e={size:"xl",minimize:"remove",maximize:"hide"};tv.includes(t)?e={size:"xl",minimize:"remove"}:s6.includes(t)&&(e={size:"xl",minimize:"remove",maximize:"remove"}),this.options={id:this.id,theme:"none",iconfont:"material-icons",container:"window",animateIn:"jsPanelFadeIn",animateOut:"jsPanelFadeOut",headerTitle:"",headerControls:e,borderRadius:"0.7rem",closeOnEscape:!1,panelSize:{width:this.convertirRem(this.w),height:this.convertirRem(this.h)},dragit:{containment:[0,0,this.convertirRem(7.5),0],handles:".jsPanel-titlebar, .conteneur-gauche, .conteneur-droite, .conteneur-bas",opacity:.85,drag:(function(i,s){this.deplacer(s)}).bind(this),stop:(function(i,s){this.redimensionner(s)}).bind(this)},resizeit:{containment:[0,0,this.convertirRem(7.5),0],handles:"n, e, s, w, ne, se, sw, nw",minWidth:this.convertirRem(this.minw),minHeight:this.convertirRem(this.minh),stop:(function(i,s){this.redimensionner(s)}).bind(this)},onmaximized:(function(i){this.statut="max",Object.keys(this.dimensions).length===0&&(this.dimensions={w:this.w,h:this.h,x:this.x,y:this.y}),i.setHeaderTitle(""),i.setBorderRadius("0"),i.resizeit("disable"),i.dragit("disable"),i.setControlStatus("smallify","hide"),this.$parent.lectureSeule===!0&&(i.querySelector(".jsPanel-btn-close")&&i.setControlStatus("close","hide"),i.querySelector(".jsPanel-btn-send")&&i.setControlStatus("send","hide")),i.querySelector(".jsPanel-content").style.display="block",this.nav===!0?i.style.height=document.body.clientHeight-this.convertirRem(7.5)+"px":i.style.height="100%"}).bind(this),onsmallified:(function(i){this.statut="min",Object.keys(this.dimensions).length===0&&(this.dimensions={w:this.w,h:this.h,x:this.x,y:this.y}),i.setHeaderTitle(this.titre),i.resizeit("disable"),this.mode==="edition"&&ap.includes(this.panneau.type)===!0&&i.setControlStatus("maximize","hide"),this.$parent.lectureSeule===!0&&(i.querySelector(".jsPanel-btn-close")&&i.setControlStatus("close","hide"),i.querySelector(".jsPanel-btn-send")&&i.setControlStatus("send","hide")),this.mode==="lecture"&&(Tl.includes(this.panneau.type)===!0||this.panneau.type==="image")&&(i.setControlStatus("zoom-in","hide"),i.setControlStatus("zoom-out","hide"),i.setControlStatus("reset","hide"),i.setControlStatus("separator","hide")),i.querySelector(".jsPanel-content").style.display="none",setTimeout(function(){i.dispatchEvent(new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0})),i.querySelector(".jsPanel-btn-smallify").focus()},10)}).bind(this),onunsmallified:(function(i){this.statut="",this.w=this.dimensions.w,this.h=this.dimensions.h,this.dimensions={},i.setHeaderTitle(""),this.redimensionnement===!0&&i.resizeit("enable"),this.mode==="edition"&&ap.includes(this.panneau.type)===!0&&i.setControlStatus("maximize","hide"),this.$parent.lectureSeule===!0&&(i.querySelector(".jsPanel-btn-close")&&i.setControlStatus("close","hide"),i.querySelector(".jsPanel-btn-send")&&i.setControlStatus("send","hide")),this.mode==="lecture"&&(Tl.includes(this.panneau.type)===!0||this.panneau.type==="image")&&(i.setControlStatus("zoom-in","show"),i.setControlStatus("zoom-out","show"),i.setControlStatus("reset","show"),i.setControlStatus("separator","show")),i.querySelector(".jsPanel-content").style.display="block",this.positionner()}).bind(this),onnormalized:(function(i){this.statut="",this.w=this.dimensions.w,this.h=this.dimensions.h,this.x=this.dimensions.x,this.y=this.dimensions.y,this.dimensions={},i.setBorderRadius("0.7rem"),i.setHeaderTitle(""),i.dragit("enable"),this.redimensionnement===!0&&i.resizeit("enable"),this.$parent.lectureSeule===!0&&(i.querySelector(".jsPanel-btn-close")&&i.setControlStatus("close","hide"),i.querySelector(".jsPanel-btn-send")&&i.setControlStatus("send","hide")),i.setControlStatus("smallify","show"),this.positionner()}).bind(this),onfronted:(function(){this.$emit("afficher",this.id)}).bind(this),onclosed:(function(){const i=this.panneau.type;this.$emit("fermer",this.id,i),i==="audio"&&this.dataURL!==""&&this.audio!==""?window.URL.revokeObjectURL(this.audio):i==="document"&&this.type==="pdf"&&this.document!==""?window.URL.revokeObjectURL(this.document):i==="html"&&this.type==="fichier"&&this.html!==""?window.URL.revokeObjectURL(this.html):i==="horloge"?(clearInterval(this.horloge),clearInterval(this.temps)):i==="plateau"?this.desactiverPions():i==="rebours"&&this.decompte!==""?clearInterval(this.decompte):i==="sonometre"?(this.pause(),this.analyseur!==""&&this.analyseur.disconnect()):i==="tableau"&&this.tabulator!==""?(this.tabulator.clearData(),this.tabulator.destroy()):i==="video"&&this.lecteur!==""&&this.lecteur.dispose()}).bind(this),onwindowresize:(function(){this.positionner(),this.panneau.type==="dessin"&&(this.dimensionsCanva.w=this.convertirRem(this.w),this.dimensionsCanva.h=this.convertirRem(this.h)-this.convertirRem(3))}).bind(this)}},initialiser(){this.$nextTick((function(){const t=document.querySelector("#"+this.id);t&&(t.setAttribute("tabindex","0"),t.querySelector(".jsPanel-content").setAttribute("tabindex","-1"),t.addEventListener("focus",function(){t.front()}),t.addEventListener("mouseover",function(){t.querySelector(".jsPanel-controlbar").style.display="flex"}),t.addEventListener("mouseout",function(){t.querySelector(".jsPanel-controlbar").style.display="none"}),this.redimensionnement===!0?t.resizeit("enable"):t.resizeit("disable"),t.style.left=this.x+"px",t.style.top=this.y+"px",t.querySelector(".jsPanel-title").addEventListener("dblclick",(function(){this.afficherRenommer(this.titre)}).bind(this)),t.querySelector(".jsPanel-title").addEventListener("keydown",(function(e){e.key==="Enter"&&this.afficherRenommer(this.titre)}).bind(this)),t&&this.$parent.pages.length>1&&t.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!1&&this.panneau.type!=="modalites"&&this.panneau.type!=="retroaction"&&lp.includes(this.panneau.type)===!0&&(t.addControl({html:'<span class="material-icons">send</span>',name:"send",ariaLabel:"panel send",handler:(function(){this.afficherEnvoyer(this.id)}).bind(this),position:1}),this.$parent.lectureSeule===!0&&t.setControlStatus("send","hide"),t.querySelector(".jsPanel-btn-send").addEventListener("keydown",(function(e){e.key==="Enter"&&this.afficherEnvoyer(this.id)}).bind(this))),iv.includes(this.panneau.type)===!0&&this.ajouterFocus(t),t.querySelector(".jsPanel-btn-smallify")&&t.querySelector(".jsPanel-btn-smallify").addEventListener("keydown",function(e){e.key==="Enter"&&(t.status==="smallified"?t.unsmallify():t.smallify())}),t.querySelector(".jsPanel-btn-normalize")&&t.querySelector(".jsPanel-btn-normalize").addEventListener("keydown",function(e){e.key==="Enter"&&t.normalize()}),t.querySelector(".jsPanel-btn-maximize")&&t.querySelector(".jsPanel-btn-maximize").addEventListener("keydown",function(e){e.key==="Enter"&&t.maximize()}),t.querySelector(".jsPanel-btn-close")&&t.querySelector(".jsPanel-btn-close").addEventListener("keydown",function(e){e.key==="Enter"&&t.close()}),this.$nextTick((function(){this.statut==="min"?t.smallify():this.statut==="max"&&t.maximize(),t.focus()}).bind(this)))}).bind(this))},deplacer(t){this.deplacement=!0,this.donnees&&Object.keys(this.donnees).length>0&&(this.donnees.x=t.left,this.donnees.y=t.top,this.position={})},redimensionner(t){this.deplacement=!1;let e=10;document.body.clientWidth<1367&&(e=9),this.w=t.width/e,this.h=t.height/e,this.x=t.left,this.y=t.top,this.position={}},positionner(){this.w>document.body.clientWidth&&(this.w=document.body.clientWidth),this.nav===!0&&this.h>document.body.clientHeight-this.convertirRem(7.5)?this.h=document.body.clientHeight-this.convertirRem(7.5):this.nav===!1&&this.h>document.body.clientHeight&&(this.h=document.body.clientHeight),this.x>document.body.clientWidth-this.convertirRem(this.w)&&(this.x=document.body.clientWidth-this.convertirRem(this.w)),Object.keys(this.position).length>0&&this.position.x<=document.body.clientWidth-this.convertirRem(this.w)&&(this.x=this.position.x),this.nav===!0&&this.y>document.body.clientHeight-(this.convertirRem(7.5)+this.convertirRem(this.h))?(this.y=document.body.clientHeight-(this.convertirRem(7.5)+this.convertirRem(this.h)),Object.keys(this.position).length>0&&this.position.y<=document.body.clientHeight-(this.convertirRem(7.5)+this.convertirRem(this.h))&&(this.y=this.position.y)):this.nav===!1&&this.y>document.body.clientHeight-this.convertirRem(this.h)&&(this.y=document.body.clientHeight-this.convertirRem(this.h),Object.keys(this.position).length>0&&this.position.y<=document.body.clientHeight-this.convertirRem(this.h)&&(this.y=this.position.y)),this.$nextTick((function(){const t=document.querySelector("#"+this.id);this.$nextTick((function(){t&&this.statut===""&&(t.resize({width:this.convertirRem(this.w),height:this.convertirRem(this.h)}),t.style.left=this.x+"px",t.style.top=this.y+"px")}).bind(this)),this.options.resizeit.minWidth=this.convertirRem(this.minw),this.options.resizeit.minHeight=this.convertirRem(this.minh),this.nav===!0?(this.options.dragit.containment=[0,0,this.convertirRem(7.5),0],this.options.resizeit.containment=[0,0,this.convertirRem(7.5),0],t&&this.statut==="max"&&this.$nextTick((function(){t.style.height=document.body.clientHeight-this.convertirRem(7.5)+"px"}).bind(this))):(this.options.dragit.containment=[0,0,0,0],this.options.resizeit.containment=[0,0,0,0],t&&this.statut==="max"&&this.$nextTick((function(){t.style.height="100%"}).bind(this)))}).bind(this))},afficherRenommer(t){const e=document.createElement("div");e.id="conteneur-modale-panneau",e.className="conteneur-modale",e.innerHTML='<div id="modale-panneau" class="modale" role="dialog"><div class="conteneur"><div class="contenu"><label>'+this.$t("nouveauTitre")+'</label><input type="text" value="'+t+'"><div class="actions"><span id="annuler" class="bouton" role="button" tabindex="0">'+this.$t("annuler")+'</span><span id="valider" class="bouton" role="button" tabindex="0">'+this.$t("valider")+"</span></div></div></div></div>",document.body.appendChild(e),this.$nextTick((function(){document.querySelector("#annuler").addEventListener("click",function(){document.querySelector("#conteneur-modale-panneau").remove()}),document.querySelector("#annuler").addEventListener("keydown",function(i){i.key==="Enter"&&document.querySelector("#conteneur-modale-panneau").remove()}),document.querySelector("#valider").addEventListener("click",(function(){this.renommer()}).bind(this)),document.querySelector("#valider").addEventListener("keydown",(function(i){i.key==="Enter"&&this.renommer()}).bind(this)),document.querySelector("#modale-panneau input").addEventListener("keydown",(function(i){i.key==="Enter"&&this.renommer()}).bind(this))}).bind(this))},renommer(){const t=document.querySelector("#modale-panneau input").value;t!==null&&(this.titre=t,document.querySelector("#"+this.id).setHeaderTitle(t),document.querySelector("#conteneur-modale-panneau").remove())},afficherEnvoyer(t){const e=document.createElement("div");e.id="conteneur-modale-panneau",e.className="conteneur-modale",e.innerHTML='<div id="modale-panneau" class="modale" role="dialog"><div class="conteneur"><div class="contenu"><label for="numero-page">'+this.$t("envoyerPage")+'</label><input id="numero-page" type="number" min="1" value="'+this.$parent.page+'"><div class="choix"><span class="deplacer"><input id="deplacer" type="radio" name="envoyer_panneau" value="deplacer" checked><label for="deplacer">'+this.$t("deplacer")+'</label></span><span class="copier"><input id="copier" type="radio" name="envoyer_panneau" value="copier"><label for="copier">'+this.$t("copier")+'</label></span></div><div class="actions"><span id="annuler" class="bouton" role="button" tabindex="0">'+this.$t("annuler")+'</span><span id="valider" class="bouton" role="button" tabindex="0">'+this.$t("valider")+"</span></div></div></div></div>",document.body.appendChild(e),this.$nextTick((function(){document.querySelector("#annuler").addEventListener("click",function(){document.querySelector("#conteneur-modale-panneau").remove()}),document.querySelector("#annuler").addEventListener("keydown",function(i){i.key==="Enter"&&document.querySelector("#conteneur-modale-panneau").remove()}),document.querySelector("#valider").addEventListener("click",(function(){this.envoyer(t)}).bind(this)),document.querySelector("#valider").addEventListener("keydown",(function(i){i.key==="Enter"&&this.envoyer(t)}).bind(this)),document.querySelector("#numero-page").addEventListener("keydown",(function(i){i.key==="Enter"&&this.envoyer(t)}).bind(this))}).bind(this))},envoyer(t){const e=parseInt(document.querySelector("#modale-panneau input#numero-page").value);e!==null&&this.$parent.page!==parseInt(e)&&parseInt(e)>0&&parseInt(e)<=this.$parent.pages.length&&(this.$parent.export={type:"panneau",id:t,page:e},this.$parent.exportDonnees=!0,this.$parent.panneauxPage.length===0&&(this.$parent.exportTermine=!0))},ajouterFocus(t){t.addControl({html:'<span class="material-icons">highlight</span>',name:"focus",ariaLabel:"panel focus",handler:(function(){this.afficherEnFocus(t)}).bind(this),position:2}),t.querySelector(".jsPanel-btn-focus").addEventListener("keydown",(function(e){e.key==="Enter"&&this.afficherEnFocus(t)}).bind(this))},afficherEnFocus(t){this.statut==="min"&&(t.unsmallify(),this.ancienStatut="min"),this.statut="focus",document.querySelectorAll(".jsPanel").forEach((function(s){if(s.id!==this.id)s.style.display="none";else{s.resizeit("disable"),s.dragit("disable"),s.querySelector(".jsPanel-controlbar").style.display="none";const n=document.body.clientWidth;let r;this.nav?r=document.body.clientHeight-this.convertirRem(7.5):r=document.body.clientHeight;let o=r/this.convertirRem(this.h);this.convertirRem(this.w)*o>n&&(o=n/this.convertirRem(this.w)),s.setAttribute("data-x",this.x),s.setAttribute("data-y",this.y),s.style.top=(r-this.convertirRem(this.h))/2+"px",s.style.left=(n-this.convertirRem(this.w))/2+"px",s.style.top=(r-this.convertirRem(this.h))/2+"px",s.style.transform="scale("+o+")",s.style.boxShadow="none",s.style.background="transparent",s.querySelector(".jsPanel-hdr").style.visibility="hidden",s.querySelector(".jsPanel-content").style.background="transparent"}}).bind(this));const i=document.createElement("div");i.id="masque",(this.panneau.type==="modalites"||this.panneau.type==="pendu"||this.panneau.type==="retroaction"||this.panneau.type==="tirage-texte"||this.panneau.type==="tirage-nombre"||this.panneau.type==="tirage-image"||this.panneau.type==="tirage-audio")&&(i.className="blanc"),i.innerHTML='<span class="material-icons" role="button" tabindex="0">close</span>',document.body.appendChild(i),document.querySelector("#masque span").addEventListener("click",(function(){this.ancienStatut==="min"?(this.statut="min",this.ancienStatut=""):this.statut=""}).bind(this)),document.querySelector("#masque span").addEventListener("keydown",(function(s){s.key==="Enter"&&this.ancienStatut==="min"?(this.statut="min",this.ancienStatut=""):s.key==="Enter"&&(this.statut="")}).bind(this)),document.querySelector("#"+this.id).focus(),document.body.classList.add("focus"),document.querySelector("nav").style.display="none",document.querySelector(".bouton-cadenas").style.display="none",document.querySelector(".nav")&&(document.querySelector(".nav").style.display="none"),document.querySelector(".bouton-export")&&(document.querySelector(".bouton-export").style.display="none"),document.querySelector(".bouton-plein-ecran")&&(document.querySelector(".bouton-plein-ecran").style.display="none"),document.querySelector(".bouton-capture")&&(document.querySelector(".bouton-capture").style.display="none"),document.querySelector(".bouton-annotation")&&(document.querySelector(".bouton-annotation").style.display="none")},gererClavier(t,e,i,s){const n=document.querySelector("#"+this.id);i===this.id&&this.statut!=="max"&&(e==="ArrowLeft"||e==="ArrowRight"||e==="ArrowUp"||e==="ArrowDown")?(s!=="galerie"||s==="galerie"&&!t.target.classList.contains("galerie"))&&this.deplacerClavier(e):n&&i===this.id&&(e==="Delete"||e==="Escape")?this.statut!=="focus"?n.close():this.statut==="focus"&&this.ancienStatut==="min"?(this.statut="min",this.ancienStatut=""):this.statut==="focus"&&this.ancienStatut!=="min"&&(this.statut=""):n&&i===this.id&&this.mode==="lecture"&&(Tl.includes(s)===!0||s==="image")&&e==="+"?s==="image"?this.zoomer():this.augmenterTaille():n&&i===this.id&&this.mode==="lecture"&&(Tl.includes(s)===!0||s==="image")&&e==="-"?s==="image"?this.dezoomer():this.reduireTaille():n&&i===this.id&&this.mode==="lecture"&&(Tl.includes(s)===!0||s==="image")&&e==="c"?s==="image"?this.recadrer():this.annulerTaille():n&&i===this.id&&e==="e"&&!lp.includes(s)&&(this.mode==="lecture"&&s!=="image"&&s!=="video"||this.mode==="lecture"&&s==="image"&&this.requete!==""||this.mode==="lecture"&&s==="video"&&this.videoId!==""||this.mode==="decompte"||this.mode==="pause")&&this.statut!=="focus"?(this.statut==="min"?n.unsmallify():this.statut==="max"&&n.normalize(),this.editer()):n&&i===this.id&&e==="f"&&((this.mode==="lecture"||this.mode==="decompte"||this.mode==="pause")&&nv.includes(s)||iv.includes(s))&&this.statut!=="focus"?this.afficherEnFocus(n):n&&i===this.id&&e==="f"&&((this.mode==="lecture"||this.mode==="decompte"||this.mode==="pause")&&nv.includes(s)||iv.includes(s))&&this.statut==="focus"?this.ancienStatut==="min"?(this.statut="min",this.ancienStatut=""):this.statut="":n&&i===this.id&&e==="m"&&this.statut===""?n.smallify():n&&i===this.id&&e==="m"&&this.statut==="min"?n.unsmallify():n&&i===this.id&&e==="s"&&this.statut==="max"?n.normalize():n&&i===this.id&&e==="s"&&this.statut===""&&(tv.includes(s)===!0||ap.includes(s)===!0&&this.mode==="lecture"&&s!=="nuage"&&s!=="texte"&&s!=="liste"||s==="nuage"||s==="texte")&&n.maximize()},deplacerClavier(t){t==="ArrowLeft"?this.x=this.x-1:t==="ArrowRight"?this.x=this.x+1:t==="ArrowUp"?this.y=this.y-1:t==="ArrowDown"&&(this.y=this.y+1),this.$nextTick((function(){const e=document.querySelector("#"+this.id);e&&(e.style.left=this.x+"px",e.style.top=this.y+"px")}).bind(this))},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},verifierURL(t){let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},activerInput(t){document.querySelector("#"+t).click()},melanger(t){for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t},lancerConfettis(){confetti({angle:300,spread:55,particleCount:150,origin:{x:0,y:-.2},zIndex:10010}),confetti({angle:240,spread:55,particleCount:150,origin:{x:1,y:-.2},zIndex:10010}),confetti({angle:270,spread:70,particleCount:150,origin:{x:.5,y:-.2},zIndex:10010})},convertirDataURL(t){let e=t.split(","),i=e[0].match(/:(.*?);/)[1],s=atob(e[1]),n=s.length,r=new Uint8Array(n);for(;n--;)r[n]=s.charCodeAt(n);return new Blob([r],{type:i})}},watch:{redimensionnement:function(t){this.$nextTick((function(){const e=document.querySelector("#"+this.id);e&&t===!0&&this.statut===""?e.resizeit("enable"):e&&t===!1&&this.statut===""&&e.resizeit("disable")}).bind(this))},mode:function(t){this.$nextTick((function(){const e=document.querySelector("#"+this.id),i=this.panneau.type;t==="lecture"&&e&&ap.includes(i)===!0&&e.setControlStatus("maximize","show"),(t==="lecture"||t==="decompte"||t==="pause")&&(e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-edit"))===!1&&(i!=="video"&&i!=="image"&&lp.includes(i)===!1||i==="video"&&this.videoId!==""||i==="image"&&this.requete!=="")&&(e.addControl({html:'<span class="material-icons">arrow_back</span>',name:"edit",ariaLabel:"panel edit",handler:(function(s){this.statut==="min"?s.unsmallify():this.statut==="max"&&s.normalize(),this.editer()}).bind(this),position:1}),e.querySelector(".jsPanel-btn-edit").addEventListener("keydown",(function(s){s.key==="Enter"&&(this.statut==="min"?panel.unsmallify():this.statut==="max"&&panel.normalize(),this.editer())}).bind(this))),e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-focus"))===!1&&nv.includes(this.panneau.type)===!0&&this.ajouterFocus(e),e&&this.$parent.pages.length>1&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!1&&(e.addControl({html:'<span class="material-icons">send</span>',name:"send",ariaLabel:"panel send",handler:(function(){this.afficherEnvoyer(this.id)}).bind(this),position:2}),this.$parent.lectureSeule===!0&&e.setControlStatus("send","hide"),e.querySelector(".jsPanel-btn-send").addEventListener("keydown",(function(s){s.key==="Enter"&&this.afficherEnvoyer(this.id)}).bind(this))),e&&(Tl.includes(i)===!0||i==="image")&&(e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-in"))===!1&&(e.addControl({html:'<span class="material-icons">add</span>',name:"zoom-in",ariaLabel:"panel zoom-in",handler:(function(){i==="image"?this.zoomer():this.augmenterTaille()}).bind(this),position:1}),e.querySelector(".jsPanel-btn-zoom-in").addEventListener("keydown",(function(s){s.key==="Enter"&&(i==="image"?this.zoomer():this.augmenterTaille())}).bind(this))),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-out"))===!1&&(e.addControl({html:'<span class="material-icons">remove</span>',name:"zoom-out",ariaLabel:"panel zoom-out",handler:(function(){i==="image"?this.dezoomer():this.reduireTaille()}).bind(this),position:2}),e.querySelector(".jsPanel-btn-zoom-out").addEventListener("keydown",(function(s){s.key==="Enter"&&(i==="image"?this.dezoomer():this.reduireTaille())}).bind(this))),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-reset"))===!1&&(e.addControl({html:'<span class="material-icons">center_focus_strong</span>',name:"reset",ariaLabel:"panel reset",handler:(function(){i==="image"?this.recadrer():this.annulerTaille()}).bind(this),position:3}),e.querySelector(".jsPanel-btn-reset").addEventListener("keydown",(function(s){s.key==="Enter"&&(i==="image"?this.recadrer():this.annulerTaille())}).bind(this))),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-separator"))===!1&&(e.addControl({html:"<span></span>",name:"separator",ariaLabel:"panel separator",position:4}),e.querySelector(".jsPanel-btn-separator").setAttribute("tabindex","-1")))),t!=="lecture"&&t!=="pause"&&(e&&tv.includes(i)===!1&&e.setControlStatus("maximize","hide"),e&&lp.includes(i)===!1&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-edit"))===!0&&i!=="rebours"&&e.setControlStatus("edit","remove"),e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-focus"))===!0&&i!=="rebours"&&e.setControlStatus("focus","remove"),e&&(Tl.includes(i)===!0||i==="image")&&(e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-in"))===!0&&e.setControlStatus("zoom-in","remove"),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-zoom-out"))===!0&&e.setControlStatus("zoom-out","remove"),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-reset"))===!0&&e.setControlStatus("reset","remove"),e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-separator"))===!0&&e.setControlStatus("separator","remove")),e&&this.$parent.pages.length>1&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!0&&e.setControlStatus("send","remove")),t==="stop"&&this.statut==="focus"&&(this.statut="")}).bind(this))},pages:{handler:function(t){t.length>1&&this.$nextTick((function(){const e=document.querySelector("#"+this.id);e&&e.contains(document.querySelector("#"+this.id+" .jsPanel-btn-send"))===!1&&(document.querySelector("#"+this.id).addControl({html:'<span class="material-icons">send</span>',name:"send",ariaLabel:"panel send",handler:(function(){this.afficherEnvoyer(this.id)}).bind(this),position:2}),this.$parent.lectureSeule===!0&&document.querySelector("#"+this.id).setControlStatus("send","hide"),e.querySelector(".jsPanel-btn-send").addEventListener("keydown",(function(i){i.key==="Enter"&&this.afficherEnvoyer(this.id)}).bind(this)))}).bind(this))},deep:!0},nav:function(){this.positionner()},statut:function(t,e){e==="focus"&&(t===""||t==="min")&&(document.querySelector("#masque").remove(),document.querySelectorAll(".jsPanel").forEach((function(s){s.id!==this.id?s.style.display="flex":(this.redimensionnement&&s.resizeit("enable"),s.dragit("enable"),s.querySelector(".jsPanel-controlbar").removeAttribute("style"),s.style.transform="none",s.style.boxShadow="0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22)",s.style.background="#fff",s.querySelector(".jsPanel-hdr").style.visibility="visible",s.querySelector(".jsPanel-content").style.background="#fff",this.x=s.getAttribute("data-x"),this.y=s.getAttribute("data-y"),s.style.left=this.x+"px",s.style.top=this.y+"px",s.removeAttribute("data-y"),s.removeAttribute("data-y"),t==="min"&&s.smallify())}).bind(this)),document.querySelector("#"+this.id).focus(),document.body.classList.remove("focus"),document.querySelector("nav").style.display="flex",document.querySelector(".bouton-cadenas").style.display="flex",document.querySelector(".nav")&&(document.querySelector(".nav").style.display="flex"),document.querySelector(".bouton-export")&&(document.querySelector(".bouton-export").style.display="flex"),document.querySelector(".bouton-plein-ecran")&&(document.querySelector(".bouton-plein-ecran").style.display="flex"),document.querySelector(".bouton-capture")&&(document.querySelector(".bouton-capture").style.display="flex"),document.querySelector(".bouton-annotation")&&(document.querySelector(".bouton-annotation").style.display="flex"))},evenementClavier:function({event:t,touche:e,id:i}){this.gererClavier(t,e,i,this.panneau.type)}}},r6={name:"PCodeQR",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:32,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},codeqr:"",texte:"https://ladigitale.dev",lien:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:this.texte,w:this.w,h:this.h,x:this.x,y:this.y}))},deplacement:function(t){if(t===!1&&this.mode==="lecture"){const e=document.querySelector("#"+this.id+" .codeqr").getBoundingClientRect();this.codeqr.width=e.width,this.codeqr.height=e.width}}},created(){this.definirCaracteristiques("codeqr"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu,this.verifierURL(this.texte)===!0&&(this.lien=this.texte.replace("http://","").replace("https://",""))),this.genererOptions("codeqr")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" input").focus(),document.querySelector("#"+this.id+" input").select()}).bind(this),0),this.$nextTick((function(){const t=this.texte;this.codeqr=new QRCode("qr_"+this.id,{text:t,width:this.convertirRem(100),height:this.convertirRem(100),colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}).bind(this))},methods:{generer(){this.texte!==""&&(this.mode="lecture",this.codeqr.makeCode(this.texte),this.verifierURL(this.texte)===!0?(this.lien=this.texte.replace("http://","").replace("https://",""),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=30,this.h=38)):this.verifierURL(this.texte)===!1&&this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):this.verifierURL(this.texte)===!1&&(this.w=30,this.h=32),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner())},editer(){this.mode="edition",this.lien="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=36,this.h=46,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus(),document.querySelector("#"+this.id+" input").select()}).bind(this)),this.positionner()}}},o6={class:"conteneur panneau-codeqr"},a6={class:"contenu"},l6=["for"],u6=["id","value"],c6=["value"],d6=["id"];function h6(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[3]||(e[3]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",o6,[d("div",a6,[n.mode==="edition"?(z(),Z("label",{key:0,for:"lien_"+n.id},te(t.$t("lienOuTexte")),9,l6)):Me("",!0),n.mode==="edition"?(z(),Z("input",{key:1,id:"lien_"+n.id,type:"search",maxlength:255,value:n.texte,onInput:e[0]||(e[0]=a=>n.texte=a.target.value)},null,40,u6)):n.mode==="lecture"&&n.lien!==""?(z(),Z("input",{key:2,type:"text",class:"domaine",value:n.lien,disabled:""},null,8,c6)):Me("",!0),d("div",{id:"qr_"+n.id,class:je(["codeqr",{edition:n.mode==="edition"}])},null,10,d6),n.mode==="edition"?(z(),Z("span",{key:3,class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[2]||(e[2]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)):Me("",!0)])]),e[4]||(e[4]=d("div",{class:"conteneur-droite"},null,-1)),e[5]||(e[5]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const A6=It(r6,[["render",h6]]);var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(i,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),i}var Bh={exports:{}},p6=Bh.exports,VE;function g6(){return VE||(VE=1,function(t,e){(function(i,s){s(e)})(p6,function(i){var s=Object.assign||function(p){for(var x=1;x<arguments.length;x++){var C=arguments[x];for(var g in C)Object.prototype.hasOwnProperty.call(C,g)&&(p[g]=C[g])}return p},n="defaultParagraphSeparator",r="formatBlock",o=function(p,x,C){return p.addEventListener(x,C)},a=function(p,x){return p.appendChild(x)},l=function(p){return document.createElement(p)},u=function(p){return document.queryCommandState(p)},c=function(p){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return document.execCommand(p,!1,x)},h={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return u("bold")},result:function(){return c("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return u("italic")},result:function(){return c("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return u("underline")},result:function(){return c("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return u("strikeThrough")},result:function(){return c("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return c(r,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return c(r,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return c(r,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return c(r,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return c("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return c("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return c(r,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return c("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var p=window.prompt("Enter the link URL");p&&c("createLink",p)}},image:{icon:"&#128247;",title:"Image",result:function(){var p=window.prompt("Enter the image URL");p&&c("insertImage",p)}}},A={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},f=function(p){var x=p.actions?p.actions.map(function(I){return typeof I=="string"?h[I]:h[I.name]?s({},h[I.name],I):I}):Object.keys(h).map(function(I){return h[I]}),C=s({},A,p.classes),g=p[n]||"div",w=l("div");w.className=C.actionbar,a(p.element,w);var S=p.element.content=l("div");return S.contentEditable=!0,S.className=C.content,S.oninput=function(I){var O=I.target.firstChild;O&&O.nodeType===3?c(r,"<"+g+">"):S.innerHTML==="<br>"&&(S.innerHTML=""),p.onChange(S.innerHTML)},S.onkeydown=function(I){var O;I.key==="Enter"&&(O=r,document.queryCommandValue(O)==="blockquote")&&setTimeout(function(){return c(r,"<"+g+">")},0)},a(p.element,S),x.forEach(function(I){var O=l("button");if(O.className=C.button,O.innerHTML=I.icon,O.title=I.title,O.setAttribute("type","button"),O.onclick=function(){return I.result()&&S.focus()},I.state){var U=function(){return O.classList[I.state()?"add":"remove"](C.selected)};o(S,"keyup",U),o(S,"mouseup",U),o(O,"click",U)}a(w,O)}),p.styleWithCSS&&c("styleWithCSS"),c(n,g),p.element},m={exec:c,init:f};i.exec=c,i.init=f,i.default=m,Object.defineProperty(i,"__esModule",{value:!0})})}(Bh,Bh.exports)),Bh.exports}var m6=g6();const Hs=nr(m6),b6="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",v6="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Bc=(t,e)=>{for(const i in e)t[i]=e[i];return t},g1="numeric",m1="ascii",b1="alpha",Xh="asciinumeric",kh="alphanumeric",v1="domain",G3="emoji",y6="scheme",w6="slashscheme",sv="whitespace";function C6(t,e){return t in e||(e[t]=[]),e[t]}function Vl(t,e,i){e[g1]&&(e[Xh]=!0,e[kh]=!0),e[m1]&&(e[Xh]=!0,e[b1]=!0),e[Xh]&&(e[kh]=!0),e[b1]&&(e[kh]=!0),e[kh]&&(e[v1]=!0),e[G3]&&(e[v1]=!0);for(const s in e){const n=C6(s,i);n.indexOf(t)<0&&n.push(t)}}function E6(t,e){const i={};for(const s in e)e[s].indexOf(t)>=0&&(i[s]=!0);return i}function Js(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Js.groups={};Js.prototype={accepts(){return!!this.t},go(t){const e=this,i=e.j[t];if(i)return i;for(let s=0;s<e.jr.length;s++){const n=e.jr[s][0],r=e.jr[s][1];if(r&&n.test(t))return r}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,i,s){for(let n=0;n<t.length;n++)this.tt(t[n],e,i,s)},tr(t,e,i,s){s=s||Js.groups;let n;return e&&e.j?n=e:(n=new Js(e),i&&s&&Vl(e,i,s)),this.jr.push([t,n]),n},ts(t,e,i,s){let n=this;const r=t.length;if(!r)return n;for(let o=0;o<r-1;o++)n=n.tt(t[o]);return n.tt(t[r-1],e,i,s)},tt(t,e,i,s){s=s||Js.groups;const n=this;if(e&&e.j)return n.j[t]=e,e;const r=e;let o,a=n.go(t);if(a?(o=new Js,Bc(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Js,r){if(s)if(o.t&&typeof o.t=="string"){const l=Bc(E6(o.t,s),i);Vl(r,l,s)}else i&&Vl(r,i,s);o.t=r}return n.j[t]=o,o}};const Wt=(t,e,i,s,n)=>t.ta(e,i,s,n),Xi=(t,e,i,s,n)=>t.tr(e,i,s,n),$E=(t,e,i,s,n)=>t.ts(e,i,s,n),nt=(t,e,i,s,n)=>t.tt(e,i,s,n),Qo="WORD",y1="UWORD",q3="ASCIINUMERICAL",W3="ALPHANUMERICAL",DA="LOCALHOST",w1="TLD",C1="UTLD",ug="SCHEME",Wu="SLASH_SCHEME",bC="NUM",E1="WS",vC="NL",Jh="OPENBRACE",Zh="CLOSEBRACE",Gg="OPENBRACKET",qg="CLOSEBRACKET",Wg="OPENPAREN",Yg="CLOSEPAREN",Xg="OPENANGLEBRACKET",Jg="CLOSEANGLEBRACKET",Zg="FULLWIDTHLEFTPAREN",em="FULLWIDTHRIGHTPAREN",tm="LEFTCORNERBRACKET",im="RIGHTCORNERBRACKET",nm="LEFTWHITECORNERBRACKET",sm="RIGHTWHITECORNERBRACKET",rm="FULLWIDTHLESSTHAN",om="FULLWIDTHGREATERTHAN",am="AMPERSAND",yC="APOSTROPHE",lm="ASTERISK",Fa="AT",um="BACKSLASH",cm="BACKTICK",dm="CARET",Ua="COLON",wC="COMMA",hm="DOLLAR",Yr="DOT",Am="EQUALS",CC="EXCLAMATION",cr="HYPHEN",eA="PERCENT",fm="PIPE",pm="PLUS",gm="POUND",tA="QUERY",EC="QUOTE",Y3="FULLWIDTHMIDDLEDOT",xC="SEMI",Xr="SLASH",iA="TILDE",mm="UNDERSCORE",X3="EMOJI",bm="SYM";var J3=Object.freeze({__proto__:null,WORD:Qo,UWORD:y1,ASCIINUMERICAL:q3,ALPHANUMERICAL:W3,LOCALHOST:DA,TLD:w1,UTLD:C1,SCHEME:ug,SLASH_SCHEME:Wu,NUM:bC,WS:E1,NL:vC,OPENBRACE:Jh,CLOSEBRACE:Zh,OPENBRACKET:Gg,CLOSEBRACKET:qg,OPENPAREN:Wg,CLOSEPAREN:Yg,OPENANGLEBRACKET:Xg,CLOSEANGLEBRACKET:Jg,FULLWIDTHLEFTPAREN:Zg,FULLWIDTHRIGHTPAREN:em,LEFTCORNERBRACKET:tm,RIGHTCORNERBRACKET:im,LEFTWHITECORNERBRACKET:nm,RIGHTWHITECORNERBRACKET:sm,FULLWIDTHLESSTHAN:rm,FULLWIDTHGREATERTHAN:om,AMPERSAND:am,APOSTROPHE:yC,ASTERISK:lm,AT:Fa,BACKSLASH:um,BACKTICK:cm,CARET:dm,COLON:Ua,COMMA:wC,DOLLAR:hm,DOT:Yr,EQUALS:Am,EXCLAMATION:CC,HYPHEN:cr,PERCENT:eA,PIPE:fm,PLUS:pm,POUND:gm,QUERY:tA,QUOTE:EC,FULLWIDTHMIDDLEDOT:Y3,SEMI:xC,SLASH:Xr,TILDE:iA,UNDERSCORE:mm,EMOJI:X3,SYM:bm});const ko=/[a-z]/,Bd=new RegExp("\\p{L}","u"),rv=new RegExp("\\p{Emoji}","u"),Io=/\d/,ov=/\s/,jE="\r",av="\n",x6="️",T6="‍",lv="￼";let up=null,cp=null;function _6(t=[]){const e={};Js.groups=e;const i=new Js;up==null&&(up=zE(b6)),cp==null&&(cp=zE(v6)),nt(i,"'",yC),nt(i,"{",Jh),nt(i,"}",Zh),nt(i,"[",Gg),nt(i,"]",qg),nt(i,"(",Wg),nt(i,")",Yg),nt(i,"<",Xg),nt(i,">",Jg),nt(i,"（",Zg),nt(i,"）",em),nt(i,"「",tm),nt(i,"」",im),nt(i,"『",nm),nt(i,"』",sm),nt(i,"＜",rm),nt(i,"＞",om),nt(i,"&",am),nt(i,"*",lm),nt(i,"@",Fa),nt(i,"`",cm),nt(i,"^",dm),nt(i,":",Ua),nt(i,",",wC),nt(i,"$",hm),nt(i,".",Yr),nt(i,"=",Am),nt(i,"!",CC),nt(i,"-",cr),nt(i,"%",eA),nt(i,"|",fm),nt(i,"+",pm),nt(i,"#",gm),nt(i,"?",tA),nt(i,'"',EC),nt(i,"/",Xr),nt(i,";",xC),nt(i,"~",iA),nt(i,"_",mm),nt(i,"\\",um),nt(i,"・",Y3);const s=Xi(i,Io,bC,{[g1]:!0});Xi(s,Io,s);const n=Xi(s,ko,q3,{[Xh]:!0}),r=Xi(s,Bd,W3,{[kh]:!0}),o=Xi(i,ko,Qo,{[m1]:!0});Xi(o,Io,n),Xi(o,ko,o),Xi(n,Io,n),Xi(n,ko,n);const a=Xi(i,Bd,y1,{[b1]:!0});Xi(a,ko),Xi(a,Io,r),Xi(a,Bd,a),Xi(r,Io,r),Xi(r,ko),Xi(r,Bd,r);const l=nt(i,av,vC,{[sv]:!0}),u=nt(i,jE,E1,{[sv]:!0}),c=Xi(i,ov,E1,{[sv]:!0});nt(i,lv,c),nt(u,av,l),nt(u,lv,c),Xi(u,ov,c),nt(c,jE),nt(c,av),Xi(c,ov,c),nt(c,lv,c);const h=Xi(i,rv,X3,{[G3]:!0});nt(h,"#"),Xi(h,rv,h),nt(h,x6,h);const A=nt(h,T6);nt(A,"#"),Xi(A,rv,h);const f=[[ko,o],[Io,n]],m=[[ko,null],[Bd,a],[Io,r]];for(let p=0;p<up.length;p++)va(i,up[p],w1,Qo,f);for(let p=0;p<cp.length;p++)va(i,cp[p],C1,y1,m);Vl(w1,{tld:!0,ascii:!0},e),Vl(C1,{utld:!0,alpha:!0},e),va(i,"file",ug,Qo,f),va(i,"mailto",ug,Qo,f),va(i,"http",Wu,Qo,f),va(i,"https",Wu,Qo,f),va(i,"ftp",Wu,Qo,f),va(i,"ftps",Wu,Qo,f),Vl(ug,{scheme:!0,ascii:!0},e),Vl(Wu,{slashscheme:!0,ascii:!0},e),t=t.sort((p,x)=>p[0]>x[0]?1:-1);for(let p=0;p<t.length;p++){const x=t[p][0],g=t[p][1]?{[y6]:!0}:{[w6]:!0};x.indexOf("-")>=0?g[v1]=!0:ko.test(x)?Io.test(x)?g[Xh]=!0:g[m1]=!0:g[g1]=!0,$E(i,x,x,g)}return $E(i,"localhost",DA,{ascii:!0}),i.jd=new Js(bm),{start:i,tokens:Bc({groups:e},J3)}}function Z3(t,e){const i=S6(e.replace(/[A-Z]/g,a=>a.toLowerCase())),s=i.length,n=[];let r=0,o=0;for(;o<s;){let a=t,l=null,u=0,c=null,h=-1,A=-1;for(;o<s&&(l=a.go(i[o]));)a=l,a.accepts()?(h=0,A=0,c=a):h>=0&&(h+=i[o].length,A++),u+=i[o].length,r+=i[o].length,o++;r-=h,o-=A,u-=h,n.push({t:c.t,v:e.slice(r-u,r),s:r-u,e:r})}return n}function S6(t){const e=[],i=t.length;let s=0;for(;s<i;){let n=t.charCodeAt(s),r,o=n<55296||n>56319||s+1===i||(r=t.charCodeAt(s+1))<56320||r>57343?t[s]:t.slice(s,s+2);e.push(o),s+=o.length}return e}function va(t,e,i,s,n){let r;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?r=t.j[l]:(r=new Js(s),r.jr=n.slice(),t.j[l]=r),t=r}return r=new Js(i),r.jr=n.slice(),t.j[e[o-1]]=r,r}function zE(t){const e=[],i=[];let s=0,n="0123456789";for(;s<t.length;){let r=0;for(;n.indexOf(t[s+r])>=0;)r++;if(r>0){e.push(i.join(""));for(let o=parseInt(t.substring(s,s+r),10);o>0;o--)i.pop();s+=r}else i.push(t[s]),s++}return e}const FA={defaultProtocol:"http",events:null,format:KE,formatHref:KE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function TC(t,e=null){let i=Bc({},FA);t&&(i=Bc(i,t instanceof TC?t.o:t));const s=i.ignoreTags,n=[];for(let r=0;r<s.length;r++)n.push(s[r].toUpperCase());this.o=i,e&&(this.defaultRender=e),this.ignoreTags=n}TC.prototype={o:FA,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,i){const s=e!=null;let n=this.o[t];return n&&(typeof n=="object"?(n=i.t in n?n[i.t]:FA[t],typeof n=="function"&&s&&(n=n(e,i))):typeof n=="function"&&s&&(n=n(e,i.t,i)),n)},getObj(t,e,i){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,i.t,i)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function KE(t){return t}function ek(t,e){this.t="token",this.v=t,this.tk=e}ek.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),i=t.get("truncate",e,this),s=t.get("format",e,this);return i&&s.length>i?s.substring(0,i)+"…":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=FA.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,i=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",i,this),n=t.get("tagName",i,e),r=this.toFormattedString(t),o={},a=t.get("className",i,e),l=t.get("target",i,e),u=t.get("rel",i,e),c=t.getObj("attributes",i,e),h=t.getObj("events",i,e);return o.href=s,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),c&&Bc(o,c),{tagName:n,attributes:o,content:r,eventListeners:h}}};function S0(t,e){class i extends ek{constructor(n,r){super(n,r),this.t=t}}for(const s in e)i.prototype[s]=e[s];return i.t=t,i}const GE=S0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),qE=S0("text"),B6=S0("nl"),dp=S0("url",{isLink:!0,toHref(t=FA.defaultProtocol){return this.hasProtocol()?this.v:"".concat(t,"://").concat(this.v)},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==DA&&t[1].t===Ua}}),ar=t=>new Js(t);function k6({groups:t}){const e=t.domain.concat([am,lm,Fa,um,cm,dm,hm,Am,cr,bC,eA,fm,pm,gm,Xr,bm,iA,mm]),i=[Ua,wC,Yr,CC,eA,tA,EC,xC,Xg,Jg,Jh,Zh,qg,Gg,Wg,Yg,Zg,em,tm,im,nm,sm,rm,om],s=[am,yC,lm,um,cm,dm,hm,Am,cr,Jh,Zh,eA,fm,pm,gm,tA,Xr,bm,iA,mm],n=ar(),r=nt(n,iA);Wt(r,s,r),Wt(r,t.domain,r);const o=ar(),a=ar(),l=ar();Wt(n,t.domain,o),Wt(n,t.scheme,a),Wt(n,t.slashscheme,l),Wt(o,s,r),Wt(o,t.domain,o);const u=nt(o,Fa);nt(r,Fa,u),nt(a,Fa,u),nt(l,Fa,u);const c=nt(r,Yr);Wt(c,s,r),Wt(c,t.domain,r);const h=ar();Wt(u,t.domain,h),Wt(h,t.domain,h);const A=nt(h,Yr);Wt(A,t.domain,h);const f=ar(GE);Wt(A,t.tld,f),Wt(A,t.utld,f),nt(u,DA,f);const m=nt(h,cr);nt(m,cr,m),Wt(m,t.domain,h),Wt(f,t.domain,h),nt(f,Yr,A),nt(f,cr,m);const p=nt(f,Ua);Wt(p,t.numeric,GE);const x=nt(o,cr),C=nt(o,Yr);nt(x,cr,x),Wt(x,t.domain,o),Wt(C,s,r),Wt(C,t.domain,o);const g=ar(dp);Wt(C,t.tld,g),Wt(C,t.utld,g),Wt(g,t.domain,o),Wt(g,s,r),nt(g,Yr,C),nt(g,cr,x),nt(g,Fa,u);const w=nt(g,Ua),S=ar(dp);Wt(w,t.numeric,S);const I=ar(dp),O=ar();Wt(I,e,I),Wt(I,i,O),Wt(O,e,I),Wt(O,i,O),nt(g,Xr,I),nt(S,Xr,I);const U=nt(a,Ua),$=nt(l,Ua),k=nt($,Xr),P=nt(k,Xr);Wt(a,t.domain,o),nt(a,Yr,C),nt(a,cr,x),Wt(l,t.domain,o),nt(l,Yr,C),nt(l,cr,x),Wt(U,t.domain,I),nt(U,Xr,I),nt(U,tA,I),Wt(P,t.domain,I),Wt(P,e,I),nt(P,Xr,I);const T=[[Jh,Zh],[Gg,qg],[Wg,Yg],[Xg,Jg],[Zg,em],[tm,im],[nm,sm],[rm,om]];for(let R=0;R<T.length;R++){const[E,_]=T[R],F=nt(I,E);nt(O,E,F),nt(F,_,I);const V=ar(dp);Wt(F,e,V);const Q=ar();Wt(F,i),Wt(V,e,V),Wt(V,i,Q),Wt(Q,e,V),Wt(Q,i,Q),nt(V,_,I),nt(Q,_,I)}return nt(n,DA,g),nt(n,vC,B6),{start:n,tokens:J3}}function I6(t,e,i){let s=i.length,n=0,r=[],o=[];for(;n<s;){let a=t,l=null,u=null,c=0,h=null,A=-1;for(;n<s&&!(l=a.go(i[n].t));)o.push(i[n++]);for(;n<s&&(u=l||a.go(i[n].t));)l=null,a=u,a.accepts()?(A=0,h=a):A>=0&&A++,n++,c++;if(A<0)n-=c,n<s&&(o.push(i[n]),n++);else{o.length>0&&(r.push(uv(qE,e,o)),o=[]),n-=A,c-=A;const f=h.t,m=i.slice(n-c,n);r.push(uv(f,e,m))}}return o.length>0&&r.push(uv(qE,e,o)),r}function uv(t,e,i){const s=i[0].s,n=i[i.length-1].e,r=e.slice(s,n);return new t(r,i)}const qn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function D6(){qn.scanner=_6(qn.customSchemes);for(let t=0;t<qn.tokenQueue.length;t++)qn.tokenQueue[t][1]({scanner:qn.scanner});qn.parser=k6(qn.scanner.tokens);for(let t=0;t<qn.pluginQueue.length;t++)qn.pluginQueue[t][1]({scanner:qn.scanner,parser:qn.parser});return qn.initialized=!0,qn}function tk(t){return qn.initialized||D6(),I6(qn.parser.start,t,Z3(qn.scanner.start,t))}tk.scan=Z3;var F6={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},P6=/^#[xX]([A-Fa-f0-9]+)$/,L6=/^#([0-9]+)$/,R6=/^([A-Za-z0-9]+)$/,M6=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var i=e.match(P6);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=e.match(L6),i)return String.fromCharCode(parseInt(i[1],10));if(i=e.match(R6),i)return this.named[i[1]]||"&"+i[1]+";"}},t}(),O6=/[\t\n\f ]/,U6=/[A-Za-z]/,N6=/\r\n?/g;function zn(t){return O6.test(t)}function WE(t){return U6.test(t)}function H6(t){return t.replace(N6,"\n")}var Q6=function(){function t(e,i,s){s===void 0&&(s="precompile"),this.delegate=e,this.entityParser=i,this.mode=s,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var n=this.peek();if(n==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&n==="\n"){var r=this.tagNameBuffer.toLowerCase();(r==="pre"||r==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var n=this.peek(),r=this.tagNameBuffer;n==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):n==="&"&&r!=="script"&&r!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(n))},tagOpen:function(){var n=this.consume();n==="!"?this.transitionTo("markupDeclarationOpen"):n==="/"?this.transitionTo("endTagOpen"):(n==="@"||n===":"||WE(n))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(n))},markupDeclarationOpen:function(){var n=this.consume();if(n==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var r=n.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();r==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var n=this.consume();zn(n)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var n=this.consume();zn(n)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase()))},doctypeName:function(){var n=this.consume();zn(n)?this.transitionTo("afterDoctypeName"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase())},afterDoctypeName:function(){var n=this.consume();if(!zn(n))if(n===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var r=n.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=r.toUpperCase()==="PUBLIC",a=r.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var n=this.peek();zn(n)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):n==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):n==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):n===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},doctypePublicIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},afterDoctypePublicIdentifier:function(){var n=this.consume();zn(n)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var n=this.consume();zn(n)||(n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},doctypeSystemIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},afterDoctypeSystemIdentifier:function(){var n=this.consume();zn(n)||n===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var n=this.consume();n==="-"?this.transitionTo("commentStartDash"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(n),this.transitionTo("comment"))},commentStartDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var n=this.consume();n==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(n)},commentEndDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+n),this.transitionTo("comment"))},commentEnd:function(){var n=this.consume();n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+n),this.transitionTo("comment"))},tagName:function(){var n=this.consume();zn(n)?this.transitionTo("beforeAttributeName"):n==="/"?this.transitionTo("selfClosingStartTag"):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(n)},endTagName:function(){var n=this.consume();zn(n)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):n==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(n)},beforeAttributeName:function(){var n=this.peek();if(zn(n)){this.consume();return}else n==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var n=this.peek();zn(n)?(this.transitionTo("afterAttributeName"),this.consume()):n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==='"'||n==="'"||n==="<"?(this.delegate.reportSyntaxError(n+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(n)):(this.consume(),this.delegate.appendToAttributeName(n))},afterAttributeName:function(){var n=this.peek();if(zn(n)){this.consume();return}else n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n))},beforeAttributeValue:function(){var n=this.peek();zn(n)?this.consume():n==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(n))},attributeValueDoubleQuoted:function(){var n=this.consume();n==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueSingleQuoted:function(){var n=this.consume();n==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueUnquoted:function(){var n=this.peek();zn(n)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):n===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(n))},afterAttributeValueQuoted:function(){var n=this.peek();zn(n)?(this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var n=this.peek();n===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var n=this.consume();(n==="@"||n===":"||WE(n))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(n))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=H6(e);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e==="\n"?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var i=this.input.slice(this.index,e),s=this.entityParser.parse(i);if(s){for(var n=i.length;n;)this.consume(),n--;return this.consume(),s}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),V6=function(){function t(e,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Q6(this,e,i.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var i=0;i<arguments.length;i++)if(e.type===arguments[i])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=e:i.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=e:i.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function $6(t,e){var i=new V6(new M6(F6),e);return i.tokenize(t)}const ik="LinkifyResult",vm="StartTag",nk="EndTag",x1="Chars",j6="Comment",z6="Doctype";function K6(t,e={}){const i=$6(t),s=[],n=[],r=new TC(e,W6);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===vm){s.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||r.ignoreTags.indexOf(l)>=0))continue;let c=s.length;q6(l,i,++o,s),o+=s.length-c-1}else if(a.type!==x1)s.push(a);else{const l=G6(a.chars,r);s.push.apply(s,l)}}for(let o=0;o<s.length;o++){const a=s[o];switch(a.type){case ik:n.push(a.rendered);break;case vm:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+X6(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",n.push(l);break}case nk:n.push("</".concat(a.tagName,">"));break;case x1:n.push(T1(a.chars));break;case j6:n.push("<!--".concat(T1(a.chars),"-->"));break;case z6:{let l="<!DOCTYPE ".concat(a.name);a.publicIdentifier&&(l+=' PUBLIC "'.concat(a.publicIdentifier,'"')),a.systemIdentifier&&(l+=' "'.concat(a.systemIdentifier,'"')),l+=">",n.push(l);break}}}return n.join("")}function G6(t,e){const i=tk(t),s=[];for(let n=0;n<i.length;n++){const r=i[n];r.t==="nl"&&e.get("nl2br")?s.push({type:vm,tagName:"br",attributes:[],selfClosing:!0}):!r.isLink||!e.check(r)?s.push({type:x1,chars:r.toString()}):s.push({type:ik,rendered:e.render(r)})}return s}function q6(t,e,i,s){let n=1;for(;i<e.length&&n>0;){let r=e[i];r.type===vm&&r.tagName.toUpperCase()===t?n++:r.type===nk&&r.tagName.toUpperCase()===t&&n--,s.push(r),i++}return s}function W6({tagName:t,attributes:e,content:i}){return"<".concat(t," ").concat(Y6(e),">").concat(T1(i),"</").concat(t,">")}function T1(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sk(t){return t.replace(/"/g,"&quot;")}function Y6(t){const e=[];for(const i in t){const s=t[i]+"";e.push("".concat(i,'="').concat(sk(s),'"'))}return e.join(" ")}function X6(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i][0],n=t[i][1]+"";e.push("".concat(s,'="').concat(sk(n),'"'))}return e}var cv={},YE;function rk(){if(YE)return cv;YE=1;function t(e){return e==null}return cv.isNil=t,cv}var dv,XE;function ok(){if(XE)return dv;XE=1;function t(e){return typeof e=="string"}return dv=t,dv}var hv={},JE;function J6(){if(JE)return hv;JE=1;var t=rk(),e=ok();function i(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return t.isNil(s)?n:e(s)?s:String(s)}return hv.coerceToString=i,hv}var Sn={},ZE;function Z6(){if(ZE)return Sn;ZE=1;var t="\\d",e="\\s\\uFEFF\\xA0",i="\\uD800-\\uDBFF",s="\\uDC00-\\uDFFF",n="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",r="\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF",o=new RegExp("(["+r+"]|["+i+"]["+s+"]|["+i+"](?!["+s+"])|(?:[^"+i+"]|^)["+s+"])(["+n+"]+)","g"),a=new RegExp("(["+i+"])(["+s+"])","g"),l=new RegExp("((?:["+r+"]|["+i+"]["+s+"]|["+i+"](?!["+s+"])|(?:[^"+i+"]|^)["+s+"])(?:["+n+"]+))|	(["+i+"]["+s+"])|	([\\n\\r\\u2028\\u2029])|	(.)","g"),u=new RegExp("["+e+"]"),c=new RegExp("^["+e+"]+"),h=new RegExp("["+e+"]+$"),A=new RegExp("^"+t+"+$"),f=/[-[\]{}()*+!<=:?./\\^$|#,]/g,m=/[^A-Za-z0-9]/g,p=/[<>&"'`]/g,x=/(%{1,2})(?:(\d+)\$)?(\+)?([ 0]|'.{1})?(-)?(\d+)?(?:\.(\d+))?([bcdiouxXeEfgGs])?/g,C=/\.?0+$/g,g=/<([A-Za-z0-9]+)>/g;return Sn.REGEXP_COMBINING_MARKS=o,Sn.REGEXP_CONVERSION_SPECIFICATION=x,Sn.REGEXP_DIGIT=A,Sn.REGEXP_HTML_SPECIAL_CHARACTERS=p,Sn.REGEXP_NON_LATIN=m,Sn.REGEXP_SPECIAL_CHARACTERS=f,Sn.REGEXP_SURROGATE_PAIRS=a,Sn.REGEXP_TAG_LIST=g,Sn.REGEXP_TRAILING_ZEROS=C,Sn.REGEXP_TRIM_LEFT=c,Sn.REGEXP_TRIM_RIGHT=h,Sn.REGEXP_UNICODE_CHARACTER=l,Sn.REGEXP_WHITESPACE=u,Sn.diacriticalMark=n,Sn.digit=t,Sn.whitespace=e,Sn}var Av,ex;function e8(){if(ex)return Av;ex=1,rk(),ok();var t=J6(),e=Z6();function i(f,m,p){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,C=0;x&&(C=-m.length+1);var g=f.substr(p+C,m.length);return g.toLowerCase()===m}function s(f){for(var m=[],p;(p=e.REGEXP_TAG_LIST.exec(f))!==null;)m.push(p[1]);return m}var n=0,r=1,o=2;function a(f){for(var m=n,p="",x=0;m!==o;){var C=f[x++].toLowerCase();switch(C){case"<":break;case">":m=o;break;default:e.REGEXP_WHITESPACE.test(C)?m===r&&(m=o):(m===n&&(m=r),C!=="/"&&(p+=C));break}}return p}var l=0,u=1,c=2,h=3;function A(f,m,p){if(f=t.coerceToString(f),f==="")return"";if(!Array.isArray(m)){var x=t.coerceToString(m);m=x===""?[]:s(x)}for(var C=t.coerceToString(p),g=f.length,w=m.length>0,S=i.bind(null,f),I=l,O=0,U="",$="",k=null,P=0;P<g;P++){var T=f[P],R=!1;switch(T){case"<":if(k)break;if(S("< ",P,!1)){R=!0;break}if(I===l){R=!0,I=u;break}if(I===u){O++;break}R=!0;break;case"!":if(I===u&&S("<!",P)){I=c;break}R=!0;break;case"-":if(I===c&&S("!--",P)){I=h;break}R=!0;break;case'"':case"'":I===u&&(k===T?k=null:k||(k=T)),R=!0;break;case"E":case"e":if(I===c&&S("doctype",P)){I=u;break}R=!0;break;case">":if(O>0){O--;break}if(k)break;if(I===u){if(k=null,I=l,w){$+=">";var E=a($);m.indexOf(E.toLowerCase())!==-1?U+=$:U+=C,$=""}else U+=C;break}if(I===c||I===h&&S("-->",P)){k=null,I=l,$="";break}R=!0;break;default:R=!0}if(R)switch(I){case l:U+=T;break;case u:w&&($+=T);break}}return U}return Av=A,Av}var t8=e8();const i8=nr(t8),n8={name:"PTexte",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!0,titre:"",id:"",w:0,h:0,x:0,y:0,minw:53,minh:46,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},editeur:"",texte:"",taille:3.2,couleurFond:"#ffffff"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,taille:this.taille,couleurFond:this.couleurFond},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("texte"),typeof this.panneau.contenu=="object"&&this.panneau.contenu.constructor===Object?(this.texte=this.panneau.contenu.texte,this.taille=this.panneau.contenu.taille,this.couleurFond=this.panneau.contenu.couleurFond):this.panneau.contenu!==""&&(this.texte=this.panneau.contenu),this.mode==="lecture"&&(this.minw=27,this.minh=8,this.$nextTick(function(){window.MathJax.typeset()})),this.genererOptions("texte")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,setTimeout((function(){this.mode==="edition"?(this.creer(),this.texte===""&&document.querySelector("#"+this.id+" .pell-content").focus()):this.mode==="lecture"&&this.couleurFond!=="#ffffff"&&(document.querySelector("#"+this.id+" .jsPanel-hdr").style.background=this.couleurFond,document.querySelector("#"+this.id+" .jsPanel-content").style.background=this.couleurFond)}).bind(this),0)},methods:{generer(){this.texte!==""&&(this.mode="lecture",this.editeur="",this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=30,this.h=20),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.minw=27,this.minh=8,this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner(),this.couleurFond!=="#ffffff"&&(document.querySelector("#"+this.id+" .jsPanel-hdr").style.background=this.couleurFond,document.querySelector("#"+this.id+" .jsPanel-content").style.background=this.couleurFond),this.$nextTick(function(){window.MathJax.typeset()}))},editer(){this.mode="edition",this.$nextTick((function(){this.creer(),this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=53,this.h=46,this.minw=53,this.minh=46,this.$nextTick((function(){document.querySelector("#"+this.id+" .pell-content").focus()}).bind(this)),this.positionner(),document.querySelector("#"+this.id+" .jsPanel-hdr").style.background="#ffffff",document.querySelector("#"+this.id+" .jsPanel-content").style.background="#ffffff"}).bind(this))},creer(){this.editeur=Hs.init({element:document.querySelector("#"+this.id+" .editeur"),onChange:(function(t){let e=t.replace(/(<a [^>]*)(target="[^"]*")([^>]*>)/gi,"$1$3");e=e.replace(/(<a [^>]*)(>)/gi,'$1 target="_blank"$2'),e=K6(e,{defaultProtocol:"https",target:"_blank"}),this.texte=e}).bind(this),actions:[{name:"taille-plus",title:this.$t("tailleTextePlus"),icon:'<i class="material-icons">add</i>',result:()=>this.augmenterTaille()},{name:"taille-moins",title:this.$t("tailleTexteMoins"),icon:'<i class="material-icons">remove</i>',result:()=>this.reduireTaille()},{name:"gras",title:this.$t("gras"),icon:'<i class="material-icons">format_bold</i>',result:()=>Hs.exec("bold")},{name:"italique",title:this.$t("italique"),icon:'<i class="material-icons">format_italic</i>',result:()=>Hs.exec("italic")},{name:"souligne",title:this.$t("souligne"),icon:'<i class="material-icons">format_underlined</i>',result:()=>Hs.exec("underline")},{name:"barre",title:this.$t("barre"),icon:'<i class="material-icons">format_strikethrough</i>',result:()=>Hs.exec("strikethrough")},{name:"listedecimale",title:this.$t("listeDecimale"),icon:'<i class="material-icons">format_list_numbered</i>',result:()=>Hs.exec("insertOrderedList")},{name:"liste",title:this.$t("liste"),icon:'<i class="material-icons">format_list_bulleted</i>',result:()=>Hs.exec("insertUnorderedList")},{name:"lien",title:this.$t("lien"),icon:'<i class="material-icons">link</i>',result:()=>{const t=window.prompt(this.$t("adresseLien"));t&&Hs.exec("createLink",t)}},{name:"aligner-gauche",title:this.$t("alignerGauche"),icon:'<i class="material-icons">format_align_left</i>',result:()=>Hs.exec("JustifyLeft")},{name:"centrer",title:this.$t("centrer"),icon:'<i class="material-icons">format_align_center</i>',result:()=>Hs.exec("JustifyCenter")},{name:"couleur-texte",title:this.$t("couleurTexte"),icon:'<label for="couleur-texte-'+this.id+'"><i class="material-icons">format_color_text</i></label><input id="couleur-texte-'+this.id+'" type="color">',result:()=>{}},{name:"couleur-fond",title:this.$t("couleurFond"),icon:'<label for="couleur-fond-'+this.id+'"><i class="material-icons">format_color_fill</i></label><input id="couleur-fond-'+this.id+'" type="color" value="'+this.couleurFond+'">',result:()=>{}}]}),this.editeur.onpaste=function(t){t.preventDefault(),t.stopPropagation();let e=t.clipboardData.getData("text/html");e!==""?(e=e.replace(/<style([\S\s]*?)>([\S\s]*?)<\/style>/mgi,""),e=i8(e,["b","i","u","strike","a","br","div","font","ul","ol"]),e=e.replace(/style=".*?"/mgi,""),e=e.replace(/class=".*?"/mgi,""),Hs.exec("insertHTML",e)):Hs.exec("insertText",t.clipboardData.getData("text/plain"))},this.editeur.content.innerHTML=this.texte,document.querySelector("#"+this.id+" .editeur .pell-content").style.backgroundColor=this.couleurFond,document.querySelector("#couleur-texte-"+this.id).addEventListener("change",this.modifierCouleurTexte),document.querySelector("#couleur-fond-"+this.id).addEventListener("change",this.modifierCouleurFond),document.querySelector("#couleur-texte-"+this.id).closest("button").setAttribute("tabindex","-1"),document.querySelector("#couleur-fond-"+this.id).closest("button").setAttribute("tabindex","-1")},modifierCouleurTexte(t){Hs.exec("foreColor",t.target.value)},modifierCouleurFond(t){document.querySelector("#"+this.id+" .editeur .pell-content").style.backgroundColor=t.target.value,this.couleurFond=t.target.value},augmenterTaille(){this.taille<10&&(this.taille=this.taille+.2)},reduireTaille(){this.taille>1&&(this.taille=this.taille-.2)},annulerTaille(){this.taille=3.2}}},s8={class:"conteneur panneau-texte"},r8={key:0,class:"contenu edition"},o8={key:1,class:"contenu"},a8=["innerHTML"];function l8(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[2]||(e[2]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",s8,[n.mode==="edition"?(z(),Z("div",r8,[d("div",{class:"editeur",style:hi({"font-size":t.convertirRem(n.taille)+"px"})},null,4),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[1]||(e[1]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",o8,[d("div",{class:"texte",style:hi({"font-size":t.convertirRem(n.taille)+"px"}),innerHTML:n.texte},null,12,a8)]))]),e[3]||(e[3]=d("div",{class:"conteneur-droite"},null,-1)),e[4]||(e[4]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const u8=It(n8,[["render",l8]]);/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function tx(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,s)}return i}function ho(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(i),!0).forEach(function(s){c8(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tx(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function cg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(e){return typeof e}:cg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function c8(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ta(){return ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ta.apply(this,arguments)}function d8(t,e){if(t==null)return{};var i={},s=Object.keys(t),n,r;for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function h8(t,e){if(t==null)return{};var i=d8(t,e),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)s=r[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}var A8="1.14.0";function Yo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var oa=Yo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),XA=Yo(/Edge/i),ix=Yo(/firefox/i),nA=Yo(/safari/i)&&!Yo(/chrome/i)&&!Yo(/android/i),ak=Yo(/iP(ad|od|hone)/i),f8=Yo(/chrome/i)&&Yo(/android/i),lk={capture:!1,passive:!1};function pi(t,e,i){t.addEventListener(e,i,!oa&&lk)}function di(t,e,i){t.removeEventListener(e,i,!oa&&lk)}function ym(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function p8(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Jr(t,e,i,s){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&ym(t,e):ym(t,e))||s&&t===i)return t;if(t===i)break}while(t=p8(t))}return null}var nx=/\s+/g;function $s(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(nx," ").replace(" "+e+" "," ");t.className=(s+(i?" "+e:"")).replace(nx," ")}}function Ft(t,e,i){var s=t&&t.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=i+(typeof i=="string"?"":"px")}}function gc(t,e){var i="";if(typeof t=="string")i=t;else do{var s=Ft(t,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function uk(t,e,i){if(t){var s=t.getElementsByTagName(e),n=0,r=s.length;if(i)for(;n<r;n++)i(s[n],n);return s}return[]}function lo(){var t=document.scrollingElement;return t||document.documentElement}function wn(t,e,i,s,n){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,a,l,u,c,h;if(t!==window&&t.parentNode&&t!==lo()?(r=t.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,u=r.right,c=r.height,h=r.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||i)&&t!==window&&(n=n||t.parentNode,!oa))do if(n&&n.getBoundingClientRect&&(Ft(n,"transform")!=="none"||i&&Ft(n,"position")!=="static")){var A=n.getBoundingClientRect();o-=A.top+parseInt(Ft(n,"border-top-width")),a-=A.left+parseInt(Ft(n,"border-left-width")),l=o+r.height,u=a+r.width;break}while(n=n.parentNode);if(s&&t!==window){var f=gc(n||t),m=f&&f.a,p=f&&f.d;f&&(o/=p,a/=m,h/=m,c/=p,l=o+c,u=a+h)}return{top:o,left:a,bottom:l,right:u,width:h,height:c}}}function sx(t,e,i){for(var s=Qa(t,!0),n=wn(t)[e];s;){var r=wn(s)[i],o=void 0;if(o=n>=r,!o)return s;if(s===lo())break;s=Qa(s,!1)}return!1}function kc(t,e,i,s){for(var n=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==Pt.ghost&&(s||o[r]!==Pt.dragged)&&Jr(o[r],i.draggable,t,!1)){if(n===e)return o[r];n++}r++}return null}function _C(t,e){for(var i=t.lastElementChild;i&&(i===Pt.ghost||Ft(i,"display")==="none"||e&&!ym(i,e));)i=i.previousElementSibling;return i||null}function dr(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Pt.clone&&(!e||ym(t,e))&&i++;return i}function rx(t){var e=0,i=0,s=lo();if(t)do{var n=gc(t),r=n.a,o=n.d;e+=t.scrollLeft*r,i+=t.scrollTop*o}while(t!==s&&(t=t.parentNode));return[e,i]}function g8(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[i][s])return Number(i)}return-1}function Qa(t,e){if(!t||!t.getBoundingClientRect)return lo();var i=t,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=Ft(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return lo();if(s||e)return i;s=!0}}while(i=i.parentNode);return lo()}function m8(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function fv(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var sA;function ck(t,e){return function(){if(!sA){var i=arguments,s=this;i.length===1?t.call(s,i[0]):t.apply(s,i),sA=setTimeout(function(){sA=void 0},e)}}}function b8(){clearTimeout(sA),sA=void 0}function dk(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function hk(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}var Zs="Sortable"+new Date().getTime();function v8(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(n){if(!(Ft(n,"display")==="none"||n===Pt.ghost)){t.push({target:n,rect:wn(n)});var r=ho({},t[t.length-1].rect);if(n.thisAnimationDuration){var o=gc(n,!0);o&&(r.top-=o.f,r.left-=o.e)}n.fromRect=r}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(g8(t,{target:s}),1)},animateAll:function(s){var n=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var r=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,h=wn(u),A=u.prevFromRect,f=u.prevToRect,m=a.rect,p=gc(u,!0);p&&(h.top-=p.f,h.left-=p.e),u.toRect=h,u.thisAnimationDuration&&fv(A,h)&&!fv(c,h)&&(m.top-h.top)/(m.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(l=w8(m,A,f,n.options)),fv(h,c)||(u.prevFromRect=c,u.prevToRect=h,l||(l=n.options.animation),n.animate(u,m,h,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),t=[]},animate:function(s,n,r,o){if(o){Ft(s,"transition",""),Ft(s,"transform","");var a=gc(this.el),l=a&&a.a,u=a&&a.d,c=(n.left-r.left)/(l||1),h=(n.top-r.top)/(u||1);s.animatingX=!!c,s.animatingY=!!h,Ft(s,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=y8(s),Ft(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Ft(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Ft(s,"transition",""),Ft(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function y8(t){return t.offsetWidth}function w8(t,e,i,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*s.animation}var Pu=[],pv={initializeByDefault:!0},JA={mount:function(e){for(var i in pv)pv.hasOwnProperty(i)&&!(i in e)&&(e[i]=pv[i]);Pu.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Pu.push(e)},pluginEvent:function(e,i,s){var n=this;this.eventCanceled=!1,s.cancel=function(){n.eventCanceled=!0};var r=e+"Global";Pu.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][r]&&i[o.pluginName][r](ho({sortable:i},s)),i.options[o.pluginName]&&i[o.pluginName][e]&&i[o.pluginName][e](ho({sortable:i},s)))})},initializePlugins:function(e,i,s,n){Pu.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,i,e.options);u.sortable=e,u.options=e.options,e[l]=u,ta(s,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,i){var s={};return Pu.forEach(function(n){typeof n.eventProperties=="function"&&ta(s,n.eventProperties.call(i[n.pluginName],e))}),s},modifyOption:function(e,i,s){var n;return Pu.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[i]=="function"&&(n=r.optionListeners[i].call(e[r.pluginName],s))}),n}};function C8(t){var e=t.sortable,i=t.rootEl,s=t.name,n=t.targetEl,r=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,h=t.newDraggableIndex,A=t.originalEvent,f=t.putSortable,m=t.extraEventProperties;if(e=e||i&&i[Zs],!!e){var p,x=e.options,C="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!oa&&!XA?p=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(s,!0,!0)),p.to=o||i,p.from=a||i,p.item=n||i,p.clone=r,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=h,p.originalEvent=A,p.pullMode=f?f.lastPutMode:void 0;var g=ho(ho({},m),JA.getEventProperties(s,e));for(var w in g)p[w]=g[w];i&&i.dispatchEvent(p),x[C]&&x[C].call(e,p)}}var E8=["evt"],ws=function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.evt,r=h8(s,E8);JA.pluginEvent.bind(Pt)(e,i,ho({dragEl:ot,parentEl:Ji,ghostEl:$t,rootEl:Qi,nextEl:Ml,lastDownEl:dg,cloneEl:en,cloneHidden:Na,dragStarted:Ih,putSortable:On,activeSortable:Pt.active,originalEvent:n,oldIndex:nc,oldDraggableIndex:rA,newIndex:qs,newDraggableIndex:Pa,hideGhostForTarget:gk,unhideGhostForTarget:mk,cloneNowHidden:function(){Na=!0},cloneNowShown:function(){Na=!1},dispatchSortableEvent:function(a){ls({sortable:i,name:a,originalEvent:n})}},r))};function ls(t){C8(ho({putSortable:On,cloneEl:en,targetEl:ot,rootEl:Qi,oldIndex:nc,oldDraggableIndex:rA,newIndex:qs,newDraggableIndex:Pa},t))}var ot,Ji,$t,Qi,Ml,dg,en,Na,nc,qs,rA,Pa,hp,On,Yu=!1,wm=!1,Cm=[],_l,Ir,gv,mv,ox,ax,Ih,Lu,oA,aA=!1,Ap=!1,hg,Kn,bv=[],_1=!1,Em=[],B0=typeof document<"u",fp=ak,lx=XA||oa?"cssFloat":"float",x8=B0&&!f8&&!ak&&"draggable"in document.createElement("div"),Ak=function(){if(B0){if(oa)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),fk=function(e,i){var s=Ft(e),n=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),r=kc(e,0,i),o=kc(e,1,i),a=r&&Ft(r),l=o&&Ft(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+wn(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+wn(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=n&&s[lx]==="none"||o&&s[lx]==="none"&&u+c>n)?"vertical":"horizontal"},T8=function(e,i,s){var n=s?e.left:e.top,r=s?e.right:e.bottom,o=s?e.width:e.height,a=s?i.left:i.top,l=s?i.right:i.bottom,u=s?i.width:i.height;return n===a||r===l||n+o/2===a+u/2},_8=function(e,i){var s;return Cm.some(function(n){var r=n[Zs].options.emptyInsertThreshold;if(!(!r||_C(n))){var o=wn(n),a=e>=o.left-r&&e<=o.right+r,l=i>=o.top-r&&i<=o.bottom+r;if(a&&l)return s=n}}),s},pk=function(e){function i(r,o){return function(a,l,u,c){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||h))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return i(r(a,l,u,c),o)(a,l,u,c);var A=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===A||r.join&&r.indexOf(A)>-1}}var s={},n=e.group;(!n||cg(n)!="object")&&(n={name:n}),s.name=n.name,s.checkPull=i(n.pull,!0),s.checkPut=i(n.put),s.revertClone=n.revertClone,e.group=s},gk=function(){!Ak&&$t&&Ft($t,"display","none")},mk=function(){!Ak&&$t&&Ft($t,"display","")};B0&&document.addEventListener("click",function(t){if(wm)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wm=!1,!1},!0);var Sl=function(e){if(ot){e=e.touches?e.touches[0]:e;var i=_8(e.clientX,e.clientY);if(i){var s={};for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[Zs]._onDragOver(s)}}},S8=function(e){ot&&ot.parentNode[Zs]._isOutsideThisEl(e.target)};function Pt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ta({},e),t[Zs]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fk(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Pt.supportPointer!==!1&&"PointerEvent"in window&&!nA,emptyInsertThreshold:5};JA.initializePlugins(this,t,i);for(var s in i)!(s in e)&&(e[s]=i[s]);pk(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:x8,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?pi(t,"pointerdown",this._onTapStart):(pi(t,"mousedown",this._onTapStart),pi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(pi(t,"dragover",this),pi(t,"dragenter",this)),Cm.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ta(this,v8())}Pt.prototype={constructor:Pt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Lu=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,ot):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,s=this.el,n=this.options,r=n.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=n.filter;if(R8(s),!ot&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||n.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&nA&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Jr(l,n.draggable,s,!1),!(l&&l.animated)&&dg!==l)){if(nc=dr(l),rA=dr(l,n.draggable),typeof c=="function"){if(c.call(this,e,l,this)){ls({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:s,fromEl:s}),ws("filter",i,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=Jr(u,h.trim(),s,!1),h)return ls({sortable:i,rootEl:h,name:"filter",targetEl:l,fromEl:s,toEl:s}),ws("filter",i,{evt:e}),!0}),c)){r&&e.cancelable&&e.preventDefault();return}n.handle&&!Jr(u,n.handle,s,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,s){var n=this,r=n.el,o=n.options,a=r.ownerDocument,l;if(s&&!ot&&s.parentNode===r){var u=wn(s);if(Qi=r,ot=s,Ji=ot.parentNode,Ml=ot.nextSibling,dg=s,hp=o.group,Pt.dragged=ot,_l={target:ot,clientX:(i||e).clientX,clientY:(i||e).clientY},ox=_l.clientX-u.left,ax=_l.clientY-u.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,ot.style["will-change"]="all",l=function(){if(ws("delayEnded",n,{evt:e}),Pt.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!ix&&n.nativeDraggable&&(ot.draggable=!0),n._triggerDragStart(e,i),ls({sortable:n,name:"choose",originalEvent:e}),$s(ot,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){uk(ot,c.trim(),vv)}),pi(a,"dragover",Sl),pi(a,"mousemove",Sl),pi(a,"touchmove",Sl),pi(a,"mouseup",n._onDrop),pi(a,"touchend",n._onDrop),pi(a,"touchcancel",n._onDrop),ix&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ot.draggable=!0),ws("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(XA||oa))){if(Pt.eventCanceled){this._onDrop();return}pi(a,"mouseup",n._disableDelayedDrag),pi(a,"touchend",n._disableDelayedDrag),pi(a,"touchcancel",n._disableDelayedDrag),pi(a,"mousemove",n._delayedDragTouchMoveHandler),pi(a,"touchmove",n._delayedDragTouchMoveHandler),o.supportPointer&&pi(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ot&&vv(ot),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;di(e,"mouseup",this._disableDelayedDrag),di(e,"touchend",this._disableDelayedDrag),di(e,"touchcancel",this._disableDelayedDrag),di(e,"mousemove",this._delayedDragTouchMoveHandler),di(e,"touchmove",this._delayedDragTouchMoveHandler),di(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?pi(document,"pointermove",this._onTouchMove):i?pi(document,"touchmove",this._onTouchMove):pi(document,"mousemove",this._onTouchMove):(pi(ot,"dragend",this),pi(Qi,"dragstart",this._onDragStart));try{document.selection?Ag(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Yu=!1,Qi&&ot){ws("dragStarted",this,{evt:i}),this.nativeDraggable&&pi(document,"dragover",S8);var s=this.options;!e&&$s(ot,s.dragClass,!1),$s(ot,s.ghostClass,!0),Pt.active=this,e&&this._appendGhost(),ls({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Ir){this._lastX=Ir.clientX,this._lastY=Ir.clientY,gk();for(var e=document.elementFromPoint(Ir.clientX,Ir.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ir.clientX,Ir.clientY),e!==i);)i=e;if(ot.parentNode[Zs]._isOutsideThisEl(e),i)do{if(i[Zs]){var s=void 0;if(s=i[Zs]._onDragOver({clientX:Ir.clientX,clientY:Ir.clientY,target:e,rootEl:i}),s&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);mk()}},_onTouchMove:function(e){if(_l){var i=this.options,s=i.fallbackTolerance,n=i.fallbackOffset,r=e.touches?e.touches[0]:e,o=$t&&gc($t,!0),a=$t&&o&&o.a,l=$t&&o&&o.d,u=fp&&Kn&&rx(Kn),c=(r.clientX-_l.clientX+n.x)/(a||1)+(u?u[0]-bv[0]:0)/(a||1),h=(r.clientY-_l.clientY+n.y)/(l||1)+(u?u[1]-bv[1]:0)/(l||1);if(!Pt.active&&!Yu){if(s&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if($t){o?(o.e+=c-(gv||0),o.f+=h-(mv||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var A="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Ft($t,"webkitTransform",A),Ft($t,"mozTransform",A),Ft($t,"msTransform",A),Ft($t,"transform",A),gv=c,mv=h,Ir=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$t){var e=this.options.fallbackOnBody?document.body:Qi,i=wn(ot,!0,fp,!0,e),s=this.options;if(fp){for(Kn=e;Ft(Kn,"position")==="static"&&Ft(Kn,"transform")==="none"&&Kn!==document;)Kn=Kn.parentNode;Kn!==document.body&&Kn!==document.documentElement?(Kn===document&&(Kn=lo()),i.top+=Kn.scrollTop,i.left+=Kn.scrollLeft):Kn=lo(),bv=rx(Kn)}$t=ot.cloneNode(!0),$s($t,s.ghostClass,!1),$s($t,s.fallbackClass,!0),$s($t,s.dragClass,!0),Ft($t,"transition",""),Ft($t,"transform",""),Ft($t,"box-sizing","border-box"),Ft($t,"margin",0),Ft($t,"top",i.top),Ft($t,"left",i.left),Ft($t,"width",i.width),Ft($t,"height",i.height),Ft($t,"opacity","0.8"),Ft($t,"position",fp?"absolute":"fixed"),Ft($t,"zIndex","100000"),Ft($t,"pointerEvents","none"),Pt.ghost=$t,e.appendChild($t),Ft($t,"transform-origin",ox/parseInt($t.style.width)*100+"% "+ax/parseInt($t.style.height)*100+"%")}},_onDragStart:function(e,i){var s=this,n=e.dataTransfer,r=s.options;if(ws("dragStart",this,{evt:e}),Pt.eventCanceled){this._onDrop();return}ws("setupClone",this),Pt.eventCanceled||(en=hk(ot),en.draggable=!1,en.style["will-change"]="",this._hideClone(),$s(en,this.options.chosenClass,!1),Pt.clone=en),s.cloneId=Ag(function(){ws("clone",s),!Pt.eventCanceled&&(s.options.removeCloneOnHide||Qi.insertBefore(en,ot),s._hideClone(),ls({sortable:s,name:"clone"}))}),!i&&$s(ot,r.dragClass,!0),i?(wm=!0,s._loopId=setInterval(s._emulateDragOver,50)):(di(document,"mouseup",s._onDrop),di(document,"touchend",s._onDrop),di(document,"touchcancel",s._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(s,n,ot)),pi(document,"drop",s),Ft(ot,"transform","translateZ(0)")),Yu=!0,s._dragStartId=Ag(s._dragStarted.bind(s,i,e)),pi(document,"selectstart",s),Ih=!0,nA&&Ft(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,s=e.target,n,r,o,a=this.options,l=a.group,u=Pt.active,c=hp===l,h=a.sort,A=On||u,f,m=this,p=!1;if(_1)return;function x(G,Y){ws(G,m,ho({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:n,targetRect:r,canSort:h,fromSortable:A,target:s,completed:g,onMove:function(W,ge){return pp(Qi,i,ot,n,W,wn(W),e,ge)},changed:w},Y))}function C(){x("dragOverAnimationCapture"),m.captureAnimationState(),m!==A&&A.captureAnimationState()}function g(G){return x("dragOverCompleted",{insertion:G}),G&&(c?u._hideClone():u._showClone(m),m!==A&&($s(ot,On?On.options.ghostClass:u.options.ghostClass,!1),$s(ot,a.ghostClass,!0)),On!==m&&m!==Pt.active?On=m:m===Pt.active&&On&&(On=null),A===m&&(m._ignoreWhileAnimating=s),m.animateAll(function(){x("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==A&&(A.animateAll(),A._ignoreWhileAnimating=null)),(s===ot&&!ot.animated||s===i&&!s.animated)&&(Lu=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(ot.parentNode[Zs]._isOutsideThisEl(e.target),!G&&Sl(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function w(){qs=dr(ot),Pa=dr(ot,a.draggable),ls({sortable:m,name:"change",toEl:i,newIndex:qs,newDraggableIndex:Pa,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=Jr(s,a.draggable,i,!0),x("dragOver"),Pt.eventCanceled)return p;if(ot.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||m._ignoreWhileAnimating===s)return g(!1);if(wm=!1,u&&!a.disabled&&(c?h||(o=Ji!==Qi):On===this||(this.lastPutMode=hp.checkPull(this,u,ot,e))&&l.checkPut(this,u,ot,e))){if(f=this._getDirection(e,s)==="vertical",n=wn(ot),x("dragOverValid"),Pt.eventCanceled)return p;if(o)return Ji=Qi,C(),this._hideClone(),x("revert"),Pt.eventCanceled||(Ml?Qi.insertBefore(ot,Ml):Qi.appendChild(ot)),g(!0);var S=_C(i,a.draggable);if(!S||D8(e,f,this)&&!S.animated){if(S===ot)return g(!1);if(S&&i===e.target&&(s=S),s&&(r=wn(s)),pp(Qi,i,ot,n,s,r,e,!!s)!==!1)return C(),i.appendChild(ot),Ji=i,w(),g(!0)}else if(S&&I8(e,f,this)){var I=kc(i,0,a,!0);if(I===ot)return g(!1);if(s=I,r=wn(s),pp(Qi,i,ot,n,s,r,e,!1)!==!1)return C(),i.insertBefore(ot,I),Ji=i,w(),g(!0)}else if(s.parentNode===i){r=wn(s);var O=0,U,$=ot.parentNode!==i,k=!T8(ot.animated&&ot.toRect||n,s.animated&&s.toRect||r,f),P=f?"top":"left",T=sx(s,"top","top")||sx(ot,"top","top"),R=T?T.scrollTop:void 0;Lu!==s&&(U=r[P],aA=!1,Ap=!k&&a.invertSwap||$),O=F8(e,s,r,f,k?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Ap,Lu===s);var E;if(O!==0){var _=dr(ot);do _-=O,E=Ji.children[_];while(E&&(Ft(E,"display")==="none"||E===$t))}if(O===0||E===s)return g(!1);Lu=s,oA=O;var F=s.nextElementSibling,V=!1;V=O===1;var Q=pp(Qi,i,ot,n,s,r,e,V);if(Q!==!1)return(Q===1||Q===-1)&&(V=Q===1),_1=!0,setTimeout(k8,30),C(),V&&!F?i.appendChild(ot):s.parentNode.insertBefore(ot,V?F:s),T&&dk(T,0,R-T.scrollTop),Ji=ot.parentNode,U!==void 0&&!Ap&&(hg=Math.abs(U-wn(s)[P])),w(),g(!0)}if(i.contains(ot))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){di(document,"mousemove",this._onTouchMove),di(document,"touchmove",this._onTouchMove),di(document,"pointermove",this._onTouchMove),di(document,"dragover",Sl),di(document,"mousemove",Sl),di(document,"touchmove",Sl)},_offUpEvents:function(){var e=this.el.ownerDocument;di(e,"mouseup",this._onDrop),di(e,"touchend",this._onDrop),di(e,"pointerup",this._onDrop),di(e,"touchcancel",this._onDrop),di(document,"selectstart",this)},_onDrop:function(e){var i=this.el,s=this.options;if(qs=dr(ot),Pa=dr(ot,s.draggable),ws("drop",this,{evt:e}),Ji=ot&&ot.parentNode,qs=dr(ot),Pa=dr(ot,s.draggable),Pt.eventCanceled){this._nulling();return}Yu=!1,Ap=!1,aA=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),S1(this.cloneId),S1(this._dragStartId),this.nativeDraggable&&(di(document,"drop",this),di(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),nA&&Ft(document.body,"user-select",""),Ft(ot,"transform",""),e&&(Ih&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),$t&&$t.parentNode&&$t.parentNode.removeChild($t),(Qi===Ji||On&&On.lastPutMode!=="clone")&&en&&en.parentNode&&en.parentNode.removeChild(en),ot&&(this.nativeDraggable&&di(ot,"dragend",this),vv(ot),ot.style["will-change"]="",Ih&&!Yu&&$s(ot,On?On.options.ghostClass:this.options.ghostClass,!1),$s(ot,this.options.chosenClass,!1),ls({sortable:this,name:"unchoose",toEl:Ji,newIndex:null,newDraggableIndex:null,originalEvent:e}),Qi!==Ji?(qs>=0&&(ls({rootEl:Ji,name:"add",toEl:Ji,fromEl:Qi,originalEvent:e}),ls({sortable:this,name:"remove",toEl:Ji,originalEvent:e}),ls({rootEl:Ji,name:"sort",toEl:Ji,fromEl:Qi,originalEvent:e}),ls({sortable:this,name:"sort",toEl:Ji,originalEvent:e})),On&&On.save()):qs!==nc&&qs>=0&&(ls({sortable:this,name:"update",toEl:Ji,originalEvent:e}),ls({sortable:this,name:"sort",toEl:Ji,originalEvent:e})),Pt.active&&((qs==null||qs===-1)&&(qs=nc,Pa=rA),ls({sortable:this,name:"end",toEl:Ji,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ws("nulling",this),Qi=ot=Ji=$t=Ml=en=dg=Na=_l=Ir=Ih=qs=Pa=nc=rA=Lu=oA=On=hp=Pt.dragged=Pt.ghost=Pt.clone=Pt.active=null,Em.forEach(function(e){e.checked=!0}),Em.length=gv=mv=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ot&&(this._onDragOver(e),B8(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,s=this.el.children,n=0,r=s.length,o=this.options;n<r;n++)i=s[n],Jr(i,o.draggable,this.el,!1)&&e.push(i.getAttribute(o.dataIdAttr)||L8(i));return e},sort:function(e,i){var s={},n=this.el;this.toArray().forEach(function(r,o){var a=n.children[o];Jr(a,this.options.draggable,n,!1)&&(s[r]=a)},this),i&&this.captureAnimationState(),e.forEach(function(r){s[r]&&(n.removeChild(s[r]),n.appendChild(s[r]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return Jr(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var s=this.options;if(i===void 0)return s[e];var n=JA.modifyOption(this,e,i);typeof n<"u"?s[e]=n:s[e]=i,e==="group"&&pk(s)},destroy:function(){ws("destroy",this);var e=this.el;e[Zs]=null,di(e,"mousedown",this._onTapStart),di(e,"touchstart",this._onTapStart),di(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(di(e,"dragover",this),di(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Cm.splice(Cm.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Na){if(ws("hideClone",this),Pt.eventCanceled)return;Ft(en,"display","none"),this.options.removeCloneOnHide&&en.parentNode&&en.parentNode.removeChild(en),Na=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Na){if(ws("showClone",this),Pt.eventCanceled)return;ot.parentNode==Qi&&!this.options.group.revertClone?Qi.insertBefore(en,ot):Ml?Qi.insertBefore(en,Ml):Qi.appendChild(en),this.options.group.revertClone&&this.animate(ot,en),Ft(en,"display",""),Na=!1}}};function B8(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function pp(t,e,i,s,n,r,o,a){var l,u=t[Zs],c=u.options.onMove,h;return window.CustomEvent&&!oa&&!XA?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=s,l.related=n||e,l.relatedRect=r||wn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(h=c.call(u,l,o)),h}function vv(t){t.draggable=!1}function k8(){_1=!1}function I8(t,e,i){var s=wn(kc(i.el,0,i.options,!0)),n=10;return e?t.clientX<s.left-n||t.clientY<s.top&&t.clientX<s.right:t.clientY<s.top-n||t.clientY<s.bottom&&t.clientX<s.left}function D8(t,e,i){var s=wn(_C(i.el,i.options.draggable)),n=10;return e?t.clientX>s.right+n||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+n}function F8(t,e,i,s,n,r,o,a){var l=s?t.clientY:t.clientX,u=s?i.height:i.width,c=s?i.top:i.left,h=s?i.bottom:i.right,A=!1;if(!o){if(a&&hg<u*n){if(!aA&&(oA===1?l>c+u*r/2:l<h-u*r/2)&&(aA=!0),aA)A=!0;else if(oA===1?l<c+hg:l>h-hg)return-oA}else if(l>c+u*(1-n)/2&&l<h-u*(1-n)/2)return P8(e)}return A=A||o,A&&(l<c+u*r/2||l>h-u*r/2)?l>c+u/2?1:-1:0}function P8(t){return dr(ot)<dr(t)?1:-1}function L8(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,s=0;i--;)s+=e.charCodeAt(i);return s.toString(36)}function R8(t){Em.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var s=e[i];s.checked&&Em.push(s)}}function Ag(t){return setTimeout(t,0)}function S1(t){return clearTimeout(t)}B0&&pi(document,"touchmove",function(t){(Pt.active||Yu)&&t.cancelable&&t.preventDefault()});Pt.utils={on:pi,off:di,css:Ft,find:uk,is:function(e,i){return!!Jr(e,i,e,!1)},extend:m8,throttle:ck,closest:Jr,toggleClass:$s,clone:hk,index:dr,nextTick:Ag,cancelNextTick:S1,detectDirection:fk,getChild:kc};Pt.get=function(t){return t[Zs]};Pt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Pt.utils=ho(ho({},Pt.utils),s.utils)),JA.mount(s)})};Pt.create=function(t,e){return new Pt(t,e)};Pt.version=A8;var fn=[],Dh,B1,k1=!1,yv,wv,xm,Fh;function M8(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?pi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pi(document,"pointermove",this._handleFallbackAutoScroll):s.touches?pi(document,"touchmove",this._handleFallbackAutoScroll):pi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?di(document,"dragover",this._handleAutoScroll):(di(document,"pointermove",this._handleFallbackAutoScroll),di(document,"touchmove",this._handleFallbackAutoScroll),di(document,"mousemove",this._handleFallbackAutoScroll)),ux(),fg(),b8()},nulling:function(){xm=B1=Dh=k1=Fh=yv=wv=null,fn.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var n=this,r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(r,o);if(xm=i,s||this.options.forceAutoScrollFallback||XA||oa||nA){Cv(i,this.options,a,s);var l=Qa(a,!0);k1&&(!Fh||r!==yv||o!==wv)&&(Fh&&ux(),Fh=setInterval(function(){var u=Qa(document.elementFromPoint(r,o),!0);u!==l&&(l=u,fg()),Cv(i,n.options,u,s)},10),yv=r,wv=o)}else{if(!this.options.bubbleScroll||Qa(a,!0)===lo()){fg();return}Cv(i,this.options,Qa(a,!1),!1)}}},ta(t,{pluginName:"scroll",initializeByDefault:!0})}function fg(){fn.forEach(function(t){clearInterval(t.pid)}),fn=[]}function ux(){clearInterval(Fh)}var Cv=ck(function(t,e,i,s){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=lo(),u=!1,c;B1!==i&&(B1=i,fg(),Dh=e.scroll,c=e.scrollFn,Dh===!0&&(Dh=Qa(i,!0)));var h=0,A=Dh;do{var f=A,m=wn(f),p=m.top,x=m.bottom,C=m.left,g=m.right,w=m.width,S=m.height,I=void 0,O=void 0,U=f.scrollWidth,$=f.scrollHeight,k=Ft(f),P=f.scrollLeft,T=f.scrollTop;f===l?(I=w<U&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),O=S<$&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(I=w<U&&(k.overflowX==="auto"||k.overflowX==="scroll"),O=S<$&&(k.overflowY==="auto"||k.overflowY==="scroll"));var R=I&&(Math.abs(g-n)<=o&&P+w<U)-(Math.abs(C-n)<=o&&!!P),E=O&&(Math.abs(x-r)<=o&&T+S<$)-(Math.abs(p-r)<=o&&!!T);if(!fn[h])for(var _=0;_<=h;_++)fn[_]||(fn[_]={});(fn[h].vx!=R||fn[h].vy!=E||fn[h].el!==f)&&(fn[h].el=f,fn[h].vx=R,fn[h].vy=E,clearInterval(fn[h].pid),(R!=0||E!=0)&&(u=!0,fn[h].pid=setInterval((function(){s&&this.layer===0&&Pt.active._onTouchMove(xm);var F=fn[this.layer].vy?fn[this.layer].vy*a:0,V=fn[this.layer].vx?fn[this.layer].vx*a:0;typeof c=="function"&&c.call(Pt.dragged.parentNode[Zs],V,F,t,xm,fn[this.layer].el)!=="continue"||dk(fn[this.layer].el,V,F)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&A!==l&&(A=Qa(A,!1)));k1=u}},30),bk=function(e){var i=e.originalEvent,s=e.putSortable,n=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var u=s||r;a();var c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,h=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(h)&&(o("spill"),this.onSpill({dragEl:n,putSortable:s}))}};function SC(){}SC.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var n=kc(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:bk};ta(SC,{pluginName:"revertOnSpill"});function BC(){}BC.prototype={onSpill:function(e){var i=e.dragEl,s=e.putSortable,n=s||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:bk};ta(BC,{pluginName:"removeOnSpill"});Pt.mount(new M8);Pt.mount(BC,SC);function O8(){return typeof window<"u"?window.console:global.console}const U8=O8();function N8(t){const e=Object.create(null);return function(s){return e[s]||(e[s]=t(s))}}const H8=/-(\w)/g,cx=N8(t=>t.replace(H8,(e,i)=>i?i.toUpperCase():""));function Ev(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function dx(t,e,i){const s=i===0?t.children[0]:t.children[i-1].nextSibling;t.insertBefore(e,s)}function Q8(t,e){return Object.values(t).indexOf(e)}function V8(t,e,i,s){if(!t)return[];const n=Object.values(t),r=e.length-s;return[...e].map((a,l)=>l>=r?n.length:n.indexOf(a))}function vk(t,e){this.$nextTick(()=>this.$emit(t.toLowerCase(),e))}function $8(t){return e=>{this.realList!==null&&this["onDrag"+t](e),vk.call(this,t,e)}}function j8(t){return["transition-group","TransitionGroup"].includes(t)}function z8(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?j8(e.name):!1}function K8(t,e){return e?{...e.props,...e.attrs}:t}const I1=["Start","Add","Remove","Update","End"],D1=["Choose","Unchoose","Sort","Filter","Clone"],G8=["Move",...I1,...D1].map(t=>"on"+t);let xv=null;const q8={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Xc=Yc({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...I1.map(t=>t.toLowerCase()),...D1.map(t=>t.toLowerCase())],props:q8,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const t=this.$slots.default?this.$slots.default():null,e=K8(this.$attrs,this.componentData);return t?(this.transitionMode=z8(t),mr(this.getTag(),e,t)):mr(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&U8.error("list props are mutually exclusive! Please set one.")},mounted(){const t={};I1.forEach(n=>{t["on"+n]=$8.call(this,n)}),D1.forEach(n=>{t["on"+n]=vk.bind(this,n)});const e=Object.keys(this.$attrs).reduce((n,r)=>(n[cx(r)]=this.$attrs[r],n),{}),i=Object.assign({},e,t,{onMove:(n,r)=>this.onDragMove(n,r)});!("draggable"in i)&&(i.draggable=">*");const s=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new Pt(s,i),s.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(t){this.updateOptions(t)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Je(this.component):this.tag},updateOptions(t){for(var e in t){const i=cx(e);G8.indexOf(i)===-1&&this._sortable.option(i,t[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=V8(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(t){const e=Q8(this.getChildrenNodes()||[],t);if(e===-1)return null;const i=this.realList[e];return{index:e,element:i}},emitChanges(t){this.$nextTick(()=>{this.$emit("change",t)})},alterList(t){if(this.list){t(this.list);return}const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=e=>e.splice(...arguments);this.alterList(t)},updatePosition(t,e){const i=s=>s.splice(e,0,s.splice(t,1)[0]);this.alterList(i)},getVmIndex(t){const e=this.visibleIndexes,i=e.length;return t>i-1?i:e[t]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(t){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[t].data=null;const i=this.getComponent();i.children=[],i.kept=void 0},onDragStart(t){this.computeIndexes(),this.context=this.getUnderlyingVm(t.item),this.context&&(t.item._underlying_vm_=this.clone(this.context.element),xv=t.item)},onDragAdd(t){const e=t.item._underlying_vm_;if(e===void 0)return;Ev(t.item);const i=this.getVmIndex(t.newIndex);this.spliceList(i,0,e),this.computeIndexes();const s={element:e,newIndex:i};this.emitChanges({added:s})},onDragRemove(t){if(dx(this.$el,t.item,t.oldIndex),t.pullMode==="clone"){Ev(t.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const i={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:i})},onDragUpdate(t){Ev(t.item),dx(t.from,t.item,t.oldIndex);const e=this.context.index,i=this.getVmIndex(t.newIndex);this.updatePosition(e,i);const s={element:this.context.element,oldIndex:e,newIndex:i};this.emitChanges({moved:s})},updateProperty(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},onDragMove(t,e){const i=this.move;if(!i||!this.realList)return!0;const s=this.getRelatedContextFromMoveEvent(t),n=this.context,r=this.computeFutureIndex(s,t);Object.assign(n,{futureIndex:r});const o=Object.assign({},t,{relatedContext:s,draggedContext:n});return i(o,e)},onDragEnd(){this.computeIndexes(),xv=null},getTrargetedComponent(t){return t.__draggable_component__},getRelatedContextFromMoveEvent({to:t,related:e}){const i=this.getTrargetedComponent(t);if(!i)return{component:i};const s=i.realList,n={list:s,component:i};if(t!==e&&s&&i.getUnderlyingVm){const r=i.getUnderlyingVm(e);if(r)return Object.assign(r,n)}return n},computeFutureIndex(t,e){const i=[...e.to.children].filter(o=>o.style.display!=="none");if(i.length===0)return 0;const s=i.indexOf(e.related),n=t.component.getVmIndex(s);return i.indexOf(xv)!==-1||!e.willInsertAfter?n:n+1}}});class bs{constructor(e){this.table=e}reloadData(e,i,s){return this.table.dataLoader.load(e,void 0,void 0,void 0,i,s)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,i){return typeof i<"u"&&(this.table.options[e]=i),this.table.options[e]}deprecationCheck(e,i,s){return this.table.deprecationAdvisor.check(e,i,s)}deprecationCheckMsg(e,i){return this.table.deprecationAdvisor.checkMsg(e,i)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class Ui{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset-document.documentElement.clientTop,left:i.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(e,i,s){var n=e?i.split(e):[i],r=n.length,o;for(let a=0;a<r&&(s=s[n[a]],o=s,!!s);a++);return o}static deepClone(e,i,s=[]){var n={}.__proto__,r=[].__proto__;i||(i=Object.assign(Array.isArray(e)?[]:{},e));for(var o in e){let a=e[o],l,u;a!=null&&typeof a=="object"&&(a.__proto__===n||a.__proto__===r)&&(l=s.findIndex(c=>c.subject===a),l>-1?i[o]=s[l].copy:(u=Object.assign(Array.isArray(a)?[]:{},a),s.unshift({subject:a,copy:u}),i[o]=this.deepClone(a,u,s)))}return i}}class kC extends bs{constructor(e,i,s){super(e),this.element=i,this.container=this._lookupContainer(),this.parent=s,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,i=this.table.element){return e===i?!0:i.parentNode?this._checkContainerIsParent(e,i.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var i=!(e instanceof MouseEvent),s=i?e.touches[0].pageX:e.pageX,n=i?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let r=Ui.elOffset(this.container);s-=r.left,n-=r.top}return{x:s,y:n}}elementPositionCoords(e,i="right"){var s=Ui.elOffset(e),n,r,o;switch(this.container!==document.body&&(n=Ui.elOffset(this.container),s.left-=n.left,s.top-=n.top),i){case"right":r=s.left+e.offsetWidth,o=s.top-1;break;case"bottom":r=s.left,o=s.top+e.offsetHeight;break;case"left":r=s.left,o=s.top-1;break;case"top":r=s.left,o=s.top;break;case"center":r=s.left+e.offsetWidth/2,o=s.top+e.offsetHeight/2;break}return{x:r,y:o,offset:s}}show(e,i){var s,n,r,o,a;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(r=e,a=this.elementPositionCoords(e,i),o=a.offset,s=a.x,n=a.y):typeof e=="number"?(o={top:0,left:0},s=e,n=i):(a=this.containerEventCoords(e),s=a.x,n=a.y,this.reversedX=!1),this.element.style.top=n+"px",this.element.style.left=s+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(s,n,r,o,i),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",l=>{l.stopPropagation()}),this)}_fitToScreen(e,i,s,n,r){var o=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",s?this.element.style.right=this.container.offsetWidth-n.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0),i+this.element.offsetHeight>Math.max(this.container.offsetHeight,o?this.container.scrollHeight:0))if(s)switch(r){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-s.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+s.offsetHeight+1+"px"}else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new kC(this.table,e,this),this.childPopup}}class ei extends bs{constructor(e,i){super(e),this._handler=null}initialize(){}registerTableOption(e,i){this.table.optionsList.register(e,i)}registerColumnOption(e,i){this.table.columnManager.optionsList.register(e,i)}registerTableFunction(e,i){typeof this.table[e]>"u"?this.table[e]=(...s)=>(this.table.initGuard(e),i(...s)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,i,s){return this.table.componentFunctionBinder.bind(e,i,s)}registerDataHandler(e,i){this.table.rowManager.registerDataPipelineHandler(e,i),this._handler=e}registerDisplayHandler(e,i){this.table.rowManager.registerDisplayPipelineHandler(e,i),this._handler=e}displayRows(e){var i=this.table.rowManager.displayRows.length-1,s;if(this._handler&&(s=this.table.rowManager.displayPipeline.findIndex(n=>n.handler===this._handler),s>-1&&(i=s)),e&&(i=i+e),this._handler)return i>-1?this.table.rowManager.getDisplayRows(i):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,i){i||(i=this._handler),i&&this.table.rowManager.refreshActiveData(i,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,i){return new kC(this.table,e,i)}alert(e,i){return this.table.alertManager.alert(e,i)}clearAlert(){return this.table.alertManager.clear()}}var W8={};class Ic extends ei{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var i=!1,s={};this.allowedTypes.forEach(n=>{var r="accessor"+(n.charAt(0).toUpperCase()+n.slice(1)),o;e.definition[r]&&(o=this.lookupAccessor(e.definition[r]),o&&(i=!0,s[r]={accessor:o,params:e.definition[r+"Params"]||{}}))}),i&&(e.modules.accessor=s)}lookupAccessor(e){var i=!1;switch(typeof e){case"string":Ic.accessors[e]?i=Ic.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i){var s="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),n=e.getComponent(),r=Ui.deepClone(e.data||{});return this.table.columnManager.traverse(function(o){var a,l,u,c;o.modules.accessor&&(l=o.modules.accessor[s]||o.modules.accessor.accessor||!1,l&&(a=o.getFieldValue(r),a!="undefined"&&(c=o.getComponent(),u=typeof l.params=="function"?l.params(a,r,i,c,n):l.params,o.setFieldValue(r,l.accessor(a,r,i,u,c,n)))))}),r}}Ic.moduleName="accessor";Ic.accessors=W8;var Y8={method:"GET"};function F1(t,e){var i=[];if(e=e||"",Array.isArray(t))t.forEach((n,r)=>{i=i.concat(F1(n,e?e+"["+r+"]":r))});else if(typeof t=="object")for(var s in t)i=i.concat(F1(t[s],e?e+"["+s+"]":s));else i.push({key:e,value:t});return i}function X8(t){var e=F1(t),i=[];return e.forEach(function(s){i.push(encodeURIComponent(s.key)+"="+encodeURIComponent(s.value))}),i.join("&")}function yk(t,e,i){return t&&i&&Object.keys(i).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",t+=(t.includes("?")?"&":"?")+X8(i)),t}function J8(t,e,i){var s;return new Promise((n,r)=>{if(t=this.urlGenerator.call(this.table,t,e,i),e.method.toUpperCase()!="GET")if(s=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],s){for(var o in s.headers)e.headers||(e.headers={}),typeof e.headers[o]>"u"&&(e.headers[o]=s.headers[o]);e.body=s.body.call(this,t,e,i)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);t?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(t,e).then(a=>{a.ok?a.json().then(l=>{n(l)}).catch(l=>{r(l),console.warn("Ajax Load Error - Invalid JSON returned",l)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),r(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),r(a)})):(console.warn("Ajax Load Error - No URL Set"),n([]))})}function P1(t,e){var i=[];if(e=e||"",Array.isArray(t))t.forEach((n,r)=>{i=i.concat(P1(n,e?e+"["+r+"]":r))});else if(typeof t=="object")for(var s in t)i=i.concat(P1(t[s],e?e+"["+s+"]":s));else i.push({key:e,value:t});return i}var Z8={json:{headers:{"Content-Type":"application/json"},body:function(t,e,i){return JSON.stringify(i)}},form:{headers:{},body:function(t,e,i){var s=P1(i),n=new FormData;return s.forEach(function(r){n.append(r.key,r.value)}),n}}};class Lr extends ei{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Lr.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Lr.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Lr.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,i,s,n){var r=this.table.options.ajaxParams;return r&&(typeof r=="function"&&(r=r.call(this.table)),n=Object.assign(Object.assign({},r),n)),n}requestDataCheck(e,i,s,n){return!!(!e&&this.url||typeof e=="string")}requestData(e,i,s,n,r){var o;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),o=this.generateConfig(s),this.sendRequest(this.url,i,o)):r}setDefaultConfig(e={}){this.config=Object.assign({},Lr.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var i=Object.assign({},this.config);return typeof e=="string"?i.method=e:Object.assign(i,e),i}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,i,s){return this.table.options.ajaxRequesting.call(this.table,e,i)!==!1?this.loaderPromise(e,s,i).then(n=>(this.table.options.ajaxResponse&&(n=this.table.options.ajaxResponse.call(this.table,e,i,n)),n)):Promise.reject()}}Lr.moduleName="ajax";Lr.defaultConfig=Y8;Lr.defaultURLGenerator=yk;Lr.defaultLoaderPromise=J8;Lr.contentTypeFormatters=Z8;var eO={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)},range:function(t){var e=[],i=this.table.modules.selectRange.activeRange,s=!1,n,r,o,a,l;return l=t.length,i&&(n=i.getBounds(),r=n.start,n.start===n.end&&(s=!0),r&&(e=this.table.rowManager.activeRows.slice(),o=e.indexOf(r.row),s?a=t.length:a=e.indexOf(n.end.row)-o+1,o>-1&&(this.table.blockRedraw(),e=e.slice(o,o+a),e.forEach((u,c)=>{u.updateData(t[c%l])}),this.table.restoreRedraw()))),e}},tO={table:function(t){var e=[],i=!0,s=this.table.columnManager.columns,n=[],r=[];return t=t.split("\n"),t.forEach(function(o){e.push(o.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(o){var a=s.find(function(l){return o&&l.definition.title&&o.trim()&&l.definition.title.trim()===o.trim()});a?n.push(a):i=!1}),i||(i=!0,n=[],e[0].forEach(function(o){var a=s.find(function(l){return o&&l.field&&o.trim()&&l.field.trim()===o.trim()});a?n.push(a):i=!1}),i||(n=this.table.columnManager.columnsByIndex)),i&&e.shift(),e.forEach(function(o){var a={};o.forEach(function(l,u){n[u]&&(a[n[u].field]=l)}),r.push(a)}),r):!1},range:function(t){var e=[],i=[],s=this.table.modules.selectRange.activeRange,n=!1,r,o,a,l,u;return s&&(r=s.getBounds(),o=r.start,r.start===r.end&&(n=!0),o&&(t=t.split("\n"),t.forEach(function(c){e.push(c.split("	"))}),e.length&&(l=this.table.columnManager.getVisibleColumnsByIndex(),u=l.indexOf(o.column),u>-1)))?(n?a=e[0].length:a=l.indexOf(r.end.column)-u+1,l=l.slice(u,u+a),e.forEach(c=>{var h={},A=c.length;l.forEach(function(f,m){h[f.field]=c[m%A]}),i.push(h)}),i):!1}};class au extends ei{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var i,s,n;this.blocked||(e.preventDefault(),this.customSelection?(i=this.customSelection,this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i))):(n=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),s=this.table.modules.export.generateHTMLTable(n),i=s?this.generatePlainContent(n):"",this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i),s=this.table.options.clipboardCopyFormatter("html",s))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",i):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",i),s&&e.clipboardData.setData("text/html",s)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",i),s&&e.originalEvent.clipboardData.setData("text/html",s)),this.dispatchExternal("clipboardCopied",i,s),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var i=[];return e.forEach(s=>{var n=[];s.columns.forEach(r=>{var o="";if(r)if(s.type==="group"&&(r.value=r.component.getKey()),r.value===null)o="";else switch(typeof r.value){case"object":o=JSON.stringify(r.value);break;case"undefined":o="";break;default:o=r.value}n.push(o)}),i.push(n.join("	"))}),i.join("\n")}copy(e,i){var s,n;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),s=window.getSelection(),s.toString()&&i&&(this.customSelection=s.toString()),s.removeAllRanges(),s.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(n=document.body.createTextRange(),n.moveToElementText(this.table.element),n.select()),document.execCommand("copy"),s&&s.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=au.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=au.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var i,s,n;this.checkPasteOrigin(e)&&(i=this.getPasteData(e),s=this.pasteParser.call(this,i),s?(e.preventDefault(),this.table.modExists("mutator")&&(s=this.mutateData(s)),n=this.pasteAction.call(this,s),this.dispatchExternal("clipboardPasted",i,s,n)):this.dispatchExternal("clipboardPasteError",i))}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(s=>{i.push(this.table.modules.mutator.transformRow(s,"clipboard"))}):i=e,i}checkPasteOrigin(e){var i=!0,s=this.confirm("clipboard-paste",[e]);return(s||!["DIV","SPAN"].includes(e.target.tagName))&&(i=!1),i}getPasteData(e){var i;return window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?i=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),i}}au.moduleName="clipboard";au.pasteActions=eO;au.pasteParsers=tO;class iO{constructor(e){return this._row=e,new Proxy(this,{get:function(i,s,n){return typeof i[s]<"u"?i[s]:i._row.table.componentFunctionBinder.handle("row",i._row,s)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}_getSelf(){return this._row}}class wk{constructor(e){return this._cell=e,new Proxy(this,{get:function(i,s,n){return typeof i[s]<"u"?i[s]:i._cell.table.componentFunctionBinder.handle("cell",i._cell,s)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,i){typeof i>"u"&&(i=!0),this._cell.setValue(e,i)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class ZA extends bs{constructor(e,i){super(e.table),this.table=e.table,this.column=e,this.row=i,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var e=this.element,i=this.column.getField(),s={top:"flex-start",bottom:"flex-end",middle:"center"},n={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=s[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=n[this.column.hozAlign]||"")),i&&e.setAttribute("tabulator-field",i),this.column.definition.cssClass){var r=this.column.definition.cssClass.split(" ");r.forEach(o=>{e.classList.add(o)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,i,s){var n=this.setValueProcessData(e,i,s);n&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,i,s){var n=!1;return(this.value!==e||s)&&(n=!0,i&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),n&&this.dispatch("cell-value-changed",this),n}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new wk(this)),this.component}}class Ck{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(i,s,n){return typeof i[s]<"u"?i[s]:i._column.table.componentFunctionBinder.handle("column",i._column,s)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(i){e.push(i.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(i){e.push(i.getComponent())}),e}getParentColumn(){return this._column.parent instanceof uo?this._column.parent.getComponent():!1}_getSelf(){return this._column}scrollTo(e,i){return this._column.table.columnManager.scrollToColumn(this._column,e,i)}getTable(){return this._column.table}move(e,i){var s=this._column.table.columnManager.findColumn(e);s?this._column.table.columnManager.moveColumn(this._column,s,i):console.warn("Move Error - No matching column found:",s)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var i;return e===!0?i=this._column.reinitializeWidth(!0):i=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),i}}var Ek={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class uo extends bs{constructor(e,i){super(i.table),this.definition=e,this.parent=i,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((s,n)=>{var r=new uo(s,this);this.attachColumn(r)}),this.checkColumnVisibility()):i.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let i in e)typeof this.definition[i]>"u"&&(this.definition[i]=e[i]);this.definition=this.table.columnManager.optionsList.generate(uo.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{uo.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var i=e.cssClass.split(" ");i.forEach(s=>{this.element.classList.add(s)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.headerWordWrap&&i.classList.add("tabulator-col-title-wrap"),e.editableTitle){var s=document.createElement("input");s.classList.add("tabulator-title-editor"),s.addEventListener("click",n=>{n.stopPropagation(),s.focus()}),s.addEventListener("mousedown",n=>{n.stopPropagation()}),s.addEventListener("change",()=>{e.title=s.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),i.appendChild(s),e.field?this.langBind("columns|"+e.field,n=>{s.value=n||e.title||"&nbsp;"}):s.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,n=>{this._formatColumnHeaderTitle(i,n||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(i,e.title||"&nbsp;");return i}_formatColumnHeaderTitle(e,i){var s=this.chain("column-format",[this,i,e],null,()=>i);switch(typeof s){case"object":s instanceof Node?e.appendChild(s):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=s}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(i=>{this.element.classList.add(i)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var i=e,s=this.fieldStructure,n=s.length,r;for(let o=0;o<n&&(i=i[s[o]],r=i,!!i);o++);return r}_setFlatData(e,i){this.field&&(e[this.field]=i)}_setNestedData(e,i){var s=e,n=this.fieldStructure,r=n.length;for(let o=0;o<r;o++)if(o==r-1)s[n[o]]=i;else{if(!s[n[o]])if(typeof i<"u")s[n[o]]={};else break;s=s[n[o]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,i){var s=this.parent.isGroup?this.parent.getGroupElement().clientHeight:i||this.parent.getHeadersElement().clientHeight;this.element.style.height=s+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=s-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(n){n.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var i=[];return e?this.columns.forEach(s=>{i.push(s),i=i.concat(s.getColumns(!0))}):i=this.columns,i}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var i=[];return this.isGroup&&e&&(this.columns.forEach(function(s){i.push(s.getDefinition(!0))}),this.definition.columns=i),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(i){i.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,i){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(s){s.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,i){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(s){s.hide()}),this.dispatch("column-hide",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var i=this.columns.indexOf(e);i>-1&&this.columns.splice(i,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(i){i.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(i){i.row.heightInitialized&&(i.row.getElement().offsetParent!==null?(e.push(i.row),i.row.clearCellHeight()):i.row.heightInitialized=!1)}),e.forEach(function(i){i.calcHeight()}),e.forEach(function(i){i.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(i){i.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(i){i.setMaxWidth()})}delete(){return new Promise((e,i)=>{this.isGroup&&this.columns.forEach(function(n){n.delete()}),this.dispatch("column-delete",this);var s=this.cells.length;for(let n=0;n<s;n++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var i=new ZA(this,e);return this.cells.push(i),i}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(n=>{n.clearWidth()}));var i=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(n=>{var r=n.getWidth();r>i&&(i=r)}),i)){var s=i+1;this.maxInitialWidth&&!e&&(s=Math.min(s,this.maxInitialWidth)),this.setWidthActual(s)}}}updateDefinition(e){var i;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},this.getDefinition()),i=Object.assign(i,e),this.table.columnManager.addColumn(i,!1,this).then(s=>(i.field==this.field&&(this.field=!1),this.delete().then(()=>s.getComponent()))))}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}getComponent(){return this.component||(this.component=new Ck(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}}uo.defaultOptionList=Ek;class k0{constructor(e){return this._row=e,new Proxy(this,{get:function(i,s,n){return typeof i[s]<"u"?i[s]:i._row.table.componentFunctionBinder.handle("row",i._row,s)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,i){return this._row.table.rowManager.scrollToRow(this._row,e,i)}move(e,i){this._row.moveToRow(e,i)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class As extends bs{constructor(e,i,s="row"){super(i.table),this.parent=i,this.data={},this.type=s,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,i){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,i),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,i)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var i=0,s;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(s=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach(function(n){var r=n.getHeight();r>i&&(i=r)}),e?this.height=Math.max(i,s):this.height=this.manualHeight?this.height:Math.max(i,s)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,i){(this.height!=e||i)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var i=this.element&&Ui.elVisible(this.element),s={},n;return new Promise((r,o)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(s=Object.assign(s,this.data),s=Object.assign(s,e)),n=this.chain("row-data-changing",[this,s,e],null,e);for(let a in n)this.data[a]=n[a];this.dispatch("row-data-save-after",this);for(let a in e)this.table.columnManager.getColumnsByFieldRoot(a).forEach(u=>{let c=this.getCell(u.getField());if(c){let h=u.getFieldValue(n);c.getValue()!==h&&(c.setValueProcessData(h),i&&c.cellRendered())}});i?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,i,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var i=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),i=this.cells.find(function(s){return s.column===e}),i}getCellIndex(e){return this.cells.findIndex(function(i){return i===e})}findCell(e){return this.cells.find(i=>i.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,i){var s=this.table.rowManager.findRow(e);s?(this.table.rowManager.moveRowActual(this,s,!i),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let i=0;i<e;i++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(i=>{i(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new k0(this)),this.component}}var nO={avg:function(t,e,i){var s=0,n=typeof i.precision<"u"?i.precision:2;return t.length&&(s=t.reduce(function(r,o){return Number(r)+Number(o)}),s=s/t.length,s=n!==!1?s.toFixed(n):s),parseFloat(s).toString()},max:function(t,e,i){var s=null,n=typeof i.precision<"u"?i.precision:!1;return t.forEach(function(r){r=Number(r),(r>s||s===null)&&(s=r)}),s!==null?n!==!1?s.toFixed(n):s:""},min:function(t,e,i){var s=null,n=typeof i.precision<"u"?i.precision:!1;return t.forEach(function(r){r=Number(r),(r<s||s===null)&&(s=r)}),s!==null?n!==!1?s.toFixed(n):s:""},sum:function(t,e,i){var s=0,n=typeof i.precision<"u"?i.precision:!1;return t.length&&t.forEach(function(r){r=Number(r),s+=isNaN(r)?0:Number(r)}),n!==!1?s.toFixed(n):s},concat:function(t,e,i){var s=0;return t.length&&(s=t.reduce(function(n,r){return String(n)+String(r)})),s},count:function(t,e,i){var s=0;return t.length&&t.forEach(function(n){n&&s++}),s},unique:function(t,e,i){var s=t.filter((n,r)=>(t||n===0)&&t.indexOf(n)===r);return s.length}};class Va extends ei{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new uo({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,i){return this.topRow&&i.unshift(this.topRow),this.botRow&&i.push(this.botRow),i}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var i=e.definition,s={topCalcParams:i.topCalcParams||{},botCalcParams:i.bottomCalcParams||{}};if(i.topCalc){switch(typeof i.topCalc){case"string":Va.calculations[i.topCalc]?s.topCalc=Va.calculations[i.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.topCalc);break;case"function":s.topCalc=i.topCalc;break}s.topCalc&&(e.modules.columnCalcs=s,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(i.bottomCalc){switch(typeof i.bottomCalc){case"string":Va.calculations[i.bottomCalc]?s.botCalc=Va.calculations[i.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.bottomCalc);break;case"function":s.botCalc=i.bottomCalc;break}s.botCalc&&(e.modules.columnCalcs=s,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var i,s;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(i=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),s=this.generateRow("top",i),this.topRow=s;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(s.getElement()),s.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),s=this.generateRow("bottom",i),this.botRow=s;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(s.getElement()),s.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(i=>{this.recalcGroup(i)})}}recalcGroup(e){var i,s;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(i=this.rowsToData(e.rows),s=this.generateRowData("bottom",i),e.calcs.bottom.updateData(s),e.calcs.bottom.reinitialize()),e.calcs.top&&(i=this.rowsToData(e.rows),s=this.generateRowData("top",i),e.calcs.top.updateData(s),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var i=[];return e.forEach(s=>{if(i.push(s.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&s.modules.dataTree&&s.modules.dataTree.open){var n=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(s));i=i.concat(n)}}),i}generateRow(e,i){var s=this.generateRowData(e,i),n;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),n=new As(s,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),n.component=!1,n.getComponent=()=>(n.component||(n.component=new iO(n)),n.component),n.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var a=new ZA(this.genColumn,n);a.getElement(),a.column=o,a.setWidth(),o.cells.push(a),r.push(a),o.visible||a.hide()}),n.cells=r},n}generateRowData(e,i){var s={},n=e=="top"?this.topCalcs:this.botCalcs,r=e=="top"?"topCalc":"botCalc",o,a;return n.forEach(function(l){var u=[];l.modules.columnCalcs&&l.modules.columnCalcs[r]&&(i.forEach(function(c){u.push(l.getFieldValue(c))}),a=r+"Params",o=typeof l.modules.columnCalcs[a]=="function"?l.modules.columnCalcs[a](u,i):l.modules.columnCalcs[a],l.setFieldValue(s,l.modules.columnCalcs[r](u,i,o)))}),s}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},i;return this.table.options.groupBy&&this.table.modExists("groupRows")?(i=this.table.modules.groupRows.getGroups(!0),i.forEach(s=>{e[s.getKey()]=this.getGroupResults(s)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var i=e._getSelf(),s=e.getSubGroups(),n={},r={};return s.forEach(o=>{n[o.getKey()]=this.getGroupResults(o)}),r={top:i.calcs.top?i.calcs.top.getData():{},bottom:i.calcs.bottom?i.calcs.bottom.getData():{},groups:n},r}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}Va.moduleName="columnCalcs";Va.calculations=nO;class xk extends ei{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,i=this.table.options;switch(this.field=i.dataTreeChildField,this.indent=i.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),i.dataTreeBranchElement?i.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof i.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=i.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),i.dataTreeCollapseElement?typeof i.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=i.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),i.dataTreeExpandElement?typeof i.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=i.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof i.dataTreeStartExpanded){case"boolean":this.startOpen=function(s,n){return i.dataTreeStartExpanded};break;case"function":this.startOpen=i.dataTreeStartExpanded;break;default:this.startOpen=function(s,n){return i.dataTreeStartExpanded[n]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var i;e&&(i=this.table.rowManager.getRows(),i.forEach(s=>{this.reinitializeRowChildren(s)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(i=>{e=e.concat(this.getTreeChildren(i,!1,!0))}),e}rowDataChanged(e,i,s){this.redrawNeeded(s)&&(this.initializeRow(e),i&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var i=e.column.getField();i===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var i=e.getData()[this.field],s=Array.isArray(i),n=s||!s&&typeof i=="object"&&i!==null;!n&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!n&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:n?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&n?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&n?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:n}}reinitializeRowChildren(e){var i=this.getTreeChildren(e,!1,!0);i.forEach(function(s){s.reinitialize(!0)})}layoutRow(e){var i=this.elementField?e.getCell(this.elementField):e.getCells()[0],s=i.getElement(),n=e.modules.dataTree;n.branchEl&&(n.branchEl.parentNode&&n.branchEl.parentNode.removeChild(n.branchEl),n.branchEl=!1),n.controlEl&&(n.controlEl.parentNode&&n.controlEl.parentNode.removeChild(n.controlEl),n.controlEl=!1),this.generateControlElement(e,s),e.getElement().classList.add("tabulator-tree-level-"+n.index),n.index&&(this.branchEl?(n.branchEl=this.branchEl.cloneNode(!0),s.insertBefore(n.branchEl,s.firstChild),this.table.rtl?n.branchEl.style.marginRight=(n.branchEl.offsetWidth+n.branchEl.style.marginLeft)*(n.index-1)+n.index*this.indent+"px":n.branchEl.style.marginLeft=(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+n.index*this.indent+"px"):this.table.rtl?s.style.paddingRight=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-right"))+n.index*this.indent+"px":s.style.paddingLeft=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-left"))+n.index*this.indent+"px")}generateControlElement(e,i){var s=e.modules.dataTree,n=s.controlEl;i=i||e.getCells()[0].getElement(),s.children!==!1&&(s.open?(s.controlEl=this.collapseEl.cloneNode(!0),s.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.collapseRow(e)})):(s.controlEl=this.expandEl.cloneNode(!0),s.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.expandRow(e)})),s.controlEl.addEventListener("mousedown",r=>{r.stopPropagation()}),n&&n.parentNode===i?n.parentNode.replaceChild(s.controlEl,n):i.insertBefore(s.controlEl,i.firstChild))}getRows(e){var i=[];return e.forEach((s,n)=>{var r,o;i.push(s),s instanceof As&&(s.create(),r=s.modules.dataTree,!r.index&&r.children!==!1&&(o=this.getChildren(s),o.forEach(a=>{a.create(),i.push(a)})))}),i}getChildren(e,i){var s=e.modules.dataTree,n=[],r=[];return s.children!==!1&&(s.open||i)&&(Array.isArray(s.children)||(s.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?n=this.table.modules.filter.filter(s.children):n=s.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(n),n.forEach(o=>{r.push(o);var a=this.getChildren(o);a.forEach(l=>{r.push(l)})})),r}generateChildren(e){var i=[],s=e.getData()[this.field];return Array.isArray(s)||(s=[s]),s.forEach(n=>{var r=new As(n||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),i.push(r)}),i}expandRow(e,i){var s=e.modules.dataTree;s.children!==!1&&(s.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var i=e.modules.dataTree,s=[],n;return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?n=this.table.modules.filter.filter(i.children):n=i.children,n.forEach(r=>{r instanceof As&&s.push(r)})),s}rowDelete(e){var i=e.modules.dataTree.parent,s;i&&(s=this.findChildIndex(e,i),s!==!1&&i.data[this.field].splice(s,1),i.data[this.field].length||delete i.data[this.field],this.initializeRow(i),this.layoutRow(i)),this.refreshData(!0)}addTreeChildRow(e,i,s,n){var r=!1;typeof i=="string"&&(i=JSON.parse(i)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof n<"u"&&(r=this.findChildIndex(n,e),r!==!1&&e.data[this.field].splice(s?r:r+1,0,i)),r===!1&&(s?e.data[this.field].unshift(i):e.data[this.field].push(i)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,i){var s=!1;return typeof e=="object"?e instanceof As?s=e.data:e instanceof k0?s=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?i.modules.dataTree&&(s=i.modules.dataTree.children.find(n=>n instanceof As?n.element===e:!1),s&&(s=s.data)):e===null&&(s=!1):typeof e>"u"?s=!1:s=i.data[this.field].find(n=>n.data[this.table.options.index]==e),s&&(Array.isArray(i.data[this.field])&&(s=i.data[this.field].indexOf(s)),s==-1&&(s=!1)),s}getTreeChildren(e,i,s){var n=e.modules.dataTree,r=[];return n&&n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),n.children.forEach(o=>{o instanceof As&&(r.push(i?o.getComponent():o),s&&(r=r.concat(this.getTreeChildren(o,i,s))))})),r}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}xk.moduleName="dataTree";function sO(t,e={},i){var s=e.delimiter?e.delimiter:",",n=[],r=[];t.forEach(o=>{var a=[];switch(o.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":o.columns.forEach((l,u)=>{l&&l.depth===1&&(r[u]=typeof l.value>"u"||l.value===null?"":'"'+String(l.value).split('"').join('""')+'"')});break;case"row":o.columns.forEach(l=>{if(l){switch(typeof l.value){case"object":l.value=l.value!==null?JSON.stringify(l.value):"";break;case"undefined":l.value="";break}a.push('"'+String(l.value).split('"').join('""')+'"')}}),n.push(a.join(s));break}}),r.length&&n.unshift(r.join(s)),n=n.join("\n"),e.bom&&(n="\uFEFF"+n),i(n,"text/csv")}function rO(t,e,i){var s=[];t.forEach(n=>{var r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),s.push(r);break}}),s=JSON.stringify(s,null,"	"),i(s,"application/json")}function oO(t,e={},i){var s=[],n=[],r={},o=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},u=e.title?e.title:"";l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),t.forEach(A=>{switch(A.type){case"header":s.push(c(A));break;case"group":n.push(c(A,o));break;case"calc":n.push(c(A,a));break;case"row":n.push(c(A));break}});function c(A,f){var m=[];return A.columns.forEach(p=>{var x;if(p){switch(typeof p.value){case"object":p.value=p.value!==null?JSON.stringify(p.value):"";break;case"undefined":p.value="";break}x={content:p.value,colSpan:p.width,rowSpan:p.height},f&&(x.styles=f),m.push(x)}}),m}var h=new jspdf.jsPDF(l);e.autoTable&&(typeof e.autoTable=="function"?r=e.autoTable(h)||{}:r=e.autoTable),u&&(r.didDrawPage=function(A){h.text(u,40,30)}),r.head=s,r.body=n,h.autoTable(r),e.documentProcessing&&e.documentProcessing(h),i(h.output("arraybuffer"),"application/pdf")}function aO(t,e,i){var s=this,n=e.sheetName||"Sheet1",r=XLSX.utils.book_new(),o=new bs(this),a="compress"in e?e.compress:!0,l=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:a},u;l.type="binary",r.SheetNames=[],r.Sheets={};function c(){var f=[],m=[],p={},x={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((C,g)=>C+(g&&g.width?g.width:1),0):0,r:t.length}};return t.forEach((C,g)=>{var w=[];C.columns.forEach(function(S,I){S?(w.push(!(S.value instanceof Date)&&typeof S.value=="object"?JSON.stringify(S.value):S.value),(S.width>1||S.height>-1)&&(S.height>1||S.width>1)&&m.push({s:{r:g,c:I},e:{r:g+S.height-1,c:I+S.width-1}})):w.push("")}),f.push(w)}),XLSX.utils.sheet_add_aoa(p,f),p["!ref"]=XLSX.utils.encode_range(x),m.length&&(p["!merges"]=m),p}if(e.sheetOnly){i(c());return}if(e.sheets)for(var h in e.sheets)e.sheets[h]===!0?(r.SheetNames.push(h),r.Sheets[h]=c()):(r.SheetNames.push(h),o.commsSend(e.sheets[h],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:s.active,intercept:function(f){r.Sheets[h]=f}}));else r.SheetNames.push(n),r.Sheets[n]=c();e.documentProcessing&&(r=e.documentProcessing(r));function A(f){for(var m=new ArrayBuffer(f.length),p=new Uint8Array(m),x=0;x!=f.length;++x)p[x]=f.charCodeAt(x)&255;return m}u=XLSX.write(r,l),i(A(u),"application/octet-stream")}function lO(t,e,i){this.modExists("export",!0)&&i(this.modules.export.generateHTMLTable(t),"text/html")}function uO(t,e,i){const s=[];t.forEach(n=>{const r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),s.push(JSON.stringify(r));break}}),i(s.join("\n"),"application/x-ndjson")}var cO={csv:sO,json:rO,jsonLines:uO,pdf:oO,xlsx:aO,html:lO};class Dc extends ei{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(i,s){return new Blob([i],{type:s})}),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(e,i,s,n){this.download(e,i,s,n,!0)}download(e,i,s,n,r){var o=!1;function a(u,c){r?r===!0?this.triggerDownload(u,c,e,i,!0):r(u):this.triggerDownload(u,c,e,i)}if(typeof e=="function"?o=e:Dc.downloaders[e]?o=Dc.downloaders[e]:console.warn("Download Error - No such download type found: ",e),o){var l=this.generateExportList(n);o.call(this.table,l,s||{},a.bind(this))}}generateExportList(e){var i=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),s=this.table.options.groupHeaderDownload;return s&&!Array.isArray(s)&&(s=[s]),i.forEach(n=>{var r;n.type==="group"&&(r=n.columns[0],s&&s[n.indent]&&(r.value=s[n.indent](r.value,n.component._group.getRowCount(),n.component._group.getData(),n.component)))}),i}triggerDownload(e,i,s,n,r){var o=document.createElement("a"),a=this.table.options.downloadEncoder(e,i);a&&(r?window.open(window.URL.createObjectURL(a)):(n=n||"Tabulator."+(typeof s=="function"?"txt":s),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,n):(o.setAttribute("href",window.URL.createObjectURL(a)),o.setAttribute("download",n),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))),this.dispatchExternal("downloadComplete"))}commsReceived(e,i,s){switch(i){case"intercept":this.download(s.type,"",s.options,s.active,s.intercept);break}}}Dc.moduleName="download";Dc.downloaders=cO;function I0(t,e){var i=e.mask,s=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",n=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",r=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function o(a){var l=i[a];typeof l<"u"&&l!==r&&l!==s&&l!==n&&(t.value=t.value+""+l,o(a+1))}t.addEventListener("keydown",a=>{var l=t.value.length,u=a.key;if(a.keyCode>46&&!a.ctrlKey&&!a.metaKey){if(l>=i.length)return a.preventDefault(),a.stopPropagation(),!1;switch(i[l]){case s:if(u.toUpperCase()==u.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case n:if(isNaN(u))return a.preventDefault(),a.stopPropagation(),!1;break;case r:break;default:if(u!==i[l])return a.preventDefault(),a.stopPropagation(),!1}}}),t.addEventListener("keyup",a=>{a.keyCode>46&&e.maskAutoFill&&o(t.value.length)}),t.placeholder||(t.placeholder=i),e.maskAutoFill&&o(t.value.length)}function dO(t,e,i,s,n){var r=t.getValue(),o=document.createElement("input");if(o.setAttribute("type",n.search?"search":"text"),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let l in n.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+n.elementAttributes["+"+l])):o.setAttribute(l,n.elementAttributes[l]);o.value=typeof r<"u"?r:"",e(function(){t.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%",n.selectContents&&o.select())});function a(l){(r===null||typeof r>"u")&&o.value!==""||o.value!==r?i(o.value)&&(r=o.value):s()}return o.addEventListener("change",a),o.addEventListener("blur",a),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:s();break;case 35:case 36:l.stopPropagation();break}}),n.mask&&I0(o,n),o}function hO(t,e,i,s,n){var r=t.getValue(),o=n.verticalNavigation||"hybrid",a=String(r!==null&&typeof r<"u"?r:""),l=document.createElement("textarea"),u=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",n.elementAttributes&&typeof n.elementAttributes=="object")for(let h in n.elementAttributes)h.charAt(0)=="+"?(h=h.slice(1),l.setAttribute(h,l.getAttribute(h)+n.elementAttributes["+"+h])):l.setAttribute(h,n.elementAttributes[h]);l.value=a,e(function(){t.getType()==="cell"&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",t.getRow().normalizeHeight(),n.selectContents&&l.select())});function c(h){(r===null||typeof r>"u")&&l.value!==""||l.value!==r?(i(l.value)&&(r=l.value),setTimeout(function(){t.getRow().normalizeHeight()},300)):s()}return l.addEventListener("change",c),l.addEventListener("blur",c),l.addEventListener("keyup",function(){l.style.height="";var h=l.scrollHeight;l.style.height=h+"px",h!=u&&(u=h,t.getRow().normalizeHeight())}),l.addEventListener("keydown",function(h){switch(h.keyCode){case 13:h.shiftKey&&n.shiftEnterSubmit&&c();break;case 27:s();break;case 38:(o=="editor"||o=="hybrid"&&l.selectionStart)&&(h.stopImmediatePropagation(),h.stopPropagation());break;case 40:(o=="editor"||o=="hybrid"&&l.selectionStart!==l.value.length)&&(h.stopImmediatePropagation(),h.stopPropagation());break;case 35:case 36:h.stopPropagation();break}}),n.mask&&I0(l,n),l}function AO(t,e,i,s,n){var r=t.getValue(),o=n.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),typeof n.max<"u"&&a.setAttribute("max",n.max),typeof n.min<"u"&&a.setAttribute("min",n.min),typeof n.step<"u"&&a.setAttribute("step",n.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let c in n.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),a.setAttribute(c,a.getAttribute(c)+n.elementAttributes["+"+c])):a.setAttribute(c,n.elementAttributes[c]);a.value=r;var l=function(c){u()};e(function(){t.getType()==="cell"&&(a.removeEventListener("blur",l),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",l),n.selectContents&&a.select())});function u(){var c=a.value;!isNaN(c)&&c!==""&&(c=Number(c)),c!==r?i(c)&&(r=c):s()}return a.addEventListener("keydown",function(c){switch(c.keyCode){case 13:u();break;case 27:s();break;case 38:case 40:o=="editor"&&(c.stopImmediatePropagation(),c.stopPropagation());break;case 35:case 36:c.stopPropagation();break}}),n.mask&&I0(a,n),a}function fO(t,e,i,s,n){var r=t.getValue(),o=document.createElement("input");if(o.setAttribute("type","range"),typeof n.max<"u"&&o.setAttribute("max",n.max),typeof n.min<"u"&&o.setAttribute("min",n.min),typeof n.step<"u"&&o.setAttribute("step",n.step),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let l in n.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+n.elementAttributes["+"+l])):o.setAttribute(l,n.elementAttributes[l]);o.value=r,e(function(){t.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%")});function a(){var l=o.value;!isNaN(l)&&l!==""&&(l=Number(l)),l!=r?i(l)&&(r=l):s()}return o.addEventListener("blur",function(l){a()}),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:s();break}}),o}function pO(t,e,i,s,n){var r=n.format,o=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l=t.getValue(),u=document.createElement("input");function c(A){var f;return a.isDateTime(A)?f=A:r==="iso"?f=a.fromISO(String(A)):f=a.fromFormat(String(A),r),f.toFormat("yyyy-MM-dd")}if(u.type="date",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",n.max&&u.setAttribute("max",r?c(n.max):n.max),n.min&&u.setAttribute("min",r?c(n.min):n.min),n.elementAttributes&&typeof n.elementAttributes=="object")for(let A in n.elementAttributes)A.charAt(0)=="+"?(A=A.slice(1),u.setAttribute(A,u.getAttribute(A)+n.elementAttributes["+"+A])):u.setAttribute(A,n.elementAttributes[A]);l=typeof l<"u"?l:"",r&&(a?l=c(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=l,e(function(){t.getType()==="cell"&&(u.focus({preventScroll:!0}),u.style.height="100%",n.selectContents&&u.select())});function h(){var A=u.value,f;if((l===null||typeof l>"u")&&A!==""||A!==l){if(A&&r)switch(f=a.fromFormat(String(A),"yyyy-MM-dd"),r){case!0:A=f;break;case"iso":A=f.toISO();break;default:A=f.toFormat(r)}i(A)&&(l=u.value)}else s()}return u.addEventListener("blur",function(A){(A.relatedTarget||A.rangeParent||A.explicitOriginalTarget!==u)&&h()}),u.addEventListener("keydown",function(A){switch(A.keyCode){case 13:h();break;case 27:s();break;case 35:case 36:A.stopPropagation();break;case 38:case 40:o=="editor"&&(A.stopImmediatePropagation(),A.stopPropagation());break}}),u}function gO(t,e,i,s,n){var r=n.format,o=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l,u=t.getValue(),c=document.createElement("input");if(c.type="time",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let A in n.elementAttributes)A.charAt(0)=="+"?(A=A.slice(1),c.setAttribute(A,c.getAttribute(A)+n.elementAttributes["+"+A])):c.setAttribute(A,n.elementAttributes[A]);u=typeof u<"u"?u:"",r&&(a?(a.isDateTime(u)?l=u:r==="iso"?l=a.fromISO(String(u)):l=a.fromFormat(String(u),r),u=l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),console.log("val",u),c.value=u,e(function(){t.getType()=="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",n.selectContents&&c.select())});function h(){var A=c.value,f;if((u===null||typeof u>"u")&&A!==""||A!==u){if(A&&r)switch(f=a.fromFormat(String(A),"hh:mm"),r){case!0:A=f;break;case"iso":A=f.toISO();break;default:A=f.toFormat(r)}i(A)&&(u=c.value)}else s()}return c.addEventListener("blur",function(A){(A.relatedTarget||A.rangeParent||A.explicitOriginalTarget!==c)&&h()}),c.addEventListener("keydown",function(A){switch(A.keyCode){case 13:h();break;case 27:s();break;case 35:case 36:A.stopPropagation();break;case 38:case 40:o=="editor"&&(A.stopImmediatePropagation(),A.stopPropagation());break}}),c}function mO(t,e,i,s,n){var r=n.format,o=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l,u=t.getValue(),c=document.createElement("input");if(c.type="datetime-local",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let A in n.elementAttributes)A.charAt(0)=="+"?(A=A.slice(1),c.setAttribute(A,c.getAttribute(A)+n.elementAttributes["+"+A])):c.setAttribute(A,n.elementAttributes[A]);u=typeof u<"u"?u:"",r&&(a?(a.isDateTime(u)?l=u:r==="iso"?l=a.fromISO(String(u)):l=a.fromFormat(String(u),r),u=l.toFormat("yyyy-MM-dd")+"T"+l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=u,e(function(){t.getType()==="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",n.selectContents&&c.select())});function h(){var A=c.value,f;if((u===null||typeof u>"u")&&A!==""||A!==u){if(A&&r)switch(f=a.fromISO(String(A)),r){case!0:A=f;break;case"iso":A=f.toISO();break;default:A=f.toFormat(r)}i(A)&&(u=c.value)}else s()}return c.addEventListener("blur",function(A){(A.relatedTarget||A.rangeParent||A.explicitOriginalTarget!==c)&&h()}),c.addEventListener("keydown",function(A){switch(A.keyCode){case 13:h();break;case 27:s();break;case 35:case 36:A.stopPropagation();break;case 38:case 40:o=="editor"&&(A.stopImmediatePropagation(),A.stopPropagation());break}}),c}class IC{constructor(e,i,s,n,r,o){this.edit=e,this.table=e.table,this.cell=i,this.params=this._initializeParams(o),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=i.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:n,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),s(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function i(s){s.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",i),setTimeout(()=>{e.removeEventListener("click",i)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,i=document.createElement("input");if(i.setAttribute("type",this.params.clearable?"search":"text"),i.style.padding="4px",i.style.width="100%",i.style.boxSizing="border-box",this.params.autocomplete||(i.style.cursor="default",i.style.caretColor="transparent"),e&&typeof e=="object")for(let s in e)s.charAt(0)=="+"?(s=s.slice(1),i.setAttribute(s,i.getAttribute(s)+e["+"+s])):i.setAttribute(s,e[s]);return this.params.mask&&I0(i,this.params),this._bindInputEvents(i),i}_initializeParams(e){var i=["values","valuesURL","valuesLookup"],s;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",s=Object.keys(e).filter(n=>i.includes(n)).length,s?s>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i>0&&this._focusItem(this.displayItems[i-1]))}_keyDown(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i<this.displayItems.length-1&&(i==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[i+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var i=String.fromCharCode(e).toLowerCase();this.filterTerm+=i.toLowerCase();var s=this.displayItems.find(n=>typeof n.label<"u"&&n.label.toLowerCase().startsWith(this.filterTerm));s&&this._focusItem(s),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var i=[],s=++this.listIteration;return this.filtered=!1,this.params.values?i=this.params.values:this.params.valuesURL?i=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?i=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(i=this._uniqueColumnValues(this.params.valuesLookupField)),i instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),i.then().then(n=>this.listIteration===s?this._parseList(n):Promise.reject(s))):Promise.resolve(this._parseList(i))}_addPlaceholder(e){var i=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?i=e:(i.classList.add("tabulator-edit-list-placeholder"),i.innerHTML=e),this.listEl.appendChild(i),this._showList())}_ajaxRequest(e,i){var s=this.params.filterRemote?{term:i}:{};return e=yk(e,{},s),fetch(e).then(n=>n.ok?n.json().catch(r=>(console.warn("List Ajax Load Error - Invalid JSON returned",r),Promise.reject(r))):(console.error("List Ajax Load Error - Connection Error: "+n.status,n.statusText),Promise.reject(n))).catch(n=>(console.error("List Ajax Load Error - Connection Error: ",n),Promise.reject(n)))}_uniqueColumnValues(e){var i={},s=this.table.getData(this.params.valuesLookup),n;return e?n=this.table.columnManager.getColumnByField(e):n=this.cell.getColumn()._getSelf(),n?s.forEach(r=>{var o=n.getFieldValue(r);o!==null&&typeof o<"u"&&o!==""&&(i[o]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),i=[]),Object.keys(i)}_parseList(e){var i=[];return Array.isArray(e)||(e=Object.entries(e).map(([s,n])=>({label:n,value:s}))),e.forEach(s=>{typeof s!="object"&&(s={label:s,value:s}),this._parseListItem(s,i,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=i,i}_parseListItem(e,i,s){var n={};e.options?n=this._parseListGroup(e,s+1):(n={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:s,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(n,!0)),i.push(n)}_parseListGroup(e,i){var s={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:i,options:[],original:e};return e.options.forEach(n=>{this._parseListItem(n,s.options,i)}),s}_sortOptions(e){var i;return this.params.sort&&(i=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(i,e)),e}_sortGroup(e,i){i.sort((s,n)=>e(s.label,n.label,s.value,n.value,s.original,n.original)),i.forEach(s=>{s.group&&this._sortGroup(e,s.options)})}_defaultSortFunction(e,i){var s,n,r,o,a=0,l,u=/(\d+)|(\D+)/g,c=/\d/,h=0;if(this.params.sort==="desc"&&([e,i]=[i,e]),!e&&e!==0)h=!i&&i!==0?0:-1;else if(!i&&i!==0)h=1;else{if(isFinite(e)&&isFinite(i))return e-i;if(s=String(e).toLowerCase(),n=String(i).toLowerCase(),s===n)return 0;if(!(c.test(s)&&c.test(n)))return s>n?1:-1;for(s=s.match(u),n=n.match(u),l=s.length>n.length?n.length:s.length;a<l;)if(r=s[a],o=n[a++],r!==o)return isFinite(r)&&isFinite(o)?(r.charAt(0)==="0"&&(r="."+r),o.charAt(0)==="0"&&(o="."+o),r-o):r>o?1:-1;return s.length>n.length}return h}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,i=this.input.value;return i?(this.filtered=!0,this.data.forEach(s=>{this._filterItem(e,i,s)})):this.filtered=!1,this.data}_filterItem(e,i,s){var n=!1;return s.group?(s.options.forEach(r=>{this._filterItem(e,i,r)&&(n=!0)}),s.visible=n):s.visible=e(i,s.label,s.value,s.original),s.visible}_defaultFilterFunc(e,i,s,n){return e=String(e).toLowerCase(),i!==null&&typeof i<"u"&&(String(i).toLowerCase().indexOf(e)>-1||String(s).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(i=>{this._buildItem(i)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var i=e.element,s;if(!this.filtered||e.visible){if(!i){if(i=document.createElement("div"),i.tabIndex=0,s=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,i):e.label,s instanceof HTMLElement?i.appendChild(s):i.innerHTML=s,e.group?i.classList.add("tabulator-edit-list-group"):i.classList.add("tabulator-edit-list-item"),i.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let n in e.elementAttributes)n.charAt(0)=="+"?(n=n.slice(1),i.setAttribute(n,this.input.getAttribute(n)+e.elementAttributes["+"+n])):i.setAttribute(n,e.elementAttributes[n]);e.group?i.addEventListener("click",this._groupClick.bind(this,e)):i.addEventListener("click",this._itemClick.bind(this,e)),i.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=i}this._styleItem(e),this.listEl.appendChild(i),e.group?e.options.forEach(n=>{this._buildItem(n)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,i){i.stopPropagation(),this._chooseItem(e)}_groupClick(e,i){i.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,i){var s;this.typing=!1,this.params.multiselect?(s=this.currentItems.indexOf(e),s>-1?(this.currentItems.splice(s,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(n=>n.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),i||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var i,s;if(this.popup&&this.popup.hide(!0),this.params.multiselect)i=this.currentItems.map(n=>n.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")i=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?i=this.currentItems[0].value:(s=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,s===null||typeof s>"u"||s===""?i=s:i=this.params.emptyValue);i===""&&(i=this.params.emptyValue),this.actions.success(i),this.isFilter&&(this.initialValues=i&&!Array.isArray(i)?[i]:i,this.currentItems=[])}}function bO(t,e,i,s,n){this.deprecationMsg("The select editor has been deprecated, please use the new list editor");var r=new IC(this,t,e,i,s,n);return r.input}function vO(t,e,i,s,n){var r=new IC(this,t,e,i,s,n);return r.input}function yO(t,e,i,s,n){this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),n.autocomplete=!0;var r=new IC(this,t,e,i,s,n);return r.input}function wO(t,e,i,s,n){var r=this,o=t.getElement(),a=t.getValue(),l=o.getElementsByTagName("svg").length||5,u=o.getElementsByTagName("svg")[0]?o.getElementsByTagName("svg")[0].getAttribute("width"):14,c=[],h=document.createElement("div"),A=document.createElementNS("http://www.w3.org/2000/svg","svg");function f(C){c.forEach(function(g,w){w<C?(r.table.browser=="ie"?g.setAttribute("class","tabulator-star-active"):g.classList.replace("tabulator-star-inactive","tabulator-star-active"),g.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(r.table.browser=="ie"?g.setAttribute("class","tabulator-star-inactive"):g.classList.replace("tabulator-star-active","tabulator-star-inactive"),g.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function m(C){var g=document.createElement("span"),w=A.cloneNode(!0);c.push(w),g.addEventListener("mouseenter",function(S){S.stopPropagation(),S.stopImmediatePropagation(),f(C)}),g.addEventListener("mousemove",function(S){S.stopPropagation(),S.stopImmediatePropagation()}),g.addEventListener("click",function(S){S.stopPropagation(),S.stopImmediatePropagation(),i(C),o.blur()}),g.appendChild(w),h.appendChild(g)}function p(C){a=C,f(C)}if(o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",h.style.verticalAlign="middle",h.style.display="inline-block",h.style.padding="4px",A.setAttribute("width",u),A.setAttribute("height",u),A.setAttribute("viewBox","0 0 512 512"),A.setAttribute("xml:space","preserve"),A.style.padding="0 1px",n.elementAttributes&&typeof n.elementAttributes=="object")for(let C in n.elementAttributes)C.charAt(0)=="+"?(C=C.slice(1),h.setAttribute(C,h.getAttribute(C)+n.elementAttributes["+"+C])):h.setAttribute(C,n.elementAttributes[C]);for(var x=1;x<=l;x++)m(x);return a=Math.min(parseInt(a),l),f(a),h.addEventListener("mousemove",function(C){f(0)}),h.addEventListener("click",function(C){i(0)}),o.addEventListener("blur",function(C){s()}),o.addEventListener("keydown",function(C){switch(C.keyCode){case 39:p(a+1);break;case 37:p(a-1);break;case 13:i(a);break;case 27:s();break}}),h}function CO(t,e,i,s,n){var r=t.getElement(),o=typeof n.max>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,a=typeof n.min>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,l=(o-a)/100,u=t.getValue()||0,c=document.createElement("div"),h=document.createElement("div"),A,f;function m(){var p=window.getComputedStyle(r,null),x=l*Math.round(h.offsetWidth/((r.clientWidth-parseInt(p.getPropertyValue("padding-left"))-parseInt(p.getPropertyValue("padding-right")))/100))+a;i(x),r.setAttribute("aria-valuenow",x),r.setAttribute("aria-label",u)}if(c.style.position="absolute",c.style.right="0",c.style.top="0",c.style.bottom="0",c.style.width="5px",c.classList.add("tabulator-progress-handle"),h.style.display="inline-block",h.style.position="relative",h.style.height="100%",h.style.backgroundColor="#488CE9",h.style.maxWidth="100%",h.style.minWidth="0%",n.elementAttributes&&typeof n.elementAttributes=="object")for(let p in n.elementAttributes)p.charAt(0)=="+"?(p=p.slice(1),h.setAttribute(p,h.getAttribute(p)+n.elementAttributes["+"+p])):h.setAttribute(p,n.elementAttributes[p]);return r.style.padding="4px 4px",u=Math.min(parseFloat(u),o),u=Math.max(parseFloat(u),a),u=Math.round((u-a)/l),h.style.width=u+"%",r.setAttribute("aria-valuemin",a),r.setAttribute("aria-valuemax",o),h.appendChild(c),c.addEventListener("mousedown",function(p){A=p.screenX,f=h.offsetWidth}),c.addEventListener("mouseover",function(){c.style.cursor="ew-resize"}),r.addEventListener("mousemove",function(p){A&&(h.style.width=f+p.screenX-A+"px")}),r.addEventListener("mouseup",function(p){A&&(p.stopPropagation(),p.stopImmediatePropagation(),A=!1,f=!1,m())}),r.addEventListener("keydown",function(p){switch(p.keyCode){case 39:p.preventDefault(),h.style.width=h.clientWidth+r.clientWidth/100+"px";break;case 37:p.preventDefault(),h.style.width=h.clientWidth-r.clientWidth/100+"px";break;case 9:case 13:m();break;case 27:s();break}}),r.addEventListener("blur",function(){s()}),h}function EO(t,e,i,s,n){var r=t.getValue(),o=document.createElement("input"),a=n.tristate,l=typeof n.indeterminateValue>"u"?null:n.indeterminateValue,u=!1,c=Object.keys(n).includes("trueValue"),h=Object.keys(n).includes("falseValue");if(o.setAttribute("type","checkbox"),o.style.marginTop="5px",o.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let f in n.elementAttributes)f.charAt(0)=="+"?(f=f.slice(1),o.setAttribute(f,o.getAttribute(f)+n.elementAttributes["+"+f])):o.setAttribute(f,n.elementAttributes[f]);o.value=r,a&&(typeof r>"u"||r===l||r==="")&&(u=!0,o.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){t.getType()==="cell"&&o.focus({preventScroll:!0})}),o.checked=c?r===n.trueValue:r===!0||r==="true"||r==="True"||r===1;function A(f){var m=o.checked;return c&&m?m=n.trueValue:h&&!m&&(m=n.falseValue),a?f?u?l:m:o.checked&&!u?(o.checked=!1,o.indeterminate=!0,u=!0,l):(u=!1,m):m}return o.addEventListener("change",function(f){i(A())}),o.addEventListener("blur",function(f){i(A(!0))}),o.addEventListener("keydown",function(f){f.keyCode==13&&i(A()),f.keyCode==27&&s()}),o}var xO={input:dO,textarea:hO,number:AO,range:fO,date:pO,time:gO,datetime:mO,select:bO,list:vO,autocomplete:yO,star:wO,progress:CO,tickCross:EO};class ef extends ei{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=ef.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableOption("editTriggerEvent","focus"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var i=this.currentCell,s=this.options("tabEndNewRow");i&&(this.navigateNext(i,e)||s&&(i.getElement().firstChild.blur(),this.invalidEdit||(s===!0?s=this.table.addRow({}):typeof s=="function"?s=this.table.addRow(s(i.row.getComponent())):s=this.table.addRow(Object.assign({},s)),s.then(()=>{setTimeout(()=>{i.getComponent().navigateNext()})}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.table.modules.edit.clearEdited(i._getSelf())})}navigatePrev(e=this.currentCell,i){var s,n;if(e){if(i&&i.preventDefault(),s=this.navigateLeft(),s)return!0;if(n=this.table.rowManager.prevDisplayRow(e.row,!0),n&&(s=this.findPrevEditableCell(n,n.cells.length),s))return s.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,i){var s,n;if(e){if(i&&i.preventDefault(),s=this.navigateRight(),s)return!0;if(n=this.table.rowManager.nextDisplayRow(e.row,!0),n&&(s=this.findNextEditableCell(n,-1),s))return s.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,i){var s,n;return e&&(i&&i.preventDefault(),s=e.getIndex(),n=this.findPrevEditableCell(e.row,s),n)?(n.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,i){var s,n;return e&&(i&&i.preventDefault(),s=e.getIndex(),n=this.findNextEditableCell(e.row,s),n)?(n.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,i){var s,n;return e&&(i&&i.preventDefault(),s=e.getIndex(),n=this.table.rowManager.prevDisplayRow(e.row,!0),n)?(n.cells[s].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,i){var s,n;return e&&(i&&i.preventDefault(),s=e.getIndex(),n=this.table.rowManager.nextDisplayRow(e.row,!0),n)?(n.cells[s].getComponent().edit(),!0):!1}findNextEditableCell(e,i){var s=!1;if(i<e.cells.length-1)for(var n=i+1;n<e.cells.length;n++){let r=e.cells[n];if(r.column.modules.edit&&Ui.elVisible(r.getElement())&&this.allowEdit(r)){s=r;break}}return s}findPrevEditableCell(e,i){var s=!1;if(i>0)for(var n=i-1;n>=0;n--){let r=e.cells[n];if(r.column.modules.edit&&Ui.elVisible(r.getElement())&&this.allowEdit(r)){s=r;break}}return s}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(i=>{i.column.modules.edit&&typeof i.column.modules.edit.check=="function"&&this.updateCellClass(i)})}initializeColumn(e){var i={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?i.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":i.editor=e.definition.editor;break;case"boolean":e.definition.editor===!0&&(typeof e.definition.formatter!="function"?this.editors[e.definition.formatter]?i.editor=this.editors[e.definition.formatter]:i.editor=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}i.editor&&(e.modules.edit=i)}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var i=this.currentCell,s;if(this.invalidEdit=!1,i){for(this.currentCell=!1,s=i.getElement(),this.dispatch("edit-editor-clear",i,e),s.classList.remove("tabulator-editing");s.firstChild;)s.removeChild(s.firstChild);i.row.getElement().classList.remove("tabulator-editing"),i.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,i=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,i),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",i)}}bindEditor(e){if(e.column.modules.edit){var i=this,s=e.getElement(!0);this.updateCellClass(e),s.setAttribute("tabindex",0),s.addEventListener("mousedown",function(n){n.button===2?n.preventDefault():i.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&s.addEventListener("dblclick",function(n){s.classList.contains("tabulator-editing")||(s.focus({preventScroll:!0}),i.edit(e,n,!1))}),(this.options("editTriggerEvent")==="focus"||this.options("editTriggerEvent")==="click")&&s.addEventListener("click",function(n){s.classList.contains("tabulator-editing")||(s.focus({preventScroll:!0}),i.edit(e,n,!1))}),this.options("editTriggerEvent")==="focus"&&s.addEventListener("focus",function(n){i.recursionBlock||i.edit(e,n,!1)})}}focusCellNoEvent(e,i){this.recursionBlock=!0,i&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,i){this.focusCellNoEvent(e),this.edit(e,!1,i)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var i=this.table.rowManager.element.scrollTop,s=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,n=e.row.getElement();n.offsetTop<i?this.table.rowManager.element.scrollTop-=i-n.offsetTop:n.offsetTop+n.offsetHeight>s&&(this.table.rowManager.element.scrollTop+=n.offsetTop+n.offsetHeight-s);var r=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin||0),o-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),o-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-a.offsetLeft:a.offsetLeft+a.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-o)}}allowEdit(e){var i=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(i=e.column.modules.edit.check(e.getComponent()));break;case"string":i=!!e.row.data[e.column.modules.edit.check];break;case"boolean":i=e.column.modules.edit.check;break}return i}edit(e,i,s){var n=this,r=!0,o=function(){},a=e.getElement(),l=!1,u,c,h;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function A(C){if(n.currentCell===e&&!l){var g=n.chain("edit-success",[e,C],!0,!0);return g===!0||n.table.options.validationMode==="highlight"?(l=!0,n.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,n.editedCells.indexOf(e)==-1&&n.editedCells.push(e),e.setValue(C,!0),g===!0):(l=!0,n.invalidEdit=!0,n.focusCellNoEvent(e,!0),o(),setTimeout(()=>{l=!1},10),!1)}}function f(){n.currentCell===e&&!l&&n.cancelEdit()}function m(C){o=C}if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(a),!1;if(i&&i.stopPropagation(),r=this.allowEdit(e),r||s){if(n.cancelEdit(),n.currentCell=e,this.focusScrollAdjust(e),c=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,i,c)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,c),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",c),h=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(c):e.column.modules.edit.params,u=e.column.modules.edit.editor.call(n,c,m,A,f,h),this.currentCell&&u!==!1)if(u instanceof Node){for(a.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");a.firstChild;)a.removeChild(a.firstChild);a.appendChild(u),o();for(var p=a.children,x=0;x<p.length;x++)p[x].addEventListener("click",function(C){C.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",u),this.blur(a),!1;else return this.blur(a),!1;return!0}else return this.mouseClick=!1,this.blur(a),!1}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(i=>{e.push(i.getComponent())}),e}clearEdited(e){var i;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),i=this.editedCells.indexOf(e),i>-1&&this.editedCells.splice(i,1)}}ef.moduleName="edit";ef.editors=xO;class hx{constructor(e,i,s,n){this.type=e,this.columns=i,this.component=s||!1,this.indent=n||0}}class Tv{constructor(e,i,s,n,r){this.value=e,this.component=i||!1,this.width=s,this.height=n,this.depth=r}}class Tk extends ei{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,i,s,n){this.cloneTableStyle=i,this.config=e||{},this.colVisProp=n;var r,o;if(s==="range"){var a=this.table.modules.selectRange.selectedColumns();r=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(a)):[],o=this.bodyToExportRows(this.rowLookup(s),this.table.modules.selectRange.selectedColumns(!0))}else r=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders()):[],o=this.bodyToExportRows(this.rowLookup(s));return r.concat(o)}generateTable(e,i,s,n){var r=this.generateExportList(e,i,s,n);return this.generateTableElement(r)}rowLookup(e){var i=[];if(typeof e=="function")e.call(this.table).forEach(s=>{s=this.table.rowManager.findRow(s),s&&i.push(s)});else switch(e){case!0:case"visible":i=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":i=this.table.rowManager.rows;break;case"selected":i=this.table.modules.selectRow.selectedRows;break;case"range":i=this.table.modules.selectRange.selectedRows();break;case"active":default:this.table.options.pagination?i=this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):i=this.table.rowManager.getDisplayRows()}return Object.assign([],i)}generateColumnGroupHeaders(e){var i=[];return e||(e=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(s=>{var n=this.processColumnGroup(s);n&&i.push(n)}),i}processColumnGroup(e){var i=e.columns,s=0,n=e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,r={title:n,column:e,depth:1};if(i.length){if(r.subGroups=[],r.width=0,i.forEach(o=>{var a=this.processColumnGroup(o);a&&(r.width+=a.width,r.subGroups.push(a),a.depth>s&&(s=a.depth))}),r.depth+=s,!r.width)return!1}else if(this.columnVisCheck(e))r.width=1;else return!1;return r}columnVisCheck(e){var i=e.definition[this.colVisProp];return typeof i=="function"&&(i=i.call(this.table,e.getComponent())),i!==!1&&(e.visible||!e.visible&&i)}headersToExportRows(e){var i=[],s=0,n=[];function r(o,a){var l=s-a;if(typeof i[a]>"u"&&(i[a]=[]),o.height=o.subGroups?1:l-o.depth+1,i[a].push(o),o.height>1)for(let u=1;u<o.height;u++)typeof i[a+u]>"u"&&(i[a+u]=[]),i[a+u].push(!1);if(o.width>1)for(let u=1;u<o.width;u++)i[a].push(!1);o.subGroups&&o.subGroups.forEach(function(u){r(u,a+1)})}return e.forEach(function(o){o.depth>s&&(s=o.depth)}),e.forEach(function(o){r(o,0)}),i.forEach(o=>{var a=[];o.forEach(l=>{if(l){let u=typeof l.title>"u"?"":l.title;a.push(new Tv(u,l.column.getComponent(),l.width,l.height,l.depth))}else a.push(null)}),n.push(new hx("header",a))}),n}bodyToExportRows(e,i=[]){var s=[];return i.length===0&&this.table.columnManager.columnsByIndex.forEach(n=>{this.columnVisCheck(n)&&i.push(n.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(n=>{switch(n.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&n.modules.dataTree.parent)}return!0}),e.forEach((n,r)=>{var o=n.getData(this.colVisProp),a=[],l=0;switch(n.type){case"group":l=n.level,a.push(new Tv(n.key,n.getComponent(),i.length,1));break;case"calc":case"row":i.forEach(u=>{a.push(new Tv(u._column.getFieldValue(o),u,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(l=n.modules.dataTree.index);break}s.push(new hx(n.type,a,n.getComponent(),l))}),s}generateTableElement(e){var i=document.createElement("table"),s=document.createElement("thead"),n=document.createElement("tbody"),r=this.lookupTableStyles(),o=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=o!==null?o:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),i.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),s,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((l,u)=>{let c;switch(l.type){case"header":s.appendChild(this.generateHeaderElement(l,a,r));break;case"group":n.appendChild(this.generateGroupElement(l,a,r));break;case"calc":n.appendChild(this.generateCalcElement(l,a,r));break;case"row":c=this.generateRowElement(l,a,r),this.mapElementStyles(u%2&&r.evenRow?r.evenRow:r.oddRow,c,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n.appendChild(c);break}}),s.innerHTML&&i.appendChild(s),i.appendChild(n),this.mapElementStyles(this.table.element,i,["border-top","border-left","border-right","border-bottom"]),i}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,i,s){var n=document.createElement("tr");return e.columns.forEach(r=>{if(r){var o=document.createElement("th"),a=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];o.colSpan=r.width,o.rowSpan=r.height,o.innerHTML=r.value,this.cloneTableStyle&&(o.style.boxSizing="border-box"),a.forEach(function(l){o.classList.add(l)}),this.mapElementStyles(r.component.getElement(),o,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,o,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),o,["width"]):r.component._column.definition.width&&(o.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&this.mapElementStyles(r.component._column.parent.groupElement,o,["border-top"]),n.appendChild(o)}}),n}generateGroupElement(e,i,s){var n=document.createElement("tr"),r=document.createElement("td"),o=e.columns[0];return n.classList.add("tabulator-print-table-row"),i.groupHeader&&i.groupHeader[e.indent]?o.value=i.groupHeader[e.indent](o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):i.groupHeader!==!1&&(o.value=e.component._group.generator(o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),r.colSpan=o.width,r.innerHTML=o.value,n.classList.add("tabulator-print-table-group"),n.classList.add("tabulator-group-level-"+e.indent),o.component.isVisible()&&n.classList.add("tabulator-group-visible"),this.mapElementStyles(s.firstGroup,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(s.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),n.appendChild(r),n}generateCalcElement(e,i,s){var n=this.generateRowElement(e,i,s);return n.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(s.calcRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n}generateRowElement(e,i,s){var n=document.createElement("tr");if(n.classList.add("tabulator-print-table-row"),e.columns.forEach((r,o)=>{if(r){var a=document.createElement("td"),l=r.component._column,u=this.table,c=u.columnManager.findColumnIndex(l),h=r.value,A,f={modules:{},getValue:function(){return h},getField:function(){return l.definition.field},getElement:function(){return a},getType:function(){return"cell"},getColumn:function(){return l.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return u},getComponent:function(){return f},column:l},m=l.definition.cssClass?l.definition.cssClass.split(" "):[];if(m.forEach(function(p){a.classList.add(p)}),this.table.modExists("format")&&this.config.formatCells!==!1)h=this.table.modules.format.formatExportValue(f,this.colVisProp);else switch(typeof h){case"object":h=h!==null?JSON.stringify(h):"";break;case"undefined":h="";break}h instanceof Node?a.appendChild(h):a.innerHTML=h,A=s.styleCells&&s.styleCells[c]?s.styleCells[c]:s.firstCell,A&&(this.mapElementStyles(A,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),l.definition.align&&(a.style.textAlign=l.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(i.treeElementField&&i.treeElementField==l.field||!i.treeElementField&&o==0)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),n.appendChild(a),f.modules.format&&f.modules.format.renderedCallback&&f.modules.format.renderedCallback()}}),i.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let r=Object.assign(e.component);r.getElement=function(){return n},i.rowFormatter(e.component)}return n}generateHTMLTable(e){var i=document.createElement("div");return i.appendChild(this.generateTableElement(e)),i.innerHTML}getHtml(e,i,s,n){var r=this.generateExportList(s||this.table.options.htmlOutputConfig,i,e,n||"htmlOutput");return this.generateHTMLTable(r)}mapElementStyles(e,i,s){if(this.cloneTableStyle&&e&&i){var n={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);s.forEach(function(o){i.style[n[o]]||(i.style[n[o]]=r.getPropertyValue(o))})}}}}Tk.moduleName="export";var TO={"=":function(t,e,i,s){return e==t},"<":function(t,e,i,s){return e<t},"<=":function(t,e,i,s){return e<=t},">":function(t,e,i,s){return e>t},">=":function(t,e,i,s){return e>=t},"!=":function(t,e,i,s){return e!=t},regex:function(t,e,i,s){return typeof t=="string"&&(t=new RegExp(t)),t.test(e)},like:function(t,e,i,s){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(t.toLowerCase())>-1:!1},keywords:function(t,e,i,s){var n=t.toLowerCase().split(typeof s.separator>"u"?" ":s.separator),r=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return n.forEach(a=>{r.includes(a)&&o.push(!0)}),s.matchAll?o.length===n.length:!!o.length},starts:function(t,e,i,s){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(t.toLowerCase()):!1},ends:function(t,e,i,s){return t===null||typeof t>"u"?e===t:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(t.toLowerCase()):!1},in:function(t,e,i,s){return Array.isArray(t)?t.length?t.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",t),!1)}};class jo extends ei{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var i=this.table.columnManager.findColumn(e.field);if(i)this.setHeaderFilterValue(i,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,i,s,n){return n.filter=this.getFilters(!0,!0),n}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,i,s,n){this.setFilter(e,i,s,n),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,i,s,n){this.addFilter(e,i,s,n),this.refreshFilter()}userSetHeaderFilterFocus(e){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterFocus(i);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var i=this.table.columnManager.findColumn(e);if(i)return this.getHeaderFilterValue(i);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,i){var s=this.table.columnManager.findColumn(e);if(s)this.setHeaderFilterValue(s,i);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,i,s){this.removeFilter(e,i,s),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,i,s){return this.search("rows",e,i,s)}searchData(e,i,s){return this.search("data",e,i,s)}initializeColumnHeaderFilter(e){var i=e.definition;i.headerFilter&&this.initializeColumn(e)}initializeColumn(e,i){var s=this,n=e.getField();function r(o){var a=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",l="",u="",c;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==o){if(e.modules.filter.prevSuccess=o,e.modules.filter.emptyFunc(o))delete s.headerFilters[n];else{switch(e.modules.filter.value=o,typeof e.definition.headerFilterFunc){case"string":jo.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,c=function(h){var A=e.definition.headerFilterFuncParams||{},f=e.getFieldValue(h);return A=typeof A=="function"?A(o,f,h):A,jo.filters[e.definition.headerFilterFunc](o,f,h,A)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":c=function(h){var A=e.definition.headerFilterFuncParams||{},f=e.getFieldValue(h);return A=typeof A=="function"?A(o,f,h):A,e.definition.headerFilterFunc(o,f,h,A)},l=c;break}if(!c)switch(a){case"partial":c=function(h){var A=e.getFieldValue(h);return typeof A<"u"&&A!==null?String(A).toLowerCase().indexOf(String(o).toLowerCase())>-1:!1},l="like";break;default:c=function(h){return e.getFieldValue(h)==o},l="="}s.headerFilters[n]={value:o,func:c,type:l}}e.modules.filter.value=o,u=JSON.stringify(s.headerFilters),s.prevHeaderFilterChangeCheck!==u&&(s.prevHeaderFilterChangeCheck=u,s.trackChanges(),s.refreshFilter())}return!0}e.modules.filter={success:r,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,i,s){var n=this,r=e.modules.filter.success,o=e.getField(),a,l,u,c,h,A,f,m;e.modules.filter.value=i;function p(){}function x(C){m=C}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),o){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(C){return!C&&C!==0},a=document.createElement("div"),a.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":n.table.modules.edit.editors[e.definition.headerFilter]?(l=n.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(C){return C!==!0&&C!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":l=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?l=e.modules.edit.editor:e.definition.formatter&&n.table.modules.edit.editors[e.definition.formatter]?(l=n.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(C){return C!==!0&&C!==!1})):l=n.table.modules.edit.editors.input;break}if(l){if(c={getValue:function(){return typeof i<"u"?i:""},getField:function(){return e.definition.field},getElement:function(){return a},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},f=e.definition.headerFilterParams||{},f=typeof f=="function"?f.call(n.table,c):f,u=l.call(this.table.modules.edit,c,x,r,p,f),!u){console.warn("Filter Error - Cannot add filter to "+o+" column, editor returned a value of false");return}if(!(u instanceof Node)){console.warn("Filter Error - Cannot add filter to "+o+" column, editor should return an instance of Node, the editor returned:",u);return}n.langBind("headerFilters|columns|"+e.definition.field,function(C){u.setAttribute("placeholder",typeof C<"u"&&C?C:e.definition.headerFilterPlaceholder||n.langText("headerFilters|default"))}),u.addEventListener("click",function(C){C.stopPropagation(),u.focus()}),u.addEventListener("focus",C=>{var g=this.table.columnManager.contentsElement.scrollLeft,w=this.table.rowManager.element.scrollLeft;g!==w&&(this.table.rowManager.scrollHorizontal(g),this.table.columnManager.scrollHorizontal(g))}),h=!1,A=function(C){h&&clearTimeout(h),h=setTimeout(function(){r(u.value)},n.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=u,e.modules.filter.attrType=u.hasAttribute("type")?u.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=u.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(u.addEventListener("keyup",A),u.addEventListener("search",A),e.modules.filter.attrType=="number"&&u.addEventListener("change",function(C){r(u.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&u.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&u.addEventListener("mousedown",function(C){C.stopPropagation()})),a.appendChild(u),e.contentElement.appendChild(a),s||n.headerFilterColumns.push(e),m&&m()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,i){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,i,!0),e.modules.filter.success(i)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,i,s,n){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:i,value:s,params:n}]),this.addFilter(e)}addFilter(e,i,s,n){var r=!1;Array.isArray(e)||(e=[{field:e,type:i,value:s,params:n}]),e.forEach(o=>{o=this.findFilter(o),o&&(this.filterList.push(o),r=!0)}),r&&this.trackChanges()}findFilter(e){var i;if(Array.isArray(e))return this.findSubFilters(e);var s=!1;return typeof e.field=="function"?s=function(n){return e.field(n,e.type||{})}:jo.filters[e.type]?(i=this.table.columnManager.getColumnByField(e.field),i?s=function(n){return jo.filters[e.type](e.value,i.getFieldValue(n),n,e.params||{})}:s=function(n){return jo.filters[e.type](e.value,n[e.field],n,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=s,e.func?e:!1}findSubFilters(e){var i=[];return e.forEach(s=>{s=this.findFilter(s),s&&i.push(s)}),i.length?i:!1}getFilters(e,i){var s=[];return e&&(s=this.getHeaderFilters()),i&&s.forEach(function(n){typeof n.type=="function"&&(n.type="function")}),s=s.concat(this.filtersToArray(this.filterList,i)),s}filtersToArray(e,i){var s=[];return e.forEach(n=>{var r;Array.isArray(n)?s.push(this.filtersToArray(n,i)):(r={field:n.field,type:n.type,value:n.value},i&&typeof r.type=="function"&&(r.type="function"),s.push(r))}),s}getHeaderFilters(){var e=[];for(var i in this.headerFilters)e.push({field:i,type:this.headerFilters[i].type,value:this.headerFilters[i].value});return e}removeFilter(e,i,s){Array.isArray(e)||(e=[{field:e,type:i,value:s}]),e.forEach(n=>{var r=-1;typeof n.field=="object"?r=this.filterList.findIndex(o=>n===o):r=this.filterList.findIndex(o=>n.field===o.field&&n.type===o.type&&n.value===o.value),r>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",n.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,i,s,n){var r=[],o=[];return Array.isArray(i)||(i=[{field:i,type:s,value:n}]),i.forEach(a=>{a=this.findFilter(a),a&&o.push(a)}),this.table.rowManager.rows.forEach(a=>{var l=!0;o.forEach(u=>{this.filterRecurse(u,a.getData())||(l=!1)}),l&&r.push(e==="data"?a.getData("data"):a.getComponent())}),r}filter(e,i){var s=[],n=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&s.push(r)}):s=e.slice(0),this.subscribedExternal("dataFiltered")&&(s.forEach(r=>{n.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),n)),s}filterRow(e,i){var s=!0,n=e.getData();this.filterList.forEach(o=>{this.filterRecurse(o,n)||(s=!1)});for(var r in this.headerFilters)this.headerFilters[r].func(n)||(s=!1);return s}filterRecurse(e,i){var s=!1;return Array.isArray(e)?e.forEach(n=>{this.filterRecurse(n,i)&&(s=!0)}):s=e.func(i),s}}jo.moduleName="filter";jo.filters=TO;function _O(t,e,i){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))}function SO(t,e,i){return t.getValue()}function BO(t,e,i){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))}function kO(t,e,i){var s=parseFloat(t.getValue()),n="",r,o,a,l,u,c=e.decimal||".",h=e.thousand||",",A=e.negativeSign||"-",f=e.symbol||"",m=!!e.symbolAfter,p=typeof e.precision<"u"?e.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));if(s<0&&(s=Math.abs(s),n=A),r=p!==!1?s.toFixed(p):s,r=String(r).split("."),o=r[0],a=r.length>1?c+r[1]:"",e.thousand!==!1)for(l=/(\d+)(\d{3})/;l.test(o);)o=o.replace(l,"$1"+h+"$2");return u=o+a,n===!0?(u="("+u+")",m?u+f:f+u):m?n+u+f:n+f+u}function IO(t,e,i){var s=t.getValue(),n=e.urlPrefix||"",r=e.download,o=s,a=document.createElement("a"),l;function u(c,h){var A=c.shift(),f=h[A];return c.length&&typeof f=="object"?u(c,f):f}if(e.labelField&&(l=t.getData(),o=u(e.labelField.split(this.table.options.nestedFieldSeparator),l)),e.label)switch(typeof e.label){case"string":o=e.label;break;case"function":o=e.label(t);break}if(o){if(e.urlField&&(l=t.getData(),s=Ui.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,l)),e.url)switch(typeof e.url){case"string":s=e.url;break;case"function":s=e.url(t);break}return a.setAttribute("href",n+s),e.target&&a.setAttribute("target",e.target),e.download&&(typeof r=="function"?r=r(t):r=r===!0?"":r,a.setAttribute("download",r)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(o)),a}else return"&nbsp;"}function DO(t,e,i){var s=document.createElement("img"),n=t.getValue();switch(e.urlPrefix&&(n=e.urlPrefix+t.getValue()),e.urlSuffix&&(n=n+e.urlSuffix),s.setAttribute("src",n),typeof e.height){case"number":s.style.height=e.height+"px";break;case"string":s.style.height=e.height;break}switch(typeof e.width){case"number":s.style.width=e.width+"px";break;case"string":s.style.width=e.width;break}return s.addEventListener("load",function(){t.getRow().normalizeHeight()}),s}function FO(t,e,i){var s=t.getValue(),n=t.getElement(),r=e.allowEmpty,o=e.allowTruthy,a=Object.keys(e).includes("trueValue"),l=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&s===e.trueValue||!a&&(o&&s||s===!0||s==="true"||s==="True"||s===1||s==="1")?(n.setAttribute("aria-checked",!0),l||""):r&&(s==="null"||s===""||s===null||typeof s>"u")?(n.setAttribute("aria-checked","mixed"),""):(n.setAttribute("aria-checked",!1),u||"")}function PO(t,e,i){var s=window.DateTime||luxon.DateTime,n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=e.outputFormat||"dd/MM/yyyy HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",a=t.getValue();if(typeof s<"u"){var l;return s.isDateTime(a)?l=a:n==="iso"?l=s.fromISO(String(a)):l=s.fromFormat(String(a),n),l.isValid?(e.timezone&&(l=l.setZone(e.timezone)),l.toFormat(r)):o===!0||!a?a:typeof o=="function"?o(a):o}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function LO(t,e,i){var s=window.DateTime||luxon.DateTime,n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",o=typeof e.suffix<"u"?e.suffix:!1,a=typeof e.unit<"u"?e.unit:"days",l=typeof e.humanize<"u"?e.humanize:!1,u=typeof e.date<"u"?e.date:s.now(),c=t.getValue();if(typeof s<"u"){var h;return s.isDateTime(c)?h=c:n==="iso"?h=s.fromISO(String(c)):h=s.fromFormat(String(c),n),h.isValid?l?h.diff(u,a).toHuman()+(o?" "+o:""):parseInt(h.diff(u,a)[a])+(o?" "+o:""):r===!0?c:typeof r=="function"?r(c):r}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function RO(t,e,i){var s=t.getValue();return typeof e[s]>"u"?(console.warn("Missing display value for "+s),s):e[s]}function MO(t,e,i){var s=t.getValue(),n=t.getElement(),r=e&&e.stars?e.stars:5,o=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',u='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';o.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",s=s&&!isNaN(s)?parseInt(s):0,s=Math.max(0,Math.min(s,r));for(var c=1;c<=r;c++){var h=a.cloneNode(!0);h.innerHTML=c<=s?l:u,o.appendChild(h)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",s),o}function OO(t,e,i){var s=this.sanitizeHTML(t.getValue())||0,n=document.createElement("span"),r=e&&e.max?e.max:100,o=e&&e.min?e.min:0,a=e&&typeof e.color<"u"?e.color:["red","orange","green"],l="#666666",u,c;if(!(isNaN(s)||typeof t.getValue()>"u")){switch(n.classList.add("tabulator-traffic-light"),c=parseFloat(s)<=r?parseFloat(s):r,c=parseFloat(c)>=o?parseFloat(c):o,u=(r-o)/100,c=Math.round((c-o)/u),typeof a){case"string":l=a;break;case"function":l=a(s);break;case"object":if(Array.isArray(a)){var h=100/a.length,A=Math.floor(c/h);A=Math.min(A,a.length-1),A=Math.max(A,0),l=a[A];break}}return n.style.backgroundColor=l,n}}function UO(t,e={},i){var s=this.sanitizeHTML(t.getValue())||0,n=t.getElement(),r=e.max?e.max:100,o=e.min?e.min:0,a=e.legendAlign?e.legendAlign:"center",l,u,c,h,A;switch(u=parseFloat(s)<=r?parseFloat(s):r,u=parseFloat(u)>=o?parseFloat(u):o,l=(r-o)/100,u=Math.round((u-o)/l),typeof e.color){case"string":c=e.color;break;case"function":c=e.color(s);break;case"object":if(Array.isArray(e.color)){let x=100/e.color.length,C=Math.floor(u/x);C=Math.min(C,e.color.length-1),C=Math.max(C,0),c=e.color[C];break}default:c="#2DC214"}switch(typeof e.legend){case"string":h=e.legend;break;case"function":h=e.legend(s);break;case"boolean":h=s;break;default:h=!1}switch(typeof e.legendColor){case"string":A=e.legendColor;break;case"function":A=e.legendColor(s);break;case"object":if(Array.isArray(e.legendColor)){let x=100/e.legendColor.length,C=Math.floor(u/x);C=Math.min(C,e.legendColor.length-1),C=Math.max(C,0),A=e.legendColor[C]}break;default:A="#000"}n.style.minWidth="30px",n.style.position="relative",n.setAttribute("aria-label",u);var f=document.createElement("div");f.style.display="inline-block",f.style.width=u+"%",f.style.backgroundColor=c,f.style.height="100%",f.setAttribute("data-max",r),f.setAttribute("data-min",o);var m=document.createElement("div");if(m.style.position="relative",m.style.width="100%",m.style.height="100%",h){var p=document.createElement("div");p.style.position="absolute",p.style.top=0,p.style.left=0,p.style.textAlign=a,p.style.width="100%",p.style.color=A,p.innerHTML=h}return i(function(){if(!(t instanceof wk)){var x=document.createElement("div");x.style.position="absolute",x.style.top="4px",x.style.bottom="4px",x.style.left="4px",x.style.right="4px",n.appendChild(x),n=x}n.appendChild(m),m.appendChild(f),h&&m.appendChild(p)}),""}function NO(t,e,i){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""}function HO(t,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function QO(t,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function VO(t,e,i){var s=document.createElement("span"),n=t.getRow(),r=t.getTable();return n.watchPosition(o=>{e.relativeToPage&&(o+=r.modules.page.getPageSize()*(r.modules.page.getPage()-1)),s.innerText=o}),s}function $O(t,e,i){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function jO(t,e,i){var s=document.createElement("div"),n=t.getRow()._row.modules.responsiveLayout;s.classList.add("tabulator-responsive-collapse-toggle"),s.innerHTML='<svg class=\'tabulator-responsive-collapse-toggle-open\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>\n\n<svg class=\'tabulator-responsive-collapse-toggle-close\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>',t.getElement().classList.add("tabulator-row-handle");function r(o){var a=n.element;n.open=o,a&&(n.open?(s.classList.add("open"),a.style.display=""):(s.classList.remove("open"),a.style.display="none"))}return s.addEventListener("click",function(o){o.stopImmediatePropagation(),r(!n.open),t.getTable().rowManager.adjustTableSize()}),r(n.open),s}function zO(t,e,i){var s=document.createElement("input"),n=!1;if(s.type="checkbox",s.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(s.addEventListener("click",o=>{o.stopPropagation()}),typeof t.getRow=="function"){var r=t.getRow();r instanceof k0?(s.addEventListener("change",o=>{this.table.options.selectableRowsRangeMode==="click"&&n?n=!1:r.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&s.addEventListener("click",o=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,o)}),s.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,s)):s=""}else s.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(s);return s}var KO={plaintext:_O,html:SO,textarea:BO,money:kO,link:IO,image:DO,tickCross:FO,datetime:PO,datetimediff:LO,lookup:RO,star:MO,traffic:OO,progress:UO,color:NO,buttonTick:HO,buttonCross:QO,rownum:VO,handle:$O,responsiveCollapse:jO,rowSelection:zO};class fr extends ei{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,i){var s={params:e.definition["formatter"+i+"Params"]||{}},n=e.definition["formatter"+i];switch(typeof n){case"string":fr.formatters[n]?s.formatter=fr.formatters[n]:(console.warn("Formatter Error - No such formatter found: ",n),s.formatter=fr.formatters.plaintext);break;case"function":s.formatter=n;break;default:s.formatter=fr.formatters.plaintext;break}return s}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,i,s){var n,r,o,a;return e.definition.titleFormatter?(n=this.getFormatter(e.definition.titleFormatter),o=l=>{e.titleFormatterRendered=l},a={getValue:function(){return i},getElement:function(){return s},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},r=e.definition.titleFormatterParams||{},r=typeof r=="function"?r():r,n.call(this,a,r,o)):i}formatValue(e){var i=e.getComponent(),s=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(i):e.column.modules.format.params;function n(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,i,s,n)}formatExportValue(e,i){var s=e.column.modules.format[i],n;if(s){let r=function(o){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=o,e.modules.format.rendered=!1};return n=typeof s.params=="function"?s.params(e.getComponent()):s.params,s.formatter.call(this,e.getComponent(),n,r)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(s){return i[s]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":fr.formatters[e]?e=fr.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=fr.formatters.plaintext);break;case"function":break;default:e=fr.formatters.plaintext;break}return e}}fr.moduleName="format";fr.formatters=KO;class _k extends ei{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var i={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(i.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=i):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(i=>{i.calcs.top&&this.layoutRow(i.calcs.top),i.calcs.bottom&&this.layoutRow(i.calcs.bottom),i.groupList&&i.groupList.length&&this.layoutGroupCalcs(i.groupList)})}layoutColumnPosition(e){var i=[],s=0,n=0;this.leftColumns.forEach((r,o)=>{if(r.modules.frozen.marginValue=s,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(s+=r.getWidth()),o==this.leftColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup){var a=this.getColGroupParentElement(r);i.includes(a)||(this.layoutElement(a,r),i.push(a)),a.classList.toggle("tabulator-frozen-left",r.modules.frozen.edge&&r.modules.frozen.position==="left"),a.classList.toggle("tabulator-frozen-right",r.modules.frozen.edge&&r.modules.frozen.position==="right")}else this.layoutElement(r.getElement(),r);e&&r.cells.forEach(l=>{this.layoutElement(l.getElement(!0),r)})}),this.rightColumns.forEach((r,o)=>{r.modules.frozen.marginValue=n,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(n+=r.getWidth()),o==this.rightColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup?this.layoutElement(this.getColGroupParentElement(r),r):this.layoutElement(r.getElement(),r),e&&r.cells.forEach(a=>{this.layoutElement(a.getElement(!0),r)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),i=this.table.rowManager.getRows().filter(s=>!e.includes(s));i.forEach(s=>{s.deinitialize()}),e.forEach(s=>{s.type==="row"&&this.layoutRow(s)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(i=>{var s=e.getCell(i);s&&this.layoutElement(s.getElement(!0),i)}),this.rightColumns.forEach(i=>{var s=e.getCell(i);s&&this.layoutElement(s.getElement(!0),i)})}layoutElement(e,i){var s;i.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?s=i.modules.frozen.position==="left"?"right":"left":s=i.modules.frozen.position,e.style[s]=i.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",i.modules.frozen.edge&&i.modules.frozen.position==="left"),e.classList.toggle("tabulator-frozen-right",i.modules.frozen.edge&&i.modules.frozen.position==="right"))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}_calcSpace(e,i){var s=0;for(let n=0;n<i;n++)e[n].visible&&(s+=e[n].getWidth());return s}}_k.moduleName="frozenColumns";class Sk extends ei{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var i=this.table.options.frozenRows,s=typeof i;s==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=i&&this.freezeRow(e):s==="function"?i.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(i)&&i.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var i=this.rows.indexOf(e);return i>-1}isFrozen(){return!!this.rows.length}visibleRows(e,i){return this.rows.forEach(s=>{i.push(s)}),i}getRows(e){var i=e.slice(0);return this.rows.forEach(function(s){var n=i.indexOf(s);n>-1&&i.splice(n,1)}),i}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var i=this.rows.indexOf(e);if(i>-1){var s=e.getElement();s.parentNode&&s.parentNode.removeChild(s),this.rows.splice(i,1)}}styleRows(e){this.rows.forEach((i,s)=>{this.table.rowManager.styleRow(i,s)})}}Sk.moduleName="frozenRows";class GO{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(i,s,n){return typeof i[s]<"u"?i[s]:i._group.groupManager.table.componentFunctionBinder.handle("group",i._group,s)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,i){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,i)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}let gp=class Bk{constructor(e,i,s,n,r,o,a){this.groupManager=e,this.parent=i,this.key=n,this.level=s,this.field=r,this.hasSubGroups=s<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:typeof e.startOpen[s]<"u"?e.startOpen[s]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(i){i.wipe()}):this.rows.forEach(i=>{i.modules&&delete i.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(i=>{this._createGroup(i,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",i=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(i.stopPropagation(),i.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,i){var s=i+"_"+e,n=new Bk(this.groupManager,this,i,e,this.groupManager.groupIDLookups[i].field,this.groupManager.headerGenerator[i]||this.groupManager.headerGenerator[0],this.old?this.old.groups[s]:!1);this.groups[s]=n,this.groupList.push(n)}_addRowToGroup(e){var i=this.level+1;if(this.hasSubGroups){var s=this.groupManager.groupIDLookups[i].func(e.getData()),n=i+"_"+s;this.groupManager.allowedValues&&this.groupManager.allowedValues[i]?this.groups[n]&&this.groups[n].addRow(e):(this.groups[n]||this._createGroup(s,i),this.groups[n].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,i,s){var n=this.conformRowData({});e.updateData(n);var r=this.rows.indexOf(i);r>-1?s?this.rows.splice(r+1,0,e):this.rows.splice(r,0,e):s?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(i){i.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var i=this.rows.indexOf(e),s=e.getElement();i>-1&&this.rows.splice(i,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(s.parentNode&&s.parentNode.removeChild(s),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var i=e.level+"_"+e.key,s;this.groups[i]&&(delete this.groups[i],s=this.groupList.indexOf(e),s>-1&&this.groupList.splice(s,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(i){e=e.concat(i.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,i){var s=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(n=>{s.push(n.getData(i||"data"))}),s}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(i=>{e+=i.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var i=e.getHeadersAndRows();i.forEach(s=>{s.detachElement()})}):this.rows.forEach(e=>{var i=e.getElement();i.parentNode.removeChild(i)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(i=>{var s=i.getHeadersAndRows();s.forEach(n=>{var r=n.getElement();e.parentNode.insertBefore(r,e.nextSibling),n.initialize(),e=r})}):this.rows.forEach(i=>{var s=i.getElement();e.parentNode.insertBefore(s,e.nextSibling),i.initialize(),e=s}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(i){e.push(i.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var i=!1;return this.groupList.length?this.groupList.forEach(function(s){var n=s.getRowGroup(e);n&&(i=n)}):this.rows.find(function(s){return s===e})&&(i=this),i}getSubGroups(e){var i=[];return this.groupList.forEach(function(s){i.push(e?s.getComponent():s)}),i}getRows(e,i){var s=[];return i&&this.groupList.length?this.groupList.forEach(n=>{s=s.concat(n.getRows(e,i))}):this.rows.forEach(function(n){s.push(e?n.getComponent():n)}),s}generateGroupHeaderContents(){var e=[],i=this.getRows(!1,!0);for(i.forEach(function(s){e.push(s.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Ui.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new GO(this)),this.component}};class kk extends ei{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,i=this.table.options.groupStartOpen,s=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(s)&&e.length>s.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,o)=>{this.headerGenerator[0]=(a,l,u)=>(typeof a>"u"?"":a)+"<span>("+l+" "+(l===1?r:o.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var n=this.table.columnManager.getRealColumns();n.forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((r,o)=>{var a,l;typeof r=="function"?a=r:(l=this.table.columnManager.getColumnByField(r),l?a=function(u){return l.getFieldValue(u)}:a=function(u){return u[r]}),this.groupIDLookups.push({field:typeof r=="function"?!1:r,func:a,values:this.allowedValues?this.allowedValues[o]:!1})}),i&&(Array.isArray(i)||(i=[i]),i.forEach(r=>{}),this.startOpen=i),s&&(this.headerGenerator=Array.isArray(s)?s:[s])}else this.groupList=[],this.groups={}}rowSample(e,i){if(this.table.options.groupBy){var s=this.getGroups(!1)[0];i.push(s.getRows(!1)[0])}return i}virtualRenderFill(){var e=this.table.rowManager.tableElement,i=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)i=i.filter(s=>s.type!=="group"),e.style.minWidth=i.length?"":this.table.columnManager.getWidth()+"px";else return i}rowAddingIndex(e,i,s){if(this.table.options.groupBy){this.assignRowToGroup(e);var n=e.modules.group.rows;return n.length>1&&(!i||i&&n.indexOf(i)==-1?s?n[0]!==e&&(i=n[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!s)):n[n.length-1]!==e&&(i=n[n.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!s)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!s)),i}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,i,s){if(this.table.options.groupBy){!s&&i instanceof gp&&(i=this.table.rowManager.prevDisplayRow(e)||i);var n=i instanceof gp?i:i.modules.group,r=e instanceof gp?e:e.modules.group;n===r?this.table.rowManager.moveRowInArray(n.rows,e,i,s):(r&&r.removeRow(e),n.insertRow(e,i,s))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var i=[];return this.groupList.forEach(function(s){i.push(e?s.getComponent():s)}),i}getChildGroups(e){var i=[];return e||(e=this),e.groupList.forEach(s=>{s.groupList.length?i=i.concat(this.getChildGroups(s)):i.push(s)}),i}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var i=[];return e.forEach(s=>{var n={};n.level=0,n.rowCount=0,n.headerContent="";var r=[];s.hasSubGroups?(r=this.pullGroupListData(s.groupList),n.level=s.level,n.rowCount=r.length-s.groupList.length,n.headerContent=s.generator(s.key,n.rowCount,s.rows,s),i.push(n),i=i.concat(r)):(n.level=s.level,n.headerContent=s.generator(s.key,s.rows.length,s.rows,s),n.rowCount=s.getRows().length,i.push(n),s.getRows().forEach(o=>{i.push(o.getData("data"))}))}),i}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var i=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(s=>{var n=s.getRowGroup(e);n&&(i=n)}),i}countGroups(){return this.groupList.length}generateGroups(e){var i=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(s=>{this.createGroup(s,0,i)}),e.forEach(s=>{this.assignRowToExistingGroup(s,i)})):e.forEach(s=>{this.assignRowToGroup(s,i)}),Object.values(i).forEach(s=>{s.wipe(!0)})}createGroup(e,i,s){var n=i+"_"+e,r;s=s||[],r=new gp(this,!1,i,e,this.groupIDLookups[0].field,this.headerGenerator[0],s[n]),this.groups[n]=r,this.groupList.push(r)}assignRowToExistingGroup(e,i){var s=this.groupIDLookups[0].func(e.getData()),n="0_"+s;this.groups[n]&&this.groups[n].addRow(e)}assignRowToGroup(e,i){var s=this.groupIDLookups[0].func(e.getData()),n=!this.groups["0_"+s];return n&&this.createGroup(s,0,i),this.groups["0_"+s].addRow(e),!n}reassignRowToGroup(e){if(e.type==="row"){var i=e.modules.group,s=i.getPath(),n=this.getExpectedPath(e),r;r=s.length==n.length&&s.every((o,a)=>o===n[a]),r||(i.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var i=[],s=e.getData();return this.groupIDLookups.forEach(n=>{i.push(n.func(s))}),i}updateGroupRows(e){var i=[];return this.blockRedraw||(this.groupList.forEach(s=>{i=i.concat(s.getHeadersAndRows())}),e&&this.refreshData(!0)),i}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(i=>{i.scrollHeader(e)}))}removeGroup(e){var i=e.level+"_"+e.key,s;this.groups[i]&&(delete this.groups[i],s=this.groupList.indexOf(e),s>-1&&this.groupList.splice(s,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,i=!0;this.table.rowManager.getDisplayRows().forEach((s,n)=>{this.table.rowManager.styleRow(s,n),e.appendChild(s.getElement()),s.initialize(!0),s.type!=="group"&&(i=!1)}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}kk.moduleName="groupRows";var qO={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue),t.component.cellRendered()},rowAdd:function(t){t.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(t){var e=t.data.posFrom-t.data.posTo>0;this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},WO={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue),t.component.cellRendered()},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(t){t.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.getRowFromPosition(t.data.posTo),t.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}};class lu extends ei{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,i,s){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:i.getPosition(),to:i,after:s})}rowAdded(e,i,s,n){this.action("rowAdd",e,{data:i,pos:s,index:n})}rowDeleted(e){var i,s;this.table.options.groupBy?(s=e.getComponent().getGroup()._getSelf().rows,i=s.indexOf(e),i&&(i=s[i-1])):(i=e.table.rowManager.getRowIndex(e),i&&(i=e.table.rowManager.rows[i-1])),this.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,i,s){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:i,data:s}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var i=this.history.findIndex(function(s){return s.component===e});i>-1&&(this.history.splice(i,1),i<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return lu.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return lu.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,i){this.history.forEach(function(s){if(s.component instanceof As)s.component===e&&(s.component=i);else if(s.component instanceof ZA&&s.component.row===e){var n=s.component.column.getField();n&&(s.component=i.getCell(n))}})}}lu.moduleName="history";lu.undoers=qO;lu.redoers=WO;class Ik extends ei{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,i=this.table.options,s=e.getElementsByTagName("th"),n=e.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),n=n?n.getElementsByTagName("tr"):[],this._extractOptions(e,i),s.length?this._extractHeaders(s,n):this._generateBlankHeaders(s,n);for(var o=0;o<n.length;o++){var a=n[o],l=a.getElementsByTagName("td"),u={};this.hasIndex||(u[i.index]=o);for(var c=0;c<l.length;c++){var h=l[c];typeof this.fieldIndex[c]<"u"&&(u[this.fieldIndex[c]]=h.innerHTML)}r.push(u)}i.data=r,this.dispatchExternal("htmlImported")}_extractOptions(e,i,s){var n=e.attributes,r=Object.keys(s||i),o={};r.forEach(c=>{o[c.toLowerCase()]=c});for(var a in n){var l=n[a],u;l&&typeof l=="object"&&l.name&&l.name.indexOf("tabulator-")===0&&(u=l.name.replace("tabulator-",""),typeof o[u]<"u"&&(i[o[u]]=this._attribValue(l.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var i=this.table.options.columns.find(s=>s.title===e);return i||!1}_extractHeaders(e,i){for(var s=0;s<e.length;s++){var n=e[s],r=!1,o=this._findCol(n.textContent),a;o?r=!0:o={title:n.textContent.trim()},o.field||(o.field=n.textContent.trim().toLowerCase().replaceAll(" ","_")),a=n.getAttribute("width"),a&&!o.width&&(o.width=a),this._extractOptions(n,o,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[s]=o.field,o.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(o)}}_generateBlankHeaders(e,i){for(var s=0;s<e.length;s++){var n=e[s],r={title:"",field:"col"+s};this.fieldIndex[s]=r.field;var o=n.getAttribute("width");o&&(r.width=o),this.table.options.columns.push(r)}}}Ik.moduleName="htmlTableImport";function YO(t){var e=[],i=0,s=0,n=!1;for(let r=0;r<t.length;r++){let o=t[r],a=t[r+1];if(e[i]||(e[i]=[]),e[i][s]||(e[i][s]=""),o=='"'&&n&&a=='"'){e[i][s]+=o,r++;continue}if(o=='"'){n=!n;continue}if(o==","&&!n){s++;continue}if(o=="\r"&&a=="\n"&&!n){s=0,i++,r++;continue}if((o=="\r"||o=="\n")&&!n){s=0,i++;continue}e[i][s]+=o}return e}function XO(t){try{return JSON.parse(t)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function JO(t){return t}var ZO={csv:YO,json:XO,array:JO};class tf extends ei{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,i,s,n,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import data"),Promise.reject(o)))}lookupImporter(e){var i;return e||(e=this.table.options.importFormat),typeof e=="string"?i=tf.importers[e]:i=e,i||console.error("Import Error - Importer not found:",e),i}importFromFile(e,i){var s=this.lookupImporter(e);if(s)return this.pickFile(i).then(this.importData.bind(this,s)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(n=>(console.error("Import Error:",n||"Unable to import file"),Promise.reject(n)))}pickFile(e){return new Promise((i,s)=>{var n=document.createElement("input");n.type="file",n.accept=e,n.addEventListener("change",r=>{var o=n.files[0],a=new FileReader;switch(this.table.options.importReader){case"buffer":a.readAsArrayBuffer(o);break;case"binary":a.readAsBinaryString(o);break;case"url":a.readAsDataURL(o);break;case"text":default:a.readAsText(o)}a.onload=l=>{i(a.result)},a.onerror=l=>{console.warn("File Load Error - Unable to read file"),s()}}),n.click()})}importData(e,i){var s=e.call(this.table,i);return s instanceof Promise?s:s?Promise.resolve(s):Promise.reject()}structureData(e){var i=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?i=this.structureArrayToObject(e):i=this.structureArrayToColumns(e),i):e}structureArrayToObject(e){var i=e.shift(),s=e.map(n=>{var r={};return i.forEach((o,a)=>{r[o]=n[a]}),r});return s}structureArrayToColumns(e){var i=[],s=this.table.getColumns();return s[0]&&e[0][0]&&s[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(n=>{var r={};n.forEach((o,a)=>{var l=s[a];l&&(r[l.getField()]=o)}),i.push(r)}),i}setData(e){return this.table.setData(e)}}tf.moduleName="import";tf.importers=ZO;class Dk extends ei{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(i=>{for(let s in i)i[s]=null})}cellContentsSelectionFixer(e,i){var s;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===i)){e.preventDefault();try{document.selection?(s=document.body.createTextRange(),s.moveToElementText(i.getElement()),s.select()):window.getSelection&&(s=document.createRange(),s.selectNode(i.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(s))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,i){i?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var i=this.eventMap[e];this.touchSubscribers[i+"-touchstart"]||(this.touchSubscribers[i+"-touchstart"]=this.handleTouch.bind(this,i,"start"),this.touchSubscribers[i+"-touchend"]=this.handleTouch.bind(this,i,"end"),this.subscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.subscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var i=!0,s=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let n in this.eventMap)this.eventMap[n]===s&&this.subscribers[n]&&(i=!1);i&&(this.unsubscribe(s+"-touchstart",this.touchSubscribers[s+"-touchstart"]),this.unsubscribe(s+"-touchend",this.touchSubscribers[s+"-touchend"]),delete this.touchSubscribers[s+"-touchstart"],delete this.touchSubscribers[s+"-touchend"])}}initializeColumn(e){var i=e.definition;for(let s in this.eventMap)i[s]&&(this.subscriptionChanged(s,!0),this.columnSubscribers[s]||(this.columnSubscribers[s]=[]),this.columnSubscribers[s].push(e))}handle(e,i,s){this.dispatchEvent(e,i,s)}handleTouch(e,i,s,n){var r=this.touchWatchers[e];switch(e==="column"&&(e="header"),i){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",s,n)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",s,n)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",s,n)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null;break}}dispatchEvent(e,i,s){var n=s.getComponent(),r;this.columnSubscribers[e]&&(s instanceof ZA?r=s.column.definition[e]:s instanceof uo&&(r=s.definition[e]),r&&r(i,n)),this.dispatchExternal(e,i,n)}}Dk.moduleName="interaction";var eU={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 67"],rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},tU={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,i=e.scrollTop-e.element.clientHeight;t.preventDefault(),e.displayRowsCount&&(i>=0?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,i=e.scrollTop+e.element.clientHeight,s=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(i<=s?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){this.dispatch("keybinding-nav-prev",t)},navNext:function(t){this.dispatch("keybinding-nav-next",t)},navLeft:function(t){this.dispatch("keybinding-nav-left",t)},navRight:function(t){this.dispatch("keybinding-nav-right",t)},navUp:function(t){this.dispatch("keybinding-nav-up",t)},navDown:function(t){this.dispatch("keybinding-nav-down",t)},rangeJumpLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!0,!1)},rangeJumpRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!0,!1)},rangeJumpUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!0,!1)},rangeJumpDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!0,!1)},rangeExpandLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!1,!0)},rangeExpandRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!1,!0)},rangeExpandUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!1,!0)},rangeExpandDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!1,!0)},rangeExpandJumpLeft:function(t){this.dispatch("keybinding-nav-range",t,"left",!0,!0)},rangeExpandJumpRight:function(t){this.dispatch("keybinding-nav-range",t,"right",!0,!0)},rangeExpandJumpUp:function(t){this.dispatch("keybinding-nav-range",t,"up",!0,!0)},rangeExpandJumpDown:function(t){this.dispatch("keybinding-nav-range",t,"down",!0,!0)},undo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class qa extends ei{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,i={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(i,qa.bindings),Object.assign(i,e),this.mapBindings(i),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let i in e)qa.actions[i]?e[i]&&(typeof e[i]!="object"&&(e[i]=[e[i]]),e[i].forEach(s=>{var n=Array.isArray(s)?s:[s];n.forEach(r=>{this.mapBinding(i,r)})})):console.warn("Key Binding Error - no such action:",i)}mapBinding(e,i){var s={action:qa.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},n=i.toString().toLowerCase().split(" ").join("").split("+");n.forEach(r=>{switch(r){case"ctrl":s.ctrl=!0;break;case"shift":s.shift=!0;break;case"meta":s.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),s.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(s)}})}bindEvents(){var e=this;this.keyupBinding=function(i){var s=i.keyCode,n=e.watchKeys[s];n&&(e.pressedKeys.push(s),n.forEach(function(r){e.checkBinding(i,r)}))},this.keydownBinding=function(i){var s=i.keyCode,n=e.watchKeys[s];if(n){var r=e.pressedKeys.indexOf(s);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,i){var s=!0;return e.ctrlKey==i.ctrl&&e.shiftKey==i.shift&&e.metaKey==i.meta?(i.keys.forEach(n=>{var r=this.pressedKeys.indexOf(n);r==-1&&(s=!1)}),s&&i.action.call(this,e),!0):!1}}qa.moduleName="keybindings";qa.bindings=eU;qa.actions=tU;let Fk=class extends ei{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var i=e.definition;i.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),i.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),i.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),i.headerMenu&&this.initializeColumnHeaderMenu(e),i.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),i.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),i.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var i=e.definition.headerMenuIcon,s;s=document.createElement("span"),s.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?s.appendChild(i):s.innerHTML=i):s.innerHTML="&vellip;",s.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,n,e)}),e.titleElement.insertBefore(s,e.titleElement.firstChild)}loadMenuTableCellEvent(e,i,s){s._cell&&(s=s._cell),s.column.definition[e]&&this.loadMenuEvent(s.column.definition[e],i,s)}loadMenuTableColumnEvent(e,i,s){s._column&&(s=s._column),s.definition[e]&&this.loadMenuEvent(s.definition[e],i,s)}loadMenuEvent(e,i,s){s._group?s=s._group:s._row&&(s=s._row),e=typeof e=="function"?e.call(this.table,i,s.getComponent()):e,this.loadMenu(i,s,e)}loadMenu(e,i,s,n,r){var o=!(e instanceof MouseEvent),a=document.createElement("div"),l;if(a.classList.add("tabulator-menu"),o||e.preventDefault(),!(!s||!s.length)){if(n)l=r.child(a);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=l=this.popup(a)}s.forEach(u=>{var c=document.createElement("div"),h=u.label,A=u.disabled;u.separator?c.classList.add("tabulator-menu-separator"):(c.classList.add("tabulator-menu-item"),typeof h=="function"&&(h=h.call(this.table,i.getComponent())),h instanceof Node?c.appendChild(h):c.innerHTML=h,typeof A=="function"&&(A=A.call(this.table,i.getComponent())),A?(c.classList.add("tabulator-menu-item-disabled"),c.addEventListener("click",f=>{f.stopPropagation()})):u.menu&&u.menu.length?c.addEventListener("click",f=>{f.stopPropagation(),this.loadMenu(f,i,u.menu,c,l)}):u.action&&c.addEventListener("click",f=>{u.action(f,i.getComponent())}),u.menu&&u.menu.length&&c.classList.add("tabulator-menu-item-submenu")),a.appendChild(c)}),a.addEventListener("click",u=>{this.rootPopup&&this.rootPopup.hide()}),l.show(n||e),l===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",s,l),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=i,this.dispatch("menu-opened",s,l),this.dispatchExternal("menuOpened",i.getComponent()))}}};Fk.moduleName="menu";class Pk extends ei{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var i=this,s={},n;!e.modules.frozen&&!e.isGroup&&(n=e.getElement(),s.mousemove=(function(r){e.parent===i.moving.parent&&((i.touchMove?r.touches[0].pageX:r.pageX)-Ui.elOffset(n).left+i.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(i.toCol!==e||!i.toColAfter)&&(n.parentNode.insertBefore(i.placeholderElement,n.nextSibling),i.moveColumn(e,!0)):(i.toCol!==e||i.toColAfter)&&(n.parentNode.insertBefore(i.placeholderElement,n),i.moveColumn(e,!1)))}).bind(i),n.addEventListener("mousedown",function(r){i.touchMove=!1,r.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(r,e)},i.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),i.bindTouchEvents(e)),e.modules.moveColumn=s}bindTouchEvents(e){var i=e.getElement(),s=!1,n,r,o,a,l,u;i.addEventListener("touchstart",c=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=e.nextColumn(),o=n?n.getWidth()/2:0,r=e.prevColumn(),a=r?r.getWidth()/2:0,l=0,u=0,s=!1,this.startMove(c,e)},this.checkPeriod)},{passive:!0}),i.addEventListener("touchmove",c=>{var h,A;this.moving&&(this.moveHover(c),s||(s=c.touches[0].pageX),h=c.touches[0].pageX-s,h>0?n&&h-l>o&&(A=n,A!==e&&(s=c.touches[0].pageX,A.getElement().parentNode.insertBefore(this.placeholderElement,A.getElement().nextSibling),this.moveColumn(A,!0))):r&&-h-u>a&&(A=r,A!==e&&(s=c.touches[0].pageX,A.getElement().parentNode.insertBefore(this.placeholderElement,A.getElement()),this.moveColumn(A,!1))),A&&(n=A.nextColumn(),l=o,o=n?n.getWidth()/2:0,r=A.prevColumn(),u=a,a=r?r.getWidth()/2:0))},{passive:!0}),i.addEventListener("touchend",c=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(c)})}startMove(e,i){var s=i.getElement(),n=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.moving=i,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Ui.elOffset(s).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",s.parentNode.insertBefore(this.placeholderElement,s),s.parentNode.removeChild(s),this.hoverElement=s.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),n.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=n.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,i){var s=this.moving.getCells();this.toCol=e,this.toColAfter=i,i?e.getCells().forEach(function(n,r){var o=n.getElement(!0);o.parentNode&&s[r]&&o.parentNode.insertBefore(s[r].getElement(),o.nextSibling)}):e.getCells().forEach(function(n,r){var o=n.getElement(!0);o.parentNode&&s[r]&&o.parentNode.insertBefore(s[r].getElement(),o)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var i=this.table.columnManager.getContentsElement(),s=i.scrollLeft,n=(this.touchMove?e.touches[0].pageX:e.pageX)-Ui.elOffset(i).left+s,r;this.hoverElement.style.left=n-this.startX+"px",n-s<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,s-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),s+i.clientWidth-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(i.clientWidth,s+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}Pk.moduleName="moveColumn";class D0 extends ei{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var i=this,s={};s.mouseup=(function(n){i.tableRowDrop(n,e)}).bind(i),s.mousemove=(function(n){var r;n.pageY-Ui.elOffset(e.element).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(r=e.getElement(),r.parentNode.insertBefore(i.placeholderElement,r.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(r=e.getElement(),r.previousSibling&&(r.parentNode.insertBefore(i.placeholderElement,r),i.moveRow(e,!1)))}).bind(i),e.modules.moveRow=s}initializeRow(e){var i=this,s={},n;s.mouseup=(function(r){i.tableRowDrop(r,e)}).bind(i),s.mousemove=(function(r){var o=e.getElement();r.pageY-Ui.elOffset(o).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(o.parentNode.insertBefore(i.placeholderElement,o),i.moveRow(e,!1))}).bind(i),this.hasHandle||(n=e.getElement(),n.addEventListener("mousedown",function(r){r.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(r,e)},i.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=s}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var i=this,s=e.getElement(!0);s.addEventListener("mousedown",function(n){n.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(n,e.row)},i.checkPeriod))}),s.addEventListener("mouseup",function(n){n.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e.row,s)}}bindTouchEvents(e,i){var s=!1,n,r,o,a,l,u;i.addEventListener("touchstart",c=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=e.nextRow(),o=n?n.getHeight()/2:0,r=e.prevRow(),a=r?r.getHeight()/2:0,l=0,u=0,s=!1,this.startMove(c,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,i.addEventListener("touchmove",c=>{var h,A;this.moving&&(c.preventDefault(),this.moveHover(c),s||(s=c.touches[0].pageY),h=c.touches[0].pageY-s,h>0?n&&h-l>o&&(A=n,A!==e&&(s=c.touches[0].pageY,A.getElement().parentNode.insertBefore(this.placeholderElement,A.getElement().nextSibling),this.moveRow(A,!0))):r&&-h-u>a&&(A=r,A!==e&&(s=c.touches[0].pageY,A.getElement().parentNode.insertBefore(this.placeholderElement,A.getElement()),this.moveRow(A,!1))),A&&(n=A.nextRow(),l=o,o=n?n.getHeight()/2:0,r=A.prevRow(),u=a,a=r?r.getHeight()/2:0))}),i.addEventListener("touchend",c=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(c),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,i){var s=i.getElement();this.setStartPosition(e,i),this.moving=i,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(i)):(s.parentNode.insertBefore(this.placeholderElement,s),s.parentNode.removeChild(s)),this.hoverElement=s.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",i.getComponent()),this.moveHover(e)}setStartPosition(e,i){var s=this.touchMove?e.touches[0].pageX:e.pageX,n=this.touchMove?e.touches[0].pageY:e.pageY,r,o;r=i.getElement(),this.connection?(o=r.getBoundingClientRect(),this.startX=o.left-s+window.pageXOffset,this.startY=o.top-n+window.pageYOffset):this.startY=n-r.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,i){this.toRow=e,this.toRowAfter=i}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var i=this.table.rowManager.getElement(),s=i.scrollTop,n=(this.touchMove?e.touches[0].pageY:e.pageY)-i.getBoundingClientRect().top+s;this.hoverElement.style.top=Math.min(n-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,i,s){this.dispatchExternal("movableRowsElementDrop",e,i,s?s.getComponent():!1)}connectToTables(e){var i;this.connectionSelectorsTables&&(i=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",i),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(s=>{typeof s=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(s))):this.connectionElements.push(s)}),this.connectionElements.forEach(s=>{var n=r=>{this.elementRowDrop(r,s,this.moving)};s.addEventListener("mouseup",n),s.tabulatorElementDropEvent=n,s.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(i=>{i.classList.remove("tabulator-movingrow-receiving"),i.removeEventListener("mouseup",i.tabulatorElementDropEvent),delete i.tabulatorElementDropEvent})}connect(e,i){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=i,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(s=>{s.type==="row"&&s.modules.moveRow&&s.modules.moveRow.mouseup&&s.getElement().addEventListener("mouseup",s.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",i,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().removeEventListener("mouseup",i.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,i,s){var n=!1;if(s){switch(typeof this.table.options.movableRowsSender){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender;break}n?n.call(this,this.moving?this.moving.getComponent():void 0,i?i.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),i?i.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),i?i.getComponent():void 0,e);this.endMove()}tableRowDrop(e,i){var s=!1,n=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":s=this.receivers[this.table.options.movableRowsReceiver];break;case"function":s=this.table.options.movableRowsReceiver;break}s?n=s.call(this,this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),n?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:i,success:n})}commsReceived(e,i,s){switch(i){case"connect":return this.connect(e,s.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,s.row,s.success)}}}D0.prototype.receivers={insert:function(t,e,i){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,i){return this.table.addRow(t.getData()),!0},update:function(t,e,i){return e?(e.update(t.getData()),!0):!1},replace:function(t,e,i){return e?(this.table.addRow(t.getData(),void 0,e),e.delete(),!0):!1}};D0.prototype.senders={delete:function(t,e,i){t.delete()}};D0.moduleName="moveRow";var iU={};class Fc extends ei{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,i,s){return this.transformRow(i,"data",s)}initializeColumn(e){var i=!1,s={};this.allowedTypes.forEach(n=>{var r="mutator"+(n.charAt(0).toUpperCase()+n.slice(1)),o;e.definition[r]&&(o=this.lookupMutator(e.definition[r]),o&&(i=!0,s[r]={mutator:o,params:e.definition[r+"Params"]||{}}))}),i&&(e.modules.mutate=s)}lookupMutator(e){var i=!1;switch(typeof e){case"string":Fc.mutators[e]?i=Fc.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i,s){var n="mutator"+(i.charAt(0).toUpperCase()+i.slice(1)),r;return this.enabled&&this.table.columnManager.traverse(o=>{var a,l,u;o.modules.mutate&&(a=o.modules.mutate[n]||o.modules.mutate.mutator||!1,a&&(r=o.getFieldValue(typeof s<"u"?s:e),(i=="data"&&!s||typeof r<"u")&&(u=o.getComponent(),l=typeof a.params=="function"?a.params(r,e,i,u):a.params,o.setFieldValue(e,a.mutator(r,e,i,l,u)))))}),e}transformCell(e,i){if(e.column.modules.mutate){var s=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,n={};if(s)return n=Object.assign(n,e.row.getData()),e.column.setFieldValue(n,i),s.mutator(i,n,"edit",s.params,e.getComponent())}return i}mutateLink(e){var i=e.column.definition.mutateLink;i&&(Array.isArray(i)||(i=[i]),i.forEach(s=>{var n=e.row.getCell(s);n&&n.setValue(n.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}}Fc.moduleName="mutator";Fc.mutators=iU;function nU(t,e,i,s,n){var r=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",h=>{o.innerHTML=h}),this.table.modules.localize.langBind("pagination|counter|of",h=>{l.innerHTML=h}),this.table.modules.localize.langBind("pagination|counter|rows",h=>{c.innerHTML=h}),s?(a.innerHTML=" "+e+"-"+Math.min(e+t-1,s)+" ",u.innerHTML=" "+s+" ",r.appendChild(o),r.appendChild(a),r.appendChild(l),r.appendChild(u),r.appendChild(c)):(a.innerHTML=" 0 ",r.appendChild(o),r.appendChild(a),r.appendChild(c)),r}function sU(t,e,i,s,n){var r=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",h=>{o.innerHTML=h}),a.innerHTML=" "+i+" ",this.table.modules.localize.langBind("pagination|counter|of",h=>{l.innerHTML=h}),u.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",h=>{c.innerHTML=h}),r.appendChild(o),r.appendChild(a),r.appendChild(l),r.appendChild(u),r.appendChild(c),r}var rU={rows:nU,pages:sU};class nf extends ei{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,i){var s=this.table.rowManager,n=s.getDisplayRows(),r;return i?n.length?r=n[0]:s.activeRows.length&&(r=s.activeRows[s.activeRows.length-1],i=!1):n.length&&(r=n[n.length-1],i=!(n.length<this.size)),{index:r,top:i}}calculatePageSizes(){var e,i;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",i=document.createElement("div"),i.classList.add("tabulator-cell"),i.innerHTML="Page Row Test",e.appendChild(i),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,i,s,n){return this.initialLoad||(this.progressiveLoad&&!s||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),n.page=this.page,this.size&&(n.size=this.size),n}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,i){var s,n,r;!i&&!this.table.dataLoader.loading&&(s=this.table.rowManager.getElement(),n=s.scrollHeight-s.clientHeight-e,r=this.table.options.progressiveLoadScrollMargin||s.clientHeight*2,n<r&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,i){return i||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let i=1;i<5;i++)e.push(this.size*i);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(i=>{var s=document.createElement("option");s.value=i,i===!0?this.langBind("pagination|all",function(n){s.innerHTML=n}):s.innerHTML=i,this.pageSizeSelect.appendChild(s)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,i=null;e&&(typeof e=="function"?i=e:i=nf.pageCounters[e],i?(this.pageCounter=i,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var i,s;e||(this.langBind("pagination|first",n=>{this.firstBut.innerHTML=n}),this.langBind("pagination|first_title",n=>{this.firstBut.setAttribute("aria-label",n),this.firstBut.setAttribute("title",n)}),this.langBind("pagination|prev",n=>{this.prevBut.innerHTML=n}),this.langBind("pagination|prev_title",n=>{this.prevBut.setAttribute("aria-label",n),this.prevBut.setAttribute("title",n)}),this.langBind("pagination|next",n=>{this.nextBut.innerHTML=n}),this.langBind("pagination|next_title",n=>{this.nextBut.setAttribute("aria-label",n),this.nextBut.setAttribute("title",n)}),this.langBind("pagination|last",n=>{this.lastBut.innerHTML=n}),this.langBind("pagination|last_title",n=>{this.lastBut.setAttribute("aria-label",n),this.lastBut.setAttribute("title",n)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(i=document.createElement("label"),this.langBind("pagination|page_size",n=>{this.pageSizeSelect.setAttribute("aria-label",n),this.pageSizeSelect.setAttribute("title",n),i.innerHTML=n}),this.element.appendChild(i),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",n=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(s=document.querySelector(this.table.options.paginationCounterElement),s?s.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var i=this.displayRows(-1),s=i.indexOf(e);if(s>-1){var n=this.size===!0?1:Math.ceil((s+1)/this.size);return this.setPage(n)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,i,s){var n;if(this.pageCounter)switch(this.mode==="remote"&&(i=this.size,s=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),n=this.pageCounter.call(this,i,s,this.page,e,this.max),typeof n){case"object":if(n instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(n)}else this.pageCounterElement.innerHTML="",n!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",n);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=n}}_setPageButtons(){let e=Math.floor((this.count-1)/2),i=Math.ceil((this.count-1)/2),s=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),n=this.page<=i?Math.min(this.count,this.max):Math.min(this.page+i,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=s;r<=n;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var i=document.createElement("button");return i.classList.add("tabulator-page"),e==this.page&&i.classList.add("active"),i.setAttribute("type","button"),i.setAttribute("role","button"),this.langBind("pagination|page_title",s=>{i.setAttribute("aria-label",s+" "+e),i.setAttribute("title",s+" "+e)}),i.setAttribute("data-page",e),i.textContent=e,i.addEventListener("click",s=>{this.setPage(e)}),i}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var i=0,s,n,r,o,a=e.filter(l=>l.type==="row");if(this.mode=="local"){s=[],this.setMaxRows(e.length),this.size===!0?(n=0,r=e.length):(n=this.size*(this.page-1),r=n+parseInt(this.size)),this._setPageButtons();for(let l=n;l<r;l++){let u=e[l];u&&(s.push(u),u.type==="row"&&(o||(o=u),i++))}return this._setPageCounter(a.length,i,o?a.indexOf(o)+1:0),s}else return this._setPageButtons(),this._setPageCounter(a.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var i;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),i=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+i&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else this.dispatchExternal("pageLoaded",this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}nf.moduleName="page";nf.pageCounters=rU;var oU={local:function(t,e){var i=localStorage.getItem(t+"-"+e);return i?JSON.parse(i):!1},cookie:function(t,e){var i=document.cookie,s=t+"-"+e,n=i.indexOf(s+"="),r,o;return n>-1&&(i=i.slice(n),r=i.indexOf(";"),r>-1&&(i=i.slice(0,r)),o=i.replace(s+"=","")),o?JSON.parse(o):!1}},aU={local:function(t,e,i){localStorage.setItem(t+"-"+e,JSON.stringify(i))},cookie:function(t,e,i){var s=new Date;s.setDate(s.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(i)+"; expires="+s.toUTCString()}};class Ss extends ei{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,i=this.table.options.persistenceID,s;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:Ss.readers[this.table.options.persistenceReaderFunc]?this.readFunc=Ss.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):Ss.readers[this.mode]?this.readFunc=Ss.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:Ss.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=Ss.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):Ss.writers[this.mode]?this.writeFunc=Ss.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(s=this.retrieveData("page"),s&&(typeof s.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=s.paginationSize),typeof s.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=s.paginationInitialPage))),this.config.group&&(s=this.retrieveData("group"),s&&(typeof s.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=s.groupBy),typeof s.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=s.groupStartOpen),typeof s.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=s.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,i,s;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(i=this.load("filter"),i&&(this.table.options.initialFilter=i)),this.config.headerFilter&&(s=this.load("headerFilter"),s&&(this.table.options.initialHeaderFilter=s))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var i,s;this.config.columns&&(this.defWatcherBlock=!0,i=e.getDefinition(),s=this.config.columns===!0?Object.keys(i):this.config.columns,s.forEach(n=>{var r=Object.getOwnPropertyDescriptor(i,n),o=i[n];r&&Object.defineProperty(i,n,{set:a=>{o=a,this.defWatcherBlock||this.save("columns"),r.set&&r.set(a)},get:()=>(r.get&&r.get(),o)})}),this.defWatcherBlock=!1)}load(e,i){var s=this.retrieveData(e);return i&&(s=s?this.mergeDefinition(i,s):i),s}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,i,s){var n=[];return i=i||[],i.forEach((r,o)=>{var a=this._findColumn(e,r),l;a&&(s?l=Object.keys(r):this.config.columns===!0||this.config.columns==null?(l=Object.keys(a),l.push("width")):l=this.config.columns,l.forEach(u=>{u!=="columns"&&typeof r[u]<"u"&&(a[u]=r[u])}),a.columns&&(a.columns=this.mergeDefinition(a.columns,r.columns)),n.push(a))}),e.forEach((r,o)=>{var a=this._findColumn(i,r);a||(n.length>o?n.splice(o,0,r):n.push(r))}),n}_findColumn(e,i){var s=i.columns?"group":i.field?"field":"object";return e.find(function(n){switch(s){case"group":return n.title===i.title&&n.columns.length===i.columns.length;case"field":return n.field===i.field;case"object":return n===i}})}save(e){var i={};switch(e){case"columns":i=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":i=this.table.modules.filter.getFilters();break;case"headerFilter":i=this.table.modules.filter.getHeaderFilters();break;case"sort":i=this.validateSorters(this.table.modules.sort.getSort());break;case"group":i=this.getGroupConfig();break;case"page":i=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,i)}validateSorters(e){return e.forEach(function(i){i.column=i.field,delete i.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var i=[],s=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(n=>{var r={},o=n.getDefinition(),a;n.isGroup?(r.title=o.title,r.columns=this.parseColumns(n.getColumns())):(r.field=n.getField(),this.config.columns===!0||this.config.columns==null?(a=Object.keys(o),a.push("width"),a.push("visible")):a=this.config.columns,a.forEach(l=>{switch(l){case"width":r.width=n.getWidth();break;case"visible":r.visible=n.visible;break;default:typeof o[l]!="function"&&s.indexOf(l)===-1&&(r[l]=o[l])}})),i.push(r)}),i}}Ss.moduleName="persistence";Ss.moduleInitOrder=-10;Ss.readers=oU;Ss.writers=aU;class Lk extends ei{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,i,s){this.loadPopupEvent(i,null,e,s)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var i=e.definition;i.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),i.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),i.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),i.headerPopup&&this.initializeColumnHeaderPopup(e),i.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),i.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),i.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var i=e.definition.headerPopupIcon,s;s=document.createElement("span"),s.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?s.appendChild(i):s.innerHTML=i):s.innerHTML="&vellip;",s.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,n,e)}),e.titleElement.insertBefore(s,e.titleElement.firstChild)}loadPopupTableCellEvent(e,i,s){s._cell&&(s=s._cell),s.column.definition[e]&&this.loadPopupEvent(s.column.definition[e],i,s)}loadPopupTableColumnEvent(e,i,s){s._column&&(s=s._column),s.definition[e]&&this.loadPopupEvent(s.definition[e],i,s)}loadPopupEvent(e,i,s,n){var r;function o(a){r=a}s._group?s=s._group:s._row&&(s=s._row),e=typeof e=="function"?e.call(this.table,i,s.getComponent(),o):e,this.loadPopup(i,s,e,r,n)}loadPopup(e,i,s,n,r){var o=!(e instanceof MouseEvent),a,l;s instanceof HTMLElement?a=s:(a=document.createElement("div"),a.innerHTML=s),a.classList.add("tabulator-popup"),a.addEventListener("click",u=>{u.stopPropagation()}),o||e.preventDefault(),l=this.popup(a),typeof n=="function"&&l.renderCallback(n),e?l.show(e):l.show(i.getElement(),r||"center"),l.hideOnBlur(()=>{this.dispatchExternal("popupClosed",i.getComponent())}),this.dispatchExternal("popupOpened",i.getComponent())}}Lk.moduleName="popup";class Rk extends ei{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,i,s){var n=window.scrollX,r=window.scrollY,o=document.createElement("div"),a=document.createElement("div"),l=this.table.modules.export.generateTable(typeof s<"u"?s:this.table.options.printConfig,typeof i<"u"?i:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),u,c;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(o.classList.add("tabulator-print-header"),u=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof u=="string"?o.innerHTML=u:o.appendChild(u),this.element.appendChild(o)),this.element.appendChild(l),this.table.options.printFooter&&(a.classList.add("tabulator-print-footer"),c=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof c=="string"?a.innerHTML=c:a.appendChild(c),this.element.appendChild(a)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,l),window.print(),this.cleanup(),window.scrollTo(n,r),this.manualBlock=!1}}Rk.moduleName="print";class Mk extends ei{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var i=this,s;this.currentVersion++,s=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r;return!i.blocked&&s===i.currentVersion&&(i.block("data-push"),n.forEach(o=>{i.table.rowManager.addRowActual(o,!1)}),r=i.origFuncs.push.apply(e,arguments),i.unblock("data-push")),r}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r;return!i.blocked&&s===i.currentVersion&&(i.block("data-unshift"),n.forEach(o=>{i.table.rowManager.addRowActual(o,!0)}),r=i.origFuncs.unshift.apply(e,arguments),i.unblock("data-unshift")),r}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n,r;return!i.blocked&&s===i.currentVersion&&(i.block("data-shift"),i.data.length&&(n=i.table.rowManager.getRowFromDataObject(i.data[0]),n&&n.deleteActual()),r=i.origFuncs.shift.call(e),i.unblock("data-shift")),r}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n,r;return!i.blocked&&s===i.currentVersion&&(i.block("data-pop"),i.data.length&&(n=i.table.rowManager.getRowFromDataObject(i.data[i.data.length-1]),n&&n.deleteActual()),r=i.origFuncs.pop.call(e),i.unblock("data-pop")),r}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r=n[0]<0?e.length+n[0]:n[0],o=n[1],a=n[2]?n.slice(2):!1,l,u;if(!i.blocked&&s===i.currentVersion){if(i.block("data-splice"),a&&(l=e[r]?i.table.rowManager.getRowFromDataObject(e[r]):!1,l?a.forEach(h=>{i.table.rowManager.addRowActual(h,!0,l,!0)}):(a=a.slice().reverse(),a.forEach(h=>{i.table.rowManager.addRowActual(h,!0,!1,!0)}))),o!==0){var c=e.slice(r,typeof n[1]>"u"?n[1]:r+o);c.forEach((h,A)=>{var f=i.table.rowManager.getRowFromDataObject(h);f&&f.deleteActual(A!==c.length-1)})}(a||o!==0)&&i.table.rowManager.reRenderInPosition(),u=i.origFuncs.splice.apply(e,arguments),i.unblock("data-splice")}return u}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var i=e.getData();for(var s in i)this.watchKey(e,i,s);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var i=this,s=e.getData()[this.table.options.dataTreeChildField],n={};s&&(n.push=s.push,Object.defineProperty(s,"push",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-push");var r=n.push.apply(s,arguments);this.rebuildTree(e),i.unblock("tree-push")}return r}}),n.unshift=s.unshift,Object.defineProperty(s,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-unshift");var r=n.unshift.apply(s,arguments);this.rebuildTree(e),i.unblock("tree-unshift")}return r}}),n.shift=s.shift,Object.defineProperty(s,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-shift");var r=n.shift.call(s);this.rebuildTree(e),i.unblock("tree-shift")}return r}}),n.pop=s.pop,Object.defineProperty(s,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-pop");var r=n.pop.call(s);this.rebuildTree(e),i.unblock("tree-pop")}return r}}),n.splice=s.splice,Object.defineProperty(s,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-splice");var r=n.splice.apply(s,arguments);this.rebuildTree(e),i.unblock("tree-splice")}return r}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,i,s){var n=this,r=Object.getOwnPropertyDescriptor(i,s),o=i[s],a=this.currentVersion;Object.defineProperty(i,s,{set:l=>{if(o=l,!n.blocked&&a===n.currentVersion){n.block("key");var u={};u[s]=l,e.updateData(u),n.unblock("key")}r.set&&r.set(l)},get:()=>(r.get&&r.get(),o)})}unwatchRow(e){var i=e.getData();for(var s in i)Object.defineProperty(i,s,{value:i[s]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}Mk.moduleName="reactiveData";class Ok extends ei{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var i=e.prevColumn();this.reinitializeColumn(e),i&&this.reinitializeColumn(i)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.reinitializeColumn(i)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.reinitializeColumn(i)}))}frozenColumnOffset(e){var i=!1;return e.modules.frozen&&(i=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?i+=e.getWidth()-3:i&&(i-=3)),i!==!1?i+"px":!1}reinitializeColumn(e){var i=this.frozenColumnOffset(e);e.cells.forEach(s=>{s.modules.resize&&s.modules.resize.handleEl&&(i&&(s.modules.resize.handleEl.style[e.modules.frozen.position]=i,s.modules.resize.handleEl.style["z-index"]=11),s.element.after(s.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(i&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=i),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,i,s,n){var r=this,o=!1,a=s.definition.resizable,l={},u=s.getLastColumn();if(e==="header"&&(o=s.definition.formatter=="textarea"||s.definition.variableHeight,l={variableHeight:o}),(a===!0||a==e)&&this._checkResizability(u)){var c=document.createElement("span");c.className="tabulator-col-resize-handle",c.addEventListener("click",function(A){A.stopPropagation()});var h=function(A){r.startColumn=s,r.initialNextColumn=r.nextColumn=u.nextColumn(),r._mouseDown(A,u,c)};c.addEventListener("mousedown",h),c.addEventListener("touchstart",h,{passive:!0}),c.addEventListener("dblclick",A=>{var f=u.getWidth();A.stopPropagation(),u.reinitializeWidth(!0),f!==u.getWidth()&&(r.dispatch("column-resized",u),r.table.externalEvents.dispatch("columnResized",u.getComponent()))}),s.modules.frozen&&(c.style.position="sticky",c.style[s.modules.frozen.position]=this.frozenColumnOffset(s)),l.handleEl=c,n.parentNode&&s.visible&&n.after(c)}i.modules.resize=l}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(i=>{this.deInitializeComponent(i)})}deInitializeComponent(e){var i;e.modules.resize&&(i=e.modules.resize.handleEl,i&&i.parentElement&&i.parentElement.removeChild(i))}resizeHandle(e,i){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=i)}_checkResizability(e){return e.definition.resizable}_mouseDown(e,i,s){var n=this;n.table.element.classList.add("tabulator-block-select");function r(a){var l=typeof a.screenX>"u"?a.touches[0].screenX:a.screenX,u=l-n.startX,c=l-n.latestX,h,A;if(n.latestX=l,n.table.rtl&&(u=-u,c=-c),h=i.width==i.minWidth||i.width==i.maxWidth,i.setWidth(n.startWidth+u),A=i.width==i.minWidth||i.width==i.maxWidth,c<0&&(n.nextColumn=n.initialNextColumn),n.table.options.resizableColumnFit&&n.nextColumn&&!(h&&A)){let f=n.nextColumn.getWidth();c>0&&f<=n.nextColumn.minWidth&&(n.nextColumn=n.nextColumn.nextColumn()),n.nextColumn&&n.nextColumn.setWidth(n.nextColumn.getWidth()-c)}n.table.columnManager.rerenderColumns(!0),!n.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights()}function o(a){n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights(),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",r),s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o),n.table.element.classList.remove("tabulator-block-select"),n.startWidth!==i.getWidth()&&(n.table.columnManager.verticalAlignHeaders(),n.dispatch("column-resized",i),n.table.externalEvents.dispatch("columnResized",i.getComponent()))}e.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=typeof e.screenX>"u"?e.touches[0].screenX:e.screenX,n.latestX=n.startX,n.startWidth=i.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),s.addEventListener("touchmove",r,{passive:!0}),s.addEventListener("touchend",o)}}Ok.moduleName="resizeColumns";class Uk extends ei{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var i=this,s=e.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",n.addEventListener("click",function(l){l.stopPropagation()});var o=function(l){i.startRow=e,i._mouseDown(l,e,n)};n.addEventListener("mousedown",o),n.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("click",function(l){l.stopPropagation()});var a=function(l){var u=i.table.rowManager.prevDisplayRow(e);u&&(i.startRow=u,i._mouseDown(l,u,r))};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a,{passive:!0}),s.appendChild(n),s.appendChild(r)}_mouseDown(e,i,s){var n=this;n.table.element.classList.add("tabulator-block-select");function r(a){i.setHeight(n.startHeight+((typeof a.screenY>"u"?a.touches[0].screenY:a.screenY)-n.startY))}function o(a){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),s.removeEventListener("touchmove",r),s.removeEventListener("touchend",o),n.table.element.classList.remove("tabulator-block-select"),n.dispatchExternal("rowResized",i.getComponent())}e.stopPropagation(),n.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,n.startHeight=i.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),s.addEventListener("touchmove",r,{passive:!0}),s.addEventListener("touchend",o)}}Uk.moduleName="resizeRows";class Nk extends ei{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,i;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(s=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var n=Math.floor(s[0].contentRect.height),r=Math.floor(s[0].contentRect.width);(this.tableHeight!=n||this.tableWidth!=r)&&(this.tableHeight=n,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),i=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(i.getPropertyValue("max-height")||i.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(s=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var n=Math.floor(s[0].contentRect.height),r=Math.floor(s[0].contentRect.width);(this.containerHeight!=n||this.containerWidth!=r)&&(this.containerHeight=n,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}Nk.moduleName="resizeTable";class Hk extends ei{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((i,s)=>{i.modules.responsive&&i.modules.responsive.order&&i.modules.responsive.visible&&(i.modules.responsive.index=s,e.push(i),!i.visible&&this.mode==="collapse"&&this.hiddenColumns.push(i))}),e=e.reverse(),e=e.sort((i,s)=>{var n=s.modules.responsive.order-i.modules.responsive.order;return n||s.modules.responsive.index-i.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let i of this.table.columnManager.columnsByIndex)if(i.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=i;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var i=e.getDefinition();e.modules.responsive={order:typeof i.responsive>"u"?1:i.responsive,visible:i.visible!==!1}}initializeRow(e){var i;e.type!=="calc"&&(i=document.createElement("div"),i.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:i,open:this.collapseStartOpen},this.collapseStartOpen||(i.style.display="none"))}layoutRow(e){var i=e.getElement();e.modules.responsiveLayout&&(i.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,i){!i&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var i=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!i&&this.collapseHandleColumn.show())}showColumn(e){var i;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(i=this.hiddenColumns.indexOf(e),i>-1&&this.hiddenColumns.splice(i,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let i=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),s=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-i;if(s<0){let n=this.columns[this.index];n?(this.hideColumn(n),this.index++):e=!1}else{let n=this.columns[this.index-1];n&&s>0&&s>=n.getWidth()?(this.showColumn(n),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(i=>{this.generateCollapsedRowContent(i)})}generateCollapsedRowContent(e){var i,s;if(e.modules.responsiveLayout){for(i=e.modules.responsiveLayout.element;i.firstChild;)i.removeChild(i.firstChild);s=this.collapseFormatter(this.generateCollapsedRowData(e)),s&&i.appendChild(s)}}generateCollapsedRowData(e){var i=e.getData(),s=[],n;return this.hiddenColumns.forEach(r=>{var o=r.getFieldValue(i);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let a=function(l){l()};n={value:!1,data:{},getValue:function(){return o},getData:function(){return i},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},s.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,n,r.modules.format.params,a)})}else s.push({field:r.field,title:r.definition.title,value:o})}),s}formatCollapsedData(e){var i=document.createElement("table");return e.forEach(function(s){var n=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),a,l=document.createElement("strong");r.appendChild(l),this.langBind("columns|"+s.field,function(u){l.innerHTML=u||s.title}),s.value instanceof Node?(a=document.createElement("div"),a.appendChild(s.value),o.appendChild(a)):o.innerHTML=s.value,n.appendChild(r),n.appendChild(o),i.appendChild(n)},this),Object.keys(e).length?i:""}}Hk.moduleName="responsiveLayout";class Qk extends ei{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(i,s){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){this.deprecationCheck("selectable","selectableRows",!0),this.deprecationCheck("selectableRollingSelection","selectableRowsRollingSelection",!0),this.deprecationCheck("selectableRangeMode","selectableRowsRangeMode",!0),this.deprecationCheck("selectablePersistence","selectableRowsPersistence",!0),this.deprecationCheck("selectableCheck","selectableRowsCheck",!0)}rowRetrieve(e,i){return e==="selected"?this.selectedRows:i}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var i=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],i&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var i=this,s=i.checkRowSelectability(e),n=e.getElement(),r=function(){setTimeout(function(){i.selecting=!1},50),document.body.removeEventListener("mouseup",r)};e.modules.select={selected:!1},n.classList.toggle("tabulator-selectable",s),n.classList.toggle("tabulator-unselectable",!s),i.checkRowSelectability(e)&&i.table.options.selectableRows&&i.table.options.selectableRows!="highlight"&&(i.table.options.selectableRowsRangeMode==="click"?n.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(n.addEventListener("click",function(o){(!i.table.modExists("edit")||!i.table.modules.edit.getCurrentCell())&&i.table._clearSelection(),i.selecting||i.toggleRow(e)}),n.addEventListener("mousedown",function(o){if(o.shiftKey)return i.table._clearSelection(),i.selecting=!0,i.selectPrev=[],document.body.addEventListener("mouseup",r),document.body.addEventListener("keyup",r),i.toggleRow(e),!1}),n.addEventListener("mouseenter",function(o){i.selecting&&(i.table._clearSelection(),i.toggleRow(e),i.selectPrev[1]==e&&i.toggleRow(i.selectPrev[0]))}),n.addEventListener("mouseout",function(o){i.selecting&&(i.table._clearSelection(),i.selectPrev.unshift(e))})))}handleComplexRowClick(e,i){if(i.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var s=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),n=this.table.rowManager.getDisplayRowIndex(e),r=s<=n?s:n,o=s>=n?s:n,a=this.table.rowManager.getDisplayRows().slice(0),l=a.splice(r,o-r+1);i.ctrlKey||i.metaKey?(l.forEach(u=>{u!==this.lastClickedRow&&(this.table.options.selectableRows!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectableRows&&this.toggleRow(u):this.toggleRow(u))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&l.length>this.table.options.selectableRows&&(l=l.slice(0,this.table.options.selectableRows)),this.selectRows(l)),this.table._clearSelection()}else i.ctrlKey||i.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableRowsCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var i=[],s,n;switch(typeof e){case"undefined":s=this.table.rowManager.rows;break;case"number":s=this.table.rowManager.findRow(e);break;case"string":s=this.table.rowManager.findRow(e),s||(s=this.table.rowManager.getRows(e));break;default:s=e;break}Array.isArray(s)?s.length&&(s.forEach(r=>{n=this._selectRow(r,!0,!0),n&&i.push(n)}),this._rowSelectionChanged(!1,i)):s&&this._selectRow(s,!1,!0)}_selectRow(e,i,s){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!s&&this.selectedRows.length>=this.table.options.selectableRows)if(this.table.options.selectableRowsRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var n=this.table.rowManager.findRow(e);if(n){if(this.selectedRows.indexOf(n)==-1)return n.getElement().classList.add("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),this.dispatchExternal("rowSelected",n.getComponent()),this._rowSelectionChanged(i,n),n}else i||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,i){var s=[],n,r;switch(typeof e){case"undefined":n=Object.assign([],this.selectedRows);break;case"number":n=this.table.rowManager.findRow(e);break;case"string":n=this.table.rowManager.findRow(e),n||(n=this.table.rowManager.getRows(e));break;default:n=e;break}Array.isArray(n)?n.length&&(n.forEach(o=>{r=this._deselectRow(o,!0,!0),r&&s.push(r)}),this._rowSelectionChanged(i,[],s)):n&&this._deselectRow(n,i,!0)}_deselectRow(e,i){var s=this,n=s.table.rowManager.findRow(e),r,o;if(n){if(r=s.selectedRows.findIndex(function(a){return a==n}),r>-1)return o=n.getElement(),o&&o.classList.remove("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),s.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),this.dispatchExternal("rowDeselected",n.getComponent()),s._rowSelectionChanged(i,void 0,n),n}else i||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getComponent())}),e}_rowSelectionChanged(e,i=[],s=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(i)||(i=[i]),i=i.map(n=>n.getComponent()),Array.isArray(s)||(s=[s]),s=s.map(n=>n.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),i,s))}registerRowSelectCheckbox(e,i){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=i}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,i){var s=this.table.modules.dataTree.getChildren(e,!0);if(i)for(let n of s)this._selectRow(n,!0);else for(let n of s)this._deselectRow(n,!0)}}Qk.moduleName="selectRow";function lU(t,e,i,s,n,r,o){var a=o.alignEmptyValues,l=o.decimalSeparator,u=o.thousandSeparator,c=0;if(t=String(t),e=String(e),u&&(t=t.split(u).join(""),e=e.split(u).join("")),l&&(t=t.split(l).join("."),e=e.split(l).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))c=isNaN(e)?0:-1;else if(isNaN(e))c=1;else return t-e;return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(c*=-1),c}function uU(t,e,i,s,n,r,o){var a=o.alignEmptyValues,l=0,u;if(!t)l=e?-1:0;else if(!e)l=1;else{switch(typeof o.locale){case"boolean":o.locale&&(u=this.langLocale());break;case"string":u=o.locale;break}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),u)}return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(l*=-1),l}function DC(t,e,i,s,n,r,o){var a=window.DateTime||luxon.DateTime,l=o.format||"dd/MM/yyyy HH:mm:ss",u=o.alignEmptyValues,c=0;if(typeof a<"u"){if(a.isDateTime(t)||(l==="iso"?t=a.fromISO(String(t)):t=a.fromFormat(String(t),l)),a.isDateTime(e)||(l==="iso"?e=a.fromISO(String(e)):e=a.fromFormat(String(e),l)),!t.isValid)c=e.isValid?-1:0;else if(!e.isValid)c=1;else return t-e;return(u==="top"&&r==="desc"||u==="bottom"&&r==="asc")&&(c*=-1),c}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function cU(t,e,i,s,n,r,o){return o.format||(o.format="dd/MM/yyyy"),DC.call(this,t,e,i,s,n,r,o)}function dU(t,e,i,s,n,r,o){return o.format||(o.format="HH:mm"),DC.call(this,t,e,i,s,n,r,o)}function hU(t,e,i,s,n,r,o){var a=t===!0||t==="true"||t==="True"||t===1?1:0,l=e===!0||e==="true"||e==="True"||e===1?1:0;return a-l}function AU(t,e,i,s,n,r,o){var a=o.type||"length",l=o.alignEmptyValues,u=0;function c(h){var A;switch(a){case"length":A=h.length;break;case"sum":A=h.reduce(function(f,m){return f+m});break;case"max":A=Math.max.apply(null,h);break;case"min":A=Math.min.apply(null,h);break;case"avg":A=h.reduce(function(f,m){return f+m})/h.length;break}return A}if(!Array.isArray(t))u=Array.isArray(e)?-1:0;else if(!Array.isArray(e))u=1;else return c(e)-c(t);return(l==="top"&&r==="desc"||l==="bottom"&&r==="asc")&&(u*=-1),u}function fU(t,e,i,s,n,r,o){var a=typeof t>"u"?0:1,l=typeof e>"u"?0:1;return a-l}function pU(t,e,i,s,n,r,o){var a,l,u,c,h=0,A,f=/(\d+)|(\D+)/g,m=/\d/,p=o.alignEmptyValues,x=0;if(!t&&t!==0)x=!e&&e!==0?0:-1;else if(!e&&e!==0)x=1;else{if(isFinite(t)&&isFinite(e))return t-e;if(a=String(t).toLowerCase(),l=String(e).toLowerCase(),a===l)return 0;if(!(m.test(a)&&m.test(l)))return a>l?1:-1;for(a=a.match(f),l=l.match(f),A=a.length>l.length?l.length:a.length;h<A;)if(u=a[h],c=l[h++],u!==c)return isFinite(u)&&isFinite(c)?(u.charAt(0)==="0"&&(u="."+u),c.charAt(0)==="0"&&(c="."+c),u-c):u>c?1:-1;return a.length>l.length}return(p==="top"&&r==="desc"||p==="bottom"&&r==="asc")&&(x*=-1),x}var gU={number:lU,string:uU,date:cU,time:dU,datetime:DC,boolean:hU,array:AU,exists:fU,alphanum:pU};class Wl extends ei{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,i,s,n){var r=this.getSort();return r.forEach(o=>{delete o.column}),n.sort=r,n}userSetSort(e,i){this.setSort(e,i),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var i=!1,s,n;switch(typeof e.definition.sorter){case"string":Wl.sorters[e.definition.sorter]?i=Wl.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":i=e.definition.sorter;break}if(e.modules.sort={sorter:i,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(s=e.getElement(),s.classList.add("tabulator-sortable"),n=document.createElement("div"),n.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":n.classList.add("tabulator-col-sorter-element");break;case"header":s.classList.add("tabulator-col-sorter-element");break;default:s.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":n.appendChild(this.table.options.headerSortElement);break;default:n.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(n),e.modules.sort.element=n,this.setColumnHeaderSortIcon(e,"none"),this.table.options.headerSortClickElement==="icon"&&n.addEventListener("mousedown",r=>{r.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?n:s).addEventListener("click",r=>{var o="",a=[],l=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?o=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?o=e.modules.sort.dir=="asc"?"desc":"asc":o="none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?(a=this.getSort(),l=a.findIndex(u=>u.field===e.getField()),l>-1?(a[l].dir=o,l=a.splice(l,1)[0],o!="none"&&a.push(l)):o!="none"&&a.push({column:e,dir:o}),this.setSort(a)):o=="none"?this.clear():this.setSort(e,o),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,i=[];return e.sortList.forEach(function(s){s.column&&i.push({column:s.column.getComponent(),field:s.column.getField(),dir:s.dir})}),i}setSort(e,i){var s=this,n=[];Array.isArray(e)||(e=[{column:e,dir:i}]),e.forEach(function(r){var o;o=s.table.columnManager.findColumn(r.column),o?(r.column=o,n.push(r),s.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),s.sortList=n,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var i=this.table.rowManager.activeRows[0],s="string",n,r;if(i&&(i=i.getData(),n=e.getField(),n))switch(r=e.getFieldValue(i),typeof r){case"undefined":s="string";break;case"boolean":s="boolean";break;default:!isNaN(r)&&r!==""?s="number":r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(s="alphanum");break}return Wl.sorters[s]}sort(e){var i=this,s=this.table.options.sortOrderReverse?i.sortList.slice().reverse():i.sortList,n=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",i.getSort()),i.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(s.forEach(function(o,a){var l;o.column&&(l=o.column.modules.sort,l&&(l.sorter||(l.sorter=i.findSorter(o.column)),o.params=typeof l.params=="function"?l.params(o.column.getComponent(),o.dir):l.params,n.push(o)),i.setColumnHeader(o.column,o.dir))}),n.length&&i._sortItems(e,n)):s.forEach(function(o,a){i.setColumnHeader(o.column,o.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(o=>{r.push(o.getComponent())}),this.dispatchExternal("dataSorted",i.getSort(),r)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,i){e.modules.sort.dir=i,e.getElement().setAttribute("aria-sort",i==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,i)}setColumnHeaderSortIcon(e,i){var s=e.modules.sort.element,n;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;s.firstChild;)s.removeChild(s.firstChild);n=this.table.options.headerSortElement.call(this.table,e.getComponent(),i),typeof n=="object"?s.appendChild(n):s.innerHTML=n}}_sortItems(e,i){var s=i.length-1;e.sort((n,r)=>{for(var o,a=s;a>=0;a--){let l=i[a];if(o=this._sortRow(n,r,l.column,l.dir,l.params),o!==0)break}return o})}_sortRow(e,i,s,n,r){var o,a,l=n=="asc"?e:i,u=n=="asc"?i:e;return e=s.getFieldValue(l.getData()),i=s.getFieldValue(u.getData()),e=typeof e<"u"?e:"",i=typeof i<"u"?i:"",o=l.getComponent(),a=u.getComponent(),s.modules.sort.sorter.call(this,e,i,o,a,s.getComponent(),n,r)}}Wl.moduleName="sort";Wl.sorters=gU;class mU{constructor(e){return this._range=e,new Proxy(this,{get:function(i,s,n){return typeof i[s]<"u"?i[s]:i._range.table.componentFunctionBinder.handle("range",i._range,s)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(e=>e.getComponent())}getColumns(){return this._range.getColumns().map(e=>e.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(e,i){this._range.destroyedGuard("setBounds")&&this._range.setBounds(e&&e._cell,i&&i._cell)}setStartBound(e){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}setEndBound(e){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class bU extends bs{constructor(e,i,s,n){super(e),this.rangeManager=i,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=e,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(s,n)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(e,i){this._updateMinMax(),e&&this.setBounds(e,i||e)}setStart(e,i){(this.start.row!==e||this.start.col!==i)&&(this.start.row=e,this.start.col=i,this.initializing.start=!0,this._updateMinMax())}setEnd(e,i){(this.end.row!==e||this.end.col!==i)&&(this.end.row=e,this.end.col=i,this.initializing.end=!0,this._updateMinMax())}setBounds(e,i,s){e&&this.setStartBound(e),this.setEndBound(i||e),this.rangeManager.layoutElement(s)}setStartBound(e){var i,s;e.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,e.getPosition()-1):(i=e.row.position-1,s=e.column.getPosition()-1,e.column===this.rangeManager.rowHeader?this.setStart(i,1):this.setStart(i,s))}setEndBound(e){var i=this._getTableRows().length,s,n,r;e.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(i-1,e.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,e.getPosition()-1)):(s=e.row.position-1,n=e.column.getPosition()-1,r=e.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(s,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&r?this.setEnd(s,0):this.rangeManager.selecting==="column"?this.setEnd(i-1,n):this.setEnd(s,n))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows()}layout(){var e=this.table.rowManager.renderer.vDomTop,i=this.table.rowManager.renderer.vDomBottom,s=this.table.columnManager.renderer.leftCol,n=this.table.columnManager.renderer.rightCol,r,o,a,l,u,c;e==null&&(e=0),i==null&&(i=1/0),s==null&&(s=0),n==null&&(n=1/0),this.overlaps(s,e,n,i)&&(r=Math.max(this.top,e),o=Math.min(this.bottom,i),a=Math.max(this.left,s),l=Math.min(this.right,n),u=this.rangeManager.getCell(r,a),c=this.rangeManager.getCell(o,l),this.element.classList.add("tabulator-range-active"),this.element.style.left=u.row.getElement().offsetLeft+u.getElement().offsetLeft+"px",this.element.style.top=u.row.getElement().offsetTop+"px",this.element.style.width=c.getElement().offsetLeft+c.getElement().offsetWidth-u.getElement().offsetLeft+"px",this.element.style.height=c.row.getElement().offsetTop+c.row.getElement().offsetHeight-u.row.getElement().offsetTop+"px")}atTopLeft(e){return e.row.position-1===this.top&&e.column.getPosition()-1===this.left}atBottomRight(e){return e.row.position-1===this.bottom&&e.column.getPosition()-1===this.right}occupies(e){return this.occupiesRow(e.row)&&this.occupiesColumn(e.column)}occupiesRow(e){return this.top<=e.position-1&&e.position-1<=this.bottom}occupiesColumn(e){return this.left<=e.getPosition()-1&&e.getPosition()-1<=this.right}overlaps(e,i,s,n){return!(this.left>s||e>this.right||this.top>n||i>this.bottom)}getData(){var e=[],i=this.getRows(),s=this.getColumns();return i.forEach(n=>{var r=n.getData(),o={};s.forEach(a=>{o[a.field]=r[a.field]}),e.push(o)}),e}getCells(e,i){var s=[],n=this.getRows(),r=this.getColumns();return e?s=n.map(o=>{var a=[];return o.getCells().forEach(l=>{r.includes(l.column)&&a.push(i?l.getComponent():l)}),a}):n.forEach(o=>{o.getCells().forEach(a=>{r.includes(a.column)&&s.push(i?a.getComponent():a)})}),s}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var e=this.getCells(),i=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),e.forEach(s=>{s.setValue(i)}),this.table.restoreRedraw()}getBounds(e){var i=this.getCells(!1,e),s={start:null,end:null};return i.length?(s.start=i[0],s.end=i[i.length-1]):console.warn("No bounds defined on range"),s}getComponent(){return this.component||(this.component=new mU(this)),this.component}destroy(e){this.destroyed=!0,this.element.remove(),e&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(e){return this.destroyed&&console.warn("You cannot call the "+e+" function on a destroyed range"),!this.destroyed}}class Vk extends ei{constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),e.modules.edit}updateHeaderColumn(){this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior")))}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,i){return e=e?e._cell:null,i=i?i._cell:null,this.addRange(e,i)}cellGetRanges(e){var i=[];return e.column===this.rowHeader?i=this.ranges.filter(s=>s.occupiesRow(e.row)):i=this.ranges.filter(s=>s.occupies(e)),i.map(s=>s.getComponent())}rowGetRanges(e){var i=this.ranges.filter(s=>s.occupiesRow(e));return i.map(s=>s.getComponent())}colGetRanges(e){var i=this.ranges.filter(s=>s.occupiesColumn(e));return i.map(s=>s.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}(e.key==="Backspace"||e.key==="Delete")&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var i;try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(e.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){var i;this.selecting!=="column"&&this.selecting!=="all"||(i=this.ranges.some(s=>s.occupiesColumn(e)),i&&this.ranges.forEach(s=>{var n=s.getColumns(!0);n.forEach(r=>{r!==e&&r.setWidth(e.width)})}))}handleColumnMouseDown(e,i){e.button===2&&(this.selecting==="column"||this.selecting==="all")&&this.activeRange.occupiesColumn(i)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleColumnMouseMove(e,i){i===this.rowHeader||!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,i,!0)}renderCell(e){var i=e.getElement(),s=this.ranges.findIndex(n=>n.occupies(e));i.classList.toggle("tabulator-range-selected",s!==-1),i.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),i.dataset.range=s}handleCellMouseDown(e,i){e.button===2&&(this.activeRange.occupies(i)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(i.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleCellMouseMove(e,i){!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,i,!0)}handleCellClick(e,i){this.initializeFocus(i)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,i){this.navigate(!1,!1,e)&&i.preventDefault()}keyNavigateRange(e,i,s,n){this.navigate(s,n,i)&&e.preventDefault()}navigate(e,i,s){var n=!1,r,o,a,l,u,c;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(h=>h===this.activeRange?(h.setEnd(h.start.row,h.start.col),!0):(h.destroy(),!1))),r=this.activeRange,o=i?r.end:r.start,a=o.row,l=o.col,e)switch(s){case"left":l=this.findJumpCellLeft(r.start.row,o.col);break;case"right":l=this.findJumpCellRight(r.start.row,o.col);break;case"up":a=this.findJumpCellUp(o.row,r.start.col);break;case"down":a=this.findJumpCellDown(o.row,r.start.col);break}else{if(i&&(this.selecting==="row"&&(s==="left"||s==="right")||this.selecting==="column"&&(s==="up"||s==="down")))return;switch(s){case"left":l=Math.max(l-1,0);break;case"right":l=Math.min(l+1,this.getTableColumns().length-1);break;case"up":a=Math.max(a-1,0);break;case"down":a=Math.min(a+1,this.getTableRows().length-1);break}}if(n=l!==o.col||a!==o.row,i||r.setStart(a,l),r.setEnd(a,l),i||(this.selecting="cell"),n)return u=this.getRowByRangePos(r.end.row),c=this.getColumnByRangePos(r.end.col),(s==="left"||s==="right")&&c.getElement().parentNode===null?c.getComponent().scrollTo(void 0,!1):(s==="up"||s==="down")&&u.getElement().parentNode===null?u.getComponent().scrollTo(void 0,!1):this.autoScroll(r,u.getElement(),c.getElement()),this.layoutElement(),!0}rangeRemoved(e){this.ranges=this.ranges.filter(i=>i!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpCell(e,i,s,n){var r;i&&(e=e.reverse());for(let o of e){let a=o.getValue();if(s){if(r=o,a)break}else if(n){if(r=o,a)break}else if(a)r=o;else break}return r}findJumpCellLeft(e,i){var s=this.getRowByRangePos(e),n=s.cells.filter(c=>c.column.visible),r=!n[i].getValue(),o=n[i]?!n[i].getValue():!1,a=i,l=this.rowHeader?n.slice(1,i):n.slice(0,i),u=this.findJumpCell(l,!0,r,o);return u&&(a=u.column.getPosition()-1),a}findJumpCellRight(e,i){var s=this.getRowByRangePos(e),n=s.cells.filter(u=>u.column.visible),r=!n[i].getValue(),o=n[i+1]?!n[i+1].getValue():!1,a=i,l=this.findJumpCell(n.slice(i+1,n.length),!1,r,o);return l&&(a=l.column.getPosition()-1),a}findJumpCellUp(e,i){var s=this.getColumnByRangePos(i),n=s.cells.filter(u=>this.table.rowManager.activeRows.includes(u.row)),r=!n[e].getValue(),o=n[e-1]?!n[e-1].getValue():!1,a=e,l=this.findJumpCell(n.slice(0,a),!0,r,o);return l&&(a=l.row.position-1),a}findJumpCellDown(e,i){var s=this.getColumnByRangePos(i),n=s.cells.filter(u=>this.table.rowManager.activeRows.includes(u.row)),r=!n[e].getValue(),o=n[e+1]?!n[e+1].getValue():!1,a=e,l=this.findJumpCell(n.slice(a+1,n.length),!1,r,o);return l&&(a=l.row.position-1),a}newSelection(e,i){var s;if(i.type==="column"){if(!this.columnSelection)return;if(i===this.rowHeader){s=this.resetRanges(),this.selecting="all";var n,r=this.getCell(-1,-1);this.rowHeader?n=this.getCell(0,1):n=this.getCell(0,0),s.setBounds(n,r);return}else this.selecting="column"}else i.column===this.rowHeader?this.selecting="row":this.selecting="cell";e.shiftKey?this.activeRange.setBounds(!1,i):e.ctrlKey?this.addRange().setBounds(i):this.resetRanges().setBounds(i)}autoScroll(e,i,s){var n=this.table.rowManager.element,r,o,a,l,u;typeof i>"u"&&(i=this.getRowByRangePos(e.end.row).getElement()),typeof s>"u"&&(s=this.getColumnByRangePos(e.end.col).getElement()),this.rowHeader&&(r=this.rowHeader.getElement()),o={left:s.offsetLeft,right:s.offsetLeft+s.offsetWidth,top:i.offsetTop,bottom:i.offsetTop+i.offsetHeight},a={left:n.scrollLeft,right:Math.ceil(n.scrollLeft+n.clientWidth),top:n.scrollTop,bottom:n.scrollTop+n.offsetHeight-this.table.rowManager.scrollbarWidth},r&&(a.left+=r.offsetWidth),l=a.left<o.left&&o.left<a.right&&a.left<o.right&&o.right<a.right,u=a.top<o.top&&o.top<a.bottom&&a.top<o.bottom&&o.bottom<a.bottom,l||(o.left<a.left?(n.scrollLeft=o.left,r&&(n.scrollLeft-=r.offsetWidth)):o.right>a.right&&(n.scrollLeft=o.right-n.clientWidth)),u||(o.top<a.top?n.scrollTop=o.top:o.bottom>a.bottom&&(n.scrollTop=o.bottom-n.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){var i;e?i=this.table.rowManager.getVisibleRows(!0):i=this.table.rowManager.getRows(),i.forEach(s=>{s.type==="row"&&(this.layoutRow(s),s.cells.forEach(n=>this.renderCell(n)))}),this.getTableColumns().forEach(s=>{this.layoutColumn(s)}),this.layoutRanges()}layoutRow(e){var i=e.getElement(),s=!1,n=this.ranges.some(r=>r.occupiesRow(e));this.selecting==="row"?s=n:this.selecting==="all"&&(s=!0),i.classList.toggle("tabulator-range-selected",s),i.classList.toggle("tabulator-range-highlight",n)}layoutColumn(e){var i=e.getElement(),s=!1,n=this.ranges.some(r=>r.occupiesColumn(e));this.selecting==="column"?s=n:this.selecting==="all"&&(s=!0),i.classList.toggle("tabulator-range-selected",s),i.classList.toggle("tabulator-range-highlight",n)}layoutRanges(){var e;this.table.initialized&&(e=this.getActiveCell(),e&&(this.activeRangeCellElement.style.left=e.row.getElement().offsetLeft+e.getElement().offsetLeft+"px",this.activeRangeCellElement.style.top=e.row.getElement().offsetTop+"px",this.activeRangeCellElement.style.width=e.getElement().offsetLeft+e.getElement().offsetWidth-e.getElement().offsetLeft+"px",this.activeRangeCellElement.style.height=e.row.getElement().offsetTop+e.row.getElement().offsetHeight-e.row.getElement().offsetTop+"px",this.ranges.forEach(i=>i.layout()),this.overlay.style.visibility="visible"))}getCell(e,i){var s;return i<0&&(i=this.getTableColumns().length+i,i<0)?null:(e<0&&(e=this.getTableRows().length+e),s=this.table.rowManager.getRowFromPosition(e+1),s?s.getCells(!1,!0).filter(n=>n.column.visible)[i]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows()}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,i){var s;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),s=new bU(this.table,this,e,i),this.activeRange=s,this.ranges.push(s),this.rangeContainer.appendChild(s.element),s}resetRanges(){var e,i;return this.ranges.forEach(s=>s.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(i=this.table.rowManager.activeRows[0].cells[this.rowHeader?1:0],i&&(e.setBounds(i),this.initializeFocus(i))),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(i=>i.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(i=>i.getComponent()):this.activeRange.getColumns()}}Vk.moduleName="selectRange";class $k extends ei{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,i,s){var n=e==="tooltip"?s.column.definition.tooltip:s.definition.headerTooltip;n&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,i,s,n),this.table.options.tooltipDelay))}mouseoutCheck(e,i,s){this.popupInstance||this.clearPopup()}clearPopup(e,i,s){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,i,s){var n,r,o;function a(l){r=l}typeof s=="function"&&(s=s(e,i.getComponent(),a)),s instanceof HTMLElement?n=s:(n=document.createElement("div"),s===!0&&(i instanceof ZA?s=i.value:i.definition.field?this.langBind("columns|"+i.definition.field,l=>{n.innerHTML=s=l||i.definition.title}):s=i.definition.title),n.innerHTML=s),(s||s===0||s===!1)&&(n.classList.add("tabulator-tooltip"),n.addEventListener("mousemove",l=>l.preventDefault()),this.popupInstance=this.popup(n),typeof r=="function"&&this.popupInstance.renderCallback(r),o=this.popupInstance.containerEventCoords(e),this.popupInstance.show(o.x+15,o.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",i.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",i.getComponent()))}}$k.moduleName="tooltip";var vU={integer:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},alphanumeric:function(t,e,i){if(e===""||e===null||typeof e>"u")return!0;var s=new RegExp(/^[a-z0-9]+$/i);return s.test(e)},max:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=i},min:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=i},starts:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(i).toLowerCase())},ends:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(i).toLowerCase())},minLength:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length>=i},maxLength:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length<=i},in:function(t,e,i){return e===""||e===null||typeof e>"u"?!0:(typeof i=="string"&&(i=i.split("|")),i.indexOf(e)>-1)},regex:function(t,e,i){if(e===""||e===null||typeof e>"u")return!0;var s=new RegExp(i);return s.test(e)},unique:function(t,e,i){if(e===""||e===null||typeof e>"u")return!0;var s=!0,n=t.getData(),r=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(o){var a=o.getData();a!==n&&e==r.getFieldValue(a)&&(s=!1)}),s},required:function(t,e,i){return e!==""&&e!==null&&typeof e<"u"}};class sf extends ei{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,i,s){var n=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,i):!0;return n!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),i,n)}),n}editorClear(e,i){i&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var i=[];return e.cells.forEach(s=>{this.cellValidate(s)!==!0&&i.push(s.getComponent())}),i.length?i:!0}rowValidate(e){var i=[];return e.cells.forEach(s=>{this.cellValidate(s)!==!0&&i.push(s.getComponent())}),i.length?i:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.clearValidation(i._getSelf())})}userValidate(e){var i=[];return this.table.rowManager.rows.forEach(s=>{s=s.getComponent();var n=s.validate();n!==!0&&(i=i.concat(n))}),i.length?i:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var i=this,s=[],n;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{n=i._extractValidator(r),n&&s.push(n)}):(n=this._extractValidator(e.definition.validator),n&&s.push(n)),e.modules.validate=s.length?s:!1)}_extractValidator(e){var i,s,n;switch(typeof e){case"string":return n=e.indexOf(":"),n>-1?(i=e.substring(0,n),s=e.substring(n+1)):i=e,this._buildValidator(i,s);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,i){var s=typeof e=="function"?e:sf.validators[e];return s?{type:typeof e=="function"?"function":e,func:s,params:i}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,i,s){var n=this,r=[],o=this.invalidCells.indexOf(i);return e&&e.forEach(a=>{a.func.call(n,i.getComponent(),s,a.params)||r.push({type:a.type,parameters:a.params})}),i.modules.validate||(i.modules.validate={}),r.length?(i.modules.validate.invalid=r,this.table.options.validationMode!=="manual"&&i.getElement().classList.add("tabulator-validation-fail"),o==-1&&this.invalidCells.push(i)):(i.modules.validate.invalid=!1,i.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)),r.length?r:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(i=>{e.push(i.getComponent())}),e}clearValidation(e){var i;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,i=this.invalidCells.indexOf(e),i>-1&&this.invalidCells.splice(i,1))}}sf.moduleName="validate";sf.validators=vU;var yU=Object.freeze({__proto__:null,AccessorModule:Ic,AjaxModule:Lr,ClipboardModule:au,ColumnCalcsModule:Va,DataTreeModule:xk,DownloadModule:Dc,EditModule:ef,ExportModule:Tk,FilterModule:jo,FormatModule:fr,FrozenColumnsModule:_k,FrozenRowsModule:Sk,GroupRowsModule:kk,HistoryModule:lu,HtmlTableImportModule:Ik,ImportModule:tf,InteractionModule:Dk,KeybindingsModule:qa,MenuModule:Fk,MoveColumnsModule:Pk,MoveRowsModule:D0,MutatorModule:Fc,PageModule:nf,PersistenceModule:Ss,PopupModule:Lk,PrintModule:Rk,ReactiveDataModule:Mk,ResizeColumnsModule:Ok,ResizeRowsModule:Uk,ResizeTableModule:Nk,ResponsiveLayoutModule:Hk,SelectRowModule:Qk,SortModule:Wl,SelectRangeModule:Vk,TooltipModule:$k,ValidateModule:sf}),wU={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class jk{constructor(e,i,s={}){this.table=e,this.msgType=i,this.registeredDefaults=Object.assign({},s)}register(e,i){this.registeredDefaults[e]=i}generate(e,i={}){var s=Object.assign({},this.registeredDefaults),n=this.table.options.debugInvalidOptions||i.debugInvalidOptions===!0;Object.assign(s,e);for(let r in i)s.hasOwnProperty(r)||(n&&console.warn("Invalid "+this.msgType+" option:",r),s[r]=i.key);for(let r in s)r in i?s[r]=i[r]:Array.isArray(s[r])?s[r]=Object.assign([],s[r]):typeof s[r]=="object"&&s[r]!==null?s[r]=Object.assign({},s[r]):typeof s[r]>"u"&&delete s[r];return s}}let F0=class extends bs{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,i){}renderRowCells(e){}rerenderRowCells(e,i){}scrollColumns(e,i){}scrollRows(e,i){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,i){var s=e.getElement();i%2?(s.classList.add("tabulator-row-even"),s.classList.remove("tabulator-row-odd")):(s.classList.add("tabulator-row-odd"),s.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,i,s){var n=this.rows().indexOf(e),r=e.getElement(),o=0;return new Promise((a,l)=>{if(n>-1){if(typeof s>"u"&&(s=this.table.options.scrollToRowIfVisible),!s&&Ui.elVisible(r)&&(o=Ui.elOffset(r).top-Ui.elOffset(this.elementVertical).top,o>0&&o<this.elementVertical.clientHeight-r.offsetHeight))return a(),!1;switch(typeof i>"u"&&(i=this.table.options.scrollToRowPosition),i==="nearest"&&(i=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),i){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop;break}a()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})}};class CU extends F0{constructor(e){super(e)}renderRowCells(e,i){const s=document.createDocumentFragment();e.cells.forEach(n=>{s.appendChild(n.getElement())}),e.element.appendChild(s),i||e.cells.forEach(n=>{n.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(i){i.reinitializeWidth()})}}class EU extends F0{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,i){this.dataChange()}scrollColumns(e,i){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(i=>{if(i.visible){var s=i.getWidth();s>e&&(e=s)}}),this.windowBuffer=e*2}rerenderColumns(e,i){var s={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},n=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(r=>{var o={},a;r.visible&&(r.modules.frozen||(a=r.getWidth(),o.leftPos=n,o.rightPos=n+a,o.width=a,this.isFitData&&(o.fitDataCheck=r.modules.vdomHoz?r.modules.vdomHoz.fitDataCheck:!0),n+a>this.vDomScrollPosLeft&&n<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=n),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=a),this.columns.push(r),r.modules.vdomHoz=o,n+=a))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,i||(!e||this.reinitChanged(s))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const i=document.createDocumentFragment();e.cells.forEach(s=>{i.appendChild(s.getElement())}),e.element.appendChild(i),e.cells.forEach(s=>{s.cellRendered()})}}rerenderRowCells(e,i){this.reinitializeRow(e,i)}reinitializeColumnWidths(e){for(let i=this.leftCol;i<=this.rightCol;i++)this.columns[i].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,i,s;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(n=>{!n.definition.width&&n.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,i=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],i)){s=i.getElement(),i.generateCells(),this.tableElement.appendChild(s);for(let n=0;n<i.cells.length;n++){let r=i.cells[n];s.appendChild(r.getElement()),r.column.reinitializeWidth()}s.parentNode.removeChild(s),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var i=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((s,n)=>{s!==this.columns[n]&&(i=!1)}),!i)}reinitializeRows(){var e=this.getVisibleRows(),i=this.table.rowManager.getRows().filter(s=>!e.includes(s));e.forEach(s=>{this.reinitializeRow(s,!0)}),i.forEach(s=>{s.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,i,s){for(let n=e;n<i;n++){let r=this.columns[n];r.modules.vdomHoz.leftPos+=s,r.modules.vdomHoz.rightPos+=s}}addColRight(){for(var e=!1,i=!0;i;){let s=this.columns[this.rightCol+1];s&&s.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(s);n.getElement().insertBefore(r.getElement(),n.getCell(this.columns[this.rightCol]).getElement().nextSibling),r.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.rightCol++,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=s.getWidth()):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,i=!0;i;){let s=this.columns[this.leftCol-1];if(s)if(s.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(s);r.getElement().insertBefore(o.getElement(),r.getCell(this.columns[this.leftCol]).getElement()),o.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=s.getWidth();let n=this.fitDataColActualWidthCheck(s);n&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+n,this.vDomPadRight-=n)}else i=!1;else i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,i=!0;i;){let s=this.columns[this.rightCol];s&&s.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(s);try{n.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}}),this.vDomPadRight+=s.getWidth(),this.rightCol--,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.rightCol=this.rightCol)})):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,i=!0;i;){let s=this.columns[this.leftCol];s&&s.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(s);try{n.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}}),this.vDomPadLeft+=s.getWidth(),this.leftCol++,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.leftCol=this.leftCol)})):i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var i,s;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),i=e.getWidth(),s=i-e.modules.vdomHoz.width,s&&(e.modules.vdomHoz.rightPos+=s,e.modules.vdomHoz.width=i,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,s)),e.modules.vdomHoz.fitDataCheck=!1),s}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.appendCell(e,i)});for(let i=this.leftCol;i<=this.rightCol;i++)this.appendCell(e,this.columns[i]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.appendCell(e,i)})}}appendCell(e,i){if(i&&i.visible){let s=e.getCell(i);e.getElement().appendChild(s.getElement()),s.cellRendered()}}reinitializeRow(e,i){if(e.type!=="group"&&(i||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var s=e.getElement();s.firstChild;)s.removeChild(s.firstChild);this.initializeRow(e)}}}class xU extends bs{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new jk(this.table,"column definition",Ek),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,i={virtual:EU,basic:CU};typeof this.table.options.renderHorizontal=="string"?e=i[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var i;e.deltaX&&(i=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(i),this.table.columnManager.scrollHorizontal(i))})}generateColumnsFromRowData(e){var i=[],s=this.table.options.autoColumnsDefinitions,n,r;if(e&&e.length){n=e[0];for(var o in n){let a={field:o,title:o},l=n[o];switch(typeof l){case"undefined":r="string";break;case"boolean":r="boolean";break;case"object":Array.isArray(l)?r="array":r="string";break;default:!isNaN(l)&&l!==""?r="number":l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?r="alphanum":r="string";break}a.sorter=r,i.push(a)}if(s)switch(typeof s){case"function":this.table.options.columns=s.call(this.table,i);break;case"object":Array.isArray(s)?i.forEach(a=>{var l=s.find(u=>u.field===a.field);l&&Object.assign(a,l)}):i.forEach(a=>{s[a.field]&&Object.assign(a,s[a.field])}),this.table.options.columns=i;break}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}}setColumns(e,i){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach((s,n)=>{this._addColumn(s)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,i,s){var n=new uo(e,this),r=n.getElement(),o=s&&this.findColumnIndex(s);if(s&&o>-1){var a=s.getTopColumn(),l=this.columns.indexOf(a),u=a.getElement();i?(this.columns.splice(l,0,n),u.parentNode.insertBefore(r,u)):(this.columns.splice(l+1,0,n),u.parentNode.insertBefore(r,u.nextSibling))}else i?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement()));return n.columnRendered(),n}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(i=>{i.clearVerticalAlign()}),this.columns.forEach(i=>{var s=i.getHeight();s>e&&(e=s)}),this.headersElement.style.height=e+"px",this.columns.forEach(i=>{i.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var i;if(typeof e=="object"){if(e instanceof uo)return e;if(e instanceof Ck)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return i=[],this.columns.forEach(n=>{i.push(n),i=i.concat(n.getColumns(!0))}),i.find(n=>n.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var i=[];return Object.keys(this.columnsByField).forEach(s=>{var n=this.table.options.nestedFieldSeparator?s.split(this.table.options.nestedFieldSeparator)[0]:s;n===e&&i.push(this.columnsByField[s])}),i}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(i=>i.visible);return e>-1?this.columnsByIndex[e]:!1}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(e=>e.visible)}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(i=>e===i)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((i,s)=>{e(i,s)})}getDefinitions(e){var i=[];return this.columnsByIndex.forEach(s=>{(!e||e&&s.visible)&&i.push(s.getDefinition())}),i}getDefinitionTree(){var e=[];return this.columns.forEach(i=>{e.push(i.getDefinition(!0))}),e}getComponents(e){var i=[],s=e?this.columns:this.columnsByIndex;return s.forEach(n=>{i.push(n.getComponent())}),i}getWidth(){var e=0;return this.columnsByIndex.forEach(i=>{i.visible&&(e+=i.getWidth())}),e}moveColumn(e,i,s){i.element.parentNode.insertBefore(e.element,i.element),s&&i.element.parentNode.insertBefore(i.element,e.element),this.moveColumnActual(e,i,s),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,i,s){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,i,s):this._moveColumnInArray(this.columns,e,i,s),this._moveColumnInArray(this.columnsByIndex,e,i,s,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,i,s),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,i,s,n,r){var o=e.indexOf(i),a,l=[];o>-1&&(e.splice(o,1),a=e.indexOf(s),a>-1?n&&(a=a+1):a=o,e.splice(a,0,i),r&&(l=this.chain("column-moving-rows",[i,s,n],null,[])||[],l=l.concat(this.table.rowManager.rows),l.forEach(function(u){if(u.cells.length){var c=u.cells.splice(o,1)[0];u.cells.splice(a,0,c)}})))}scrollToColumn(e,i,s){var n=0,r=e.getLeftOffset(),o=0,a=e.getElement();return new Promise((l,u)=>{if(typeof i>"u"&&(i=this.table.options.scrollToColumnPosition),typeof s>"u"&&(s=this.table.options.scrollToColumnIfVisible),e.visible){switch(i){case"middle":case"center":o=-this.element.clientWidth/2;break;case"right":o=a.clientWidth-this.headersElement.clientWidth;break}if(!s&&r>0&&r+a.offsetWidth<this.element.clientWidth)return!1;n=r+o,n=Math.max(Math.min(n,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(n),this.scrollHorizontal(n),l()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")})}generateCells(e){var i=[];return this.columnsByIndex.forEach(s=>{i.push(s.generateCell(e))}),i}getFlexBaseWidth(){var e=this.table.element.clientWidth,i=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(s){var n,r,o;s.visible&&(n=s.definition.width||0,r=parseInt(s.minWidth),typeof n=="string"?n.indexOf("%")>-1?o=e/100*parseInt(n):o=parseInt(n):o=n,i+=o>r?o:r)}),i}addColumn(e,i,s){return new Promise((n,r)=>{var o=this._addColumn(e,i,s);this._reIndexColumns(),this.dispatch("column-add",e,i,s),this.layoutMode()!="fitColumns"&&o.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),n(o)})}deregisterColumn(e){var i=e.getField(),s;i&&delete this.columnsByField[i],s=this.columnsByIndex.indexOf(e),s>-1&&this.columnsByIndex.splice(s,1),s=this.columns.indexOf(e),s>-1&&this.columns.splice(s,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,i){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,i)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){Ui.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class TU extends F0{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,i=!0,s=document.createDocumentFragment(),n=this.rows();n.forEach((r,o)=>{this.styleRow(r,o),r.initialize(!1,!0),r.type!=="group"&&(i=!1),s.appendChild(r.getElement())}),e.appendChild(s),n.forEach(r=>{r.rendered(),r.heightInitialized||r.calcHeight(!0)}),n.forEach(r=>{r.heightInitialized||r.setCellHeight()}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(e){var i=Ui.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-i)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-i))}scrollToRow(e){var i=e.getElement();this.elementVertical.scrollTop=Ui.elOffset(i).top-Ui.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class _U extends F0{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var i=this.elementVertical.scrollTop,s=!1,n=!1,r=this.table.rowManager.scrollLeft,o=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(o[a]){var l=i-o[a].getElement().offsetTop;if(n===!1||Math.abs(l)<n)n=l,s=a;else break}o.forEach(u=>{u.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(s===!1?this.rows.length-1:s,!0,n||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(r)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,i){var s=e-this.vDomScrollPosTop,n=e-this.vDomScrollPosBottom,r=this.vDomWindowBuffer*2,o=this.rows();if(this.scrollTop=e,-s>r||n>r){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*o.length)),this.scrollColumns(a)}else i?(s<0&&this._addTopRow(o,-s),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(o,-n):this.vDomScrollPosBottom=this.scrollTop)):(n>=0&&this._addBottomRow(o,n),s>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(o,s):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var i=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-i)>Math.abs(this.vDomBottom-i))}scrollToRow(e){var i=this.rows().indexOf(e);i>-1&&this._virtualRenderFill(i,!0)}visibleRows(e){var i=this.elementVertical.scrollTop,s=this.elementVertical.clientHeight+i,n=!1,r=0,o=0,a=this.rows();if(e)r=this.vDomTop,o=this.vDomBottom;else for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(n)if(s-a[l].getElement().offsetTop>=0)o=l;else break;else if(i-a[l].getElement().offsetTop>=0)r=l;else if(n=!0,s-a[l].getElement().offsetTop>=0)o=l;else break;return a.slice(r,o+1)}_virtualRenderFill(e,i,s){var n=this.tableElement,r=this.elementVertical,o=0,a=0,l=0,u=0,c=0,h=0,A=this.rows(),f=A.length,m=0,p,x,C=[],g=0,w=0,S=this.table.rowManager.fixedHeight,I=this.elementVertical.clientHeight,O=this.table.options.rowHeight,U=!0;if(e=e||0,s=s||0,!e)this.clear();else{for(;n.firstChild;)n.removeChild(n.firstChild);u=(f-e+1)*this.vDomRowHeight,u<I&&(e-=Math.ceil((I-u)/this.vDomRowHeight),e<0&&(e=0)),o=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=o}if(f&&Ui.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,S||this.table.options.maxHeight?(O&&(w=I/O+this.vDomWindowBuffer/O),w=Math.max(this.vDomWindowMinTotalRows,Math.ceil(w))):w=f;(w==f||a<=I+this.vDomWindowBuffer||g<this.vDomWindowMinTotalRows)&&this.vDomBottom<f-1;){for(C=[],x=document.createDocumentFragment(),h=0;h<w&&this.vDomBottom<f-1;)m=this.vDomBottom+1,p=A[m],this.styleRow(p,m),p.initialize(!1,!0),!p.heightInitialized&&!this.table.options.rowHeight&&p.clearCellHeight(),x.appendChild(p.getElement()),C.push(p),this.vDomBottom++,h++;if(!C.length)break;n.appendChild(x),C.forEach($=>{$.rendered(),$.heightInitialized||$.calcHeight(!0)}),C.forEach($=>{$.heightInitialized||$.setCellHeight()}),C.forEach($=>{l=$.getHeight(),g<o?c+=l:a+=l,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=l*2),g++}),U=this.table.rowManager.adjustTableSize(),I=this.elementVertical.clientHeight,U&&(S||this.table.options.maxHeight)&&(O=a/g,w=Math.max(this.vDomWindowMinTotalRows,Math.ceil(I/O+this.vDomWindowBuffer/O)))}e?(this.vDomTopPad=i?this.vDomRowHeight*this.vDomTop+s:this.scrollTop-c,this.vDomBottomPad=this.vDomBottom==f-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-c,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+c)/g),this.vDomBottomPad=this.vDomRowHeight*(f-this.vDomBottom-1),this.vDomScrollHeight=c+a+this.vDomBottomPad-I),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",i&&(this.scrollTop=this.vDomTopPad+c+s-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-I:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-I),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&i&&(this.scrollTop+=this.elementVertical.offsetHeight-I),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,i){for(var s=this.tableElement,n=[],r=0,o=this.vDomTop-1,a=0,l=!0;l;)if(this.vDomTop){let u=e[o],c,h;u&&a<this.vDomMaxRenderChain?(c=u.getHeight()||this.vDomRowHeight,h=u.initialized,i>=c?(this.styleRow(u,o),s.insertBefore(u.getElement(),s.firstChild),(!u.initialized||!u.heightInitialized)&&n.push(u),u.initialize(),h||(c=u.getElement().offsetHeight,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=c*2)),i-=c,r+=c,this.vDomTop--,o--,a++):l=!1):l=!1}else l=!1;for(let u of n)u.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o<1&&(this.vDomTopPad=0),s.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(e,i){for(var s=[],n=0,r=0,o=!0;o;){let a=e[this.vDomTop],l;a&&r<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,i>=l?(this.vDomTop++,i-=l,n+=l,s.push(a),r++):o=!1):o=!1}for(let a of s){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}n&&(this.vDomTopPad+=n,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer)}_addBottomRow(e,i){for(var s=this.tableElement,n=[],r=0,o=this.vDomBottom+1,a=0,l=!0;l;){let u=e[o],c,h;u&&a<this.vDomMaxRenderChain?(c=u.getHeight()||this.vDomRowHeight,h=u.initialized,i>=c?(this.styleRow(u,o),s.appendChild(u.getElement()),(!u.initialized||!u.heightInitialized)&&n.push(u),u.initialize(),h||(c=u.getElement().offsetHeight,c>this.vDomWindowBuffer&&(this.vDomWindowBuffer=c*2)),i-=c,r+=c,this.vDomBottom++,o++,a++):l=!1):l=!1}for(let u of n)u.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||o==e.length-1)&&(this.vDomBottomPad=0),s.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(e,i){for(var s=[],n=0,r=0,o=!0;o;){let a=e[this.vDomBottom],l;a&&r<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,i>=l?(this.vDomBottom--,i-=l,n+=l,s.push(a),r++):o=!1):o=!1}for(let a of s){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}n&&(this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n)}_quickNormalizeRowHeight(e){for(let i of e)i.calcHeight();for(let i of e)i.setCellHeight()}}class SU extends bs{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let i=document.createElement("div");if(i.classList.add("tabulator-placeholder"),typeof e=="string"){let s=document.createElement("div");s.classList.add("tabulator-placeholder-contents"),s.innerHTML=e,i.appendChild(s),this.placeholderContents=s}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(i.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=i}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,i=this.scrollLeft>e,s=this.element.scrollTop,n=this.scrollTop>s;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,i),this.dispatchExternal("scrollHorizontal",e,i),this._positionPlaceholder()),this.scrollTop!=s&&(this.scrollTop=s,this.renderer.scrollRows(s,n),this.dispatch("scroll-vertical",s,n),this.dispatchExternal("scrollVertical",s,n))})}findRow(e){if(typeof e=="object"){if(e instanceof As)return e;if(e instanceof k0)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(s=>s.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(s=>s.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var i=this.rows.find(s=>s.data===e);return i||!1}getRowFromPosition(e){return this.getDisplayRows().find(i=>i.getPosition()===e&&i.isDisplayed())}scrollToRow(e,i,s){return this.renderer.scrollToRowPosition(e,i,s)}setData(e,i,s){return new Promise((n,r)=>{i&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&s&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),n()})}_setDataActual(e,i){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((s,n)=>{if(s&&typeof s=="object"){var r=new As(s,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",s)}),this.refreshActiveData(!1,!1,i),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof e,"\nData:     ",e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,i){var s=this.rows.indexOf(e),n=this.activeRows.indexOf(e);n>-1&&this.activeRows.splice(n,1),s>-1&&this.rows.splice(s,1),this.setActiveRows(this.activeRows),this.displayRowIterator(r=>{var o=r.indexOf(e);o>-1&&r.splice(o,1)}),i||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,i,s,n){var r=this.addRowActual(e,i,s,n);return r}addRows(e,i,s,n){var r=[];return new Promise((o,a)=>{i=this.findAddRowPos(i),Array.isArray(e)||(e=[e]),(typeof s>"u"&&i||typeof s<"u"&&!i)&&e.reverse(),e.forEach((l,u)=>{var c=this.addRow(l,i,s,!0);r.push(c),this.dispatch("row-added",c,l,i,s)}),this.refreshActiveData(n?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),o(r)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,i,s,n){var r=e instanceof As?e:new As(e||{},this),o=this.findAddRowPos(i),a=-1,l,u;return s||(u=this.chain("row-adding-position",[r,o],null,{index:s,top:o}),s=u.index,o=u.top),typeof s<"u"&&(s=this.findRow(s)),s=this.chain("row-adding-index",[r,s,o],null,s),s&&(a=this.rows.indexOf(s)),s&&a>-1?(l=this.activeRows.indexOf(s),this.displayRowIterator(function(c){var h=c.indexOf(s);h>-1&&c.splice(o?h:h+1,0,r)}),l>-1&&this.activeRows.splice(o?l:l+1,0,r),this.rows.splice(o?a:a+1,0,r)):o?(this.displayRowIterator(function(c){c.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(c){c.push(r)}),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",r.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n||this.reRenderInPosition(),r}moveRow(e,i,s){this.dispatch("row-move",e,i,s),this.moveRowActual(e,i,s),this.regenerateRowPositions(),this.dispatch("row-moved",e,i,s),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,i,s){this.moveRowInArray(this.rows,e,i,s),this.moveRowInArray(this.activeRows,e,i,s),this.displayRowIterator(n=>{this.moveRowInArray(n,e,i,s)}),this.dispatch("row-moving",e,i,s)}moveRowInArray(e,i,s,n){var r,o,a,l;if(i!==s&&(r=e.indexOf(i),r>-1&&(e.splice(r,1),o=e.indexOf(s),o>-1?n?e.splice(o+1,0,i):e.splice(o,0,i):e.splice(r,0,i)),e===this.getDisplayRows())){a=r<o?r:o,l=o>r?o:r+1;for(let u=a;u<=l;u++)e[u]&&this.styleRow(e[u],u)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var i=this.getDisplayRows().indexOf(e);return i>-1?i:!1}nextDisplayRow(e,i){var s=this.getDisplayRowIndex(e),n=!1;return s!==!1&&s<this.displayRowsCount-1&&(n=this.getDisplayRows()[s+1]),n&&(!(n instanceof As)||n.type!="row")?this.nextDisplayRow(n,i):n}prevDisplayRow(e,i){var s=this.getDisplayRowIndex(e),n=!1;return s&&(n=this.getDisplayRows()[s-1]),i&&n&&(!(n instanceof As)||n.type!="row")?this.prevDisplayRow(n,i):n}findRowIndex(e,i){var s;return e=this.findRow(e),e&&(s=i.indexOf(e),s>-1)?s:!1}getData(e,i){var s=[],n=this.getRows(e);return n.forEach(function(r){r.type=="row"&&s.push(r.getData(i||"data"))}),s}getComponents(e){var i=[],s=this.getRows(e);return s.forEach(function(n){i.push(n.getComponent())}),i}getDataCount(e){var i=this.getRows(e);return i.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,i){typeof i<"u"?(this.dataPipeline.push({handler:e,priority:i}),this.dataPipeline.sort((s,n)=>s.priority-n.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,i){typeof i<"u"?(this.displayPipeline.push({handler:e,priority:i}),this.displayPipeline.sort((s,n)=>s.priority-n.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,i,s){var n=this.table,r="",o=0,a=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(o=this.dataPipeline.findIndex(l=>l.handler===e),o>-1)r="dataPipeline",i&&(o==this.dataPipeline.length-1?r="display":o++);else if(o=this.displayPipeline.findIndex(l=>l.handler===e),o>-1)r="displayPipeline",i&&(o==this.displayPipeline.length-1?r="end":o++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else r=e||"all",o=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&o<this.redrawBlockRestoreConfig.index||a.indexOf(r)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:i,renderInPosition:s,stage:r,index:o});return}else Ui.elVisible(this.element)?s?this.reRenderInPosition(this.refreshPipelines.bind(this,e,r,o,s)):(this.refreshPipelines(e,r,o,s),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),n.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,r,o,s),this.dispatch("data-refreshed")}}refreshPipelines(e,i,s,n){switch(this.dispatch("data-refreshing"),(!e||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),i){case"all":case"dataPipeline":for(let r=s;r<this.dataPipeline.length;r++){let o=this.dataPipeline[r].handler(this.activeRowsPipeline[r].slice(0));this.activeRowsPipeline[r+1]=o||this.activeRowsPipeline[r].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":s=0,this.resetDisplayRows();case"displayPipeline":for(let r=s;r<this.displayPipeline.length;r++){let o=this.displayPipeline[r].handler((r?this.getDisplayRows(r-1):this.activeRows).slice(0),n);this.setDisplayRows(o||this.getDisplayRows(r-1).slice(0),r)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),i=1;e.forEach(s=>{s.type==="row"&&(s.setPosition(i),i++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,i){this.displayRows[i]=e,i==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,i){var s=Object.assign([],this.renderer.visibleRows(!i));return e&&(s=this.chain("rows-visible",[i],s,s)),s}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var i=[];switch(e){case"active":i=this.activeRows;break;case"display":i=this.table.rowManager.getDisplayRows();break;case"visible":i=this.getVisibleRows(!1,!0);break;default:i=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return i}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,i={virtual:_U,basic:TU};typeof this.table.options.renderVertical=="string"?e=i[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,i){var s=e.getElement();i%2?(s.classList.add("tabulator-row-even"),s.classList.remove("tabulator-row-odd")):(s.classList.add("tabulator-row-odd"),s.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(e){e.normalizeHeight()})}adjustTableSize(){let e=this.element.clientHeight,i,s=!1;if(this.renderer.verticalFillMode==="fill"){let n=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){i=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const r="calc(100% - "+n+"px)";this.element.style.minHeight=i||"calc(100% - "+n+"px)",this.element.style.height=r,this.element.style.maxHeight=r}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-n+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(s=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),s}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class BU extends bs{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class kU extends bs{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(i=>{e[i]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,i,s){this.pseudoTrackers[e].target!==s&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",i,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,i),this.pseudoTrackers[e].target=s,this.dispatch(e+"-mouseenter",i,s))}pseudoMouseLeave(e,i){var s=Object.keys(this.pseudoTrackers),n={row:["cell"],cell:["row"]};s=s.filter(r=>{var o=n[e];return r!==e&&(!o||o&&!o.includes(r))}),s.forEach(r=>{var o=this.pseudoTrackers[r].target;this.pseudoTrackers[r].target&&(this.dispatch(r+"-mouseleave",i,o),this.pseudoTrackers[r].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),i=Object.values(this.componentMap);for(let s of i)for(let n of e){let r=s+"-"+n;this.subscriptionChange(r,this.subscriptionChanged.bind(this,s,n))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,i,s){var n=this.listeners[i].components,r=n.indexOf(e),o=!1;s?r===-1&&(n.push(e),o=!0):this.subscribed(e+"-"+i)||r>-1&&(n.splice(r,1),o=!0),(i==="mouseenter"||i==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),o&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let i=this.listeners[e];i.components.length?i.handler||(i.handler=this.track.bind(this,e),this.el.addEventListener(e,i.handler)):i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}track(e,i){var s=i.composedPath&&i.composedPath()||i.path,n=this.findTargets(s);n=this.bindComponents(e,n),this.triggerEvents(e,i,n),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(n).length&&this.pseudoMouseLeave("none",i)}findTargets(e){var i={};let s=Object.keys(this.componentMap);for(let n of e){let r=n.classList?[...n.classList]:[];if(r.filter(l=>this.abortClasses.includes(l)).length)break;let a=r.filter(l=>s.includes(l));for(let l of a)i[this.componentMap[l]]||(i[this.componentMap[l]]=n)}return i.group&&i.group===i.row&&delete i.row,i}bindComponents(e,i){var s=Object.keys(i).reverse(),n=this.listeners[e],r={},o={};for(let a of s){let l,u=i[a],c=this.previousTargets[a];if(c&&c.target===u)l=c.component;else switch(a){case"row":case"group":(n.components.includes("row")||n.components.includes("cell")||n.components.includes("group"))&&(l=this.table.rowManager.getVisibleRows(!0).find(A=>A.getElement()===u),i.row&&i.row.parentNode&&i.row.parentNode.closest(".tabulator-row")&&(i[a]=!1));break;case"column":n.components.includes("column")&&(l=this.table.columnManager.findColumn(u));break;case"cell":n.components.includes("cell")&&(r.row instanceof As?l=r.row.findCell(u):i.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}l&&(r[a]=l,o[a]={target:u,component:l})}return this.previousTargets=o,r}triggerEvents(e,i,s){var n=this.listeners[e];for(let r in s)s[r]&&n.components.includes(r)&&this.dispatch(r+"-"+e,i,s[r])}clearWatchers(){for(let e in this.listeners){let i=this.listeners[e];i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}}class IU{constructor(e){this.table=e,this.bindings={}}bind(e,i,s){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][i]?console.warn("Unable to bind component handler, a matching function name is already bound",e,i,s):this.bindings[e][i]=s}handle(e,i,s){if(this.bindings[e]&&this.bindings[e][s]&&typeof this.bindings[e][s].bind=="function")return this.bindings[e][s].bind(null,i);s!=="then"&&typeof s=="string"&&!s.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+s+" function, have you checked that you have the correct Tabulator module installed?")}}class DU extends bs{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,i,s,n,r,o){var a=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,i,s,r])){this.loading=!0,r||this.alertLoader(),i=this.chain("data-params",[e,s,r],i||{},i||{}),i=this.mapParams(i,this.table.options.dataSendParams);var l=this.chain("data-load",[e,i,s,r],!1,Promise.resolve([]));return l.then(u=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(u)&&typeof u=="object"&&(u=this.mapParams(u,this.objectInvert(this.table.options.dataReceiveParams)));var c=this.chain("data-loaded",u,null,u);a==this.requestOrder?(this.clearAlert(),c!==!1&&(this.dispatchExternal("dataLoaded",c),this.table.rowManager.setData(c,n,typeof o>"u"?!n:o))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(u=>{console.error("Data Load Error: ",u),this.dispatchExternal("dataLoadError",u),r||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,n,typeof o>"u"?!n:o),Promise.resolve()}mapParams(e,i){var s={};for(let n in e)s[i.hasOwnProperty(n)?i[n]:n]=e[n];return s}objectInvert(e){var i={};for(let s in e)i[e[s]]=s;return i}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class FU{constructor(e,i,s){this.table=e,this.events={},this.optionsList=i||{},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=s}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i){this.events[e]||(this.events[e]=[]),this.events[e].push(i),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var s;if(this.events[e])if(i)if(s=this.events[e].findIndex(n=>n===i),s>-1)this.events[e].splice(s,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,i){var s=this.subscriptionNotifiers[e];s&&s.forEach(n=>{n(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift(),s;return this.events[i]&&this.events[i].forEach((n,r)=>{let o=n.apply(this.table,e);r||(s=o)}),s}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}}class PU{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i,s=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:i,priority:s}),this.events[e].sort((n,r)=>n.priority-r.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var s;if(this.events[e]){if(i)if(s=this.events[e].findIndex(n=>n.callback===i),s>-1)this.events[e].splice(s,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,i,s,n){var r=s;return Array.isArray(i)||(i=[i]),this.subscribed(e)?(this.events[e].forEach((o,a)=>{r=o.callback.apply(this,i.concat([r]))}),r):typeof n=="function"?n():n}_confirm(e,i){var s=!1;return Array.isArray(i)||(i=[i]),this.subscribed(e)&&this.events[e].forEach((n,r)=>{n.callback.apply(this,i)&&(s=!0)}),s}_notifySubscriptionChange(e,i){var s=this.subscriptionNotifiers[e];s&&s.forEach(n=>{n(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift();this.events[i]&&this.events[i].forEach(s=>{s.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._confirm(...arguments)}}class LU extends bs{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,i,s){var n="";return typeof this.options(e)<"u"?(n="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",i?(n=n+", Please use the %c"+i+"%c option instead",this._warnUser(n,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),s&&(this.table.options[i]=this.table.options[e])):this._warnUser(n,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,i){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+i,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class Xs{static register(e){Xs.tables.push(e)}static deregister(e){var i=Xs.tables.indexOf(e);i>-1&&Xs.tables.splice(i,1)}static lookupTable(e,i){var s=[],n,r;if(typeof e=="string"){if(n=document.querySelectorAll(e),n.length)for(var o=0;o<n.length;o++)r=Xs.matchElement(n[o]),r&&s.push(r)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof uu?(r=Xs.matchElement(e),r&&s.push(r)):Array.isArray(e)?e.forEach(function(a){s=s.concat(Xs.lookupTable(a))}):i||console.warn("Table Connection Error - Invalid Selector",e);return s}static matchElement(e){return Xs.tables.find(function(i){return e instanceof uu?i===e:i.element===e})}}Xs.tables=[];function RU(t,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(t),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Ax(t,e){t.forEach(function(i){i.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function MU(t,e){var i=0,s=this.table.rowManager.element.clientWidth,n=0,r=!1;t.forEach((o,a)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(r=o),o.visible&&(i+=o.getWidth())}),r?(n=s-i+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),n>0?r.setWidth(n):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function OU(t,e){var i=this.table.rowManager.element.getBoundingClientRect().width,s=0,n=0,r=0,o=0,a=[],l=[],u=0,c=0,h=0;function A(m){var p;return typeof m=="string"?m.indexOf("%")>-1?p=i/100*parseInt(m):p=parseInt(m):p=m,p}function f(m,p,x,C){var g=[],w=0,S=0,I=0,O=r,U=0,$=0,k=[];function P(R){return x*(R.column.definition.widthGrow||1)}function T(R){return A(R.width)-x*(R.column.definition.widthShrink||0)}return m.forEach(function(R,E){var _=C?T(R):P(R);R.column.minWidth>=_?g.push(R):R.column.maxWidth&&R.column.maxWidth<_?(R.width=R.column.maxWidth,p-=R.column.maxWidth,O-=C?R.column.definition.widthShrink||1:R.column.definition.widthGrow||1,O&&(x=Math.floor(p/O))):(k.push(R),$+=C?R.column.definition.widthShrink||1:R.column.definition.widthGrow||1)}),g.length?(g.forEach(function(R){w+=C?R.width-R.column.minWidth:R.column.minWidth,R.width=R.column.minWidth}),S=p-w,I=$?Math.floor(S/$):S,U=f(k,S,I,C)):(U=$?p-Math.floor(p/$)*$:p,k.forEach(function(R){R.width=C?T(R):P(R)})),U}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach(function(m){var p,x,C;m.visible&&(p=m.definition.width,x=parseInt(m.minWidth),p?(C=A(p),s+=C>x?C:x,m.definition.widthShrink&&(l.push({column:m,width:C>x?C:x}),u+=m.definition.widthShrink)):(a.push({column:m,width:0}),r+=m.definition.widthGrow||1))}),n=i-s,o=Math.floor(n/r),h=f(a,n,o,!1),a.length&&h>0&&(a[a.length-1].width+=h),a.forEach(function(m){n-=m.width}),c=Math.abs(h)+n,c>0&&u&&(h=f(l,c,Math.floor(c/u),!0)),h&&l.length&&(l[l.length-1].width-=h),a.forEach(function(m){m.column.setWidth(m.width)}),l.forEach(function(m){m.column.setWidth(m.width)})}var UU={fitData:RU,fitDataFill:Ax,fitDataTable:Ax,fitDataStretch:MU,fitColumns:OU};class Pc extends ei{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Pc.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),Pc.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}}Pc.moduleName="layout";Pc.modes=UU;var NU={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class rf extends ei{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Ui.deepClone(rf.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,i){this.langList[e]?this._setLangProp(this.langList[e],i):this.langList[e]=i}_setLangProp(e,i){for(let s in i)e[s]&&typeof e[s]=="object"?this._setLangProp(e[s],i[s]):e[s]=i[s]}setLocale(e){e=e||"default";function i(s,n){for(var r in s)typeof s[r]=="object"?(n[r]||(n[r]={}),i(s[r],n[r])):n[r]=s[r]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let s=e.split("-")[0];this.langList[s]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,s),e=s):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=Ui.deepClone(this.langList.default||{}),e!="default"&&i(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,i){var s=i?e+"|"+i:e,n=s.split("|"),r=this._getLangElement(n,this.locale);return r||""}_getLangElement(e,i){var s=this.lang;return e.forEach(function(n){var r;s&&(r=s[n],typeof r<"u"?s=r:s=!1)}),s}bind(e,i){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(i),i(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(i=>{i(this.getText(e),this.lang)})}}rf.moduleName="localize";rf.langs=NU;class zk extends ei{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var i=[],s;return s=Xs.lookupTable(e),s.forEach(n=>{this.table!==n&&i.push(n)}),i}send(e,i,s,n){var r=this.getConnections(e);r.forEach(o=>{o.tableComms(this.table.element,i,s,n)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,i,s,n){if(this.table.modExists(i))return this.table.modules[i].commsReceived(e,s,n);console.warn("Inter-table Comms Error - no such module:",i)}}zk.moduleName="comms";var HU=Object.freeze({__proto__:null,LayoutModule:Pc,LocalizeModule:rf,CommsModule:zk});class Kk{constructor(e,i){this.bindStaticFunctionality(e),this.bindModules(e,HU,!0),i&&this.bindModules(e,i)}bindStaticFunctionality(e){e.moduleBindings={},e.extendModule=function(i,s,n){if(e.moduleBindings[i]){var r=e.moduleBindings[i][s];if(r)if(typeof n=="object")for(let o in n)r[o]=n[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",s)}else console.warn("Module Error - module does not exist:",i)},e.registerModule=function(i){Array.isArray(i)||(i=[i]),i.forEach(s=>{e.registerModuleBinding(s)})},e.registerModuleBinding=function(i){e.moduleBindings[i.moduleName]=i},e.findTable=function(i){var s=Xs.lookupTable(i,!0);return Array.isArray(s)&&!s.length?!1:s},e.prototype.bindModules=function(){var i=[],s=[],n=[];this.modules={};for(var r in e.moduleBindings){let o=e.moduleBindings[r],a=new o(this);this.modules[r]=a,o.prototype.moduleCore?this.modulesCore.push(a):o.moduleInitOrder?o.moduleInitOrder<0?i.push(a):s.push(a):n.push(a)}i.sort((o,a)=>o.moduleInitOrder>a.moduleInitOrder?1:-1),s.sort((o,a)=>o.moduleInitOrder>a.moduleInitOrder?1:-1),this.modulesRegular=i.concat(n.concat(s))}}bindModules(e,i,s){var n=Object.values(i);s&&n.forEach(r=>{r.prototype.moduleCore=!0}),e.registerModule(n)}}class QU extends bs{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,i="msg"){if(e){for(this.clear(),this.dispatch("alert-show",i),this.type=i;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class uu{constructor(e,i){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new IU(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new LU(this),this.optionsList=new jk(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(i),setTimeout(()=>{this._create()})),Xs.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new xU(this),this.rowManager=new SU(this),this.footerManager=new BU(this),this.dataLoader=new DU(this),this.alertManager=new QU(this),this.bindModules(),this.options=this.optionsList.generate(uu.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new FU(this,this.options,this.options.debugEventsExternal),this.eventBus=new PU(this.options.debugEventsInternal),this.interactionMonitor=new kU(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,i=this.options,s;if(e.tagName==="TABLE"){this.originalElement=this.element,s=document.createElement("div");var n=e.attributes;for(var r in n)typeof n[r]=="object"&&s.setAttribute(n[r].name,n[r].value);e.parentNode.replaceChild(s,e),this.element=e=s}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),i.minHeight!==!1&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),i.maxHeight!==!1&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight)}_initializeTable(){var e=this.element,i=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(s=>{s.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.autoColumns&&i.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(s=>{s.initialize()}),this.columnManager.setColumns(i.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data),this.columnManager.verticalAlignHeaders()}destroy(){var e=this.element;for(this.destroyed=!0,Xs.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,i){var s,n;return this.options.debugInitialization&&!this.initialized&&(e||(s=new Error().stack.split("\n"),n=s[0]=="Error"?s[2]:s[1],n[0]==" "?e=n.trim().split(" ")[1].split(".")[1]:e=n.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(i?" "+i:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,i,s){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,i,s,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,i,s){return this.initGuard(),this.dataLoader.load(e,i,s,!0,!0)}updateData(e){var i=0;return this.initGuard(),new Promise((s,n)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(r=>{var o=this.rowManager.findRow(r[this.options.index]);o?(i++,o.updateData(r).then(()=>{i--,i||s()}).catch(a=>{n("Update Error - Unable to update row",r,a)})):n("Update Error - Unable to find row",r)}):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))})}addData(e,i,s){return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,i,s).then(o=>{var a=[];o.forEach(function(l){a.push(l.getComponent())}),n(a)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}updateOrAddData(e){var i=[],s=0;return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var a=this.rowManager.findRow(o[this.options.index]);s++,a?a.updateData(o).then(()=>{s--,i.push(a.getComponent()),s||n(i)}):this.rowManager.addRows(o).then(l=>{s--,i.push(l[0].getComponent()),s||n(i)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}getRow(e){var i=this.rowManager.findRow(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var i=this.rowManager.getRowFromPosition(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var i=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let s of e){let n=this.rowManager.findRow(s,!0);if(n)i.push(n);else return console.error("Delete Error - No matching row found:",s),Promise.reject("Delete Error - No matching row found")}return i.sort((s,n)=>this.rowManager.rows.indexOf(s)>this.rowManager.rows.indexOf(n)?1:-1),i.forEach(s=>{s.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,i,s){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,i,s,!0).then(n=>n[0].getComponent())}updateOrAddRow(e,i){var s=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),s?s.updateData(i).then(()=>s.getComponent()):this.rowManager.addRows(i).then(n=>n[0].getComponent())}updateRow(e,i){var s=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),s?s.updateData(i).then(()=>Promise.resolve(s.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,i,s){var n=this.rowManager.findRow(e);return n?this.rowManager.scrollToRow(n,i,s):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,i,s){var n=this.rowManager.findRow(e);this.initGuard(),n?n.moveToRow(i,s):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var i=this.rowManager.findRow(e);return i?i.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var i=this.columnManager.findColumn(e);return i?i.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.visible?i.hide():i.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,i,s){var n=this.columnManager.findColumn(s);return this.initGuard(),this.columnManager.addColumn(e,i,n).then(r=>r.getComponent())}deleteColumn(e){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,i){var s=this.columnManager.findColumn(e);return this.initGuard(),s?s.updateDefinition(i):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,i,s){var n=this.columnManager.findColumn(e),r=this.columnManager.findColumn(i);this.initGuard(),n?r?this.columnManager.moveColumn(n,r,s):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,i,s){return new Promise((n,r)=>{var o=this.columnManager.findColumn(e);return o?this.columnManager.scrollToColumn(o,i,s):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,i){this.externalEvents.subscribe(e,i)}off(e,i){this.externalEvents.unsubscribe(e,i)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,i){this.initGuard(),this.alertManager.alert(e,i)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,i){return this.modules[e]?!0:(i&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var i=this.modules[e];return i||console.error("Tabulator module not installed: "+e),i}}uu.defaultOptions=wU;new Kk(uu);class Gk extends uu{}new Kk(Gk,yU);const VU={name:"PTableau",components:{JsPanel:Gt,draggable:Xc},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:50,minh:45,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},tabulator:"",tableau:[],colonnes:[{title:"",field:"colonne0",formatter:"plaintext",editor:!0,vertAlign:"middle"},{title:"",field:"colonne1",formatter:"plaintext",editor:!0,vertAlign:"middle"},{title:"",field:"colonne2",formatter:"plaintext",editor:!0,vertAlign:"middle"}],formats:["rownum","plaintext","textarea","html","list","link","color","star","progress","tickCross"],listes:{},lignes:8,taille:1.8}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{tableau:this.tableau,colonnes:this.colonnes,listes:this.listes,lignes:this.lignes,taille:this.taille},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tableau"),this.panneau.contenu!==""&&(this.tableau=this.panneau.contenu.tableau,this.colonnes=this.panneau.contenu.colonnes,this.listes=this.panneau.contenu.listes,this.lignes=this.panneau.contenu.lignes,this.taille=this.panneau.contenu.taille,this.donnees.w=this.panneau.w,this.donnees.h=this.panneau.h,this.donnees.x=this.panneau.x,this.donnees.y=this.panneau.y),this.genererOptions("tableau")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0):this.mode==="lecture"&&this.$nextTick((function(){this.generer()}).bind(this))},methods:{generer(){if(this.colonnes.length>0&&this.lignes>0){if(this.colonnes.forEach((function(t,e){if(t.formatter==="list"&&this.listes.hasOwnProperty(t.field)&&this.listes[t.field]!==""){let i=this.listes[t.field].split(",").map(n=>n.trim());i=i.filter(n=>n!=="");const s={};i.forEach(function(n){s[n.toLowerCase()]=n}),this.colonnes[e].editorParams={values:s}}}).bind(this)),this.tableau.length===0)for(let t=0;t<this.lignes;t++)this.ajouterLigne();else if(this.tableau.length>0&&this.tableau.length<this.lignes){this.tableau=JSON.parse(JSON.stringify(this.tableau));for(let t=0;t<this.lignes-(this.tableau.length-1);t++)this.ajouterLigne()}else this.tableau.length>0&&this.tableau.length>this.lignes&&(this.tableau=JSON.parse(JSON.stringify(this.tableau)),this.tableau.splice(this.tableau.length-(this.tableau.length-this.lignes),this.tableau.length-this.lignes));this.mode="lecture",this.redimensionnement=!0,this.$nextTick((function(){this.tabulator=new Gk("#tableau_"+this.id,{layout:"fitColumns",resizableRows:!0,addRowPos:"bottom",history:!0,data:this.tableau,reactiveData:!0,columns:this.colonnes})}).bind(this)),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=70,this.h=45),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.minw=30,this.minh=20,setTimeout((function(){document.querySelector("#"+this.id).focus()}).bind(this),0),this.positionner()}},editer(){if(this.tabulator!==""){const t=this.tableau,e=this.colonnes;this.tabulator.clearData(),this.tabulator.destroy(),this.tableau=t,this.colonnes=e}this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=50,this.h=45,this.minw=50,this.minh=45,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()},ajouterColonne(){const t=this.colonnes.length;this.colonnes.push({title:"",field:"colonne"+t,formatter:"plaintext",editor:!0,vertAlign:"middle"}),this.tableau.forEach(function(e){e["colonne"+t]=""})},supprimerColonne(){this.colonnes.pop(),this.tableau.forEach(function(t){const e=Object.keys(t);delete t[e[e.length-1]]})},ajouterLigne(){const t={};this.colonnes.forEach(function(e){switch(e.formatter){case"star":t[e.field]=0;break;case"progress":t[e.field]=20;break;case"color":t[e.field]="red";break;default:t[e.field]=""}}),this.tableau.push(t),this.mode==="lecture"&&this.lignes++},supprimerLigne(){this.tableau.pop(),this.mode==="lecture"&&this.lignes--},definirDonneesColonne(t,e){switch(this.colonnes[e].hasOwnProperty("formatterParams")&&delete this.colonnes[e].formatterParams,this.colonnes[e].hasOwnProperty("width")&&delete this.colonnes[e].width,this.colonnes[e].hasOwnProperty("minWidth")&&delete this.colonnes[e].minWidth,this.colonnes[e].hasOwnProperty("sorter")&&delete this.colonnes[e].sorter,this.colonnes[e].hasOwnProperty("hozAlign")&&delete this.colonnes[e].hozAlign,t){case"rownum":this.colonnes[e].formatter=t,this.colonnes[e].editor=!1,this.colonnes[e].width=70,this.colonnes[e].hozAlign="center";break;case"link":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={urlPrefix:"",target:"_blank"};break;case"list":this.colonnes[e].formatter=t,this.colonnes[e].editor="list";break;case"star":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={stars:5},this.colonnes[e].minWidth=130,this.colonnes[e].hozAlign="center";break;case"progress":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={min:0,max:100,color:"#00ced1"},this.colonnes[e].sorter="number";break;case"color":this.colonnes[e].formatter=t,this.colonnes[e].editor="list",this.colonnes[e].editorParams={values:{red:this.$t("rouge"),orange:this.$t("orange"),green:this.$t("vert"),blue:this.$t("bleu"),yellow:this.$t("jaune"),purple:this.$t("pourpre"),turquoise:this.$t("turquoise"),black:this.$t("noir"),grey:this.$t("gris"),white:this.$t("blanc")}},this.colonnes[e].width=70,this.colonnes[e].hozAlign="center";break;case"tickCross":this.colonnes[e].formatter=t,this.colonnes[e].editor=!0,this.colonnes[e].formatterParams={allowEmpty:!0,allowTruthy:!1,tickElement:'<i class="material-icons">done</i>',crossElement:'<i class="material-icons">close</i>'},this.colonnes[e].width=70,this.colonnes[e].hozAlign="center";break;default:this.colonnes[e].formatter=t,this.colonnes[e].editor=!0}this.tableau.forEach(function(i){if(i.hasOwnProperty("colonne"+e))switch(t){case"star":i["colonne"+e]=0;break;case"progress":i["colonne"+e]=20;break;case"color":i["colonne"+e]="red";break;default:i["colonne"+e]=""}})},definirTableau(){const t=[];this.colonnes.forEach(function(e){t.push(e.field)}),this.tableau.forEach(function(e){const i={};t.forEach(function(s){e.hasOwnProperty(s)&&(i[s]=e[s])}),Object.keys(i).length>0&&(e=i)})},augmenterTaille(){this.taille<2.7&&(this.taille=this.taille+.1)},reduireTaille(){this.taille>1.4&&(this.taille=this.taille-.1)},annulerTaille(){this.taille=1.8}}},$U={class:"conteneur panneau-tableau"},jU={key:0,class:"contenu edition"},zU=["for"],KU=["id","value"],GU={class:"numero"},qU=["placeholder","value","onInput"],WU=["onChange"],YU=["selected","value"],XU=["value","onInput","placeholder"],JU={class:"boutons"},ZU=["title"],e9=["title"],t9={class:"actions"},i9={key:1,class:"contenu"},n9=["id"],s9={class:"boutons"},r9=["title"],o9=["title"];function a9(t,e,i,s,n,r){const o=Je("draggable"),a=Je("JsPanel");return z(),et(a,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[17]||(e[17]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",$U,[n.mode==="edition"?(z(),Z("div",jU,[d("label",{for:"lignes_"+n.id},te(t.$t("lignes")),9,zU),d("input",{id:"lignes_"+n.id,type:"number",class:"lignes",value:n.lignes,min:1,max:100,onInput:e[0]||(e[0]=l=>n.lignes=l.target.value)},null,40,KU),d("label",null,te(t.$t("colonnes")),1),Vt(o,{class:"colonnes",modelValue:n.colonnes,"onUpdate:modelValue":e[1]||(e[1]=l=>n.colonnes=l),handle:".numero, .poignee",onSort:r.definirTableau},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.colonnes,(l,u)=>(z(),Z("div",{class:"colonne",key:"colonne_"+u},[d("div",null,[e[12]||(e[12]=d("span",{class:"poignee"},[d("i",{class:"material-icons"},"drag_handle")],-1)),d("span",GU,te(u+1)+". ",1),d("input",{type:"text",placeholder:t.$t("titreColonne"),value:n.colonnes[u].title,onInput:c=>n.colonnes[u].title=c.target.value},null,40,qU),d("select",{onChange:c=>r.definirDonneesColonne(c.target.value,u)},[(z(!0),Z(vt,null,Yt(n.formats,(c,h)=>(z(),Z("option",{selected:n.colonnes[u].formatter===c,value:c,key:"format_"+h},te(t.$t(c)),9,YU))),128))],40,WU)]),n.colonnes[u].formatter==="list"?(z(),Z("textarea",{key:0,value:n.listes[n.colonnes[u].field],onInput:c=>n.listes[n.colonnes[u].field]=c.target.value,placeholder:t.$t("listeMots")},null,40,XU)):Me("",!0)]))),128))]),_:1},8,["modelValue","onSort"]),d("div",JU,[n.colonnes.length>1?(z(),Z("span",{key:0,class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("supprimerColonne"),onClick:e[2]||(e[2]=(...l)=>r.supprimerColonne&&r.supprimerColonne(...l)),onKeydown:e[3]||(e[3]=J((...l)=>r.supprimerColonne&&r.supprimerColonne(...l),["enter"]))},e[13]||(e[13]=[d("i",{class:"material-icons"},"remove_circle_outline",-1)]),40,ZU)):Me("",!0),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterColonne"),onClick:e[4]||(e[4]=(...l)=>r.ajouterColonne&&r.ajouterColonne(...l)),onKeydown:e[5]||(e[5]=J((...l)=>r.ajouterColonne&&r.ajouterColonne(...l),["enter"]))},e[14]||(e[14]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,e9)]),d("div",t9,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...l)=>r.generer&&r.generer(...l)),onKeydown:e[7]||(e[7]=J((...l)=>r.generer&&r.generer(...l),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("div",i9,[d("div",{id:"tableau_"+n.id,style:hi({"font-size":t.convertirRem(n.taille)+"px"})},null,12,n9),d("div",s9,[n.tableau.length>1?(z(),Z("span",{key:0,class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("supprimerLigne"),onClick:e[8]||(e[8]=(...l)=>r.supprimerLigne&&r.supprimerLigne(...l)),onKeydown:e[9]||(e[9]=J((...l)=>r.supprimerLigne&&r.supprimerLigne(...l),["enter"]))},e[15]||(e[15]=[d("i",{class:"material-icons"},"remove_circle_outline",-1)]),40,r9)):Me("",!0),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterLigne"),onClick:e[10]||(e[10]=(...l)=>r.ajouterLigne&&r.ajouterLigne(...l)),onKeydown:e[11]||(e[11]=J((...l)=>r.ajouterLigne&&r.ajouterLigne(...l),["enter"]))},e[16]||(e[16]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,o9)])]))]),e[18]||(e[18]=d("div",{class:"conteneur-droite"},null,-1)),e[19]||(e[19]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const l9=It(VU,[["render",a9]]);var yn=function(){return yn=Object.assign||function(e){for(var i,s=1,n=arguments.length;s<n;s++){i=arguments[s];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},yn.apply(this,arguments)};typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(e,i){i=i||{bubbles:!1,cancelable:!1,detail:null};var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),s}));var u9=typeof document<"u"&&!!document.documentMode,_v;function c9(){return _v||(_v=document.createElement("div").style)}var fx=["webkit","moz","ms"],mp={};function FC(t){if(mp[t])return mp[t];var e=c9();if(t in e)return mp[t]=t;for(var i=t[0].toUpperCase()+t.slice(1),s=fx.length;s--;){var n="".concat(fx[s]).concat(i);if(n in e)return mp[t]=n}}function bp(t,e){return parseFloat(e[FC(t)])||0}function vp(t,e,i){i===void 0&&(i=window.getComputedStyle(t));var s=e==="border"?"Width":"";return{left:bp("".concat(e,"Left").concat(s),i),right:bp("".concat(e,"Right").concat(s),i),top:bp("".concat(e,"Top").concat(s),i),bottom:bp("".concat(e,"Bottom").concat(s),i)}}function sc(t,e,i){t.style[FC(e)]=i}function d9(t,e){var i=FC("transform");sc(t,"transition","".concat(i," ").concat(e.duration,"ms ").concat(e.easing))}function h9(t,e,i){var s=e.x,n=e.y,r=e.scale,o=e.isSVG;if(sc(t,"transform","scale(".concat(r,") translate(").concat(s,"px, ").concat(n,"px)")),o&&u9){var a=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",a)}}function Sv(t){var e=t.parentNode,i=window.getComputedStyle(t),s=window.getComputedStyle(e),n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{elem:{style:i,width:n.width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right,margin:vp(t,"margin",i),border:vp(t,"border",i)},parent:{style:s,width:r.width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right,padding:vp(e,"padding",s),border:vp(e,"border",s)}}}var PA={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?PA={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(PA={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function Bv(t,e,i,s){PA[t].split(" ").forEach(function(n){e.addEventListener(n,i,s)})}function kv(t,e,i){PA[t].split(" ").forEach(function(s){e.removeEventListener(s,i)})}function qk(t,e){for(var i=t.length;i--;)if(t[i].pointerId===e.pointerId)return i;return-1}function L1(t,e){var i;if(e.touches){i=0;for(var s=0,n=e.touches;s<n.length;s++){var r=n[s];r.pointerId=i++,L1(t,r)}return}i=qk(t,e),i>-1&&t.splice(i,1),t.push(e)}function A9(t,e){if(e.touches){for(;t.length;)t.pop();return}var i=qk(t,e);i>-1&&t.splice(i,1)}function px(t){t=t.slice(0);for(var e=t.pop(),i;i=t.pop();)e={clientX:(i.clientX-e.clientX)/2+e.clientX,clientY:(i.clientY-e.clientY)/2+e.clientY};return e}function Iv(t){if(t.length<2)return 0;var e=t[0],i=t[1];return Math.sqrt(Math.pow(Math.abs(i.clientX-e.clientX),2)+Math.pow(Math.abs(i.clientY-e.clientY),2))}function f9(t){for(var e=t;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1}function p9(t){return(t.getAttribute("class")||"").trim()}function g9(t,e){return t.nodeType===1&&" ".concat(p9(t)," ").indexOf(" ".concat(e," "))>-1}function m9(t,e){for(var i=t;i!=null;i=i.parentNode)if(g9(i,e.excludeClass)||e.exclude.indexOf(i)>-1)return!0;return!1}var b9=/^http:[\w\.\/]+svg$/;function v9(t){return b9.test(t.namespaceURI)&&t.nodeName.toLowerCase()!=="svg"}function y9(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var Wk={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(t){t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:h9,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function R1(t,e){if(!t)throw new Error("Panzoom requires an element as an argument");if(t.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!f9(t))throw new Error("Panzoom should be called on elements that have been attached to the DOM");e=yn(yn({},Wk),e);var i=v9(t),s=t.parentNode;s.style.overflow=e.overflow,s.style.userSelect="none",s.style.touchAction=e.touchAction,(e.canvas?s:t).style.cursor=e.cursor,t.style.userSelect="none",t.style.touchAction=e.touchAction,sc(t,"transformOrigin",typeof e.origin=="string"?e.origin:i?"0 0":"50% 50%");function n(){s.style.overflow="",s.style.userSelect="",s.style.touchAction="",s.style.cursor="",t.style.cursor="",t.style.userSelect="",t.style.touchAction="",sc(t,"transformOrigin","")}function r(Y){Y===void 0&&(Y={});for(var ee in Y)Y.hasOwnProperty(ee)&&(e[ee]=Y[ee]);(Y.hasOwnProperty("cursor")||Y.hasOwnProperty("canvas"))&&(s.style.cursor=t.style.cursor="",(e.canvas?s:t).style.cursor=e.cursor),Y.hasOwnProperty("overflow")&&(s.style.overflow=Y.overflow),Y.hasOwnProperty("touchAction")&&(s.style.touchAction=Y.touchAction,t.style.touchAction=Y.touchAction)}var o=0,a=0,l=1,u=!1;p(e.startScale,{animate:!1,force:!0}),setTimeout(function(){m(e.startX,e.startY,{animate:!1,force:!0})});function c(Y,ee,W){if(!W.silent){var ge=new CustomEvent(Y,{detail:ee});t.dispatchEvent(ge)}}function h(Y,ee,W){var ge={x:o,y:a,scale:l,isSVG:i,originalEvent:W};return requestAnimationFrame(function(){typeof ee.animate=="boolean"&&(ee.animate?d9(t,ee):sc(t,"transition","none")),ee.setTransform(t,ge,ee),c(Y,ge,ee),c("panzoomchange",ge,ee)}),ge}function A(Y,ee,W,ge){var ce=yn(yn({},e),ge),we={x:o,y:a,opts:ce};if(!ce.force&&(ce.disablePan||ce.panOnlyWhenZoomed&&l===ce.startScale))return we;if(Y=parseFloat(Y),ee=parseFloat(ee),ce.disableXAxis||(we.x=(ce.relative?o:0)+Y),ce.disableYAxis||(we.y=(ce.relative?a:0)+ee),ce.contain){var Ce=Sv(t),Oe=Ce.elem.width/l,de=Ce.elem.height/l,Te=Oe*W,xe=de*W,He=(Te-Oe)/2,$e=(xe-de)/2;if(ce.contain==="inside"){var oe=(-Ce.elem.margin.left-Ce.parent.padding.left+He)/W,Ae=(Ce.parent.width-Te-Ce.parent.padding.left-Ce.elem.margin.left-Ce.parent.border.left-Ce.parent.border.right+He)/W;we.x=Math.max(Math.min(we.x,Ae),oe);var De=(-Ce.elem.margin.top-Ce.parent.padding.top+$e)/W,Ie=(Ce.parent.height-xe-Ce.parent.padding.top-Ce.elem.margin.top-Ce.parent.border.top-Ce.parent.border.bottom+$e)/W;we.y=Math.max(Math.min(we.y,Ie),De)}else if(ce.contain==="outside"){var oe=(-(Te-Ce.parent.width)-Ce.parent.padding.left-Ce.parent.border.left-Ce.parent.border.right+He)/W,Ae=(He-Ce.parent.padding.left)/W;we.x=Math.max(Math.min(we.x,Ae),oe);var De=(-(xe-Ce.parent.height)-Ce.parent.padding.top-Ce.parent.border.top-Ce.parent.border.bottom+$e)/W,Ie=($e-Ce.parent.padding.top)/W;we.y=Math.max(Math.min(we.y,Ie),De)}}return ce.roundPixels&&(we.x=Math.round(we.x),we.y=Math.round(we.y)),we}function f(Y,ee){var W=yn(yn({},e),ee),ge={scale:l,opts:W};if(!W.force&&W.disableZoom)return ge;var ce=e.minScale,we=e.maxScale;if(W.contain){var Ce=Sv(t),Oe=Ce.elem.width/l,de=Ce.elem.height/l;if(Oe>1&&de>1){var Te=Ce.parent.width-Ce.parent.border.left-Ce.parent.border.right,xe=Ce.parent.height-Ce.parent.border.top-Ce.parent.border.bottom,He=Te/Oe,$e=xe/de;e.contain==="inside"?we=Math.min(we,He,$e):e.contain==="outside"&&(ce=Math.max(ce,He,$e))}}return ge.scale=Math.min(Math.max(Y,ce),we),ge}function m(Y,ee,W,ge){var ce=A(Y,ee,l,W);return o!==ce.x||a!==ce.y?(o=ce.x,a=ce.y,h("panzoompan",ce.opts,ge)):{x:o,y:a,scale:l,isSVG:i,originalEvent:ge}}function p(Y,ee,W){var ge=f(Y,ee),ce=ge.opts;if(!(!ce.force&&ce.disableZoom)){Y=ge.scale;var we=o,Ce=a;if(ce.focal){var Oe=ce.focal;we=(Oe.x/Y-Oe.x/l+o*Y)/Y,Ce=(Oe.y/Y-Oe.y/l+a*Y)/Y}var de=A(we,Ce,Y,{relative:!1,force:!0});return o=de.x,a=de.y,l=Y,h("panzoomzoom",ce,W)}}function x(Y,ee){var W=yn(yn(yn({},e),{animate:!0}),ee);return p(l*Math.exp((Y?1:-1)*W.step),W)}function C(Y){return x(!0,Y)}function g(Y){return x(!1,Y)}function w(Y,ee,W,ge){var ce=Sv(t),we={width:ce.parent.width-ce.parent.padding.left-ce.parent.padding.right-ce.parent.border.left-ce.parent.border.right,height:ce.parent.height-ce.parent.padding.top-ce.parent.padding.bottom-ce.parent.border.top-ce.parent.border.bottom},Ce=ee.clientX-ce.parent.left-ce.parent.padding.left-ce.parent.border.left-ce.elem.margin.left,Oe=ee.clientY-ce.parent.top-ce.parent.padding.top-ce.parent.border.top-ce.elem.margin.top;i||(Ce-=ce.elem.width/l/2,Oe-=ce.elem.height/l/2);var de={x:Ce/we.width*(we.width*Y),y:Oe/we.height*(we.height*Y)};return p(Y,yn(yn({},W),{animate:!1,focal:de}),ge)}function S(Y,ee){Y.preventDefault();var W=yn(yn(yn({},e),ee),{animate:!1}),ge=Y.deltaY===0&&Y.deltaX?Y.deltaX:Y.deltaY,ce=ge<0?1:-1,we=f(l*Math.exp(ce*W.step/3),W).scale;return w(we,Y,W,Y)}function I(Y){var ee=yn(yn(yn({},e),{animate:!0,force:!0}),Y);l=f(ee.startScale,ee).scale;var W=A(ee.startX,ee.startY,l,ee);return o=W.x,a=W.y,h("panzoomreset",ee)}var O,U,$,k,P,T,R=[];function E(Y){if(!m9(Y.target,e)){L1(R,Y),u=!0,e.handleStartEvent(Y),O=o,U=a,c("panzoomstart",{x:o,y:a,scale:l,isSVG:i,originalEvent:Y},e);var ee=px(R);$=ee.clientX,k=ee.clientY,P=l,T=Iv(R)}}function _(Y){if(!(!u||O===void 0||U===void 0||$===void 0||k===void 0)){L1(R,Y);var ee=px(R),W=R.length>1,ge=l;if(W){T===0&&(T=Iv(R));var ce=Iv(R)-T;ge=f(ce*e.step/80+P).scale,w(ge,ee,{animate:!1},Y)}(!W||e.pinchAndPan)&&m(O+(ee.clientX-$)/ge,U+(ee.clientY-k)/ge,{animate:!1},Y)}}function F(Y){R.length===1&&c("panzoomend",{x:o,y:a,scale:l,isSVG:i,originalEvent:Y},e),A9(R,Y),u&&(u=!1,O=U=$=k=void 0)}var V=!1;function Q(){V||(V=!0,Bv("down",e.canvas?s:t,E),Bv("move",document,_,{passive:!0}),Bv("up",document,F,{passive:!0}))}function G(){V=!1,kv("down",e.canvas?s:t,E),kv("move",document,_),kv("up",document,F)}return e.noBind||Q(),{bind:Q,destroy:G,eventNames:PA,getPan:function(){return{x:o,y:a}},getScale:function(){return l},getOptions:function(){return y9(e)},handleDown:E,handleMove:_,handleUp:F,pan:m,reset:I,resetStyle:n,setOptions:r,setStyle:function(Y,ee){return sc(t,Y,ee)},zoom:p,zoomIn:C,zoomOut:g,zoomToPoint:w,zoomWithWheel:S}}R1.defaultOptions=Wk;const w9={name:"PImage",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:27,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0,zoom:0},image:"",pixabayAPIKey:"",requete:"",resultats:{},page:1,panzoom:"",zoom:1,chargementImage:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{image:this.image,requete:this.requete,page:this.page,coordonnees:this.definirCoordonnees(),zoom:this.zoom},w:this.w,h:this.h,x:this.x,y:this.y}))},page:function(t){this.rechercher(t)},statut:function(t){t===""&&this.$nextTick(function(){new flexImages({selector:".resultats",rowHeight:this.convertirRem(6.5)})})}},created(){this.definirCaracteristiques("image"),this.panneau.contenu!==""&&(this.image=this.panneau.contenu.image,this.requete=this.panneau.contenu.requete,this.page=this.panneau.contenu.page,this.zoom=this.panneau.contenu.zoom),this.genererOptions("image")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.requete===""?setTimeout((function(){this.pixabayAPIKey!==""?document.querySelector("#"+this.id+" input").focus():document.querySelector('label[for="selectionner_image_'+this.id+'"]').focus()}).bind(this),0):this.mode==="recherche"?setTimeout((function(){this.rechercher(this.page)}).bind(this),0):this.mode==="lecture"&&(this.redimensionnement=!0,setTimeout((function(){const t=document.querySelector("#image_"+this.id);if(this.panzoom=R1(t,{maxScale:15,minScale:.5,panOnlyWhenZoomed:!0}),this.panzoom.zoom(this.zoom),this.panneau.contenu.hasOwnProperty("coordonnees")&&this.panneau.contenu.coordonnees!==""){const e=this.panneau.contenu.coordonnees;setTimeout((function(){this.panzoom.pan(e.x,e.y)}).bind(this),0)}t.parentElement.addEventListener("wheel",this.panzoom.zoomWithWheel),t.addEventListener("panzoomchange",this.modifierZoom),this.statut!=="min"&&t.focus()}).bind(this),0))},methods:{generer(){this.verifierURL(this.image)===!0||this.image.substring(0,10)==="data:image"?(this.mode="lecture",this.redimensionnement=!0,this.chargementImage=!1,this.w=40,this.h=30,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.donnees.zoom>0&&(this.zoom=this.donnees.zoom),this.positionner(),this.$nextTick((function(){const t=document.querySelector("#image_"+this.id);this.panzoom=R1(t,{maxScale:15,minScale:.5,panOnlyWhenZoomed:!0}),this.panzoom.zoom(this.zoom),t.parentElement.addEventListener("wheel",this.panzoom.zoomWithWheel),t.addEventListener("panzoomchange",this.modifierZoom),t.focus()}).bind(this))):(this.mode="recherche",this.requete=this.image,this.w=40,this.h=35.4,this.rechercher(1),this.positionner())},editer(){if(this.redimensionnement=!1,this.chargementImage=!1,this.donnees.zoom=this.zoom,this.zoom=1,this.panzoom!==""){const t=document.querySelector("#image_"+this.id);t.removeEventListener("panzoomchange",this.modifierZoom),t.parentElement.removeEventListener("wheel",this.panzoom.zoomWithWheel),this.panzoom.destroy(),this.panzoom=""}this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.mode="recherche",this.w=40,this.h=35.4,this.rechercher(this.page),this.image.substring(0,10)==="data:image"&&(this.image=""),this.$nextTick((function(){this.pixabayAPIKey!==""?document.querySelector("#"+this.id+" input").focus():document.querySelector('label[for="selectionner_image_'+this.id+'"]').focus()}).bind(this)),this.positionner()},rechercher(t){if(this.requete!==""){const e=this.requete.replace(/\s+/g,"+"),i=new XMLHttpRequest;i.onload=(function(){if(i.readyState===i.DONE&&i.status===200){const s=JSON.parse(i.responseText);s&&s.total>0&&(this.resultats=s,this.$nextTick(function(){new flexImages({selector:".resultats",rowHeight:this.convertirRem(6.5)})}))}}).bind(this),t===1&&(this.page=t),i.open("GET","https://pixabay.com/api/?key="+this.pixabayAPIKey+"&q="+e+"&image_type=photo&lang=fr&orientation=horizontal&safesearch=true&per_page=12&page="+t,!0),i.send()}},modifierPage(t){t==="suivante"&&this.page<this.resultats.total/12?this.page++:t==="precedente"&&this.page>1&&this.page--},selectionnerImage(t){this.image=t,this.generer()},televerserImage(t){const e=t.target.files[0];if(e){this.chargementImage=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1200){const r=document.createElement("canvas"),o=n.width/n.height,a=1200,l=1200/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.chargementImage=!1,this.image=r.toDataURL("image/jpeg",.85),this.generer()}else this.chargementImage=!1,this.image=s.target.result,this.generer()}).bind(this)}).bind(this)}},definirCoordonnees(){return this.panzoom!==""?this.panzoom.getPan():""},zoomer(){this.zoom<15&&(this.zoom=this.zoom+.1,this.panzoom.zoom(this.zoom,{animated:!0}))},dezoomer(){this.zoom>.5&&(this.zoom=this.zoom-.1,this.panzoom.zoom(this.zoom,{animated:!0}))},recadrer(){this.zoom=1,setTimeout((function(){this.panzoom.reset()}).bind(this),10)},modifierZoom(t){t.detail.scale!==this.zoom&&(this.zoom=t.detail.scale,this.panzoom.zoom(this.zoom,{animated:!0}))}}},C9={key:0,class:"contenu"},E9={key:0},x9={key:1,class:"rechercher"},T9=["value"],_9=["title"],S9={key:2,class:"separateur"},B9=["for"],k9=["id"],I9={key:1,class:"contenu"},D9={key:2,class:"contenu"},F9={class:"recherche"},P9={class:"rechercher"},L9=["value"],R9=["title"],M9={key:0,class:"resultats"},O9=["data-w","data-h","onClick","onKeydown"],U9=["src","alt"],N9={key:1,class:"navigation"},H9=["id","src"];function Q9(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[17]||(e[17]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",{class:je(["conteneur panneau-image",{"mode-lecture":n.mode==="lecture"}])},[n.mode==="edition"&&!n.chargementImage?(z(),Z("div",C9,[n.pixabayAPIKey!==""?(z(),Z("label",E9,te(t.$t("lienImageRecherche")),1)):Me("",!0),n.pixabayAPIKey!==""?(z(),Z("div",x9,[d("input",{type:"search",value:n.image,onInput:e[0]||(e[0]=a=>n.image=a.target.value),onKeydown:e[1]||(e[1]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,T9),d("span",{role:"button",tabindex:"0",title:t.$t("rechercher"),class:"bouton-secondaire",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[3]||(e[3]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},e[14]||(e[14]=[d("i",{class:"material-icons"},"search",-1)]),40,_9)])):Me("",!0),n.pixabayAPIKey!==""?(z(),Z("div",S9,[d("span",null,te(t.$t("ou")),1)])):Me("",!0),d("label",null,te(t.$t("fichierAppareil")),1),d("label",{for:"selectionner_image_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[4]||(e[4]=J(a=>t.activerInput("selectionner_image_"+n.id),["enter"]))},te(t.$t("selectionnerImage")),41,B9),d("input",{id:"selectionner_image_"+n.id,type:"file",onChange:e[5]||(e[5]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,k9)])):n.mode==="edition"&&n.chargementImage?(z(),Z("div",I9,e[15]||(e[15]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):n.mode==="recherche"?(z(),Z("div",D9,[d("label",null,te(t.$t("resultatsRecherche")),1),d("div",F9,[d("div",P9,[d("input",{type:"search",value:n.requete,onInput:e[6]||(e[6]=a=>n.requete=a.target.value),onKeydown:e[7]||(e[7]=J(a=>r.rechercher(1),["enter"]))},null,40,L9),d("span",{role:"button",tabindex:"0",title:t.$t("rechercher"),class:"bouton-secondaire",onClick:e[8]||(e[8]=a=>r.rechercher(1)),onKeydown:e[9]||(e[9]=J(a=>r.rechercher(1),["enter"]))},e[16]||(e[16]=[d("i",{class:"material-icons"},"search",-1)]),40,R9)]),Object.keys(n.resultats).length>0?(z(),Z("div",M9,[(z(!0),Z(vt,null,Yt(n.resultats.hits,(a,l)=>(z(),Z("div",{class:"item",role:"button",tabindex:"0","data-w":a.previewWidth,"data-h":a.previewHeight,onClick:u=>r.selectionnerImage(a.previewURL.replace("_150","_1280")),onKeydown:J(u=>r.selectionnerImage(a.previewURL.replace("_150","_1280")),["enter"]),key:"image_"+l},[d("img",{src:a.previewURL,alt:"Image_"+l},null,8,U9)],40,O9))),128))])):Me("",!0),Object.keys(n.resultats).length>0&&(n.page>1||n.page<n.resultats.total/12)?(z(),Z("div",N9,[d("span",{role:"button",tabindex:"0",class:je({invisible:n.page<2}),onClick:e[10]||(e[10]=a=>r.modifierPage("precedente")),onKeydown:e[11]||(e[11]=J(a=>r.modifierPage("precedente"),["enter"]))},te(t.$t("pagePrecedente")),35),d("span",{role:"button",tabindex:"0",class:je({invisible:n.page>=n.resultats.total/12}),onClick:e[12]||(e[12]=a=>r.modifierPage("suivante")),onKeydown:e[13]||(e[13]=J(a=>r.modifierPage("suivante"),["enter"]))},te(t.$t("pageSuivante")),35)])):Me("",!0)])])):(z(),Z("img",{key:3,id:"image_"+n.id,src:n.image,alt:"Image"},null,8,H9))],2),e[18]||(e[18]=d("div",{class:"conteneur-droite"},null,-1)),e[19]||(e[19]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const V9=It(w9,[["render",Q9]]),$9={name:"PGalerie",components:{JsPanel:Gt,draggable:Xc},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},images:[],index:0}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{images:this.images},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("galerieImages"),this.panneau.contenu!==""&&(this.images=this.panneau.contenu.images),this.mode==="lecture"&&this.images.length>0&&(this.redimensionnement=!0),this.genererOptions("galerie")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .galerie").focus()}).bind(this),0)},methods:{generer(){this.images.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id+" .galerie").focus()}).bind(this)),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=34,this.index=0,this.positionner()},selectionnerImages(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1500){const r=document.createElement("canvas"),o=n.width/n.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(s.target.result)}).bind(this)}).bind(this)}},glisserImages(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1500){const r=document.createElement("canvas"),o=n.width/n.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(s.target.result)}).bind(this)}).bind(this)}},supprimerImage(t){this.images.splice(t,1)},afficherDiapoPrecedente(){this.index===0?this.index=this.images.length-1:this.index--},afficherDiapoSuivante(){this.index===this.images.length-1?this.index=0:this.index++},gererClavierGalerie(t){this.mode==="lecture"&&t.key==="ArrowLeft"?this.afficherDiapoPrecedente():this.mode==="lecture"&&t.key==="ArrowRight"&&this.afficherDiapoSuivante()}}},j9={key:0,class:"contenu"},z9=["id"],K9=["for"],G9=["src","alt"],q9=["onClick","onKeydown"],W9={key:1,class:"contenu lecture"},Y9={class:"numero"},X9=["src","alt"];function J9(t,e,i,s,n,r){const o=Je("draggable"),a=Je("JsPanel");return z(),et(a,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[16]||(e[16]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",{class:je(["conteneur panneau-galerie",{"mode-lecture":n.mode==="lecture"}])},[n.mode==="edition"?(z(),Z("div",j9,[d("label",null,te(t.$t("texteGalerie")),1),d("div",{class:"zone",onDragover:e[3]||(e[3]=Za(()=>{},["prevent"])),onDrop:e[4]||(e[4]=Za(()=>{},["prevent"]))},[d("input",{id:"selectionner_images_"+n.id,type:"file",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...l)=>r.selectionnerImages&&r.selectionnerImages(...l)),style:{display:"none"}},null,40,z9),d("label",{for:"selectionner_images_"+n.id,tabindex:"0",onDrop:e[1]||(e[1]=(...l)=>r.glisserImages&&r.glisserImages(...l)),onKeydown:e[2]||(e[2]=J(l=>t.activerInput("selectionner_images_"+n.id),["enter"]))},te(t.$t("selectionnerImages")),41,K9)],32),Vt(o,{class:"images",modelValue:n.images,"onUpdate:modelValue":e[5]||(e[5]=l=>n.images=l)},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.images,(l,u)=>(z(),Z("div",{class:"image",key:"image_"+u},[d("img",{src:l,alt:"Image"+u},null,8,G9),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:c=>r.supprimerImage(u),onKeydown:J(c=>r.supprimerImage(u),["enter"])},e[13]||(e[13]=[d("i",{class:"material-icons"},"highlight_off",-1)]),40,q9)]))),128))]),_:1},8,["modelValue"]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...l)=>r.generer&&r.generer(...l)),onKeydown:e[7]||(e[7]=J((...l)=>r.generer&&r.generer(...l),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",W9,[d("div",{class:"galerie",tabindex:"0",onKeydown:e[12]||(e[12]=(...l)=>r.gererClavierGalerie&&r.gererClavierGalerie(...l))},[(z(!0),Z(vt,null,Yt(n.images,(l,u)=>a1((z(),Z("div",{class:"diapo",key:"image_"+u},[d("div",Y9,te(u+1)+" / "+te(n.images.length),1),d("img",{src:l,alt:"Image"+n.index},null,8,X9)])),[[p1,n.index===u]])),128)),d("span",{class:"diapo-precedente",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...l)=>r.afficherDiapoPrecedente&&r.afficherDiapoPrecedente(...l)),onKeydown:e[9]||(e[9]=J((...l)=>r.afficherDiapoPrecedente&&r.afficherDiapoPrecedente(...l),["enter"]))},e[14]||(e[14]=[d("i",{class:"material-icons"},"navigate_before",-1)]),32),d("span",{class:"diapo-suivante",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...l)=>r.afficherDiapoSuivante&&r.afficherDiapoSuivante(...l)),onKeydown:e[11]||(e[11]=J((...l)=>r.afficherDiapoSuivante&&r.afficherDiapoSuivante(...l),["enter"]))},e[15]||(e[15]=[d("i",{class:"material-icons"},"navigate_next",-1)]),32)],32)]))],2),e[17]||(e[17]=d("div",{class:"conteneur-droite"},null,-1)),e[18]||(e[18]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Z9=It($9,[["render",J9]]),Yk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAACcFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACKkOugAAAAz3RSTlMA7uyIMAb5MxQN6yb+12LzJxOiNF6e6STwG+/QBPsfL+qH9x6OCdn9nQiC7TuKJdHbtBVkBXRyUCHI5m0HPPreDGcjxgP21lUiDoa1q9zxKWYdqaNSEpeQFwK4KCzU9MeSYfJx3Z/nvYHaX+HicG5TLVi5fdOMmM4B+DrEGsOAwVwYdjFqy7PFQc2lk3ugoUNpY4sqD8zlt5Squzi6j0g1SfWmWVSVC7Bdrfw+Vxau1bYKSxBWT3No5IQuQIXSmlqWP2zo3xkgiaSbz34cnOAjM8VWAAAECUlEQVR4Xu3YxW4cSwCF4TPjjMfMzMzMEHPMzL62w8zMzLnMzMzMzAznla6SjZWq7umq6fHO37I3v0pV0pEaqqruH/Mbaszb40htdbQdaXwzM6zlXfhScMe9eTTQFhuTBp9I37GWHlQULcCmR/aF0tKddZHw3sPHwqlk3Ww2vNMQlU9lrfcFQ9K/efBQaRnMVd3tTy3+D/ULja+Gb31/EGZinNS2bdcJLMEqJ2/JL4GhhkP0yvZEuUFWwsjBcHrJWS83GAeZawNtmCkUGyQkZ9bTltORYkOO9FXQpuEIpAfRU+T5DNqWEeakp8jX4fQxORK9icseWQiiB1ldP9ROlbg7y9xv19ceO9/tXSRxD00lFz1dI7z0knuS9SOuLpqIKw2GoYiiDM3IEzS2u8MFU7ljFTqRN2goqdkFj2o2JylH0oz3KWoOlgImVSPzNDDyMpS84lSK7KKB42lQlJ2sEKkqpuz1digLrLSOzFJWcAc0uFOtIr+dpCRWq5EeRKvIJCXvWTaEPbeKjOZT9OiH9hpy5FWKnIn2GnLkY3lEPrF5H3JkL0Wxds8hR0IpKA6w2ZAjByh6AOoWnVSJ7KBgSwqUtedRKdJDQTXUdVABEExBkwvq7lKLVFMwAA0TtLYO2Co0QjqhoZbWzgI7hchV6Khy0NIUAig4By0vdNNCKXCRAjf0RBS87zD32OMfAcCTvM08lkNKTKbfkupCLJcVK1asWJE75rckMyYFy+Ep3mYIAD59pslhric2AnqiKZgDnqWF7uegpUhohETiHVoqDoCO40IkD7hOa3XQEBEiRAqAF2ntJWgopWAjQAVRULc6joJOtUgY1F2hIBlKkdDXoMy1m4LDShHnItTto2hUJeJcBXVzSRQcAQCfNhBF0U8KEUc0NOynaFO/ELF9jrQkimZxkw8bgckUvRUvROw21lyj2V8Hn93HmihKsrKtIqlurcYflB2FVYSDgVAW+AFlQZHWEZZnQ1FDOQ18D4UIEy5ASa+DBiqhFCEnFVbxzASNJCSqRphU54JHhZ+N0EhIL5Qj5PDnuTCV2/wFjR2FToQM+nIUhhZyimnifIoQUVB+uGW1sLOnvvmWptouQoioyTr73aX9N9zB8e4fey/NNPrTg23x0IzoS7iMZY8klMBTxBmWQdt+vgyBuIN9obTplzKIpP2IPE1brv8KibxRhTP0XkhODWRxBjtY76SXEqZgZFBuAInb6ZVr4zDUki83gBMxTdQWdxBmwk6S5M4D4tT97k8tWTnTMBefOV/Z3A5J2VaNTOqf4/DOeE44lYxsiIf3pvdepaW1VwJhU/C5UHrw19+L8Il/LvxbQVlIT0FYH3wp4NTGgaGu8i0O/1bHf6HrJwaqb0xD0f+SwE0D5kLTNgAAAABJRU5ErkJggg==",e7={name:"PDessin",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,largeurPage:Number,hauteurPage:Number,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!0,titre:"",id:"",w:0,h:0,x:0,y:0,minw:48,minh:28,statut:"",dimensions:{},position:{},dessin:!1,ligneId:0,nom:"",lignes:[],positionStylo:[],couleurStylo:"#000000",dimensionsCanva:{w:0,h:0}}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lignes:this.lignes},w:this.w,h:this.h,x:this.x,y:this.y}))},w:function(t){this.dimensionsCanva.w=this.convertirRem(t)},h:function(t){this.dimensionsCanva.h=this.convertirRem(t)-this.convertirRem(3)},statut:function(t){t==="max"?(this.dimensionsCanva.w=this.largeurPage,this.dimensionsCanva.h=this.hauteurPage-this.convertirRem(3)):(this.dimensionsCanva.w=this.convertirRem(this.w),this.dimensionsCanva.h=this.convertirRem(this.h)-this.convertirRem(3))}},created(){this.definirCaracteristiques("dessin"),this.panneau.contenu!==""&&(this.lignes=this.panneau.contenu.lignes),this.genererOptions("dessin")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .outil").focus()}).bind(this),0)},methods:{selectionnerDebut(t){const e=t.target.getStage();this.dessin=!0,this.positionStylo=e.getPointerPosition(),this.ligneId++,this.lignes.push({name:"ligne"+this.ligneId,points:[this.positionStylo.x,this.positionStylo.y],globalCompositeOperation:"source-over",stroke:this.couleurStylo,strokeWidth:2,draggable:!1,verrouille:!1}),this.nom="ligne"+this.ligneId,this.$nextTick((function(){this.$refs.lignes.getNode().getLayer().batchDraw()}).bind(this))},selectionnerMouvement(t){const e=t.target.getStage();if(!this.dessin)return;this.positionStylo=e.getPointerPosition();const i=this.lignes.find(n=>n.name===this.nom),s=i.points.concat([this.positionStylo.x,this.positionStylo.y]);i.points=s,this.$refs.lignes.getNode().getLayer().batchDraw()},selectionnerFin(){this.dessin=!1},modifierCouleur(t){this.couleurStylo=t},reinitialiser(){this.ligneId=0,this.nom="",this.lignes=[],this.$refs.lignes.getNode().getLayer().batchDraw()}}},t7={class:"conteneur panneau-dessin"},i7={class:"contenu"},n7={class:"outils-dessin"},s7=["title"],r7=["title"],o7=["title"],a7=["title"],l7=["title"],u7=["title"],c7=["title"],d7=["alt"];function h7(t,e,i,s,n,r){const o=Je("v-line"),a=Je("v-layer"),l=Je("v-stage"),u=Je("JsPanel");return z(),et(u,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",t7,[d("div",i7,[Vt(l,{ref:"dessin",config:{width:n.dimensionsCanva.w,height:n.dimensionsCanva.h},onMousedown:r.selectionnerDebut,onTouchstart:r.selectionnerDebut,onMousemove:r.selectionnerMouvement,onTouchmove:r.selectionnerMouvement,onMouseup:r.selectionnerFin,onTouchend:r.selectionnerFin},{default:Ct(()=>[Vt(a,{ref:"lignes"},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.lignes,(c,h)=>(z(),et(o,{config:c,key:"ligne_"+h},null,8,["config"]))),128))]),_:1},512)]),_:1},8,["config","onMousedown","onTouchstart","onMousemove","onTouchmove","onMouseup","onTouchend"]),d("div",n7,[d("span",{class:je(["outil noir",{actif:n.couleurStylo==="#000000"}]),role:"button",tabindex:"0",title:t.$t("noir"),onClick:e[0]||(e[0]=c=>r.modifierCouleur("#000000")),onKeydown:e[1]||(e[1]=J(c=>r.modifierCouleur("#000000"),["enter"]))},e[14]||(e[14]=[d("span",{class:"couleur noir"},null,-1)]),42,s7),d("span",{class:je(["outil blanc",{actif:n.couleurStylo==="#ffffff"}]),role:"button",tabindex:"0",title:t.$t("blanc"),onClick:e[2]||(e[2]=c=>r.modifierCouleur("#ffffff")),onKeydown:e[3]||(e[3]=J(c=>r.modifierCouleur("#ffffff"),["enter"]))},e[15]||(e[15]=[d("span",{class:"couleur blanc"},null,-1)]),42,r7),d("span",{class:je(["outil rouge",{actif:n.couleurStylo==="#ff0000"}]),role:"button",tabindex:"0",title:t.$t("rouge"),onClick:e[4]||(e[4]=c=>r.modifierCouleur("#ff0000")),onKeydown:e[5]||(e[5]=J(c=>r.modifierCouleur("#ff0000"),["enter"]))},e[16]||(e[16]=[d("span",{class:"couleur rouge"},null,-1)]),42,o7),d("span",{class:je(["outil jaune",{actif:n.couleurStylo==="#ffff00"}]),role:"button",tabindex:"0",title:t.$t("jaune"),onClick:e[6]||(e[6]=c=>r.modifierCouleur("#ffff00")),onKeydown:e[7]||(e[7]=J(c=>r.modifierCouleur("#ffff00"),["enter"]))},e[17]||(e[17]=[d("span",{class:"couleur jaune"},null,-1)]),42,a7),d("span",{class:je(["outil vert",{actif:n.couleurStylo==="#00ff00"}]),role:"button",tabindex:"0",title:t.$t("vert"),onClick:e[8]||(e[8]=c=>r.modifierCouleur("#00ff00")),onKeydown:e[9]||(e[9]=J(c=>r.modifierCouleur("#00ff00"),["enter"]))},e[18]||(e[18]=[d("span",{class:"couleur vert"},null,-1)]),42,l7),d("span",{class:je(["outil bleu",{actif:n.couleurStylo==="#04fdff"}]),role:"button",tabindex:"0",title:t.$t("bleu"),onClick:e[10]||(e[10]=c=>r.modifierCouleur("#04fdff")),onKeydown:e[11]||(e[11]=J(c=>r.modifierCouleur("#04fdff"),["enter"]))},e[19]||(e[19]=[d("span",{class:"couleur bleu"},null,-1)]),42,u7),e[20]||(e[20]=d("span",{class:"separateur"},null,-1)),d("span",{class:"outil",role:"button",tabindex:"0",title:t.$t("reinitialiser"),onClick:e[12]||(e[12]=(...c)=>r.reinitialiser&&r.reinitialiser(...c)),onKeydown:e[13]||(e[13]=J((...c)=>r.reinitialiser&&r.reinitialiser(...c),["enter"]))},[d("img",{src:Yk,alt:t.$t("reinitialiser")},null,8,d7)],40,c7)])])])]),_:1},8,["visible","options"])}const A7=It(e7,[["render",h7]]),f7={name:"PDocument",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:16,statut:"",dimensions:{},position:{},document:"",dataURL:"",type:"",chrono:"",chargementDocument:!1}},watch:{export:async function(t){if(t===!0&&this.type==="pdf"){const e=document.querySelector("#"+this.id+" iframe");if(e&&e.contentWindow.PDFViewerApplication.pdfDocument!==null)if(e.contentWindow.PDFViewerApplication.pdfDocument._transport.annotationStorage.getAll()===null)this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{document:this.document,dataURL:this.dataURL,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y});else{const s=await e.contentWindow.PDFViewerApplication.pdfDocument._transport.saveDocument(),n=new Blob([s],{type:"application/pdf"}),r=new FileReader;r.readAsDataURL(n),r.onloadend=(function(o){this.dataURL=o.target.result,this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{document:this.document,dataURL:this.dataURL,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y})}).bind(this)}else this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{document:this.document,dataURL:this.dataURL,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y})}else t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{document:this.document,dataURL:this.dataURL,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("document"),this.panneau.contenu!=="")if(this.type=this.panneau.contenu.type,this.type==="pdf"){this.dataURL=this.panneau.contenu.dataURL;const t=this.convertirDataURL(this.dataURL);this.document=window.URL.createObjectURL(t)}else this.document=this.panneau.contenu.document;this.genererOptions("document")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&(this.redimensionnement=!0),this.type==="pdf"&&this.$nextTick((function(){this.enregistrerAnnotations()}).bind(this))},methods:{generer(){this.mode="lecture",this.redimensionnement=!0,this.w=50,this.h=35,this.$nextTick((function(){document.querySelector("#"+this.id).focus(),this.type==="pdf"&&this.enregistrerAnnotations()}).bind(this)),this.positionner()},televerserDocument(t){const e=t.target.files[0];if(e){const i=e.name.substring(e.name.lastIndexOf(".")+1);if(i.toLowerCase()==="pdf"){this.chargementDocument=!0,this.type="pdf";const s=new FileReader;s.readAsDataURL(e),s.onloadend=(function(n){this.chargementDocument=!1,this.dataURL=n.target.result,this.document=window.URL.createObjectURL(e),this.generer()}).bind(this)}else if(i.toLowerCase()==="odt"||i.toLowerCase()==="odp"||i.toLowerCase()==="ods"||i.toLowerCase()==="odg")if(e.size<1024e3){this.chargementDocument=!0,this.type="doc";const s=new FileReader;s.readAsDataURL(e),s.onloadend=(function(n){this.chargementDocument=!1,this.document=n.target.result,this.generer()}).bind(this)}else alert(this.$t("erreurTailleFichier"))}},enregistrerAnnotations(){const t=document.querySelector("#"+this.id+" iframe");t.addEventListener("load",(function(){t.contentWindow.PDFViewerApplication.initializedPromise.then((function(){t.contentWindow.PDFViewerApplication.eventBus.on("documentloaded",(function(){t.contentWindow.PDFViewerApplication.eventBus.on("annotationeditorparamschanged",(function(){t.contentWindow.PDFViewerApplication.pdfDocument._transport.annotationStorage.getAll()!==null&&(this.chrono!==""&&(clearTimeout(this.chrono),this.chrono=""),this.chrono=setTimeout((async function(){const i=await t.contentWindow.PDFViewerApplication.pdfDocument._transport.saveDocument(),s=new Blob([i],{type:"application/pdf"}),n=new FileReader;n.readAsDataURL(s),n.onloadend=(function(r){this.dataURL=r.target.result}).bind(this),this.chrono=""}).bind(this),1e3))}).bind(this))}).bind(this))}).bind(this))}).bind(this))}}},p7={key:0,class:"conteneur panneau-document"},g7={key:0,class:"contenu"},m7=["for"],b7=["id"],v7={key:1,class:"contenu"},y7={key:1,class:"conteneur panneau-document large"},w7=["src"],C7=["src"];function E7(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",{class:je(["conteneur-gauche",{masque:n.mode==="lecture"}])},null,2),n.mode==="edition"?(z(),Z("div",p7,[n.chargementDocument?(z(),Z("div",v7,e[2]||(e[2]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):(z(),Z("div",g7,[d("label",null,te(t.$t("documentAppareil")),1),d("label",{for:"selectionner_document_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[0]||(e[0]=J(a=>t.activerInput("selectionner_document_"+n.id),["enter"]))},te(t.$t("selectionnerDocument")),41,m7),d("input",{id:"selectionner_document_"+n.id,type:"file",onChange:e[1]||(e[1]=(...a)=>r.televerserDocument&&r.televerserDocument(...a)),style:{display:"none"},accept:".pdf, .ods, .odt, .odp, .odg"},null,40,b7)]))])):(z(),Z("div",y7,[n.type==="pdf"?(z(),Z("iframe",{key:0,src:"./static/pdfjs/web/viewer.html?file="+n.document,allowfullscreen:"",crossorigin:""},null,8,w7)):(z(),Z("iframe",{key:1,src:"./static/viewer/#"+n.document,allowfullscreen:"",crossorigin:""},null,8,C7))])),d("div",{class:je(["conteneur-droite",{masque:n.mode==="lecture"}])},null,2),d("div",{class:je(["conteneur-bas",{masque:n.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const x7=It(f7,[["render",E7]]),T7={name:"PAudio",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:21,minh:12,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},audio:"",dataURL:"",type:"lecteur",vitesse:1,lecture:!1,chargementAudio:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{audio:this.audio,dataURL:this.dataURL,type:this.type,vitesse:this.vitesse},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("audio"),this.panneau.contenu!==""){if(this.panneau.contenu.hasOwnProperty("dataURL")&&(this.dataURL=this.panneau.contenu.dataURL),this.dataURL!==""){const t=this.convertirDataURL(this.dataURL);this.audio=window.URL.createObjectURL(t)}else this.audio=this.panneau.contenu.audio;this.panneau.contenu.hasOwnProperty("type")&&(this.type=this.panneau.contenu.type),this.vitesse=this.panneau.contenu.vitesse}this.genererOptions("audio")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.audio===""?setTimeout((function(){document.querySelector("#"+this.id+' input[type="search"]').focus()}).bind(this),0):this.mode==="edition"&&this.statut!=="min"&&this.audio!==""?setTimeout((function(){document.querySelector("#"+this.id+" audio").focus()}).bind(this),0):this.mode==="lecture"&&this.$nextTick((function(){const t=document.querySelector("#"+this.id+" audio");t.playbackRate=this.vitesse,t.preservesPitch=!0,this.statut!=="min"&&this.$nextTick(function(){t.focus()})}).bind(this))},methods:{valider(){this.verifierURL(this.audio)===!0&&(this.mode="vitesse",this.w=40,this.h=24,this.positionner())},generer(){this.mode="lecture",this.type==="lecteur"?(this.w=40,this.h=12):(this.w=21,this.h=14),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.$nextTick((function(){const t=document.querySelector("#"+this.id+" audio");t.playbackRate=this.vitesse,t.preservesPitch=!0,t.focus(),this.type==="bouton"&&t.addEventListener("ended",(function(){this.lecture=!1}).bind(this))}).bind(this))},editer(){this.mode="vitesse",this.lecture=!1,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=24,this.audio===""?this.$nextTick((function(){document.querySelector("#"+this.id+' input[type="search"]').focus()}).bind(this)):this.$nextTick((function(){document.querySelector("#"+this.id+" audio").focus()}).bind(this)),this.positionner()},modifierVitesse(t){const e=t.target.value;document.querySelector("#"+this.id+" audio").playbackRate=e,this.vitesse=e},televerserAudio(t){const e=t.target.files[0];if(e){this.chargementAudio=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(s){this.chargementAudio=!1,this.dataURL=s.target.result,this.audio=window.URL.createObjectURL(e),this.mode="vitesse",this.w=40,this.h=24,this.$nextTick((function(){document.querySelector("#"+this.id+" audio").focus()}).bind(this)),this.positionner()}).bind(this)}},lireAudio(){const t=document.querySelector("#"+this.id+" audio");this.lecture===!1?(t.play(),this.lecture=!0):(t.pause(),this.lecture=!1)},relireAudio(){const t=document.querySelector("#"+this.id+" audio");t.pause(),t.currentTime=0,t.play(),this.lecture=!0}}},_7={class:"conteneur panneau-audio"},S7={key:0,class:"contenu"},B7={class:"choix"},k7={class:"lecteur-audio"},I7=["id","name","checked"],D7=["for"],F7={class:"bouton-audio"},P7=["id","name","checked"],L7=["for"],R7={class:"valider"},M7=["value"],O7=["title"],U7={class:"separateur"},N7=["for"],H7=["id"],Q7={key:1,class:"contenu"},V7={key:2,class:"contenu"},$7=["src"],j7={class:"vitesse"},z7=["value"],K7={class:"valeur"},G7={key:3,class:"contenu lecture-audio"},q7=["src"],W7={key:0,class:"material-icons"},Y7={key:1,class:"material-icons"},X7=["title"];function J7(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[20]||(e[20]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",_7,[n.mode==="edition"&&!n.chargementAudio?(z(),Z("div",S7,[d("label",null,te(t.$t("apparence")),1),d("div",B7,[d("span",k7,[d("input",{id:"lecteur_"+n.id,type:"radio",name:"type_"+n.id,value:"lecteur",checked:n.type==="lecteur",onChange:e[0]||(e[0]=a=>n.type=a.target.value)},null,40,I7),d("label",{for:"lecteur_"+n.id,tabindex:"0",onKeydown:e[1]||(e[1]=J(a=>t.activerInput("lecteur_"+n.id),["enter"]))},te(t.$t("lecteur")),41,D7)]),d("span",F7,[d("input",{id:"bouton_"+n.id,type:"radio",name:"type_"+n.id,value:"bouton",checked:n.type==="bouton",onChange:e[2]||(e[2]=a=>n.type=a.target.value)},null,40,P7),d("label",{for:"bouton_"+n.id,tabindex:"0",onKeydown:e[3]||(e[3]=J(a=>t.activerInput("bouton_"+n.id),["enter"]))},te(t.$t("bouton")),41,L7)])]),d("label",null,te(t.$t("lienFichierAudio")),1),d("div",R7,[d("input",{type:"search",value:n.audio,onInput:e[4]||(e[4]=a=>n.audio=a.target.value),onKeydown:e[5]||(e[5]=J((...a)=>r.valider&&r.valider(...a),["enter"]))},null,40,M7),d("span",{role:"button",tabindex:"0",title:t.$t("valider"),class:"bouton-secondaire",onClick:e[6]||(e[6]=(...a)=>r.valider&&r.valider(...a)),onKeydown:e[7]||(e[7]=J((...a)=>r.valider&&r.valider(...a),["enter"]))},e[17]||(e[17]=[d("i",{class:"material-icons"},"search",-1)]),40,O7)]),d("div",U7,[d("span",null,te(t.$t("ou")),1)]),d("label",null,te(t.$t("fichierAppareil")),1),d("label",{for:"selectionner_audio_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[8]||(e[8]=J(a=>t.activerInput("selectionner_audio_"+n.id),["enter"]))},te(t.$t("selectionnerAudio")),41,N7),d("input",{id:"selectionner_audio_"+n.id,type:"file",onChange:e[9]||(e[9]=(...a)=>r.televerserAudio&&r.televerserAudio(...a)),style:{display:"none"},accept:".mp3, .wav, .m4a, .ogg"},null,40,H7)])):n.mode==="edition"&&n.chargementAudio?(z(),Z("div",Q7,e[18]||(e[18]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):n.mode==="vitesse"?(z(),Z("div",V7,[d("audio",{controls:"",src:n.audio},null,8,$7),d("label",null,te(t.$t("vitesseLecture")),1),d("div",j7,[d("input",{type:"range",min:.5,max:2,value:n.vitesse,step:.1,onChange:e[10]||(e[10]=(...a)=>r.modifierVitesse&&r.modifierVitesse(...a))},null,40,z7),d("span",K7,te(n.vitesse),1)]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[11]||(e[11]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[12]||(e[12]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",G7,[d("audio",{controls:"",class:je({masque:n.type==="bouton"}),src:n.audio},null,10,q7),n.type==="bouton"?(z(),Z("span",{key:0,class:"bouton audio",role:"button",tabindex:"0",onClick:e[13]||(e[13]=(...a)=>r.lireAudio&&r.lireAudio(...a)),onKeydown:e[14]||(e[14]=J((...a)=>r.lireAudio&&r.lireAudio(...a),["enter"]))},[n.lecture?(z(),Z("i",Y7,"pause")):(z(),Z("i",W7,"play_arrow"))],32)):Me("",!0),n.type==="bouton"?(z(),Z("span",{key:1,class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterListe"),onClick:e[15]||(e[15]=(...a)=>r.relireAudio&&r.relireAudio(...a)),onKeydown:e[16]||(e[16]=J((...a)=>r.relireAudio&&r.relireAudio(...a),["enter"]))},e[19]||(e[19]=[d("i",{class:"material-icons"},"replay",-1)]),40,X7)):Me("",!0)]))]),e[21]||(e[21]=d("div",{class:"conteneur-droite"},null,-1)),e[22]||(e[22]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Z7=It(T7,[["render",J7]]),eN={name:"PSynthese",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object,listeVoix:Array},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:20,minh:14,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},texte:"",vitesse:1,hauteur:1,voix:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,vitesse:this.vitesse,hauteur:this.hauteur,voix:this.voix},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("syntheseVocale"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.vitesse=this.panneau.contenu.vitesse,this.hauteur=this.panneau.contenu.hauteur,this.voix=this.panneau.contenu.voix),this.genererOptions("synthese")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0),this.mode==="edition"&&this.listeVoix.length===0?this.voix="---":this.mode==="lecture"&&(this.listeVoix.length===0||this.listeVoix.map(function(t){return t.name}).includes(this.voix)===!1)?this.editer():this.mode==="lecture"&&setTimeout((function(){document.querySelector("#"+this.id+" .bouton.audio").focus()}).bind(this),0)},methods:{generer(){this.texte!==""&&this.voix!==""&&this.listeVoix.map(function(t){return t.name}).includes(this.voix)===!0&&(this.mode="lecture",this.w=20,this.h=14,this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),setTimeout((function(){document.querySelector("#"+this.id+" .bouton.audio").focus()}).bind(this),0),this.positionner())},editer(){this.mode="edition",this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=41,setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0),this.positionner()},parler(){if(window.speechSynthesis.speaking||this.voix==="")return!1;{const t=new SpeechSynthesisUtterance(this.texte);t.rate=this.vitesse,t.pitch=this.hauteur,this.listeVoix.forEach((function(e){e.name===this.voix&&(t.voice=e)}).bind(this)),window.speechSynthesis.speak(t)}}}},tN={class:"conteneur panneau-synthese"},iN={key:0,class:"contenu"},nN={class:"synthese"},sN=["value"],rN={class:"vitesse"},oN=["value"],aN={class:"valeur"},lN={class:"hauteur"},uN=["value"],cN={class:"valeur"},dN={class:"voix"},hN=["list","value","disabled"],AN=["id"],fN=["value"],pN=["value"],gN={class:"actions"};function mN(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[12]||(e[12]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",tN,[n.mode==="edition"?(z(),Z("div",iN,[d("label",null,te(t.$t("texteSynthetiser")),1),d("div",nN,[d("input",{type:"search",value:n.texte,onInput:e[0]||(e[0]=a=>n.texte=a.target.value)},null,40,sN)]),d("label",null,te(t.$t("vitesse")),1),d("div",rN,[d("input",{type:"range",min:.5,max:2,value:n.vitesse,step:.1,onChange:e[1]||(e[1]=a=>n.vitesse=a.target.value)},null,40,oN),d("span",aN,te(n.vitesse),1)]),d("label",null,te(t.$t("hauteur")),1),d("div",lN,[d("input",{type:"range",min:0,max:2,value:n.hauteur,step:.1,onChange:e[2]||(e[2]=a=>n.hauteur=a.target.value)},null,40,uN),d("span",cN,te(n.hauteur),1)]),d("label",null,te(t.$t("voix")),1),d("div",dN,[d("input",{type:"text",list:"liste_voix_"+n.id,value:n.voix,onInput:e[3]||(e[3]=a=>n.voix=a.target.value),disabled:i.listeVoix.length===0},null,40,hN),d("datalist",{id:"liste_voix_"+n.id},[e[10]||(e[10]=d("option",{value:""},"--",-1)),(z(!0),Z(vt,null,Yt(i.listeVoix,(a,l)=>(z(),Z(vt,null,[a.default?(z(),Z("option",{value:a.name,key:"voix_defaut_"+l},te(a.name)+" ("+te(a.lang)+") -- "+te(t.$t("parDefaut")),9,fN)):(z(),Z("option",{value:a.name,key:"voix_"+l},te(a.name)+" ("+te(a.lang)+")",9,pN))],64))),256))],8,AN)]),d("div",gN,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.parler&&r.parler(...a)),onKeydown:e[5]||(e[5]=J((...a)=>r.parler&&r.parler(...a),["enter"]))},te(t.$t("ecouter")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[7]||(e[7]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("span",{key:1,class:"bouton audio",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.parler&&r.parler(...a)),onKeydown:e[9]||(e[9]=J((...a)=>r.parler&&r.parler(...a),["enter"]))},e[11]||(e[11]=[d("i",{class:"material-icons"},"play_arrow",-1)]),32))]),e[13]||(e[13]=d("div",{class:"conteneur-droite"},null,-1)),e[14]||(e[14]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const bN=It(eN,[["render",mN]]);var Dv,gx;function P0(){if(gx)return Dv;gx=1;var t;return typeof window<"u"?t=window:typeof io<"u"?t=io:typeof self<"u"?t=self:t={},Dv=t,Dv}var vN=P0();const be=nr(vN),yN={},wN=Object.freeze(Object.defineProperty({__proto__:null,default:yN},Symbol.toStringTag,{value:"Module"})),CN=f6(wN);var Fv,mx;function Xk(){if(mx)return Fv;mx=1;var t=typeof io<"u"?io:typeof window<"u"?window:{},e=CN,i;return typeof document<"u"?i=document:(i=t["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=e)),Fv=i,Fv}var EN=Xk();const st=nr(EN);var yp={exports:{}},Pv={exports:{}},bx;function xN(){return bx||(bx=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)({}).hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Pv)),Pv.exports}var Lv,vx;function TN(){if(vx)return Lv;vx=1,Lv=e;var t=Object.prototype.toString;function e(i){if(!i)return!1;var s=t.call(i);return s==="[object Function]"||typeof i=="function"&&s!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}return Lv}var Rv,yx;function _N(){if(yx)return Rv;yx=1;function t(n,r){var o=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o)return(o=o.call(n)).next.bind(o);if(Array.isArray(n)||(o=e(n))||r){o&&(n=o);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(n,r){if(n){if(typeof n=="string")return i(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(n,r)}}function i(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=n[o];return a}var s=function(){function n(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var r=n.prototype;return r.getIsEnabled=function(){return this.enabled_},r.enable=function(){this.enabled_=!0},r.disable=function(){this.enabled_=!1},r.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},r.addInterceptor=function(a,l){this.typeToInterceptorsMap_.has(a)||this.typeToInterceptorsMap_.set(a,new Set);var u=this.typeToInterceptorsMap_.get(a);return u.has(l)?!1:(u.add(l),!0)},r.removeInterceptor=function(a,l){var u=this.typeToInterceptorsMap_.get(a);return u&&u.has(l)?(u.delete(l),!0):!1},r.clearInterceptorsByType=function(a){var l=this.typeToInterceptorsMap_.get(a);return l?(this.typeToInterceptorsMap_.delete(a),this.typeToInterceptorsMap_.set(a,new Set),!0):!1},r.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},r.getForType=function(a){return this.typeToInterceptorsMap_.get(a)||new Set},r.execute=function(a,l){for(var u=this.getForType(a),c=t(u),h;!(h=c()).done;){var A=h.value;try{l=A(l)}catch{}}return l},n}();return Rv=s,Rv}var Mv,wx;function SN(){if(wx)return Mv;wx=1;var t=function(){function i(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var s=i.prototype;return s.getIsEnabled=function(){return this.enabled_},s.enable=function(){this.enabled_=!0},s.disable=function(){this.enabled_=!1},s.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},s.getMaxAttempts=function(){return this.maxAttempts_},s.setMaxAttempts=function(r){this.maxAttempts_=r},s.getDelayFactor=function(){return this.delayFactor_},s.setDelayFactor=function(r){this.delayFactor_=r},s.getFuzzFactor=function(){return this.fuzzFactor_},s.setFuzzFactor=function(r){this.fuzzFactor_=r},s.getInitialDelay=function(){return this.initialDelay_},s.setInitialDelay=function(r){this.initialDelay_=r},s.createRetry=function(r){var o=r===void 0?{}:r,a=o.maxAttempts,l=o.delayFactor,u=o.fuzzFactor,c=o.initialDelay;return new e({maxAttempts:a||this.maxAttempts_,delayFactor:l||this.delayFactor_,fuzzFactor:u||this.fuzzFactor_,initialDelay:c||this.initialDelay_})},i}(),e=function(){function i(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var s=i.prototype;return s.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},s.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},s.getCurrentDelay=function(){return this.currentDelay_},s.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},s.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},s.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),o=this.getCurrentMaxPossibleDelay();return r+Math.random()*(o-r)},i}();return Mv=t,Mv}var Ov,Cx;function BN(){if(Cx)return Ov;Cx=1;var t=P0(),e=function(n,r){return r===void 0&&(r=!1),function(o,a,l){if(o){n(o);return}if(a.statusCode>=400&&a.statusCode<=599){var u=l;if(r)if(t.TextDecoder){var c=i(a.headers&&a.headers["content-type"]);try{u=new TextDecoder(c).decode(l)}catch{}}else u=String.fromCharCode.apply(null,new Uint8Array(l));n({cause:u});return}n(null,l)}};function i(s){return s===void 0&&(s=""),s.toLowerCase().split(";").reduce(function(n,r){var o=r.split("="),a=o[0],l=o[1];return a.trim()==="charset"?l.trim():n},"utf-8")}return Ov=e,Ov}var Ex;function kN(){if(Ex)return yp.exports;Ex=1;var t=P0(),e=xN(),i=TN(),s=_N(),n=SN();u.httpHandler=BN(),u.requestInterceptorsStorage=new s,u.responseInterceptorsStorage=new s,u.retryManager=new n;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var r=function(m){var p={};return m&&m.trim().split("\n").forEach(function(x){var C=x.indexOf(":"),g=x.slice(0,C).trim().toLowerCase(),w=x.slice(C+1).trim();typeof p[g]>"u"?p[g]=w:Array.isArray(p[g])?p[g].push(w):p[g]=[p[g],w]}),p};yp.exports=u,yp.exports.default=u,u.XMLHttpRequest=t.XMLHttpRequest||A,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:t.XDomainRequest,o(["get","put","post","patch","head","delete"],function(f){u[f==="delete"?"del":f]=function(m,p,x){return p=l(m,p,x),p.method=f.toUpperCase(),c(p)}});function o(f,m){for(var p=0;p<f.length;p++)m(f[p])}function a(f){for(var m in f)if(f.hasOwnProperty(m))return!1;return!0}function l(f,m,p){var x=f;return i(m)?(p=m,typeof f=="string"&&(x={uri:f})):x=e({},m,{uri:f}),x.callback=p,x}function u(f,m,p){return m=l(f,m,p),c(m)}function c(f){if(typeof f.callback>"u")throw new Error("callback argument missing");if(f.requestType&&u.requestInterceptorsStorage.getIsEnabled()){var m={uri:f.uri||f.url,headers:f.headers||{},body:f.body,metadata:f.metadata||{},retry:f.retry,timeout:f.timeout},p=u.requestInterceptorsStorage.execute(f.requestType,m);f.uri=p.uri,f.headers=p.headers,f.body=p.body,f.metadata=p.metadata,f.retry=p.retry,f.timeout=p.timeout}var x=!1,C=function(G,Y,ee){x||(x=!0,f.callback(G,Y,ee))};function g(){O.readyState===4&&!u.responseInterceptorsStorage.getIsEnabled()&&setTimeout(I,0)}function w(){var Q=void 0;if(O.response?Q=O.response:Q=O.responseText||h(O),_)try{Q=JSON.parse(Q)}catch{}return Q}function S(Q){if(clearTimeout(F),clearTimeout(f.retryTimeout),Q instanceof Error||(Q=new Error(""+(Q||"Unknown XMLHttpRequest Error"))),Q.statusCode=0,!$&&u.retryManager.getIsEnabled()&&f.retry&&f.retry.shouldRetry()){f.retryTimeout=setTimeout(function(){f.retry.moveToNextAttempt(),f.xhr=O,c(f)},f.retry.getCurrentFuzzedDelay());return}if(f.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var G={headers:V.headers||{},body:V.body,responseUrl:O.responseURL,responseType:O.responseType},Y=u.responseInterceptorsStorage.execute(f.requestType,G);V.body=Y.body,V.headers=Y.headers}return C(Q,V)}function I(){if(!$){var Q;clearTimeout(F),clearTimeout(f.retryTimeout),f.useXDR&&O.status===void 0?Q=200:Q=O.status===1223?204:O.status;var G=V,Y=null;if(Q!==0?(G={body:w(),statusCode:Q,method:P,headers:{},url:k,rawRequest:O},O.getAllResponseHeaders&&(G.headers=r(O.getAllResponseHeaders()))):Y=new Error("Internal XMLHttpRequest Error"),f.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var ee={headers:G.headers||{},body:G.body,responseUrl:O.responseURL,responseType:O.responseType},W=u.responseInterceptorsStorage.execute(f.requestType,ee);G.body=W.body,G.headers=W.headers}return C(Y,G,G.body)}}var O=f.xhr||null;O||(f.cors||f.useXDR?O=new u.XDomainRequest:O=new u.XMLHttpRequest);var U,$,k=O.url=f.uri||f.url,P=O.method=f.method||"GET",T=f.body||f.data,R=O.headers=f.headers||{},E=!!f.sync,_=!1,F,V={body:void 0,headers:{},statusCode:0,method:P,url:k,rawRequest:O};if("json"in f&&f.json!==!1&&(_=!0,R.accept||R.Accept||(R.Accept="application/json"),P!=="GET"&&P!=="HEAD"&&(R["content-type"]||R["Content-Type"]||(R["Content-Type"]="application/json"),T=JSON.stringify(f.json===!0?T:f.json))),O.onreadystatechange=g,O.onload=I,O.onerror=S,O.onprogress=function(){},O.onabort=function(){$=!0,clearTimeout(f.retryTimeout)},O.ontimeout=S,O.open(P,k,!E,f.username,f.password),E||(O.withCredentials=!!f.withCredentials),!E&&f.timeout>0&&(F=setTimeout(function(){if(!$){$=!0,O.abort("timeout");var Q=new Error("XMLHttpRequest timeout");Q.code="ETIMEDOUT",S(Q)}},f.timeout)),O.setRequestHeader)for(U in R)R.hasOwnProperty(U)&&O.setRequestHeader(U,R[U]);else if(f.headers&&!a(f.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in f&&(O.responseType=f.responseType),"beforeSend"in f&&typeof f.beforeSend=="function"&&f.beforeSend(O),O.send(T||null),O}function h(f){try{if(f.responseType==="document")return f.responseXML;var m=f.responseXML&&f.responseXML.documentElement.nodeName==="parsererror";if(f.responseType===""&&!m)return f.responseXML}catch{}return null}function A(){}return yp.exports}var IN=kN();const Jk=nr(IN);var Uv={exports:{}},Nv,xx;function DN(){if(xx)return Nv;xx=1;var t=Xk(),e=Object.create||function(){function k(){}return function(P){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return k.prototype=P,new k}}();function i(k,P){this.name="ParsingError",this.code=k.code,this.message=P||k.message}i.prototype=e(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function s(k){function P(R,E,_,F){return(R|0)*3600+(E|0)*60+(_|0)+(F|0)/1e3}var T=k.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return T?T[3]?P(T[1],T[2],T[3].replace(":",""),T[4]):T[1]>59?P(T[1],T[2],0,T[4]):P(0,T[1],T[2],T[4]):null}function n(){this.values=e(null)}n.prototype={set:function(k,P){!this.get(k)&&P!==""&&(this.values[k]=P)},get:function(k,P,T){return T?this.has(k)?this.values[k]:P[T]:this.has(k)?this.values[k]:P},has:function(k){return k in this.values},alt:function(k,P,T){for(var R=0;R<T.length;++R)if(P===T[R]){this.set(k,P);break}},integer:function(k,P){/^-?\d+$/.test(P)&&this.set(k,parseInt(P,10))},percent:function(k,P){return P.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(P=parseFloat(P),P>=0&&P<=100)?(this.set(k,P),!0):!1}};function r(k,P,T,R){var E=R?k.split(R):[k];for(var _ in E)if(typeof E[_]=="string"){var F=E[_].split(T);if(F.length===2){var V=F[0].trim(),Q=F[1].trim();P(V,Q)}}}function o(k,P,T){var R=k;function E(){var V=s(k);if(V===null)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+R);return k=k.replace(/^[^\sa-zA-Z-]+/,""),V}function _(V,Q){var G=new n;r(V,function(Y,ee){switch(Y){case"region":for(var W=T.length-1;W>=0;W--)if(T[W].id===ee){G.set(Y,T[W].region);break}break;case"vertical":G.alt(Y,ee,["rl","lr"]);break;case"line":var ge=ee.split(","),ce=ge[0];G.integer(Y,ce),G.percent(Y,ce)&&G.set("snapToLines",!1),G.alt(Y,ce,["auto"]),ge.length===2&&G.alt("lineAlign",ge[1],["start","center","end"]);break;case"position":ge=ee.split(","),G.percent(Y,ge[0]),ge.length===2&&G.alt("positionAlign",ge[1],["start","center","end"]);break;case"size":G.percent(Y,ee);break;case"align":G.alt(Y,ee,["start","center","end","left","right"]);break}},/:/,/\s/),Q.region=G.get("region",null),Q.vertical=G.get("vertical","");try{Q.line=G.get("line","auto")}catch{}Q.lineAlign=G.get("lineAlign","start"),Q.snapToLines=G.get("snapToLines",!0),Q.size=G.get("size",100);try{Q.align=G.get("align","center")}catch{Q.align=G.get("align","middle")}try{Q.position=G.get("position","auto")}catch{Q.position=G.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},Q.align)}Q.positionAlign=G.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},Q.align)}function F(){k=k.replace(/^\s+/,"")}if(F(),P.startTime=E(),F(),k.substr(0,3)!=="-->")throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+R);k=k.substr(3),F(),P.endTime=E(),F(),_(k,P)}var a=t.createElement&&t.createElement("textarea"),l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},c={v:"title",lang:"lang"},h={rt:"ruby"};function A(k,P){function T(){if(!P)return null;function ce(Ce){return P=P.substr(Ce.length),Ce}var we=P.match(/^([^<]*)(<[^>]*>?)?/);return ce(we[1]?we[1]:we[2])}function R(ce){return a.innerHTML=ce,ce=a.textContent,a.textContent="",ce}function E(ce,we){return!h[we.localName]||h[we.localName]===ce.localName}function _(ce,we){var Ce=l[ce];if(!Ce)return null;var Oe=k.document.createElement(Ce),de=c[ce];return de&&we&&(Oe[de]=we.trim()),Oe}for(var F=k.document.createElement("div"),V=F,Q,G=[];(Q=T())!==null;){if(Q[0]==="<"){if(Q[1]==="/"){G.length&&G[G.length-1]===Q.substr(2).replace(">","")&&(G.pop(),V=V.parentNode);continue}var Y=s(Q.substr(1,Q.length-2)),ee;if(Y){ee=k.document.createProcessingInstruction("timestamp",Y),V.appendChild(ee);continue}var W=Q.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!W||(ee=_(W[1],W[3]),!ee)||!E(V,ee))continue;if(W[2]){var ge=W[2].split(".");ge.forEach(function(ce){var we=/^bg_/.test(ce),Ce=we?ce.slice(3):ce;if(u.hasOwnProperty(Ce)){var Oe=we?"background-color":"color",de=u[Ce];ee.style[Oe]=de}}),ee.className=ge.join(" ")}G.push(W[1]),V.appendChild(ee),V=ee;continue}V.appendChild(k.document.createTextNode(R(Q)))}return F}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(k){for(var P=0;P<f.length;P++){var T=f[P];if(k>=T[0]&&k<=T[1])return!0}return!1}function p(k){var P=[],T="",R;if(!k||!k.childNodes)return"ltr";function E(V,Q){for(var G=Q.childNodes.length-1;G>=0;G--)V.push(Q.childNodes[G])}function _(V){if(!V||!V.length)return null;var Q=V.pop(),G=Q.textContent||Q.innerText;if(G){var Y=G.match(/^.*(\n|\r)/);return Y?(V.length=0,Y[0]):G}if(Q.tagName==="ruby")return _(V);if(Q.childNodes)return E(V,Q),_(V)}for(E(P,k);T=_(P);)for(var F=0;F<T.length;F++)if(R=T.charCodeAt(F),m(R))return"rtl";return"ltr"}function x(k){if(typeof k.line=="number"&&(k.snapToLines||k.line>=0&&k.line<=100))return k.line;if(!k.track||!k.track.textTrackList||!k.track.textTrackList.mediaElement)return-1;for(var P=k.track,T=P.textTrackList,R=0,E=0;E<T.length&&T[E]!==P;E++)T[E].mode==="showing"&&R++;return++R*-1}function C(){}C.prototype.applyStyles=function(k,P){P=P||this.div;for(var T in k)k.hasOwnProperty(T)&&(P.style[T]=k[T])},C.prototype.formatStyle=function(k,P){return k===0?0:k+P};function g(k,P,T){C.call(this),this.cue=P,this.cueDiv=A(k,P.text);var R={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:P.vertical===""?"horizontal-tb":P.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(R,this.cueDiv),this.div=k.document.createElement("div"),R={direction:p(this.cueDiv),writingMode:P.vertical===""?"horizontal-tb":P.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:P.align==="middle"?"center":P.align,font:T.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(R),this.div.appendChild(this.cueDiv);var E=0;switch(P.positionAlign){case"start":case"line-left":E=P.position;break;case"center":E=P.position-P.size/2;break;case"end":case"line-right":E=P.position-P.size;break}P.vertical===""?this.applyStyles({left:this.formatStyle(E,"%"),width:this.formatStyle(P.size,"%")}):this.applyStyles({top:this.formatStyle(E,"%"),height:this.formatStyle(P.size,"%")}),this.move=function(_){this.applyStyles({top:this.formatStyle(_.top,"px"),bottom:this.formatStyle(_.bottom,"px"),left:this.formatStyle(_.left,"px"),right:this.formatStyle(_.right,"px"),height:this.formatStyle(_.height,"px"),width:this.formatStyle(_.width,"px")})}}g.prototype=e(C.prototype),g.prototype.constructor=g;function w(k){var P,T,R,E;if(k.div){T=k.div.offsetHeight,R=k.div.offsetWidth,E=k.div.offsetTop;var _=(_=k.div.childNodes)&&(_=_[0])&&_.getClientRects&&_.getClientRects();k=k.div.getBoundingClientRect(),P=_?Math.max(_[0]&&_[0].height||0,k.height/_.length):0}this.left=k.left,this.right=k.right,this.top=k.top||E,this.height=k.height||T,this.bottom=k.bottom||E+(k.height||T),this.width=k.width||R,this.lineHeight=P!==void 0?P:k.lineHeight}w.prototype.move=function(k,P){switch(P=P!==void 0?P:this.lineHeight,k){case"+x":this.left+=P,this.right+=P;break;case"-x":this.left-=P,this.right-=P;break;case"+y":this.top+=P,this.bottom+=P;break;case"-y":this.top-=P,this.bottom-=P;break}},w.prototype.overlaps=function(k){return this.left<k.right&&this.right>k.left&&this.top<k.bottom&&this.bottom>k.top},w.prototype.overlapsAny=function(k){for(var P=0;P<k.length;P++)if(this.overlaps(k[P]))return!0;return!1},w.prototype.within=function(k){return this.top>=k.top&&this.bottom<=k.bottom&&this.left>=k.left&&this.right<=k.right},w.prototype.overlapsOppositeAxis=function(k,P){switch(P){case"+x":return this.left<k.left;case"-x":return this.right>k.right;case"+y":return this.top<k.top;case"-y":return this.bottom>k.bottom}},w.prototype.intersectPercentage=function(k){var P=Math.max(0,Math.min(this.right,k.right)-Math.max(this.left,k.left)),T=Math.max(0,Math.min(this.bottom,k.bottom)-Math.max(this.top,k.top)),R=P*T;return R/(this.height*this.width)},w.prototype.toCSSCompatValues=function(k){return{top:this.top-k.top,bottom:k.bottom-this.bottom,left:this.left-k.left,right:k.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(k){var P=k.div?k.div.offsetHeight:k.tagName?k.offsetHeight:0,T=k.div?k.div.offsetWidth:k.tagName?k.offsetWidth:0,R=k.div?k.div.offsetTop:k.tagName?k.offsetTop:0;k=k.div?k.div.getBoundingClientRect():k.tagName?k.getBoundingClientRect():k;var E={left:k.left,right:k.right,top:k.top||R,height:k.height||P,bottom:k.bottom||R+(k.height||P),width:k.width||T};return E};function S(k,P,T,R){function E(Ce,Oe){for(var de,Te=new w(Ce),xe=1,He=0;He<Oe.length;He++){for(;Ce.overlapsOppositeAxis(T,Oe[He])||Ce.within(T)&&Ce.overlapsAny(R);)Ce.move(Oe[He]);if(Ce.within(T))return Ce;var $e=Ce.intersectPercentage(T);xe>$e&&(de=new w(Ce),xe=$e),Ce=new w(Te)}return de||Te}var _=new w(P),F=P.cue,V=x(F),Q=[];if(F.snapToLines){var G;switch(F.vertical){case"":Q=["+y","-y"],G="height";break;case"rl":Q=["+x","-x"],G="width";break;case"lr":Q=["-x","+x"],G="width";break}var Y=_.lineHeight,ee=Y*Math.round(V),W=T[G]+Y,ge=Q[0];Math.abs(ee)>W&&(ee=ee<0?-1:1,ee*=Math.ceil(W/Y)*Y),V<0&&(ee+=F.vertical===""?T.height:T.width,Q=Q.reverse()),_.move(ge,ee)}else{var ce=_.lineHeight/T.height*100;switch(F.lineAlign){case"center":V-=ce/2;break;case"end":V-=ce;break}switch(F.vertical){case"":P.applyStyles({top:P.formatStyle(V,"%")});break;case"rl":P.applyStyles({left:P.formatStyle(V,"%")});break;case"lr":P.applyStyles({right:P.formatStyle(V,"%")});break}Q=["+y","-x","+x","-y"],_=new w(P)}var we=E(_,Q);P.move(we.toCSSCompatValues(T))}function I(){}I.StringDecoder=function(){return{decode:function(k){if(!k)return"";if(typeof k!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(k))}}},I.convertCueToDOMTree=function(k,P){return!k||!P?null:A(k,P)};var O=.05,U="sans-serif",$="1.5%";return I.processCues=function(k,P,T){if(!k||!P||!T)return null;for(;T.firstChild;)T.removeChild(T.firstChild);var R=k.document.createElement("div");R.style.position="absolute",R.style.left="0",R.style.right="0",R.style.top="0",R.style.bottom="0",R.style.margin=$,T.appendChild(R);function E(Y){for(var ee=0;ee<Y.length;ee++)if(Y[ee].hasBeenReset||!Y[ee].displayState)return!0;return!1}if(!E(P)){for(var _=0;_<P.length;_++)R.appendChild(P[_].displayState);return}var F=[],V=w.getSimpleBoxPosition(R),Q=Math.round(V.height*O*100)/100,G={font:Q+"px "+U};(function(){for(var Y,ee,W=0;W<P.length;W++)ee=P[W],Y=new g(k,ee,G),R.appendChild(Y.div),S(k,Y,V,F),ee.displayState=Y.div,F.push(w.getSimpleBoxPosition(Y))})()},I.Parser=function(k,P,T){T||(T=P,P={}),P||(P={}),this.window=k,this.vttjs=P,this.state="INITIAL",this.buffer="",this.decoder=T||new TextDecoder("utf8"),this.regionList=[]},I.Parser.prototype={reportOrThrowError:function(k){if(k instanceof i)this.onparsingerror&&this.onparsingerror(k);else throw k},parse:function(k){var P=this;k&&(P.buffer+=P.decoder.decode(k,{stream:!0}));function T(){for(var Y=P.buffer,ee=0;ee<Y.length&&Y[ee]!=="\r"&&Y[ee]!=="\n";)++ee;var W=Y.substr(0,ee);return Y[ee]==="\r"&&++ee,Y[ee]==="\n"&&++ee,P.buffer=Y.substr(ee),W}function R(Y){var ee=new n;if(r(Y,function(ge,ce){switch(ge){case"id":ee.set(ge,ce);break;case"width":ee.percent(ge,ce);break;case"lines":ee.integer(ge,ce);break;case"regionanchor":case"viewportanchor":var we=ce.split(",");if(we.length!==2)break;var Ce=new n;if(Ce.percent("x",we[0]),Ce.percent("y",we[1]),!Ce.has("x")||!Ce.has("y"))break;ee.set(ge+"X",Ce.get("x")),ee.set(ge+"Y",Ce.get("y"));break;case"scroll":ee.alt(ge,ce,["up"]);break}},/=/,/\s/),ee.has("id")){var W=new(P.vttjs.VTTRegion||P.window.VTTRegion);W.width=ee.get("width",100),W.lines=ee.get("lines",3),W.regionAnchorX=ee.get("regionanchorX",0),W.regionAnchorY=ee.get("regionanchorY",100),W.viewportAnchorX=ee.get("viewportanchorX",0),W.viewportAnchorY=ee.get("viewportanchorY",100),W.scroll=ee.get("scroll",""),P.onregion&&P.onregion(W),P.regionList.push({id:ee.get("id"),region:W})}}function E(Y){var ee=new n;r(Y,function(W,ge){switch(W){case"MPEGT":ee.integer(W+"S",ge);break;case"LOCA":ee.set(W+"L",s(ge));break}},/[^\d]:/,/,/),P.ontimestampmap&&P.ontimestampmap({MPEGTS:ee.get("MPEGTS"),LOCAL:ee.get("LOCAL")})}function _(Y){Y.match(/X-TIMESTAMP-MAP/)?r(Y,function(ee,W){switch(ee){case"X-TIMESTAMP-MAP":E(W);break}},/=/):r(Y,function(ee,W){switch(ee){case"Region":R(W);break}},/:/)}try{var F;if(P.state==="INITIAL"){if(!/\r\n|\n/.test(P.buffer))return this;F=T();var V=F.match(/^WEBVTT([ \t].*)?$/);if(!V||!V[0])throw new i(i.Errors.BadSignature);P.state="HEADER"}for(var Q=!1;P.buffer;){if(!/\r\n|\n/.test(P.buffer))return this;switch(Q?Q=!1:F=T(),P.state){case"HEADER":/:/.test(F)?_(F):F||(P.state="ID");continue;case"NOTE":F||(P.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(F)){P.state="NOTE";break}if(!F)continue;P.cue=new(P.vttjs.VTTCue||P.window.VTTCue)(0,0,"");try{P.cue.align="center"}catch{P.cue.align="middle"}if(P.state="CUE",F.indexOf("-->")===-1){P.cue.id=F;continue}case"CUE":try{o(F,P.cue,P.regionList)}catch(Y){P.reportOrThrowError(Y),P.cue=null,P.state="BADCUE";continue}P.state="CUETEXT";continue;case"CUETEXT":var G=F.indexOf("-->")!==-1;if(!F||G&&(Q=!0)){P.oncue&&P.oncue(P.cue),P.cue=null,P.state="ID";continue}P.cue.text&&(P.cue.text+="\n"),P.cue.text+=F.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":F||(P.state="ID");continue}}}catch(Y){P.reportOrThrowError(Y),P.state==="CUETEXT"&&P.cue&&P.oncue&&P.oncue(P.cue),P.cue=null,P.state=P.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var k=this;try{if(k.buffer+=k.decoder.decode(),(k.cue||k.state==="HEADER")&&(k.buffer+="\n\n",k.parse()),k.state==="INITIAL")throw new i(i.Errors.BadSignature)}catch(P){k.reportOrThrowError(P)}return k.onflush&&k.onflush(),this}},Nv=I,Nv}var Hv,Tx;function FN(){if(Tx)return Hv;Tx=1;var t="auto",e={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function s(o){if(typeof o!="string")return!1;var a=e[o.toLowerCase()];return a?o.toLowerCase():!1}function n(o){if(typeof o!="string")return!1;var a=i[o.toLowerCase()];return a?o.toLowerCase():!1}function r(o,a,l){this.hasBeenReset=!1;var u="",c=!1,h=o,A=a,f=l,m=null,p="",x=!0,C="auto",g="start",w="auto",S="auto",I=100,O="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return u},set:function(U){u=""+U}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(U){c=!!U}},startTime:{enumerable:!0,get:function(){return h},set:function(U){if(typeof U!="number")throw new TypeError("Start time must be set to a number.");h=U,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return A},set:function(U){if(typeof U!="number")throw new TypeError("End time must be set to a number.");A=U,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return f},set:function(U){f=""+U,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return m},set:function(U){m=U,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return p},set:function(U){var $=s(U);if($===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");p=$,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return x},set:function(U){x=!!U,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return C},set:function(U){if(typeof U!="number"&&U!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");C=U,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return g},set:function(U){var $=n(U);$?(g=$,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return w},set:function(U){if(U<0||U>100)throw new Error("Position must be between 0 and 100.");w=U,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return S},set:function(U){var $=n(U);$?(S=$,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return I},set:function(U){if(U<0||U>100)throw new Error("Size must be between 0 and 100.");I=U,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return O},set:function(U){var $=n(U);if(!$)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");O=$,this.hasBeenReset=!0}}}),this.displayState=void 0}return r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},Hv=r,Hv}var Qv,_x;function PN(){if(_x)return Qv;_x=1;var t={"":!0,up:!0};function e(n){if(typeof n!="string")return!1;var r=t[n.toLowerCase()];return r?n.toLowerCase():!1}function i(n){return typeof n=="number"&&n>=0&&n<=100}function s(){var n=100,r=3,o=0,a=100,l=0,u=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(h){if(!i(h))throw new Error("Width must be between 0 and 100.");n=h}},lines:{enumerable:!0,get:function(){return r},set:function(h){if(typeof h!="number")throw new TypeError("Lines must be set to a number.");r=h}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(h){if(!i(h))throw new Error("RegionAnchorX must be between 0 and 100.");a=h}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(h){if(!i(h))throw new Error("RegionAnchorY must be between 0 and 100.");o=h}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(h){if(!i(h))throw new Error("ViewportAnchorY must be between 0 and 100.");u=h}},viewportAnchorX:{enumerable:!0,get:function(){return l},set:function(h){if(!i(h))throw new Error("ViewportAnchorX must be between 0 and 100.");l=h}},scroll:{enumerable:!0,get:function(){return c},set:function(h){var A=e(h);A===!1?console.warn("Scroll: an invalid or illegal string was specified."):c=A}}})}return Qv=s,Qv}var Sx;function LN(){if(Sx)return Uv.exports;Sx=1;var t=P0(),e=Uv.exports={WebVTT:DN(),VTTCue:FN(),VTTRegion:PN()};t.vttjs=e,t.WebVTT=e.WebVTT;var i=e.VTTCue,s=e.VTTRegion,n=t.VTTCue,r=t.VTTRegion;return e.shim=function(){t.VTTCue=i,t.VTTRegion=s},e.restore=function(){t.VTTCue=n,t.VTTRegion=r},t.VTTCue||e.shim(),Uv.exports}var RN=LN();const Bx=nr(RN);function ln(){return ln=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ln.apply(null,arguments)}var kx="https://example.com",L0=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=be.location&&be.location.href||"");var s=/^\/\//.test(e),n=!be.location&&!/\/\//i.test(e);e=new be.URL(e,be.location||kx);var r=new URL(i,e);return n?r.href.slice(kx.length):s?r.href.slice(r.protocol.length):r.href},PC=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(s,n){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(n)},e.off=function(s,n){if(!this.listeners[s])return!1;var r=this.listeners[s].indexOf(n);return this.listeners[s]=this.listeners[s].slice(0),this.listeners[s].splice(r,1),r>-1},e.trigger=function(s){var n=this.listeners[s];if(n)if(arguments.length===2)for(var r=n.length,o=0;o<r;++o)n[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(s){this.on("data",function(n){s.push(n)})},t}(),MN=function(e){return be.atob?be.atob(e):Buffer.from(e,"base64").toString("binary")};function Zk(t){for(var e=MN(t),i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class ON extends PC{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf("\n");i>-1;i=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const UN="	",Vv=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},NN=function(){const i="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+i+")")},rs=function(t){const e={};if(!t)return e;const i=t.split(NN());let s=i.length,n;for(;s--;)i[s]!==""&&(n=/([^=]*)=(.*)/.exec(i[s]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e},Ix=t=>{const e=t.split("x"),i={};return e[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),i};class HN extends PC{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,s;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((r,o)=>{const a=o(e);return a===e?r:r.concat([a])},[e]).forEach(r=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,r))return;if(r.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:r.slice(1)});return}if(r=r.replace("\r",""),i=/^#EXTM3U/.exec(r),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(r),i){s={type:"tag",tagType:"inf"},i[1]&&(s.duration=parseFloat(i[1])),i[2]&&(s.title=i[2]),this.trigger("data",s);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(r),i){s={type:"tag",tagType:"targetduration"},i[1]&&(s.duration=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(r),i){s={type:"tag",tagType:"version"},i[1]&&(s.version=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(r),i){s={type:"tag",tagType:"media-sequence"},i[1]&&(s.number=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(r),i){s={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(s.number=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(r),i){s={type:"tag",tagType:"playlist-type"},i[1]&&(s.playlistType=i[1]),this.trigger("data",s);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(r),i){s=ln(Vv(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",s);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(r),i){s={type:"tag",tagType:"allow-cache"},i[1]&&(s.allowed=!/NO/.test(i[1])),this.trigger("data",s);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(r),i){if(s={type:"tag",tagType:"map"},i[1]){const o=rs(i[1]);o.URI&&(s.uri=o.URI),o.BYTERANGE&&(s.byterange=Vv(o.BYTERANGE))}this.trigger("data",s);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(r),i){s={type:"tag",tagType:"stream-inf"},i[1]&&(s.attributes=rs(i[1]),s.attributes.RESOLUTION&&(s.attributes.RESOLUTION=Ix(s.attributes.RESOLUTION)),s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["FRAME-RATE"]&&(s.attributes["FRAME-RATE"]=parseFloat(s.attributes["FRAME-RATE"])),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))),this.trigger("data",s);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(r),i){s={type:"tag",tagType:"media"},i[1]&&(s.attributes=rs(i[1])),this.trigger("data",s);return}if(i=/^#EXT-X-ENDLIST/.exec(r),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(r),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(r),i){s={type:"tag",tagType:"program-date-time"},i[1]&&(s.dateTimeString=i[1],s.dateTimeObject=new Date(i[1])),this.trigger("data",s);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(r),i){s={type:"tag",tagType:"key"},i[1]&&(s.attributes=rs(i[1]),s.attributes.IV&&(s.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),this.trigger("data",s);return}if(i=/^#EXT-X-START:(.*)$/.exec(r),i){s={type:"tag",tagType:"start"},i[1]&&(s.attributes=rs(i[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),this.trigger("data",s);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(r),i){s={type:"tag",tagType:"cue-out-cont"},i[1]?s.data=i[1]:s.data="",this.trigger("data",s);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(r),i){s={type:"tag",tagType:"cue-out"},i[1]?s.data=i[1]:s.data="",this.trigger("data",s);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(r),i){s={type:"tag",tagType:"cue-in"},i[1]?s.data=i[1]:s.data="",this.trigger("data",s);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"skip"},s.attributes=rs(i[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(UN)),this.trigger("data",s);return}if(i=/^#EXT-X-PART:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"part"},s.attributes=rs(i[1]),["DURATION"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=/YES/.test(s.attributes[o]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=Vv(s.attributes.BYTERANGE)),this.trigger("data",s);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"server-control"},s.attributes=rs(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=/YES/.test(s.attributes[o]))}),this.trigger("data",s);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"part-inf"},s.attributes=rs(i[1]),["PART-TARGET"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))}),this.trigger("data",s);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"preload-hint"},s.attributes=rs(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(s.attributes.hasOwnProperty(o)){s.attributes[o]=parseInt(s.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[a]=s.attributes[o],delete s.attributes[o]}}),this.trigger("data",s);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"rendition-report"},s.attributes=rs(i[1]),["LAST-MSN","LAST-PART"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseInt(s.attributes[o],10))}),this.trigger("data",s);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(r),i&&i[1]){s={type:"tag",tagType:"daterange"},s.attributes=rs(i[1]),["ID","CLASS"].forEach(function(a){s.attributes.hasOwnProperty(a)&&(s.attributes[a]=String(s.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){s.attributes.hasOwnProperty(a)&&(s.attributes[a]=new Date(s.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){s.attributes.hasOwnProperty(a)&&(s.attributes[a]=parseFloat(s.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){s.attributes.hasOwnProperty(a)&&(s.attributes[a]=/YES/i.test(s.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){s.attributes.hasOwnProperty(a)&&(s.attributes[a]=s.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in s.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(s.attributes[a]),u=/^\d+(\.\d+)?$/.test(s.attributes[a]);s.attributes[a]=l?s.attributes[a].toString(16):u?parseFloat(s.attributes[a]):String(s.attributes[a])}this.trigger("data",s);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(r),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(i=/^#EXT-X-I-FRAMES-ONLY/.exec(r),i){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(i=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(r),i){s={type:"tag",tagType:"content-steering"},s.attributes=rs(i[1]),this.trigger("data",s);return}if(i=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(r),i){s={type:"tag",tagType:"i-frame-playlist"},s.attributes=rs(i[1]),s.attributes.URI&&(s.uri=s.attributes.URI),s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes.RESOLUTION&&(s.attributes.RESOLUTION=Ix(s.attributes.RESOLUTION)),s.attributes["AVERAGE-BANDWIDTH"]&&(s.attributes["AVERAGE-BANDWIDTH"]=parseInt(s.attributes["AVERAGE-BANDWIDTH"],10)),s.attributes["FRAME-RATE"]&&(s.attributes["FRAME-RATE"]=parseFloat(s.attributes["FRAME-RATE"])),this.trigger("data",s);return}if(i=/^#EXT-X-DEFINE:(.*)$/.exec(r),i){s={type:"tag",tagType:"define"},s.attributes=rs(i[1]),this.trigger("data",s);return}this.trigger("data",{type:"tag",data:r.slice(4)})})}addParser({expression:e,customType:i,dataParser:s,segment:n}){typeof s!="function"&&(s=r=>r),this.customParsers.push(r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:s(r),customType:i,segment:n}),!0})}addTagMapper({expression:e,map:i}){const s=n=>e.test(n)?i(n):n;this.tagMappers.push(s)}}const QN=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),ya=function(t){const e={};return Object.keys(t).forEach(function(i){e[QN(i)]=t[i]}),e},$v=function(t){const{serverControl:e,targetDuration:i,partTargetDuration:s}=t;if(!e)return;const n="#EXT-X-SERVER-CONTROL",r="holdBack",o="partHoldBack",a=i&&i*3,l=s&&s*2;i&&!e.hasOwnProperty(r)&&(e[r]=a,this.trigger("info",{message:"".concat(n," defaulting HOLD-BACK to targetDuration * 3 (").concat(a,").")})),a&&e[r]<a&&(this.trigger("warn",{message:"".concat(n," clamping HOLD-BACK (").concat(e[r],") to targetDuration * 3 (").concat(a,")")}),e[r]=a),s&&!e.hasOwnProperty(o)&&(e[o]=s*3,this.trigger("info",{message:"".concat(n," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(e[o],").")})),s&&e[o]<l&&(this.trigger("warn",{message:"".concat(n," clamping PART-HOLD-BACK (").concat(e[o],") to partTargetDuration * 2 (").concat(l,").")}),e[o]=l)};let VN=class extends PC{constructor(e={}){super(),this.lineStream=new ON,this.parseStream=new HN,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const i=this,s=[];let n={},r,o,a=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let h=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let A=0,f=0;const m={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&r&&(n.map=r),!n.key&&o&&(n.key=o),!n.timeline&&typeof h=="number"&&(n.timeline=h),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(p){let x,C;if(i.manifest.definitions){for(const g in i.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace("{$".concat(g,"}"),i.manifest.definitions[g])),p.attributes)for(const w in p.attributes)typeof p.attributes[w]=="string"&&(p.attributes[w]=p.attributes[w].replace("{$".concat(g,"}"),i.manifest.definitions[g]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const g={};"length"in p&&(n.byterange=g,g.length=p.length,"offset"in p||(p.offset=A)),"offset"in p&&(n.byterange=g,g.offset=p.offset),A=g.offset+g.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(n.title=p.title),p.duration>0&&(n.duration=p.duration),p.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){o=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:Zk(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(o.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,h=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){r={},p.uri&&(r.uri=p.uri),p.byterange&&(r.byterange=p.byterange),o&&(r.key=o)},"stream-inf"(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),ln(n.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const g=this.manifest.mediaGroups[p.attributes.TYPE];g[p.attributes["GROUP-ID"]]=g[p.attributes["GROUP-ID"]]||{},x=g[p.attributes["GROUP-ID"]],C={default:/yes/i.test(p.attributes.DEFAULT)},C.default?C.autoselect=!0:C.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(C.language=p.attributes.LANGUAGE),p.attributes.URI&&(C.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(C.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(C.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(C.forced=/yes/i.test(p.attributes.FORCED)),x[p.attributes.NAME]=C},discontinuity(){h+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),n.dateTimeString=p.dateTimeString,n.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:g}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),g===null&&this.manifest.segments.reduceRight((w,S)=>(S.programDateTime=w-S.duration*1e3,S.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,$v.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){n.cueOut=p.data},"cue-out-cont"(){n.cueOutCont=p.data},"cue-in"(){n.cueIn=p.data},skip(){this.manifest.skip=ya(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const g=this.manifest.segments.length,w=ya(p.attributes);n.parts=n.parts||[],n.parts.push(w),w.byterange&&(w.byterange.hasOwnProperty("offset")||(w.byterange.offset=f),f=w.byterange.offset+w.byterange.length);const S=n.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #".concat(S," for segment #").concat(g),p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((I,O)=>{I.hasOwnProperty("lastPart")||this.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(O," lacks required attribute(s): LAST-PART")})})},"server-control"(){const g=this.manifest.serverControl=ya(p.attributes);g.hasOwnProperty("canBlockReload")||(g.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),$v.call(this,this.manifest),g.canSkipDateranges&&!g.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const g=this.manifest.segments.length,w=ya(p.attributes),S=w.type&&w.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(w),w.byterange&&(w.byterange.hasOwnProperty("offset")||(w.byterange.offset=S?f:0,S&&(f=w.byterange.offset+w.byterange.length)));const I=n.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(I," for segment #").concat(g),p.attributes,["TYPE","URI"]),!!w.type)for(let O=0;O<n.preloadHints.length-1;O++){const U=n.preloadHints[O];U.type&&U.type===w.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(I," for segment #").concat(g," has the same TYPE ").concat(w.type," as preload hint #").concat(O)})}},"rendition-report"(){const g=ya(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(g);const w=this.manifest.renditionReports.length-1,S=["LAST-MSN","URI"];a&&S.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(w),p.attributes,S)},"part-inf"(){this.manifest.partInf=ya(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),$v.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(ya(p.attributes));const g=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_("#EXT-X-DATERANGE #".concat(g),p.attributes,["ID","START-DATE"]);const w=this.manifest.dateRanges[g];w.endDate&&w.startDate&&new Date(w.endDate)<new Date(w.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),w.duration&&w.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),w.plannedDuration&&w.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const S=!!w.endOnNext;if(S&&!w.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),S&&(w.duration||w.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),w.duration&&w.endDate){const O=w.startDate.getTime()+w.duration*1e3;this.manifest.dateRanges[g].endDate=new Date(O)}if(!m[w.id])m[w.id]=w;else{for(const O in m[w.id])if(w[O]&&JSON.stringify(m[w.id][O])!==JSON.stringify(w[O])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const I=this.manifest.dateRanges.findIndex(O=>O.id===w.id);this.manifest.dateRanges[I]=ln(this.manifest.dateRanges[I],w),m[w.id]=ln(m[w.id],w),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=ya(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const g=(w,S)=>{if(w in this.manifest.definitions){this.trigger("error",{message:"EXT-X-DEFINE: Duplicate name ".concat(w)});return}this.manifest.definitions[w]=S};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const w=this.params.get(p.attributes.QUERYPARAM);if(!w){this.trigger("error",{message:"EXT-X-DEFINE: No query param ".concat(p.attributes.QUERYPARAM)});return}g(p.attributes.QUERYPARAM,decodeURIComponent(w));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:"EXT-X-DEFINE: No value for ".concat(p.attributes.NAME)});return}g(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:"EXT-X-DEFINE: No value ".concat(p.attributes.IMPORT," to import, or IMPORT used on main playlist")});return}g(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:h}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||l).call(i)},uri(){n.uri=p.uri,s.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),o&&(n.key=o),n.timeline=h,r&&(n.map=r),f=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){p.segment?(n.custom=n.custom||{},n.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(i)})}requiredCompatibilityversion(e,i){(e<i||!e)&&this.trigger("warn",{message:"manifest must be at least version ".concat(i)})}warnOnMissingAttributes_(e,i,s){const n=[];s.forEach(function(r){i.hasOwnProperty(r)||n.push(r)}),n.length&&this.trigger("warn",{message:"".concat(e," lacks required attribute(s): ").concat(n.join(", "))})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var Yl={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},$N=["video","audio","text"],Dx=["Video","Audio","Text"],eI=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,s,n){var r=("00"+Number(s).toString(16)).slice(-2),o=("00"+Number(n).toString(16)).slice(-2);return"avc1."+r+"00"+o})},Zr=function(e){e===void 0&&(e="");var i=e.split(","),s=[];return i.forEach(function(n){n=n.trim();var r;$N.forEach(function(o){var a=Yl[o].exec(n.toLowerCase());if(!(!a||a.length<=1)){r=o;var l=n.substring(0,a[1].length),u=n.replace(l,"");s.push({type:l,details:u,mediaType:o})}}),r||s.push({type:n,details:"",mediaType:"unknown"})}),s},jN=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var s=e.mediaGroups.AUDIO[i];if(!s)return null;for(var n in s){var r=s[n];if(r.default&&r.playlists)return Zr(r.playlists[0].attributes.CODECS)}return null},tI=function(e){return e===void 0&&(e=""),Yl.audio.test(e.trim().toLowerCase())},zN=function(e){return e===void 0&&(e=""),Yl.text.test(e.trim().toLowerCase())},Lc=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(r){return eI(r.trim())}),s="video";i.length===1&&tI(i[0])?s="audio":i.length===1&&zN(i[0])&&(s="application");var n="mp4";return i.every(function(r){return Yl.mp4.test(r)})?n="mp4":i.every(function(r){return Yl.webm.test(r)})?n="webm":i.every(function(r){return Yl.ogg.test(r)})&&(n="ogg"),s+"/"+n+';codecs="'+e+'"'}},lA=function(e,i){return e===void 0&&(e=""),i===void 0&&(i=!1),be.MediaSource&&be.MediaSource.isTypeSupported&&be.MediaSource.isTypeSupported(Lc(e))||i&&be.ManagedMediaSource&&be.ManagedMediaSource.isTypeSupported&&be.ManagedMediaSource.isTypeSupported(Lc(e))||!1},jv=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var s=0;s<Dx.length;s++){var n=Dx[s];if(Yl["muxer"+n].test(i))return!0}return!1})},Fx="mp4a.40.2",KN="avc1.4d400d",GN=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,qN=/^application\/dash\+xml/i,iI=function(e){return GN.test(e)?"hls":qN.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},WN=function(e){return e.toString(2).length},YN=function(e){return Math.ceil(WN(e)/8)},nI=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},XN=function(e){return nI(e)},xt=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!XN(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Nn=be.BigInt||Number,M1=[Nn("0x1"),Nn("0x100"),Nn("0x10000"),Nn("0x1000000"),Nn("0x100000000"),Nn("0x10000000000"),Nn("0x1000000000000"),Nn("0x100000000000000"),Nn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var JN=function(e,i){var s=i===void 0?{}:i,n=s.signed,r=n===void 0?!1:n,o=s.le,a=o===void 0?!1:o;e=xt(e);var l=a?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(A,f,m){var p=a?m:Math.abs(m+1-e.length);return A+Nn(f)*M1[p]},Nn(0));if(r){var h=M1[e.length]/Nn(2)-Nn(1);c=Nn(c),c>h&&(c-=h,c-=h,c-=Nn(2))}return Number(c)},ZN=function(e,i){var s={},n=s.le,r=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Nn(e);for(var o=YN(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=r?l:Math.abs(l+1-a.length);a[u]=Number(e/M1[l]&Nn(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},sI=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var s=new Uint8Array(e.length),n=0;n<e.length;n++)s[n]=e.charCodeAt(n);return s},eH=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];if(i=i.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),i.length<=1)return xt(i[0]);var n=i.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),r=new Uint8Array(n),o=0;return i.forEach(function(a){a=xt(a),r.set(a,o),o+=a.byteLength}),r},$i=function(e,i,s){var n=s===void 0?{}:s,r=n.offset,o=r===void 0?0:r,a=n.mask,l=a===void 0?[]:a;e=xt(e),i=xt(i);var u=i.every?i.every:Array.prototype.every;return i.length&&e.length-o>=i.length&&u.call(i,function(c,h){var A=l[h]?l[h]&e[o+h]:e[o+h];return c===A})},tH=function(e,i,s){i.forEach(function(n){for(var r in e.mediaGroups[n])for(var o in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][o];s(a,n,r,o)}})},kd={},Do={},Bl={},Px;function R0(){if(Px)return Bl;Px=1;function t(r,o,a){if(a===void 0&&(a=Array.prototype),r&&typeof a.find=="function")return a.find.call(r,o);for(var l=0;l<r.length;l++)if(Object.prototype.hasOwnProperty.call(r,l)){var u=r[l];if(o.call(void 0,u,l,r))return u}}function e(r,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(r):r}function i(r,o){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a]);return r}var s=e({HTML:"text/html",isHTML:function(r){return r===s.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),n=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Bl.assign=i,Bl.find=t,Bl.freeze=e,Bl.MIME_TYPE=s,Bl.NAMESPACE=n,Bl}var Lx;function rI(){if(Lx)return Do;Lx=1;var t=R0(),e=t.find,i=t.NAMESPACE;function s(ie){return ie!==""}function n(ie){return ie?ie.split(/[\t\n\f\r ]+/).filter(s):[]}function r(ie,se){return ie.hasOwnProperty(se)||(ie[se]=!0),ie}function o(ie){if(!ie)return[];var se=n(ie);return Object.keys(se.reduce(r,{}))}function a(ie){return function(se){return ie&&ie.indexOf(se)!==-1}}function l(ie,se){for(var Ee in ie)Object.prototype.hasOwnProperty.call(ie,Ee)&&(se[Ee]=ie[Ee])}function u(ie,se){var Ee=ie.prototype;if(!(Ee instanceof se)){let Be=function(){};Be.prototype=se.prototype,Be=new Be,l(Ee,Be),ie.prototype=Ee=Be}Ee.constructor!=ie&&(typeof ie!="function"&&console.error("unknown Class:"+ie),Ee.constructor=ie)}var c={},h=c.ELEMENT_NODE=1,A=c.ATTRIBUTE_NODE=2,f=c.TEXT_NODE=3,m=c.CDATA_SECTION_NODE=4,p=c.ENTITY_REFERENCE_NODE=5,x=c.ENTITY_NODE=6,C=c.PROCESSING_INSTRUCTION_NODE=7,g=c.COMMENT_NODE=8,w=c.DOCUMENT_NODE=9,S=c.DOCUMENT_TYPE_NODE=10,I=c.DOCUMENT_FRAGMENT_NODE=11,O=c.NOTATION_NODE=12,U={},$={};U.INDEX_SIZE_ERR=($[1]="Index size error",1),U.DOMSTRING_SIZE_ERR=($[2]="DOMString size error",2);var k=U.HIERARCHY_REQUEST_ERR=($[3]="Hierarchy request error",3);U.WRONG_DOCUMENT_ERR=($[4]="Wrong document",4),U.INVALID_CHARACTER_ERR=($[5]="Invalid character",5),U.NO_DATA_ALLOWED_ERR=($[6]="No data allowed",6),U.NO_MODIFICATION_ALLOWED_ERR=($[7]="No modification allowed",7);var P=U.NOT_FOUND_ERR=($[8]="Not found",8);U.NOT_SUPPORTED_ERR=($[9]="Not supported",9);var T=U.INUSE_ATTRIBUTE_ERR=($[10]="Attribute in use",10);U.INVALID_STATE_ERR=($[11]="Invalid state",11),U.SYNTAX_ERR=($[12]="Syntax error",12),U.INVALID_MODIFICATION_ERR=($[13]="Invalid modification",13),U.NAMESPACE_ERR=($[14]="Invalid namespace",14),U.INVALID_ACCESS_ERR=($[15]="Invalid access",15);function R(ie,se){if(se instanceof Error)var Ee=se;else Ee=this,Error.call(this,$[ie]),this.message=$[ie],Error.captureStackTrace&&Error.captureStackTrace(this,R);return Ee.code=ie,se&&(this.message=this.message+": "+se),Ee}R.prototype=Error.prototype,l(U,R);function E(){}E.prototype={length:0,item:function(ie){return ie>=0&&ie<this.length?this[ie]:null},toString:function(ie,se){for(var Ee=[],Be=0;Be<this.length;Be++)Pi(this[Be],Ee,ie,se);return Ee.join("")},filter:function(ie){return Array.prototype.filter.call(this,ie)},indexOf:function(ie){return Array.prototype.indexOf.call(this,ie)}};function _(ie,se){this._node=ie,this._refresh=se,F(this)}function F(ie){var se=ie._node._inc||ie._node.ownerDocument._inc;if(ie._inc!==se){var Ee=ie._refresh(ie._node);if(xn(ie,"length",Ee.length),!ie.$$length||Ee.length<ie.$$length)for(var Be=Ee.length;Be in ie;Be++)Object.prototype.hasOwnProperty.call(ie,Be)&&delete ie[Be];l(Ee,ie),ie._inc=se}}_.prototype.item=function(ie){return F(this),this[ie]||null},u(_,E);function V(){}function Q(ie,se){for(var Ee=ie.length;Ee--;)if(ie[Ee]===se)return Ee}function G(ie,se,Ee,Be){if(Be?se[Q(se,Be)]=Ee:se[se.length++]=Ee,ie){Ee.ownerElement=ie;var Xe=ie.ownerDocument;Xe&&(Be&&Oe(Xe,ie,Be),Ce(Xe,ie,Ee))}}function Y(ie,se,Ee){var Be=Q(se,Ee);if(Be>=0){for(var Xe=se.length-1;Be<Xe;)se[Be]=se[++Be];if(se.length=Xe,ie){var tt=ie.ownerDocument;tt&&(Oe(tt,ie,Ee),Ee.ownerElement=null)}}else throw new R(P,new Error(ie.tagName+"@"+Ee))}V.prototype={length:0,item:E.prototype.item,getNamedItem:function(ie){for(var se=this.length;se--;){var Ee=this[se];if(Ee.nodeName==ie)return Ee}},setNamedItem:function(ie){var se=ie.ownerElement;if(se&&se!=this._ownerElement)throw new R(T);var Ee=this.getNamedItem(ie.nodeName);return G(this._ownerElement,this,ie,Ee),Ee},setNamedItemNS:function(ie){var se=ie.ownerElement,Ee;if(se&&se!=this._ownerElement)throw new R(T);return Ee=this.getNamedItemNS(ie.namespaceURI,ie.localName),G(this._ownerElement,this,ie,Ee),Ee},removeNamedItem:function(ie){var se=this.getNamedItem(ie);return Y(this._ownerElement,this,se),se},removeNamedItemNS:function(ie,se){var Ee=this.getNamedItemNS(ie,se);return Y(this._ownerElement,this,Ee),Ee},getNamedItemNS:function(ie,se){for(var Ee=this.length;Ee--;){var Be=this[Ee];if(Be.localName==se&&Be.namespaceURI==ie)return Be}return null}};function ee(){}ee.prototype={hasFeature:function(ie,se){return!0},createDocument:function(ie,se,Ee){var Be=new we;if(Be.implementation=this,Be.childNodes=new E,Be.doctype=Ee||null,Ee&&Be.appendChild(Ee),se){var Xe=Be.createElementNS(ie,se);Be.appendChild(Xe)}return Be},createDocumentType:function(ie,se,Ee){var Be=new lt;return Be.name=ie,Be.nodeName=ie,Be.publicId=se||"",Be.systemId=Ee||"",Be}};function W(){}W.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(ie,se){return le(this,ie,se)},replaceChild:function(ie,se){le(this,ie,se,ae),se&&this.removeChild(se)},removeChild:function(ie){return Te(this,ie)},appendChild:function(ie){return this.insertBefore(ie,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(ie){return rn(this.ownerDocument||this,this,ie)},normalize:function(){for(var ie=this.firstChild;ie;){var se=ie.nextSibling;se&&se.nodeType==f&&ie.nodeType==f?(this.removeChild(se),ie.appendData(se.data)):(ie.normalize(),ie=se)}},isSupported:function(ie,se){return this.ownerDocument.implementation.hasFeature(ie,se)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(ie){for(var se=this;se;){var Ee=se._nsMap;if(Ee){for(var Be in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Be)&&Ee[Be]===ie)return Be}se=se.nodeType==A?se.ownerDocument:se.parentNode}return null},lookupNamespaceURI:function(ie){for(var se=this;se;){var Ee=se._nsMap;if(Ee&&Object.prototype.hasOwnProperty.call(Ee,ie))return Ee[ie];se=se.nodeType==A?se.ownerDocument:se.parentNode}return null},isDefaultNamespace:function(ie){var se=this.lookupPrefix(ie);return se==null}};function ge(ie){return ie=="<"&&"&lt;"||ie==">"&&"&gt;"||ie=="&"&&"&amp;"||ie=='"'&&"&quot;"||"&#"+ie.charCodeAt()+";"}l(c,W),l(c,W.prototype);function ce(ie,se){if(se(ie))return!0;if(ie=ie.firstChild)do if(ce(ie,se))return!0;while(ie=ie.nextSibling)}function we(){this.ownerDocument=this}function Ce(ie,se,Ee){ie&&ie._inc++;var Be=Ee.namespaceURI;Be===i.XMLNS&&(se._nsMap[Ee.prefix?Ee.localName:""]=Ee.value)}function Oe(ie,se,Ee,Be){ie&&ie._inc++;var Xe=Ee.namespaceURI;Xe===i.XMLNS&&delete se._nsMap[Ee.prefix?Ee.localName:""]}function de(ie,se,Ee){if(ie&&ie._inc){ie._inc++;var Be=se.childNodes;if(Ee)Be[Be.length++]=Ee;else{for(var Xe=se.firstChild,tt=0;Xe;)Be[tt++]=Xe,Xe=Xe.nextSibling;Be.length=tt,delete Be[Be.length]}}}function Te(ie,se){var Ee=se.previousSibling,Be=se.nextSibling;return Ee?Ee.nextSibling=Be:ie.firstChild=Be,Be?Be.previousSibling=Ee:ie.lastChild=Ee,se.parentNode=null,se.previousSibling=null,se.nextSibling=null,de(ie.ownerDocument,ie),se}function xe(ie){return ie&&(ie.nodeType===W.DOCUMENT_NODE||ie.nodeType===W.DOCUMENT_FRAGMENT_NODE||ie.nodeType===W.ELEMENT_NODE)}function He(ie){return ie&&(oe(ie)||Ae(ie)||$e(ie)||ie.nodeType===W.DOCUMENT_FRAGMENT_NODE||ie.nodeType===W.COMMENT_NODE||ie.nodeType===W.PROCESSING_INSTRUCTION_NODE)}function $e(ie){return ie&&ie.nodeType===W.DOCUMENT_TYPE_NODE}function oe(ie){return ie&&ie.nodeType===W.ELEMENT_NODE}function Ae(ie){return ie&&ie.nodeType===W.TEXT_NODE}function De(ie,se){var Ee=ie.childNodes||[];if(e(Ee,oe)||$e(se))return!1;var Be=e(Ee,$e);return!(se&&Be&&Ee.indexOf(Be)>Ee.indexOf(se))}function Ie(ie,se){var Ee=ie.childNodes||[];function Be(tt){return oe(tt)&&tt!==se}if(e(Ee,Be))return!1;var Xe=e(Ee,$e);return!(se&&Xe&&Ee.indexOf(Xe)>Ee.indexOf(se))}function Re(ie,se,Ee){if(!xe(ie))throw new R(k,"Unexpected parent node type "+ie.nodeType);if(Ee&&Ee.parentNode!==ie)throw new R(P,"child not in parent");if(!He(se)||$e(se)&&ie.nodeType!==W.DOCUMENT_NODE)throw new R(k,"Unexpected node type "+se.nodeType+" for parent node type "+ie.nodeType)}function X(ie,se,Ee){var Be=ie.childNodes||[],Xe=se.childNodes||[];if(se.nodeType===W.DOCUMENT_FRAGMENT_NODE){var tt=Xe.filter(oe);if(tt.length>1||e(Xe,Ae))throw new R(k,"More than one element or text in fragment");if(tt.length===1&&!De(ie,Ee))throw new R(k,"Element in fragment can not be inserted before doctype")}if(oe(se)&&!De(ie,Ee))throw new R(k,"Only one element can be added and only after doctype");if($e(se)){if(e(Be,$e))throw new R(k,"Only one doctype is allowed");var _t=e(Be,oe);if(Ee&&Be.indexOf(_t)<Be.indexOf(Ee))throw new R(k,"Doctype can only be inserted before an element");if(!Ee&&_t)throw new R(k,"Doctype can not be appended since element is present")}}function ae(ie,se,Ee){var Be=ie.childNodes||[],Xe=se.childNodes||[];if(se.nodeType===W.DOCUMENT_FRAGMENT_NODE){var tt=Xe.filter(oe);if(tt.length>1||e(Xe,Ae))throw new R(k,"More than one element or text in fragment");if(tt.length===1&&!Ie(ie,Ee))throw new R(k,"Element in fragment can not be inserted before doctype")}if(oe(se)&&!Ie(ie,Ee))throw new R(k,"Only one element can be added and only after doctype");if($e(se)){if(e(Be,function(Wi){return $e(Wi)&&Wi!==Ee}))throw new R(k,"Only one doctype is allowed");var _t=e(Be,oe);if(Ee&&Be.indexOf(_t)<Be.indexOf(Ee))throw new R(k,"Doctype can only be inserted before an element")}}function le(ie,se,Ee,Be){Re(ie,se,Ee),ie.nodeType===W.DOCUMENT_NODE&&(Be||X)(ie,se,Ee);var Xe=se.parentNode;if(Xe&&Xe.removeChild(se),se.nodeType===I){var tt=se.firstChild;if(tt==null)return se;var _t=se.lastChild}else tt=_t=se;var si=Ee?Ee.previousSibling:ie.lastChild;tt.previousSibling=si,_t.nextSibling=Ee,si?si.nextSibling=tt:ie.firstChild=tt,Ee==null?ie.lastChild=_t:Ee.previousSibling=_t;do tt.parentNode=ie;while(tt!==_t&&(tt=tt.nextSibling));return de(ie.ownerDocument||ie,ie),se.nodeType==I&&(se.firstChild=se.lastChild=null),se}function ye(ie,se){return se.parentNode&&se.parentNode.removeChild(se),se.parentNode=ie,se.previousSibling=ie.lastChild,se.nextSibling=null,se.previousSibling?se.previousSibling.nextSibling=se:ie.firstChild=se,ie.lastChild=se,de(ie.ownerDocument,ie,se),se}we.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(ie,se){if(ie.nodeType==I){for(var Ee=ie.firstChild;Ee;){var Be=Ee.nextSibling;this.insertBefore(Ee,se),Ee=Be}return ie}return le(this,ie,se),ie.ownerDocument=this,this.documentElement===null&&ie.nodeType===h&&(this.documentElement=ie),ie},removeChild:function(ie){return this.documentElement==ie&&(this.documentElement=null),Te(this,ie)},replaceChild:function(ie,se){le(this,ie,se,ae),ie.ownerDocument=this,se&&this.removeChild(se),oe(ie)&&(this.documentElement=ie)},importNode:function(ie,se){return hn(this,ie,se)},getElementById:function(ie){var se=null;return ce(this.documentElement,function(Ee){if(Ee.nodeType==h&&Ee.getAttribute("id")==ie)return se=Ee,!0}),se},getElementsByClassName:function(ie){var se=o(ie);return new _(this,function(Ee){var Be=[];return se.length>0&&ce(Ee.documentElement,function(Xe){if(Xe!==Ee&&Xe.nodeType===h){var tt=Xe.getAttribute("class");if(tt){var _t=ie===tt;if(!_t){var si=o(tt);_t=se.every(a(si))}_t&&Be.push(Xe)}}}),Be})},createElement:function(ie){var se=new ke;se.ownerDocument=this,se.nodeName=ie,se.tagName=ie,se.localName=ie,se.childNodes=new E;var Ee=se.attributes=new V;return Ee._ownerElement=se,se},createDocumentFragment:function(){var ie=new Rt;return ie.ownerDocument=this,ie.childNodes=new E,ie},createTextNode:function(ie){var se=new _e;return se.ownerDocument=this,se.appendData(ie),se},createComment:function(ie){var se=new Pe;return se.ownerDocument=this,se.appendData(ie),se},createCDATASection:function(ie){var se=new Ye;return se.ownerDocument=this,se.appendData(ie),se},createProcessingInstruction:function(ie,se){var Ee=new pt;return Ee.ownerDocument=this,Ee.tagName=Ee.nodeName=Ee.target=ie,Ee.nodeValue=Ee.data=se,Ee},createAttribute:function(ie){var se=new Qe;return se.ownerDocument=this,se.name=ie,se.nodeName=ie,se.localName=ie,se.specified=!0,se},createEntityReference:function(ie){var se=new At;return se.ownerDocument=this,se.nodeName=ie,se},createElementNS:function(ie,se){var Ee=new ke,Be=se.split(":"),Xe=Ee.attributes=new V;return Ee.childNodes=new E,Ee.ownerDocument=this,Ee.nodeName=se,Ee.tagName=se,Ee.namespaceURI=ie,Be.length==2?(Ee.prefix=Be[0],Ee.localName=Be[1]):Ee.localName=se,Xe._ownerElement=Ee,Ee},createAttributeNS:function(ie,se){var Ee=new Qe,Be=se.split(":");return Ee.ownerDocument=this,Ee.nodeName=se,Ee.name=se,Ee.namespaceURI=ie,Ee.specified=!0,Be.length==2?(Ee.prefix=Be[0],Ee.localName=Be[1]):Ee.localName=se,Ee}},u(we,W);function ke(){this._nsMap={}}ke.prototype={nodeType:h,hasAttribute:function(ie){return this.getAttributeNode(ie)!=null},getAttribute:function(ie){var se=this.getAttributeNode(ie);return se&&se.value||""},getAttributeNode:function(ie){return this.attributes.getNamedItem(ie)},setAttribute:function(ie,se){var Ee=this.ownerDocument.createAttribute(ie);Ee.value=Ee.nodeValue=""+se,this.setAttributeNode(Ee)},removeAttribute:function(ie){var se=this.getAttributeNode(ie);se&&this.removeAttributeNode(se)},appendChild:function(ie){return ie.nodeType===I?this.insertBefore(ie,null):ye(this,ie)},setAttributeNode:function(ie){return this.attributes.setNamedItem(ie)},setAttributeNodeNS:function(ie){return this.attributes.setNamedItemNS(ie)},removeAttributeNode:function(ie){return this.attributes.removeNamedItem(ie.nodeName)},removeAttributeNS:function(ie,se){var Ee=this.getAttributeNodeNS(ie,se);Ee&&this.removeAttributeNode(Ee)},hasAttributeNS:function(ie,se){return this.getAttributeNodeNS(ie,se)!=null},getAttributeNS:function(ie,se){var Ee=this.getAttributeNodeNS(ie,se);return Ee&&Ee.value||""},setAttributeNS:function(ie,se,Ee){var Be=this.ownerDocument.createAttributeNS(ie,se);Be.value=Be.nodeValue=""+Ee,this.setAttributeNode(Be)},getAttributeNodeNS:function(ie,se){return this.attributes.getNamedItemNS(ie,se)},getElementsByTagName:function(ie){return new _(this,function(se){var Ee=[];return ce(se,function(Be){Be!==se&&Be.nodeType==h&&(ie==="*"||Be.tagName==ie)&&Ee.push(Be)}),Ee})},getElementsByTagNameNS:function(ie,se){return new _(this,function(Ee){var Be=[];return ce(Ee,function(Xe){Xe!==Ee&&Xe.nodeType===h&&(ie==="*"||Xe.namespaceURI===ie)&&(se==="*"||Xe.localName==se)&&Be.push(Xe)}),Be})}},we.prototype.getElementsByTagName=ke.prototype.getElementsByTagName,we.prototype.getElementsByTagNameNS=ke.prototype.getElementsByTagNameNS,u(ke,W);function Qe(){}Qe.prototype.nodeType=A,u(Qe,W);function Ve(){}Ve.prototype={data:"",substringData:function(ie,se){return this.data.substring(ie,ie+se)},appendData:function(ie){ie=this.data+ie,this.nodeValue=this.data=ie,this.length=ie.length},insertData:function(ie,se){this.replaceData(ie,0,se)},appendChild:function(ie){throw new Error($[k])},deleteData:function(ie,se){this.replaceData(ie,se,"")},replaceData:function(ie,se,Ee){var Be=this.data.substring(0,ie),Xe=this.data.substring(ie+se);Ee=Be+Ee+Xe,this.nodeValue=this.data=Ee,this.length=Ee.length}},u(Ve,W);function _e(){}_e.prototype={nodeName:"#text",nodeType:f,splitText:function(ie){var se=this.data,Ee=se.substring(ie);se=se.substring(0,ie),this.data=this.nodeValue=se,this.length=se.length;var Be=this.ownerDocument.createTextNode(Ee);return this.parentNode&&this.parentNode.insertBefore(Be,this.nextSibling),Be}},u(_e,Ve);function Pe(){}Pe.prototype={nodeName:"#comment",nodeType:g},u(Pe,Ve);function Ye(){}Ye.prototype={nodeName:"#cdata-section",nodeType:m},u(Ye,Ve);function lt(){}lt.prototype.nodeType=S,u(lt,W);function ut(){}ut.prototype.nodeType=O,u(ut,W);function Dt(){}Dt.prototype.nodeType=x,u(Dt,W);function At(){}At.prototype.nodeType=p,u(At,W);function Rt(){}Rt.prototype.nodeName="#document-fragment",Rt.prototype.nodeType=I,u(Rt,W);function pt(){}pt.prototype.nodeType=C,u(pt,W);function yt(){}yt.prototype.serializeToString=function(ie,se,Ee){return jt.call(ie,se,Ee)},W.prototype.toString=jt;function jt(ie,se){var Ee=[],Be=this.nodeType==9&&this.documentElement||this,Xe=Be.prefix,tt=Be.namespaceURI;if(tt&&Xe==null){var Xe=Be.lookupPrefix(tt);if(Xe==null)var _t=[{namespace:tt,prefix:null}]}return Pi(this,Ee,ie,se,_t),Ee.join("")}function Tt(ie,se,Ee){var Be=ie.prefix||"",Xe=ie.namespaceURI;if(!Xe||Be==="xml"&&Xe===i.XML||Xe===i.XMLNS)return!1;for(var tt=Ee.length;tt--;){var _t=Ee[tt];if(_t.prefix===Be)return _t.namespace!==Xe}return!0}function ni(ie,se,Ee){ie.push(" ",se,'="',Ee.replace(/[<>&"\t\n\r]/g,ge),'"')}function Pi(ie,se,Ee,Be,Xe){if(Xe||(Xe=[]),Be)if(ie=Be(ie),ie){if(typeof ie=="string"){se.push(ie);return}}else return;switch(ie.nodeType){case h:var tt=ie.attributes,_t=tt.length,zi=ie.firstChild,si=ie.tagName;Ee=i.isHTML(ie.namespaceURI)||Ee;var Wi=si;if(!Ee&&!ie.prefix&&ie.namespaceURI){for(var jn,Ls=0;Ls<tt.length;Ls++)if(tt.item(Ls).name==="xmlns"){jn=tt.item(Ls).value;break}if(!jn)for(var sr=Xe.length-1;sr>=0;sr--){var vs=Xe[sr];if(vs.prefix===""&&vs.namespace===ie.namespaceURI){jn=vs.namespace;break}}if(jn!==ie.namespaceURI)for(var sr=Xe.length-1;sr>=0;sr--){var vs=Xe[sr];if(vs.namespace===ie.namespaceURI){vs.prefix&&(Wi=vs.prefix+":"+si);break}}}se.push("<",Wi);for(var Yi=0;Yi<_t;Yi++){var ci=tt.item(Yi);ci.prefix=="xmlns"?Xe.push({prefix:ci.localName,namespace:ci.value}):ci.nodeName=="xmlns"&&Xe.push({prefix:"",namespace:ci.value})}for(var Yi=0;Yi<_t;Yi++){var ci=tt.item(Yi);if(Tt(ci,Ee,Xe)){var vn=ci.prefix||"",yo=ci.namespaceURI;ni(se,vn?"xmlns:"+vn:"xmlns",yo),Xe.push({prefix:vn,namespace:yo})}Pi(ci,se,Ee,Be,Xe)}if(si===Wi&&Tt(ie,Ee,Xe)){var vn=ie.prefix||"",yo=ie.namespaceURI;ni(se,vn?"xmlns:"+vn:"xmlns",yo),Xe.push({prefix:vn,namespace:yo})}if(zi||Ee&&!/^(?:meta|link|img|br|hr|input)$/i.test(si)){if(se.push(">"),Ee&&/^script$/i.test(si))for(;zi;)zi.data?se.push(zi.data):Pi(zi,se,Ee,Be,Xe.slice()),zi=zi.nextSibling;else for(;zi;)Pi(zi,se,Ee,Be,Xe.slice()),zi=zi.nextSibling;se.push("</",Wi,">")}else se.push("/>");return;case w:case I:for(var zi=ie.firstChild;zi;)Pi(zi,se,Ee,Be,Xe.slice()),zi=zi.nextSibling;return;case A:return ni(se,ie.name,ie.value);case f:return se.push(ie.data.replace(/[<&>]/g,ge));case m:return se.push("<![CDATA[",ie.data,"]]>");case g:return se.push("<!--",ie.data,"-->");case S:var is=ie.publicId,An=ie.systemId;if(se.push("<!DOCTYPE ",ie.name),is)se.push(" PUBLIC ",is),An&&An!="."&&se.push(" ",An),se.push(">");else if(An&&An!=".")se.push(" SYSTEM ",An,">");else{var ct=ie.internalSubset;ct&&se.push(" [",ct,"]"),se.push(">")}return;case C:return se.push("<?",ie.target," ",ie.data,"?>");case p:return se.push("&",ie.nodeName,";");default:se.push("??",ie.nodeName)}}function hn(ie,se,Ee){var Be;switch(se.nodeType){case h:Be=se.cloneNode(!1),Be.ownerDocument=ie;case I:break;case A:Ee=!0;break}if(Be||(Be=se.cloneNode(!1)),Be.ownerDocument=ie,Be.parentNode=null,Ee)for(var Xe=se.firstChild;Xe;)Be.appendChild(hn(ie,Xe,Ee)),Xe=Xe.nextSibling;return Be}function rn(ie,se,Ee){var Be=new se.constructor;for(var Xe in se)if(Object.prototype.hasOwnProperty.call(se,Xe)){var tt=se[Xe];typeof tt!="object"&&tt!=Be[Xe]&&(Be[Xe]=tt)}switch(se.childNodes&&(Be.childNodes=new E),Be.ownerDocument=ie,Be.nodeType){case h:var _t=se.attributes,si=Be.attributes=new V,Wi=_t.length;si._ownerElement=Be;for(var jn=0;jn<Wi;jn++)Be.setAttributeNode(rn(ie,_t.item(jn),!0));break;case A:Ee=!0}if(Ee)for(var Ls=se.firstChild;Ls;)Be.appendChild(rn(ie,Ls,Ee)),Ls=Ls.nextSibling;return Be}function xn(ie,se,Ee){ie[se]=Ee}try{if(Object.defineProperty){let ie=function(se){switch(se.nodeType){case h:case I:var Ee=[];for(se=se.firstChild;se;)se.nodeType!==7&&se.nodeType!==8&&Ee.push(ie(se)),se=se.nextSibling;return Ee.join("");default:return se.nodeValue}};Object.defineProperty(_.prototype,"length",{get:function(){return F(this),this.$$length}}),Object.defineProperty(W.prototype,"textContent",{get:function(){return ie(this)},set:function(se){switch(this.nodeType){case h:case I:for(;this.firstChild;)this.removeChild(this.firstChild);(se||String(se))&&this.appendChild(this.ownerDocument.createTextNode(se));break;default:this.data=se,this.value=se,this.nodeValue=se}}}),xn=function(se,Ee,Be){se["$$"+Ee]=Be}}}catch{}return Do.DocumentType=lt,Do.DOMException=R,Do.DOMImplementation=ee,Do.Element=ke,Do.Node=W,Do.NodeList=E,Do.XMLSerializer=yt,Do}var Id={},zv={},Rx;function iH(){return Rx||(Rx=1,function(t){var e=R0().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(zv)),zv}var wp={},Mx;function nH(){if(Mx)return wp;Mx=1;var t=R0().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+e.source+i.source+"*(?::"+e.source+i.source+"*)?$"),n=0,r=1,o=2,a=3,l=4,u=5,c=6,h=7;function A(k,P){this.message=k,this.locator=P,Error.captureStackTrace&&Error.captureStackTrace(this,A)}A.prototype=new Error,A.prototype.name=A.name;function f(){}f.prototype={parse:function(k,P,T){var R=this.domBuilder;R.startDocument(),S(P,P={}),m(k,P,T,R,this.errorHandler),R.endDocument()}};function m(k,P,T,R,E){function _(ke){if(ke>65535){ke-=65536;var Qe=55296+(ke>>10),Ve=56320+(ke&1023);return String.fromCharCode(Qe,Ve)}else return String.fromCharCode(ke)}function F(ke){var Qe=ke.slice(1,-1);return Object.hasOwnProperty.call(T,Qe)?T[Qe]:Qe.charAt(0)==="#"?_(parseInt(Qe.substr(1).replace("x","0x"))):(E.error("entity not found:"+ke),ke)}function V(ke){if(ke>we){var Qe=k.substring(we,ke).replace(/&#?\w+;/g,F);W&&Q(we),R.characters(Qe,0,ke-we),we=ke}}function Q(ke,Qe){for(;ke>=Y&&(Qe=ee.exec(k));)G=Qe.index,Y=G+Qe[0].length,W.lineNumber++;W.columnNumber=ke-G+1}for(var G=0,Y=0,ee=/.*(?:\r\n?|\n)|.*$/g,W=R.locator,ge=[{currentNSMap:P}],ce={},we=0;;){try{var Ce=k.indexOf("<",we);if(Ce<0){if(!k.substr(we).match(/^\s*$/)){var Oe=R.doc,de=Oe.createTextNode(k.substr(we));Oe.appendChild(de),R.currentElement=de}return}switch(Ce>we&&V(Ce),k.charAt(Ce+1)){case"/":var Re=k.indexOf(">",Ce+3),Te=k.substring(Ce+2,Re).replace(/[ \t\n\r]+$/g,""),xe=ge.pop();Re<0?(Te=k.substring(Ce+2).replace(/[\s<].*/,""),E.error("end tag name: "+Te+" is not complete:"+xe.tagName),Re=Ce+1+Te.length):Te.match(/\s</)&&(Te=Te.replace(/[\s<].*/,""),E.error("end tag name: "+Te+" maybe not complete"),Re=Ce+1+Te.length);var He=xe.localNSMap,$e=xe.tagName==Te,oe=$e||xe.tagName&&xe.tagName.toLowerCase()==Te.toLowerCase();if(oe){if(R.endElement(xe.uri,xe.localName,Te),He)for(var Ae in He)Object.prototype.hasOwnProperty.call(He,Ae)&&R.endPrefixMapping(Ae);$e||E.fatalError("end tag name: "+Te+" is not match the current start tagName:"+xe.tagName)}else ge.push(xe);Re++;break;case"?":W&&Q(Ce),Re=O(k,Ce,R);break;case"!":W&&Q(Ce),Re=I(k,Ce,R,E);break;default:W&&Q(Ce);var De=new U,Ie=ge[ge.length-1].currentNSMap,Re=x(k,Ce,De,Ie,F,E),X=De.length;if(!De.closed&&w(k,Re,De.tagName,ce)&&(De.closed=!0,T.nbsp||E.warning("unclosed xml attribute")),W&&X){for(var ae=p(W,{}),le=0;le<X;le++){var ye=De[le];Q(ye.offset),ye.locator=p(W,{})}R.locator=ae,C(De,R,Ie)&&ge.push(De),R.locator=W}else C(De,R,Ie)&&ge.push(De);t.isHTML(De.uri)&&!De.closed?Re=g(k,Re,De.tagName,F,R):Re++}}catch(ke){if(ke instanceof A)throw ke;E.error("element parse error: "+ke),Re=-1}Re>we?we=Re:V(Math.max(Ce,we)+1)}}function p(k,P){return P.lineNumber=k.lineNumber,P.columnNumber=k.columnNumber,P}function x(k,P,T,R,E,_){function F(W,ge,ce){T.attributeNames.hasOwnProperty(W)&&_.fatalError("Attribute "+W+" redefined"),T.addValue(W,ge.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,E),ce)}for(var V,Q,G=++P,Y=n;;){var ee=k.charAt(G);switch(ee){case"=":if(Y===r)V=k.slice(P,G),Y=a;else if(Y===o)Y=a;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Y===a||Y===r)if(Y===r&&(_.warning('attribute value must after "="'),V=k.slice(P,G)),P=G+1,G=k.indexOf(ee,P),G>0)Q=k.slice(P,G),F(V,Q,P-1),Y=u;else throw new Error("attribute value no end '"+ee+"' match");else if(Y==l)Q=k.slice(P,G),F(V,Q,P),_.warning('attribute "'+V+'" missed start quot('+ee+")!!"),P=G+1,Y=u;else throw new Error('attribute value must after "="');break;case"/":switch(Y){case n:T.setTagName(k.slice(P,G));case u:case c:case h:Y=h,T.closed=!0;case l:case r:break;case o:T.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return _.error("unexpected end of input"),Y==n&&T.setTagName(k.slice(P,G)),G;case">":switch(Y){case n:T.setTagName(k.slice(P,G));case u:case c:case h:break;case l:case r:Q=k.slice(P,G),Q.slice(-1)==="/"&&(T.closed=!0,Q=Q.slice(0,-1));case o:Y===o&&(Q=V),Y==l?(_.warning('attribute "'+Q+'" missed quot(")!'),F(V,Q,P)):((!t.isHTML(R[""])||!Q.match(/^(?:disabled|checked|selected)$/i))&&_.warning('attribute "'+Q+'" missed value!! "'+Q+'" instead!!'),F(Q,Q,P));break;case a:throw new Error("attribute value missed!!")}return G;case"":ee=" ";default:if(ee<=" ")switch(Y){case n:T.setTagName(k.slice(P,G)),Y=c;break;case r:V=k.slice(P,G),Y=o;break;case l:var Q=k.slice(P,G);_.warning('attribute "'+Q+'" missed quot(")!!'),F(V,Q,P);case u:Y=c;break}else switch(Y){case o:T.tagName,(!t.isHTML(R[""])||!V.match(/^(?:disabled|checked|selected)$/i))&&_.warning('attribute "'+V+'" missed value!! "'+V+'" instead2!!'),F(V,V,P),P=G,Y=r;break;case u:_.warning('attribute space is required"'+V+'"!!');case c:Y=r,P=G;break;case a:Y=l,P=G;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}G++}}function C(k,P,T){for(var R=k.tagName,E=null,ee=k.length;ee--;){var _=k[ee],F=_.qName,V=_.value,W=F.indexOf(":");if(W>0)var Q=_.prefix=F.slice(0,W),G=F.slice(W+1),Y=Q==="xmlns"&&G;else G=F,Q=null,Y=F==="xmlns"&&"";_.localName=G,Y!==!1&&(E==null&&(E={},S(T,T={})),T[Y]=E[Y]=V,_.uri=t.XMLNS,P.startPrefixMapping(Y,V))}for(var ee=k.length;ee--;){_=k[ee];var Q=_.prefix;Q&&(Q==="xml"&&(_.uri=t.XML),Q!=="xmlns"&&(_.uri=T[Q||""]))}var W=R.indexOf(":");W>0?(Q=k.prefix=R.slice(0,W),G=k.localName=R.slice(W+1)):(Q=null,G=k.localName=R);var ge=k.uri=T[Q||""];if(P.startElement(ge,G,R,k),k.closed){if(P.endElement(ge,G,R),E)for(Q in E)Object.prototype.hasOwnProperty.call(E,Q)&&P.endPrefixMapping(Q)}else return k.currentNSMap=T,k.localNSMap=E,!0}function g(k,P,T,R,E){if(/^(?:script|textarea)$/i.test(T)){var _=k.indexOf("</"+T+">",P),F=k.substring(P+1,_);if(/[&<]/.test(F))return/^script$/i.test(T)?(E.characters(F,0,F.length),_):(F=F.replace(/&#?\w+;/g,R),E.characters(F,0,F.length),_)}return P+1}function w(k,P,T,R){var E=R[T];return E==null&&(E=k.lastIndexOf("</"+T+">"),E<P&&(E=k.lastIndexOf("</"+T)),R[T]=E),E<P}function S(k,P){for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(P[T]=k[T])}function I(k,P,T,R){var E=k.charAt(P+2);switch(E){case"-":if(k.charAt(P+3)==="-"){var _=k.indexOf("-->",P+4);return _>P?(T.comment(k,P+4,_-P-4),_+3):(R.error("Unclosed comment"),-1)}else return-1;default:if(k.substr(P+3,6)=="CDATA["){var _=k.indexOf("]]>",P+9);return T.startCDATA(),T.characters(k,P+9,_-P-9),T.endCDATA(),_+3}var F=$(k,P),V=F.length;if(V>1&&/!doctype/i.test(F[0][0])){var Q=F[1][0],G=!1,Y=!1;V>3&&(/^public$/i.test(F[2][0])?(G=F[3][0],Y=V>4&&F[4][0]):/^system$/i.test(F[2][0])&&(Y=F[3][0]));var ee=F[V-1];return T.startDTD(Q,G,Y),T.endDTD(),ee.index+ee[0].length}}return-1}function O(k,P,T){var R=k.indexOf("?>",P);if(R){var E=k.substring(P,R).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return E?(E[0].length,T.processingInstruction(E[1],E[2]),R+2):-1}return-1}function U(){this.attributeNames={}}U.prototype={setTagName:function(k){if(!s.test(k))throw new Error("invalid tagName:"+k);this.tagName=k},addValue:function(k,P,T){if(!s.test(k))throw new Error("invalid attribute:"+k);this.attributeNames[k]=this.length,this[this.length++]={qName:k,value:P,offset:T}},length:0,getLocalName:function(k){return this[k].localName},getLocator:function(k){return this[k].locator},getQName:function(k){return this[k].qName},getURI:function(k){return this[k].uri},getValue:function(k){return this[k].value}};function $(k,P){var T,R=[],E=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(E.lastIndex=P,E.exec(k);T=E.exec(k);)if(R.push(T),T[1])return R}return wp.XMLReader=f,wp.ParseError=A,wp}var Ox;function sH(){if(Ox)return Id;Ox=1;var t=R0(),e=rI(),i=iH(),s=nH(),n=e.DOMImplementation,r=t.NAMESPACE,o=s.ParseError,a=s.XMLReader;function l(x){return x.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function u(x){this.options=x||{locator:{}}}u.prototype.parseFromString=function(x,C){var g=this.options,w=new a,S=g.domBuilder||new h,I=g.errorHandler,O=g.locator,U=g.xmlns||{},$=/\/x?html?$/.test(C),k=$?i.HTML_ENTITIES:i.XML_ENTITIES;O&&S.setDocumentLocator(O),w.errorHandler=c(I,S,O),w.domBuilder=g.domBuilder||S,$&&(U[""]=r.HTML),U.xml=U.xml||r.XML;var P=g.normalizeLineEndings||l;return x&&typeof x=="string"?w.parse(P(x),U,k):w.errorHandler.error("invalid doc source"),S.doc};function c(x,C,g){if(!x){if(C instanceof h)return C;x=C}var w={},S=x instanceof Function;g=g||{};function I(O){var U=x[O];!U&&S&&(U=x.length==2?function($){x(O,$)}:x),w[O]=U&&function($){U("[xmldom "+O+"]	"+$+f(g))}||function(){}}return I("warning"),I("error"),I("fatalError"),w}function h(){this.cdata=!1}function A(x,C){C.lineNumber=x.lineNumber,C.columnNumber=x.columnNumber}h.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(x,C,g,w){var S=this.doc,I=S.createElementNS(x,g||C),O=w.length;p(this,I),this.currentElement=I,this.locator&&A(this.locator,I);for(var U=0;U<O;U++){var x=w.getURI(U),$=w.getValue(U),g=w.getQName(U),k=S.createAttributeNS(x,g);this.locator&&A(w.getLocator(U),k),k.value=k.nodeValue=$,I.setAttributeNode(k)}},endElement:function(x,C,g){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(x,C){},endPrefixMapping:function(x){},processingInstruction:function(x,C){var g=this.doc.createProcessingInstruction(x,C);this.locator&&A(this.locator,g),p(this,g)},ignorableWhitespace:function(x,C,g){},characters:function(x,C,g){if(x=m.apply(this,arguments),x){if(this.cdata)var w=this.doc.createCDATASection(x);else var w=this.doc.createTextNode(x);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(x)&&this.doc.appendChild(w),this.locator&&A(this.locator,w)}},skippedEntity:function(x){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(x){(this.locator=x)&&(x.lineNumber=0)},comment:function(x,C,g){x=m.apply(this,arguments);var w=this.doc.createComment(x);this.locator&&A(this.locator,w),p(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(x,C,g){var w=this.doc.implementation;if(w&&w.createDocumentType){var S=w.createDocumentType(x,C,g);this.locator&&A(this.locator,S),p(this,S),this.doc.doctype=S}},warning:function(x){console.warn("[xmldom warning]	"+x,f(this.locator))},error:function(x){console.error("[xmldom error]	"+x,f(this.locator))},fatalError:function(x){throw new o(x,this.locator)}};function f(x){if(x)return"\n@"+(x.systemId||"")+"#[line:"+x.lineNumber+",col:"+x.columnNumber+"]"}function m(x,C,g){return typeof x=="string"?x.substr(C,g):x.length>=C+g||C?new java.lang.String(x,C,g)+"":x}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(x){h.prototype[x]=function(){return null}});function p(x,C){x.currentElement?x.currentElement.appendChild(C):x.doc.appendChild(C)}return Id.__DOMHandler=h,Id.normalizeLineEndings=l,Id.DOMParser=u,Id}var Ux;function rH(){if(Ux)return kd;Ux=1;var t=rI();return kd.DOMImplementation=t.DOMImplementation,kd.XMLSerializer=t.XMLSerializer,kd.DOMParser=sH().DOMParser,kd}var oH=rH();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const Nx=t=>!!t&&typeof t=="object",In=(...t)=>t.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(s=>{Array.isArray(e[s])&&Array.isArray(i[s])?e[s]=e[s].concat(i[s]):Nx(e[s])&&Nx(i[s])?e[s]=In(e[s],i[s]):e[s]=i[s]}),e),{}),oI=t=>Object.keys(t).map(e=>t[e]),aH=(t,e)=>{const i=[];for(let s=t;s<e;s++)i.push(s);return i},Rc=t=>t.reduce((e,i)=>e.concat(i),[]),aI=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e},lH=(t,e)=>t.reduce((i,s,n)=>(s[e]&&i.push(n),i),[]),uH=(t,e)=>oI(t.reduce((i,s)=>(s.forEach(n=>{i[e(n)]=n}),i),{}));var Mc={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const LA=({baseUrl:t="",source:e="",range:i="",indexRange:s=""})=>{const n={uri:e,resolvedUri:L0(t||"",e)};if(i||s){const o=(i||s).split("-");let a=be.BigInt?be.BigInt(o[0]):parseInt(o[0],10),l=be.BigInt?be.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=be.BigInt(l)-be.BigInt(a)+be.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),n.byterange={length:u,offset:a}}return n},cH=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=be.BigInt(t.offset)+be.BigInt(t.length)-be.BigInt(1):e=t.offset+t.length-1,"".concat(t.offset,"-").concat(e)},Hx=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),dH={static(t){const{duration:e,timescale:i=1,sourceDuration:s,periodDuration:n}=t,r=Hx(t.endNumber),o=e/i;return typeof r=="number"?{start:0,end:r}:typeof n=="number"?{start:0,end:n/o}:{start:0,end:s/o}},dynamic(t){const{NOW:e,clientOffset:i,availabilityStartTime:s,timescale:n=1,duration:r,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,u=Hx(t.endNumber),c=(e+i)/1e3,h=s+o,f=c+a-h,m=Math.ceil(f*n/r),p=Math.floor((c-h-l)*n/r),x=Math.floor((c-h)*n/r);return{start:Math.max(0,p),end:typeof u=="number"?u:Math.min(m,x)}}},hH=t=>e=>{const{duration:i,timescale:s=1,periodStart:n,startNumber:r=1}=t;return{number:r+e,duration:i/s,timeline:n,time:e*i}},LC=t=>{const{type:e,duration:i,timescale:s=1,periodDuration:n,sourceDuration:r}=t,{start:o,end:a}=dH[e](t),l=aH(o,a).map(hH(t));if(e==="static"){const u=l.length-1,c=typeof n=="number"?n:r;l[u].duration=c-i/s*u}return l},lI=t=>{const{baseUrl:e,initialization:i={},sourceDuration:s,indexRange:n="",periodStart:r,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(Mc.NO_BASE_URL);const u=LA({baseUrl:e,source:i.sourceURL,range:i.range}),c=LA({baseUrl:e,source:e,indexRange:n});if(c.map=u,l){const h=LC(t);h.length&&(c.duration=h[0].duration,c.timeline=h[0].timeline)}else s&&(c.duration=s,c.timeline=r);return c.presentationTime=o||r,c.number=a,[c]},RC=(t,e,i)=>{const s=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,r=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter(x=>x.referenceType!==1),c=[],h=t.endList?"static":"dynamic",A=t.sidx.timeline;let f=A,m=t.mediaSequence||0,p;typeof e.firstOffset=="bigint"?p=be.BigInt(a)+e.firstOffset:p=a+e.firstOffset;for(let x=0;x<u.length;x++){const C=e.references[x],g=C.referencedSize,w=C.subsegmentDuration;let S;typeof p=="bigint"?S=p+be.BigInt(g)-be.BigInt(1):S=p+g-1;const I="".concat(p,"-").concat(S),U=lI({baseUrl:i,timescale:l,timeline:r,periodStart:A,presentationTime:f,number:m,duration:w,sourceDuration:n,indexRange:I,type:h})[0];s&&(U.map=s),c.push(U),typeof p=="bigint"?p+=be.BigInt(g):p+=g,f+=w/l,m++}return t.segments=c,t},AH=["AUDIO","SUBTITLES"],fH=1/60,uI=t=>uH(t,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),pH=(t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null},Qx=t=>{let e=[];return tH(t,AH,(i,s,n,r)=>{e=e.concat(i.playlists||[])}),e},Vx=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((i,s)=>{i.number=t.mediaSequence+s})},gH=({oldPlaylists:t,newPlaylists:e,timelineStarts:i})=>{e.forEach(s=>{s.discontinuitySequence=i.findIndex(function({timeline:l}){return l===s.timeline});const n=pH(t,s.attributes.NAME);if(!n||s.sidx)return;const r=s.segments[0],o=n.segments.findIndex(function(l){return Math.abs(l.presentationTime-r.presentationTime)<fH});if(o===-1){Vx({playlist:s,mediaSequence:n.mediaSequence+n.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!n.segments.length&&s.timeline>n.timeline||n.segments.length&&s.timeline>n.segments[n.segments.length-1].timeline)&&s.discontinuitySequence--;return}n.segments[o].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),Vx({playlist:s,mediaSequence:n.segments[o].number})})},mH=({oldManifest:t,newManifest:e})=>{const i=t.playlists.concat(Qx(t)),s=e.playlists.concat(Qx(e));return e.timelineStarts=uI([t.timelineStarts,e.timelineStarts]),gH({oldPlaylists:i,newPlaylists:s,timelineStarts:e.timelineStarts}),e},M0=t=>t&&t.uri+"-"+cH(t.byterange),Kv=t=>{const e=t.reduce(function(s,n){return s[n.attributes.baseUrl]||(s[n.attributes.baseUrl]=[]),s[n.attributes.baseUrl].push(n),s},{});let i=[];return Object.values(e).forEach(s=>{const n=oI(s.reduce((r,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return r[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),r[a].segments.push(...o.segments)),o.attributes.contentProtection&&(r[a].attributes.contentProtection=o.attributes.contentProtection)):(r[a]=o,r[a].attributes.timelineStarts=[]),r[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),r},{}));i=i.concat(n)}),i.map(s=>(s.discontinuityStarts=lH(s.segments||[],"discontinuity"),s))},MC=(t,e)=>{const i=M0(t.sidx),s=i&&e[i]&&e[i].sidx;return s&&RC(t,s,t.sidx.resolvedUri),t},bH=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=MC(t[i],e);return t},vH=({attributes:t,segments:e,sidx:i,mediaSequence:s,discontinuitySequence:n,discontinuityStarts:r},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:n,discontinuityStarts:r,timelineStarts:t.timelineStarts,mediaSequence:s,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),i&&(a.sidx=i),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},yH=({attributes:t,segments:e,mediaSequence:i,discontinuityStarts:s,discontinuitySequence:n})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const r={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(r.CODECS=t.codecs);const o={attributes:r,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:s,discontinuitySequence:n,mediaSequence:i,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},wH=(t,e={},i=!1)=>{let s;const n=t.reduce((r,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const h=a?" (".concat(a,")"):"";u="".concat(o.attributes.lang).concat(h)}r[u]||(r[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const c=MC(vH(o,i),e);return r[u].playlists.push(c),typeof s>"u"&&a==="main"&&(s=o,s.default=!0),r},{});if(!s){const r=Object.keys(n)[0];n[r].default=!0}return n},CH=(t,e={})=>t.reduce((i,s)=>{const n=s.attributes.label||s.attributes.lang||"text",r=s.attributes.lang||"und";return i[n]||(i[n]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),i[n].playlists.push(MC(yH(s),e)),i},{}),EH=t=>t.reduce((e,i)=>(i&&i.forEach(s=>{const{channel:n,language:r}=s;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},s.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=s.aspectRatio),s.hasOwnProperty("easyReader")&&(e[r].easyReader=s.easyReader),s.hasOwnProperty("3D")&&(e[r]["3D"]=s["3D"])}),e),{}),xH=({attributes:t,segments:e,sidx:i,discontinuityStarts:s})=>{const n={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:s,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(n.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(n.contentProtection=t.contentProtection),t.serviceLocation&&(n.attributes.serviceLocation=t.serviceLocation),i&&(n.sidx=i),n},TH=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",_H=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",SH=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",BH=(t,e)=>{t.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:s}){return s===i.timeline}),i.segments&&i.segments.forEach((s,n)=>{s.number=n})})},$x=t=>t?Object.keys(t).reduce((e,i)=>{const s=t[i];return e.concat(s.playlists)},[]):[],kH=({dashPlaylists:t,locations:e,contentSteering:i,sidxMapping:s={},previousManifest:n,eventStream:r})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=Kv(t.filter(TH)).map(xH),h=Kv(t.filter(_H)),A=Kv(t.filter(SH)),f=t.map(S=>S.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:bH(c,s)};u>=0&&(m.minimumUpdatePeriod=u*1e3),e&&(m.locations=e),i&&(m.contentSteering=i),a==="dynamic"&&(m.suggestedPresentationDelay=l),r&&r.length>0&&(m.eventStream=r);const p=m.playlists.length===0,x=h.length?wH(h,s,p):null,C=A.length?CH(A,s):null,g=c.concat($x(x),$x(C)),w=g.map(({timelineStarts:S})=>S);return m.timelineStarts=uI(w),BH(g,m.timelineStarts),x&&(m.mediaGroups.AUDIO.audio=x),C&&(m.mediaGroups.SUBTITLES.subs=C),f.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=EH(f)),n?mH({oldManifest:n,newManifest:m}):m},IH=(t,e,i)=>{const{NOW:s,clientOffset:n,availabilityStartTime:r,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,u=(s+n)/1e3,c=r+a,A=u+l-c;return Math.ceil((A*o-e)/i)},cI=(t,e)=>{const{type:i,minimumUpdatePeriod:s=0,media:n="",sourceDuration:r,timescale:o=1,startNumber:a=1,periodStart:l}=t,u=[];let c=-1;for(let h=0;h<e.length;h++){const A=e[h],f=A.d,m=A.r||0,p=A.t||0;c<0&&(c=p),p&&p>c&&(c=p);let x;if(m<0){const w=h+1;w===e.length?i==="dynamic"&&s>0&&n.indexOf("$Number$")>0?x=IH(t,c,f):x=(r*o-c)/f:x=(e[w].t-c)/f}else x=m+1;const C=a+u.length+x;let g=a+u.length;for(;g<C;)u.push({number:g,duration:f/o,time:c,timeline:l}),c+=f,g++}return u},DH=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,FH=t=>(e,i,s,n)=>{if(e==="$$")return"$";if(typeof t[i]>"u")return e;const r=""+t[i];return i==="RepresentationID"||(s?n=parseInt(n,10):n=1,r.length>=n)?r:"".concat(new Array(n-r.length+1).join("0")).concat(r)},jx=(t,e)=>t.replace(DH,FH(e)),PH=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?LC(t):cI(t,e),LH=(t,e)=>{const i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:s={sourceURL:"",range:""}}=t,n=LA({baseUrl:t.baseUrl,source:jx(s.sourceURL,i),range:s.range});return PH(t,e).map(o=>{i.Number=o.number,i.Time=o.time;const a=jx(t.media||"",i),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(o.time-u)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:L0(t.baseUrl||"",a),map:n,number:o.number,presentationTime:c}})},RH=(t,e)=>{const{baseUrl:i,initialization:s={}}=t,n=LA({baseUrl:i,source:s.sourceURL,range:s.range}),r=LA({baseUrl:i,source:e.media,range:e.mediaRange});return r.map=n,r},MH=(t,e)=>{const{duration:i,segmentUrls:s=[],periodStart:n}=t;if(!i&&!e||i&&e)throw new Error(Mc.SEGMENT_TIME_UNSPECIFIED);const r=s.map(l=>RH(t,l));let o;return i&&(o=LC(t)),e&&(o=cI(t,e)),o.map((l,u)=>{if(r[u]){const c=r[u],h=t.timescale||1,A=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=n+(l.time-A)/h,c}}).filter(l=>l)},OH=({attributes:t,segmentInfo:e})=>{let i,s;e.template?(s=LH,i=In(t,e.template)):e.base?(s=lI,i=In(t,e.base)):e.list&&(s=MH,i=In(t,e.list));const n={attributes:t};if(!s)return n;const r=s(i,e.segmentTimeline);if(i.duration){const{duration:o,timescale:a=1}=i;i.duration=o/a}else r.length?i.duration=r.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):i.duration=0;return n.attributes=i,n.segments=r,e.base&&i.indexRange&&(n.sidx=r[0],n.segments=[]),n},UH=t=>t.map(OH),ji=(t,e)=>aI(t.childNodes).filter(({tagName:i})=>i===e),of=t=>t.textContent.trim(),NH=t=>parseFloat(t.split("/").reduce((e,i)=>e/i)),Ru=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,u,c,h,A,f]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(h||0)*3600+parseFloat(A||0)*60+parseFloat(f||0)},HH=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),zx={mediaPresentationDuration(t){return Ru(t)},availabilityStartTime(t){return HH(t)/1e3},minimumUpdatePeriod(t){return Ru(t)},suggestedPresentationDelay(t){return Ru(t)},type(t){return t},timeShiftBufferDepth(t){return Ru(t)},start(t){return Ru(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return NH(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Ru(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},gn=t=>t&&t.attributes?aI(t.attributes).reduce((e,i)=>{const s=zx[i.name]||zx.DEFAULT;return e[i.name]=s(i.value),e},{}):{},QH={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},O0=(t,e)=>e.length?Rc(t.map(function(i){return e.map(function(s){const n=of(s),r=L0(i.baseUrl,n),o=In(gn(s),{baseUrl:r});return r!==n&&!o.serviceLocation&&i.serviceLocation&&(o.serviceLocation=i.serviceLocation),o})})):t,OC=t=>{const e=ji(t,"SegmentTemplate")[0],i=ji(t,"SegmentList")[0],s=i&&ji(i,"SegmentURL").map(h=>In({tag:"SegmentURL"},gn(h))),n=ji(t,"SegmentBase")[0],r=i||e,o=r&&ji(r,"SegmentTimeline")[0],a=i||n||e,l=a&&ji(a,"Initialization")[0],u=e&&gn(e);u&&l?u.initialization=l&&gn(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:o&&ji(o,"S").map(h=>gn(h)),list:i&&In(gn(i),{segmentUrls:s,initialization:gn(l)}),base:n&&In(gn(n),{initialization:gn(l)})};return Object.keys(c).forEach(h=>{c[h]||delete c[h]}),c},VH=(t,e,i)=>s=>{const n=ji(s,"BaseURL"),r=O0(e,n),o=In(t,gn(s)),a=OC(s);return r.map(l=>({segmentInfo:In(i,a),attributes:In(o,l)}))},$H=t=>t.reduce((e,i)=>{const s=gn(i);s.schemeIdUri&&(s.schemeIdUri=s.schemeIdUri.toLowerCase());const n=QH[s.schemeIdUri];if(n){e[n]={attributes:s};const r=ji(i,"cenc:pssh")[0];if(r){const o=of(r);e[n].pssh=o&&Zk(o)}}return e},{}),jH=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{let s,n;return n=i,/^CC\d=/.test(i)?[s,n]=i.split("="):/^CC\d$/.test(i)&&(s=i),{channel:s,language:n}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{const s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[n,r=""]=i.split("=");s.channel=n,s.language=i,r.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?s.language=l:a==="er"?s.easyReader=Number(l):a==="war"?s.aspectRatio=Number(l):a==="3D"&&(s["3D"]=Number(l))})}else s.language=i;return s.channel&&(s.channel="SERVICE"+s.channel),s})},zH=t=>Rc(ji(t.node,"EventStream").map(e=>{const i=gn(e),s=i.schemeIdUri;return ji(e,"Event").map(n=>{const r=gn(n),o=r.presentationTime||0,a=i.timescale||1,l=r.duration||0,u=o/a+t.attributes.start;return{schemeIdUri:s,value:i.value,id:r.id,start:u,end:u+l/a,messageData:of(n)||r.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),KH=(t,e,i)=>s=>{const n=gn(s),r=O0(e,ji(s,"BaseURL")),o=ji(s,"Role")[0],a={role:gn(o)};let l=In(t,n,a);const u=ji(s,"Accessibility")[0],c=jH(gn(u));c&&(l=In(l,{captionServices:c}));const h=ji(s,"Label")[0];if(h&&h.childNodes.length){const x=h.childNodes[0].nodeValue.trim();l=In(l,{label:x})}const A=$H(ji(s,"ContentProtection"));Object.keys(A).length&&(l=In(l,{contentProtection:A}));const f=OC(s),m=ji(s,"Representation"),p=In(i,f);return Rc(m.map(VH(l,r,p)))},GH=(t,e)=>(i,s)=>{const n=O0(e,ji(i.node,"BaseURL")),r=In(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(r.periodDuration=i.attributes.duration);const o=ji(i.node,"AdaptationSet"),a=OC(i.node);return Rc(o.map(KH(r,n,a)))},qH=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const i=In({serverURL:of(t[0])},gn(t[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},WH=({attributes:t,priorPeriodAttributes:e,mpdType:i})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,YH=(t,e={})=>{const{manifestUri:i="",NOW:s=Date.now(),clientOffset:n=0,eventHandler:r=function(){}}=e,o=ji(t,"Period");if(!o.length)throw new Error(Mc.INVALID_NUMBER_OF_PERIOD);const a=ji(t,"Location"),l=gn(t),u=O0([{baseUrl:i}],ji(t,"BaseURL")),c=ji(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=s,l.clientOffset=n,a.length&&(l.locations=a.map(of));const h=[];return o.forEach((A,f)=>{const m=gn(A),p=h[f-1];m.start=WH({attributes:m,priorPeriodAttributes:p?p.attributes:null,mpdType:l.type}),h.push({node:A,attributes:m})}),{locations:l.locations,contentSteeringInfo:qH(c,r),representationInfo:Rc(h.map(GH(l,u))),eventStream:Rc(h.map(zH))}},dI=t=>{if(t==="")throw new Error(Mc.DASH_EMPTY_MANIFEST);const e=new oH.DOMParser;let i,s;try{i=e.parseFromString(t,"application/xml"),s=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!s||s&&s.getElementsByTagName("parsererror").length>0)throw new Error(Mc.DASH_INVALID_XML);return s},XH=t=>{const e=ji(t,"UTCTiming")[0];if(!e)return null;const i=gn(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Mc.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},JH=(t,e={})=>{const i=YH(dI(t),e),s=UH(i.representationInfo);return kH({dashPlaylists:s,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},ZH=t=>XH(dI(t));var Gv,Kx;function eQ(){if(Kx)return Gv;Kx=1;var t=Math.pow(2,32),e=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),n;return s.getBigUint64?(n=s.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):s.getUint32(0)*t+s.getUint32(4)};return Gv={getUint64:e,MAX_UINT32:t},Gv}var qv,Gx;function tQ(){if(Gx)return qv;Gx=1;var t=eQ().getUint64,e=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),n={version:i[0],flags:new Uint8Array(i.subarray(1,4)),references:[],referenceId:s.getUint32(4),timescale:s.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=s.getUint32(r),n.firstOffset=s.getUint32(r+4),r+=8):(n.earliestPresentationTime=t(i.subarray(r)),n.firstOffset=t(i.subarray(r+8)),r+=16),r+=2;var o=s.getUint16(r);for(r+=2;o>0;r+=12,o--)n.references.push({referenceType:(i[r]&128)>>>7,referencedSize:s.getUint32(r)&2147483647,subsegmentDuration:s.getUint32(r+4),startsWithSap:!!(i[r+8]&128),sapType:(i[r+8]&112)>>>4,sapDeltaTime:s.getUint32(r+8)&268435455});return n};return qv=e,qv}var iQ=tQ();const nQ=nr(iQ);var sQ=xt([73,68,51]),rQ=function(e,i){i===void 0&&(i=0),e=xt(e);var s=e[i+5],n=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],r=(s&16)>>4;return r?n+20:n+10},Ph=function t(e,i){return i===void 0&&(i=0),e=xt(e),e.length-i<10||!$i(e,sQ,{offset:i})?i:(i+=rQ(e,i),t(e,i))},qx=function(e){return typeof e=="string"?sI(e):e},oQ=function(e){return Array.isArray(e)?e.map(function(i){return qx(i)}):[qx(e)]},aQ=function t(e,i,s){s===void 0&&(s=!1),i=oQ(i),e=xt(e);var n=[];if(!i.length)return n;for(var r=0;r<e.length;){var o=(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0,a=e.subarray(r+4,r+8);if(o===0)break;var l=r+o;if(l>e.length){if(s)break;l=e.length}var u=e.subarray(r+8,l);$i(a,i[0])&&(i.length===1?n.push(u):n.push.apply(n,t(u,i.slice(1),s))),r=l}return n},Cp={EBML:xt([26,69,223,163]),DocType:xt([66,130]),Segment:xt([24,83,128,103]),SegmentInfo:xt([21,73,169,102]),Tracks:xt([22,84,174,107]),Track:xt([174]),TrackNumber:xt([215]),DefaultDuration:xt([35,227,131]),TrackEntry:xt([174]),TrackType:xt([131]),FlagDefault:xt([136]),CodecID:xt([134]),CodecPrivate:xt([99,162]),VideoTrack:xt([224]),AudioTrack:xt([225]),Cluster:xt([31,67,182,117]),Timestamp:xt([231]),TimestampScale:xt([42,215,177]),BlockGroup:xt([160]),BlockDuration:xt([155]),Block:xt([161]),SimpleBlock:xt([163])},O1=[128,64,32,16,8,4,2,1],lQ=function(e){for(var i=1,s=0;s<O1.length&&!(e&O1[s]);s++)i++;return i},Tm=function(e,i,s,n){s===void 0&&(s=!0),n===void 0&&(n=!1);var r=lQ(e[i]),o=e.subarray(i,i+r);return s&&(o=Array.prototype.slice.call(e,i,i+r),o[0]^=O1[r-1]),{length:r,value:JN(o,{signed:n}),bytes:o}},Wx=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?ZN(e):e},uQ=function(e){return Array.isArray(e)?e.map(function(i){return Wx(i)}):[Wx(e)]},cQ=function t(e,i,s){if(s>=i.length)return i.length;var n=Tm(i,s,!1);if($i(e.bytes,n.bytes))return s;var r=Tm(i,s+n.length);return t(e,i,s+r.length+r.value+n.length)},Yx=function t(e,i){i=uQ(i),e=xt(e);var s=[];if(!i.length)return s;for(var n=0;n<e.length;){var r=Tm(e,n,!1),o=Tm(e,n+r.length),a=n+r.length+o.length;o.value===127&&(o.value=cQ(r,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,u=e.subarray(a,l);$i(i[0],r.bytes)&&(i.length===1?s.push(u):s=s.concat(t(u,i.slice(1))));var c=r.length+o.length+u.length;n+=c}return s},dQ=xt([0,0,0,1]),hQ=xt([0,0,1]),AQ=xt([0,0,3]),fQ=function(e){for(var i=[],s=1;s<e.length-2;)$i(e.subarray(s,s+3),AQ)&&(i.push(s+2),s++),s++;if(i.length===0)return e;var n=e.length-i.length,r=new Uint8Array(n),o=0;for(s=0;s<n;o++,s++)o===i[0]&&(o++,i.shift()),r[s]=e[o];return r},hI=function(e,i,s,n){e=xt(e),s=[].concat(s);for(var r=0,o,a=0;r<e.length&&(a<n||o);){var l=void 0;if($i(e.subarray(r),dQ)?l=4:$i(e.subarray(r),hQ)&&(l=3),!l){r++;continue}if(a++,o)return fQ(e.subarray(o,r));var u=void 0;i==="h264"?u=e[r+l]&31:i==="h265"&&(u=e[r+l]>>1&63),s.indexOf(u)!==-1&&(o=r+l),r+=l+(i==="h264"?1:2)}return e.subarray(0,0)},pQ=function(e,i,s){return hI(e,"h264",i,s)},gQ=function(e,i,s){return hI(e,"h265",i,s)},os={webm:xt([119,101,98,109]),matroska:xt([109,97,116,114,111,115,107,97]),flac:xt([102,76,97,67]),ogg:xt([79,103,103,83]),ac3:xt([11,119]),riff:xt([82,73,70,70]),avi:xt([65,86,73]),wav:xt([87,65,86,69]),"3gp":xt([102,116,121,112,51,103]),mp4:xt([102,116,121,112]),fmp4:xt([115,116,121,112]),mov:xt([102,116,121,112,113,116]),moov:xt([109,111,111,118]),moof:xt([109,111,111,102])},Oc={aac:function(e){var i=Ph(e);return $i(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Ph(e);return $i(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=Yx(e,[Cp.EBML,Cp.DocType])[0];return $i(i,os.webm)},mkv:function(e){var i=Yx(e,[Cp.EBML,Cp.DocType])[0];return $i(i,os.matroska)},mp4:function(e){if(Oc["3gp"](e)||Oc.mov(e))return!1;if($i(e,os.mp4,{offset:4})||$i(e,os.fmp4,{offset:4})||$i(e,os.moof,{offset:4})||$i(e,os.moov,{offset:4}))return!0},mov:function(e){return $i(e,os.mov,{offset:4})},"3gp":function(e){return $i(e,os["3gp"],{offset:4})},ac3:function(e){var i=Ph(e);return $i(e,os.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Ph(e);return $i(e,os.flac,{offset:i})},ogg:function(e){return $i(e,os.ogg)},avi:function(e){return $i(e,os.riff)&&$i(e,os.avi,{offset:8})},wav:function(e){return $i(e,os.riff)&&$i(e,os.wav,{offset:8})},h264:function(e){return pQ(e,7,3).length},h265:function(e){return gQ(e,[32,33],3).length}},U1=Object.keys(Oc).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);U1.forEach(function(t){var e=Oc[t];Oc[t]=function(i){return e(xt(i))}});var mQ=Oc,UC=function(e){e=xt(e);for(var i=0;i<U1.length;i++){var s=U1[i];if(mQ[s](e))return s}return""},bQ=function(e){return aQ(e,["moof"]).length>0},Wv,Xx;function vQ(){if(Xx)return Wv;Xx=1;var t=9e4,e,i,s,n,r,o,a;return e=function(l){return l*t},i=function(l,u){return l*u},s=function(l){return l/t},n=function(l,u){return l/u},r=function(l,u){return e(n(l,u))},o=function(l,u){return i(s(l),u)},a=function(l,u,c){return s(c?l:l-u)},Wv={ONE_SECOND_IN_TS:t,secondsToVideoTs:e,secondsToAudioTs:i,videoTsToSeconds:s,audioTsToSeconds:n,audioTsToVideoTs:r,videoTsToAudioTs:o,metadataTsToSeconds:a},Wv}var $l=vQ();/**
 * @license
 * Video.js 8.21.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var N1="8.21.0";const zo={},el=function(t,e){return zo[t]=zo[t]||[],e&&(zo[t]=zo[t].concat(e)),zo[t]},yQ=function(t,e){el(t,e)},AI=function(t,e){const i=el(t).indexOf(e);return i<=-1?!1:(zo[t]=zo[t].slice(),zo[t].splice(i,1),!0)},wQ=function(t,e){el(t,[].concat(e).map(i=>{const s=(...n)=>(AI(t,s),i(...n));return s}))},_m={prefixed:!0},pg=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Jx=pg[0];let Lh;for(let t=0;t<pg.length;t++)if(pg[t][1]in st){Lh=pg[t];break}if(Lh){for(let t=0;t<Lh.length;t++)_m[Jx[t]]=Lh[t];_m.prefixed=Lh[0]!==Jx[0]}let Ts=[];const CQ=(t,e,i)=>(s,n,r)=>{const o=e.levels[n],a=new RegExp("^(".concat(o,")$"));let l=t;if(s!=="log"&&r.unshift(s.toUpperCase()+":"),i&&(l="%c".concat(t),r.unshift(i)),r.unshift(l+":"),Ts){Ts.push([].concat(r));const c=Ts.length-1e3;Ts.splice(0,c>0?c:0)}if(!be.console)return;let u=be.console[s];!u&&s==="debug"&&(u=be.console.info||be.console.log),!(!u||!o||!a.test(s))&&u[Array.isArray(r)?"apply":"call"](be.console,r)};function H1(t,e=":",i=""){let s="info",n;function r(...o){n("log",s,o)}return n=CQ(t,r,i),r.createLogger=(o,a,l)=>{const u=a!==void 0?a:e,c=l!==void 0?l:i,h="".concat(t," ").concat(u," ").concat(o);return H1(h,u,c)},r.createNewLogger=(o,a,l)=>H1(o,a,l),r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},r.level=o=>{if(typeof o=="string"){if(!r.levels.hasOwnProperty(o))throw new Error('"'.concat(o,'" in not a valid log level'));s=o}return s},r.history=()=>Ts?[].concat(Ts):[],r.history.filter=o=>(Ts||[]).filter(a=>new RegExp(".*".concat(o,".*")).test(a[0])),r.history.clear=()=>{Ts&&(Ts.length=0)},r.history.disable=()=>{Ts!==null&&(Ts.length=0,Ts=null)},r.history.enable=()=>{Ts===null&&(Ts=[])},r.error=(...o)=>n("error",s,o),r.warn=(...o)=>n("warn",s,o),r.debug=(...o)=>n("debug",s,o),r}const Jt=H1("VIDEOJS"),fI=Jt.createLogger,EQ=Object.prototype.toString,pI=function(t){return Ao(t)?Object.keys(t):[]};function mc(t,e){pI(t).forEach(i=>e(t[i],i))}function gI(t,e,i=0){return pI(t).reduce((s,n)=>e(s,t[n],n),i)}function Ao(t){return!!t&&typeof t=="object"}function Uc(t){return Ao(t)&&EQ.call(t)==="[object Object]"&&t.constructor===Object}function Ei(...t){const e={};return t.forEach(i=>{i&&mc(i,(s,n)=>{if(!Uc(s)){e[n]=s;return}Uc(e[n])||(e[n]={}),e[n]=Ei(e[n],s)})}),e}function mI(t={}){const e=[];for(const i in t)if(t.hasOwnProperty(i)){const s=t[i];e.push(s)}return e}function U0(t,e,i,s=!0){const n=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),r={configurable:!0,enumerable:!0,get(){const o=i();return n(o),o}};return s&&(r.set=n),Object.defineProperty(t,e,r)}var xQ=Object.freeze({__proto__:null,each:mc,reduce:gI,isObject:Ao,isPlain:Uc,merge:Ei,values:mI,defineLazyProperty:U0});let NC=!1,bI=null,Nr=!1,vI,yI=!1,bc=!1,vc=!1,fo=!1,HC=null,N0=null;const TQ=!!(be.cast&&be.cast.framework&&be.cast.framework.CastReceiverContext);let wI=null,Sm=!1,H0=!1,Bm=!1,Q0=!1,km=!1,Im=!1,Dm=!1;const RA=!!(Jc()&&("ontouchstart"in be||be.navigator.maxTouchPoints||be.DocumentTouch&&be.document instanceof be.DocumentTouch)),wa=be.navigator&&be.navigator.userAgentData;wa&&wa.platform&&wa.brands&&(Nr=wa.platform==="Android",bc=!!wa.brands.find(t=>t.brand==="Microsoft Edge"),vc=!!wa.brands.find(t=>t.brand==="Chromium"),fo=!bc&&vc,HC=N0=(wa.brands.find(t=>t.brand==="Chromium")||{}).version||null,H0=wa.platform==="Windows");if(!vc){const t=be.navigator&&be.navigator.userAgent||"";NC=/iPod/i.test(t),bI=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Nr=/Android/i.test(t),vI=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),s=e[2]&&parseFloat(e[2]);return i&&s?parseFloat(e[1]+"."+e[2]):i||null}(),yI=/Firefox/i.test(t),bc=/Edg/i.test(t),vc=/Chrome/i.test(t)||/CriOS/i.test(t),fo=!bc&&vc,HC=N0=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),wI=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(i=11),i}(),km=/Tizen/i.test(t),Im=/Web0S/i.test(t),Dm=km||Im,Sm=/Safari/i.test(t)&&!fo&&!Nr&&!bc&&!Dm,H0=/Windows/i.test(t),Bm=/iPad/i.test(t)||Sm&&RA&&!/iPhone/i.test(t),Q0=/iPhone/i.test(t)&&!Bm}const Jn=Q0||Bm||NC,V0=(Sm||Jn)&&!fo;var CI=Object.freeze({__proto__:null,get IS_IPOD(){return NC},get IOS_VERSION(){return bI},get IS_ANDROID(){return Nr},get ANDROID_VERSION(){return vI},get IS_FIREFOX(){return yI},get IS_EDGE(){return bc},get IS_CHROMIUM(){return vc},get IS_CHROME(){return fo},get CHROMIUM_VERSION(){return HC},get CHROME_VERSION(){return N0},IS_CHROMECAST_RECEIVER:TQ,get IE_VERSION(){return wI},get IS_SAFARI(){return Sm},get IS_WINDOWS(){return H0},get IS_IPAD(){return Bm},get IS_IPHONE(){return Q0},get IS_TIZEN(){return km},get IS_WEBOS(){return Im},get IS_SMART_TV(){return Dm},TOUCH_ENABLED:RA,IS_IOS:Jn,IS_ANY_SAFARI:V0});function Zx(t){return typeof t=="string"&&!!t.trim()}function _Q(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Jc(){return st===be.document}function Zc(t){return Ao(t)&&t.nodeType===1}function EI(){try{return be.parent!==be.self}catch{return!0}}function xI(t){return function(e,i){if(!Zx(e))return st[t](null);Zx(i)&&(i=st.querySelector(i));const s=Zc(i)?i:st;return s[t]&&s[t](e)}}function kt(t="div",e={},i={},s){const n=st.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(r){const o=e[r];r==="textContent"?al(n,o):(n[r]!==o||r==="tabIndex")&&(n[r]=o)}),Object.getOwnPropertyNames(i).forEach(function(r){n.setAttribute(r,i[r])}),s&&QC(n,s),n}function al(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Q1(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function uA(t,e){return _Q(e),t.classList.contains(e)}function Xl(t,...e){return t.classList.add(...e.reduce((i,s)=>i.concat(s.split(/\s+/)),[])),t}function $0(t,...e){return t?(t.classList.remove(...e.reduce((i,s)=>i.concat(s.split(/\s+/)),[])),t):(Jt.warn("removeClass was called with an element that doesn't exist"),null)}function TI(t,e,i){return typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(s=>t.classList.toggle(s,i)),t}function _I(t,e){Object.getOwnPropertyNames(e).forEach(function(i){const s=e[i];s===null||typeof s>"u"||s===!1?t.removeAttribute(i):t.setAttribute(i,s===!0?"":s)})}function La(t){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const s=t.attributes;for(let n=s.length-1;n>=0;n--){const r=s[n].name;let o=s[n].value;i.includes(r)&&(o=o!==null),e[r]=o}}return e}function SI(t,e){return t.getAttribute(e)}function Nc(t,e,i){t.setAttribute(e,i)}function j0(t,e){t.removeAttribute(e)}function BI(){st.body.focus(),st.onselectstart=function(){return!1}}function kI(){st.onselectstart=function(){return!0}}function Hc(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(s=>{e[s]!==void 0&&(i[s]=e[s])}),i.height||(i.height=parseFloat(Qc(t,"height"))),i.width||(i.width=parseFloat(Qc(t,"width"))),i}}function MA(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,i=t.offsetHeight;let s=0,n=0;for(;t.offsetParent&&t!==st[_m.fullscreenElement];)s+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:s,top:n,width:e,height:i}}function z0(t,e){const i={x:0,y:0};if(Jn){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const h=Qc(c,"transform");if(/^matrix/.test(h)){const A=h.slice(7,-1).split(/,\s/).map(Number);i.x+=A[4],i.y+=A[5]}else if(/^matrix3d/.test(h)){const A=h.slice(9,-1).split(/,\s/).map(Number);i.x+=A[12],i.y+=A[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&be.WebKitCSSMatrix){const A=be.getComputedStyle(c.assignedSlot.parentElement).transform,f=new be.WebKitCSSMatrix(A);i.x+=f.m41,i.y+=f.m42}c=c.parentNode||c.host}}const s={},n=MA(e.target),r=MA(t),o=r.width,a=r.height;let l=e.offsetY-(r.top-n.top),u=e.offsetX-(r.left-n.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,l=e.changedTouches[0].pageY+r.top,Jn&&(u-=i.x,l-=i.y)),s.y=1-Math.max(0,Math.min(1,l/a)),s.x=Math.max(0,Math.min(1,u/o)),s}function II(t){return Ao(t)&&t.nodeType===3}function K0(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function DI(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Zc(e)||II(e))return e;if(typeof e=="string"&&/\S/.test(e))return st.createTextNode(e)}).filter(e=>e)}function QC(t,e){return DI(e).forEach(i=>t.appendChild(i)),t}function FI(t,e){return QC(K0(t),e)}function OA(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const tl=xI("querySelector"),PI=xI("querySelectorAll");function Qc(t,e){if(!t||!e)return"";if(typeof be.getComputedStyle=="function"){let i;try{i=be.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function LI(t){[...st.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(n=>n.cssText).join(""),s=st.createElement("style");s.textContent=i,t.document.head.appendChild(s)}catch{const s=st.createElement("link");s.rel="stylesheet",s.type=e.type,s.media=e.media.mediaText,s.href=e.href,t.document.head.appendChild(s)}})}var RI=Object.freeze({__proto__:null,isReal:Jc,isEl:Zc,isInFrame:EI,createEl:kt,textContent:al,prependTo:Q1,hasClass:uA,addClass:Xl,removeClass:$0,toggleClass:TI,setAttributes:_I,getAttributes:La,getAttribute:SI,setAttribute:Nc,removeAttribute:j0,blockTextSelection:BI,unblockTextSelection:kI,getBoundingClientRect:Hc,findPosition:MA,getPointerPosition:z0,isTextNode:II,emptyEl:K0,normalizeContent:DI,appendContent:QC,insertContent:FI,isSingleLeftClick:OA,$:tl,$$:PI,computedStyle:Qc,copyStyleSheetsToWindow:LI});let MI=!1,V1;const SQ=function(){if(V1.options.autoSetup===!1)return;const t=Array.prototype.slice.call(st.getElementsByTagName("video")),e=Array.prototype.slice.call(st.getElementsByTagName("audio")),i=Array.prototype.slice.call(st.getElementsByTagName("video-js")),s=t.concat(e,i);if(s&&s.length>0)for(let n=0,r=s.length;n<r;n++){const o=s[n];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&V1(o);else{$1(1);break}}else MI||$1(1)};function $1(t,e){Jc()&&(e&&(V1=e),be.setTimeout(SQ,t))}function j1(){MI=!0,be.removeEventListener("load",j1)}Jc()&&(st.readyState==="complete"?j1():be.addEventListener("load",j1));const OI=function(t){const e=st.createElement("style");return e.className=t,e},UI=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var gs=new WeakMap;const BQ=3;let kQ=BQ;function Er(){return kQ++}function eT(t,e){if(!gs.has(t))return;const i=gs.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&gs.delete(t)}function VC(t,e,i,s){i.forEach(function(n){t(e,n,s)})}function G0(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const s=t||be.event;t={};const n=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const r in s)n.includes(r)||r==="returnValue"&&s.preventDefault||(t[r]=s[r]);if(t.target||(t.target=t.srcElement||st),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){const r=st.documentElement,o=st.body;t.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Ep;const IQ=function(){if(typeof Ep!="boolean"){Ep=!1;try{const t=Object.defineProperty({},"passive",{get(){Ep=!0}});be.addEventListener("test",null,t),be.removeEventListener("test",null,t)}catch{}}return Ep},DQ=["touchstart","touchmove"];function tr(t,e,i){if(Array.isArray(e))return VC(tr,t,e,i);gs.has(t)||gs.set(t,{});const s=gs.get(t);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),i.guid||(i.guid=Er()),s.handlers[e].push(i),s.dispatcher||(s.disabled=!1,s.dispatcher=function(n,r){if(s.disabled)return;n=G0(n);const o=s.handlers[n.type];if(o){const a=o.slice(0);for(let l=0,u=a.length;l<u&&!n.isImmediatePropagationStopped();l++)try{a[l].call(t,n,r)}catch(c){Jt.error(c)}}}),s.handlers[e].length===1)if(t.addEventListener){let n=!1;IQ()&&DQ.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,s.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,s.dispatcher)}function Zn(t,e,i){if(!gs.has(t))return;const s=gs.get(t);if(!s.handlers)return;if(Array.isArray(e))return VC(Zn,t,e,i);const n=function(o,a){s.handlers[a]=[],eT(o,a)};if(e===void 0){for(const o in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},o)&&n(t,o);return}const r=s.handlers[e];if(r){if(!i){n(t,e);return}if(i.guid)for(let o=0;o<r.length;o++)r[o].guid===i.guid&&r.splice(o--,1);eT(t,e)}}function ed(t,e,i){const s=gs.has(t)?gs.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=G0(e),s.dispatcher&&s.dispatcher.call(t,e,i),n&&!e.isPropagationStopped()&&e.bubbles===!0)ed.call(null,n,e,i);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){gs.has(e.target)||gs.set(e.target,{});const r=gs.get(e.target);e.target[e.type]&&(r.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function q0(t,e,i){if(Array.isArray(e))return VC(q0,t,e,i);const s=function(){Zn(t,e,s),i.apply(this,arguments)};s.guid=i.guid=i.guid||Er(),tr(t,e,s)}function $C(t,e,i){const s=function(){Zn(t,e,s),i.apply(this,arguments)};s.guid=i.guid=i.guid||Er(),tr(t,e,s)}var FQ=Object.freeze({__proto__:null,fixEvent:G0,on:tr,off:Zn,trigger:ed,one:q0,any:$C});const xr=30,Di=function(t,e,i){e.guid||(e.guid=Er());const s=e.bind(t);return s.guid=i?i+"_"+e.guid:e.guid,s},po=function(t,e){let i=be.performance.now();return function(...n){const r=be.performance.now();r-i>=e&&(t(...n),i=r)}},NI=function(t,e,i,s=be){let n;const r=()=>{s.clearTimeout(n),n=null},o=function(){const a=this,l=arguments;let u=function(){n=null,u=null,i||t.apply(a,l)};!n&&i&&t.apply(a,l),s.clearTimeout(n),n=s.setTimeout(u,e)};return o.cancel=r,o};var PQ=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:xr,bind_:Di,throttle:po,debounce:NI});let Dd;class ir{on(e,i){const s=this.addEventListener;this.addEventListener=()=>{},tr(this,e,i),this.addEventListener=s}off(e,i){Zn(this,e,i)}one(e,i){const s=this.addEventListener;this.addEventListener=()=>{},q0(this,e,i),this.addEventListener=s}any(e,i){const s=this.addEventListener;this.addEventListener=()=>{},$C(this,e,i),this.addEventListener=s}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=G0(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),ed(this,e)}queueTrigger(e){Dd||(Dd=new Map);const i=e.type||e;let s=Dd.get(this);s||(s=new Map,Dd.set(this,s));const n=s.get(i);s.delete(i),be.clearTimeout(n);const r=be.setTimeout(()=>{s.delete(i),s.size===0&&(s=null,Dd.delete(this)),this.trigger(e)},0);s.set(i,r)}}ir.prototype.allowedEvents_={};ir.prototype.addEventListener=ir.prototype.on;ir.prototype.removeEventListener=ir.prototype.off;ir.prototype.dispatchEvent=ir.prototype.trigger;const W0=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Xo=t=>t instanceof ir||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),LQ=(t,e)=>{Xo(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},z1=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Fm=(t,e,i)=>{if(!t||!t.nodeName&&!Xo(t))throw new Error("Invalid target for ".concat(W0(e),"#").concat(i,"; must be a DOM node or evented object."))},HI=(t,e,i)=>{if(!z1(t))throw new Error("Invalid event type for ".concat(W0(e),"#").concat(i,"; must be a non-empty string or array."))},QI=(t,e,i)=>{if(typeof t!="function")throw new Error("Invalid listener for ".concat(W0(e),"#").concat(i,"; must be a function."))},Yv=(t,e,i)=>{const s=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let n,r,o;return s?(n=t.eventBusEl_,e.length>=3&&e.shift(),[r,o]=e):(n=e[0],r=e[1],o=e[2]),Fm(n,t,i),HI(r,t,i),QI(o,t,i),o=Di(t,o),{isTargetingSelf:s,target:n,type:r,listener:o}},kl=(t,e,i,s)=>{Fm(t,t,e),t.nodeName?FQ[e](t,i,s):t[e](i,s)},RQ={on(...t){const{isTargetingSelf:e,target:i,type:s,listener:n}=Yv(this,t,"on");if(kl(i,"on",s,n),!e){const r=()=>this.off(i,s,n);r.guid=n.guid;const o=()=>this.off("dispose",r);o.guid=n.guid,kl(this,"on","dispose",r),kl(i,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:i,type:s,listener:n}=Yv(this,t,"one");if(e)kl(i,"one",s,n);else{const r=(...o)=>{this.off(i,s,r),n.apply(null,o)};r.guid=n.guid,kl(i,"one",s,r)}},any(...t){const{isTargetingSelf:e,target:i,type:s,listener:n}=Yv(this,t,"any");if(e)kl(i,"any",s,n);else{const r=(...o)=>{this.off(i,s,r),n.apply(null,o)};r.guid=n.guid,kl(i,"any",s,r)}},off(t,e,i){if(!t||z1(t))Zn(this.eventBusEl_,t,e);else{const s=t,n=e;Fm(s,this,"off"),HI(n,this,"off"),QI(i,this,"off"),i=Di(this,i),this.off("dispose",i),s.nodeName?(Zn(s,n,i),Zn(s,"dispose",i)):Xo(s)&&(s.off(n,i),s.off("dispose",i))}},trigger(t,e){Fm(this.eventBusEl_,this,"trigger");const i=t&&typeof t!="string"?t.type:t;if(!z1(i))throw new Error("Invalid event type for ".concat(W0(this),"#trigger; ")+"must be a non-empty string or object with a type key that has a non-empty value.");return ed(this.eventBusEl_,t,e)}};function jC(t,e={}){const{eventBusKey:i}=e;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'.concat(i,'" does not refer to an element.'));t.eventBusEl_=t[i]}else t.eventBusEl_=kt("span",{className:"vjs-event-bus"});return Object.assign(t,RQ),t.eventedCallbacks&&t.eventedCallbacks.forEach(s=>{s()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(s){s&&gs.has(s)&&gs.delete(s)}),be.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const MQ={state:{},setState(t){typeof t=="function"&&(t=t());let e;return mc(t,(i,s)=>{this.state[s]!==i&&(e=e||{},e[s]={from:this.state[s],to:i}),this.state[s]=i}),e&&Xo(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function VI(t,e){return Object.assign(t,MQ),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Xo(t)&&t.on("statechanged",t.handleStateChanged),t}const cA=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},tn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},$I=function(t,e){return tn(t)===tn(e)};var OQ=Object.freeze({__proto__:null,toLowerCase:cA,toTitleCase:tn,titleCaseEquals:$I});class Ge{constructor(e,i,s){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ei({},this.options_),i=this.options_=Ei(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const n=e&&e.id&&e.id()||"no_player";this.id_="".concat(n,"_component_").concat(Er())}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(n=>this.addClass(n)),["on","off","one","any","trigger"].forEach(n=>{this[n]=void 0}),i.evented!==!1&&(jC(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),VI(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(s),i.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Ei(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,s){return kt(e,i,s)}localize(e,i,s=e){const n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[n],a=n&&n.split("-")[0],l=r&&r[a];let u=s;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),i&&(u=u.replace(/\{(\d+)\}/g,function(c,h){const A=i[h-1];let f=A;return typeof A>"u"&&(f=c),f})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((s,n)=>s.concat(n),[]);let i=this;for(let s=0;s<e.length;s++)if(i=i.getChild(e[s]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const s="http://www.w3.org/2000/svg",n=kt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=st.createElementNS(s,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const o=st.createElementNS(s,"use");return r.appendChild(o),o.setAttributeNS(null,"href","#vjs-icon-".concat(e)),n.appendChild(r),this.iconIsSet_?i.replaceChild(n,i.querySelector(".vjs-icon-placeholder")):i.appendChild(n),this.iconIsSet_=!0,n}addChild(e,i={},s=this.children_.length){let n,r;if(typeof e=="string"){r=tn(e);const o=i.componentClass||r;i.name=r;const a=Ge.getComponent(o);if(!a)throw new Error("Component ".concat(o," does not exist"));if(typeof a!="function")return null;n=new a(this.player_||this,i)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(s,0,n),n.parentComponent_=this,typeof n.id=="function"&&(this.childIndex_[n.id()]=n),r=r||n.name&&tn(n.name()),r&&(this.childNameIndex_[r]=n,this.childNameIndex_[cA(r)]=n),typeof n.el=="function"&&n.el()){let o=null;this.children_[s+1]&&(this.children_[s+1].el_?o=this.children_[s+1].el_:Zc(this.children_[s+1])&&(o=this.children_[s+1])),this.contentEl().insertBefore(n.el(),o)}return n}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){i=!0,this.children_.splice(n,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[tn(e.name())]=null,this.childNameIndex_[cA(e.name())]=null;const s=e.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,s=o=>{const a=o.name;let l=o.opts;if(i[a]!==void 0&&(l=i[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let n;const r=Ge.getComponent("Tech");Array.isArray(e)?n=e:n=Object.keys(e),n.concat(Object.keys(this.options_).filter(function(o){return!n.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=Ge.getComponent(o.opts.componentClass||tn(o.name));return a&&!r.isTech(a)}).forEach(s)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return tl(e,i||this.contentEl())}$$(e,i){return PI(e,i||this.contentEl())}hasClass(e){return uA(this.el_,e)}addClass(...e){Xl(this.el_,...e)}removeClass(...e){$0(this.el_,...e)}toggleClass(e,i){TI(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return SI(this.el_,e)}setAttribute(e,i){Nc(this.el_,e,i)}removeAttribute(e){j0(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,s){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;const n=this.el_.style[e],r=n.indexOf("px");return parseInt(r!==-1?n.slice(0,r):this.el_["offset"+tn(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=Qc(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const s="offset".concat(tn(e));i=this.el_[s]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),i={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},s={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:i,center:s}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const s=10,n=200;let r;this.on("touchstart",function(a){a.touches.length===1&&(i={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=be.performance.now(),r=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)r=!1;else if(i){const l=a.touches[0].pageX-i.pageX,u=a.touches[0].pageY-i.pageY;Math.sqrt(l*l+u*u)>s&&(r=!1)}});const o=function(){r=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){i=null,r===!0&&be.performance.now()-e<n&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Di(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const s=function(n){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",s),this.on("touchcancel",s)}setTimeout(e,i){var s;return e=Di(this,e),this.clearTimersOnDispose_(),s=be.setTimeout(()=>{this.setTimeoutIds_.has(s)&&this.setTimeoutIds_.delete(s),e()},i),this.setTimeoutIds_.add(s),s}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),be.clearTimeout(e)),e}setInterval(e,i){e=Di(this,e),this.clearTimersOnDispose_();const s=be.setInterval(e,i);return this.setIntervalIds_.add(s),s}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),be.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=Di(this,e),i=be.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),i=Di(this,i);const s=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,s),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),be.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((s,n)=>this[i](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function i(r){const o=be.getComputedStyle(r,null),a=o.getPropertyValue("visibility");return o.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function s(r){return!(!i(r.parentElement)||!i(r)||r.style.opacity==="0"||be.getComputedStyle(r).height==="0px"||be.getComputedStyle(r).width==="0px")}function n(r){if(r.offsetWidth+r.offsetHeight+r.getBoundingClientRect().height+r.getBoundingClientRect().width===0)return!1;const o={x:r.getBoundingClientRect().left+r.offsetWidth/2,y:r.getBoundingClientRect().top+r.offsetHeight/2};if(o.x<0||o.x>(st.documentElement.clientWidth||be.innerWidth)||o.y<0||o.y>(st.documentElement.clientHeight||be.innerHeight))return!1;let a=st.elementFromPoint(o.x,o.y);for(;a;){if(a===r)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return e||(e=this.el()),!!(n(e)&&s(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error('Illegal component name, "'.concat(e,'"; must be a non-empty string.'));const s=Ge.getComponent("Tech"),n=s&&s.isTech(i),r=Ge===i||Ge.prototype.isPrototypeOf(i.prototype);if(n||!r){let a;throw n?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error('Illegal component, "'.concat(e,'"; ').concat(a,"."))}e=tn(e),Ge.components_||(Ge.components_={});const o=Ge.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(u=>a[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Ge.components_[e]=i,Ge.components_[cA(e)]=i,i}static getComponent(e){if(!(!e||!Ge.components_))return Ge.components_[e]}}Ge.registerComponent("Component",Ge);function UQ(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(e,") is non-numeric or out of bounds (0-").concat(i,")."))}function tT(t,e,i,s){return UQ(t,s,i.length-1),i[s][e]}function Xv(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:tT.bind(null,"start",0,t),end:tT.bind(null,"end",1,t)},be.Symbol&&be.Symbol.iterator&&(e[be.Symbol.iterator]=()=>(t||[]).values()),e}function Or(t,e){return Array.isArray(t)?Xv(t):t===void 0||e===void 0?Xv():Xv([[t,e]])}const jI=function(t,e){t=t<0?0:t;let i=Math.floor(t%60),s=Math.floor(t/60%60),n=Math.floor(t/3600);const r=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=s=i="-"),n=n>0||o>0?n+":":"",s=((n||r>=10)&&s<10?"0"+s:s)+":",i=i<10?"0"+i:i,n+s+i};let zC=jI;function zI(t){zC=t}function KI(){zC=jI}function cu(t,e=t){return zC(t,e)}var NQ=Object.freeze({__proto__:null,createTimeRanges:Or,createTimeRange:Or,setFormatTime:zI,resetFormatTime:KI,formatTime:cu});function GI(t,e){let i=0,s,n;if(!e)return 0;(!t||!t.length)&&(t=Or(0,0));for(let r=0;r<t.length;r++)s=t.start(r),n=t.end(r),n>e&&(n=e),i+=n-s;return i/e}function qi(t){if(t instanceof qi)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Ao(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=qi.defaultMessages[this.code]||"")}qi.prototype.code=0;qi.prototype.message="";qi.prototype.status=null;qi.prototype.metadata=null;qi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];qi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};qi.MEDIA_ERR_CUSTOM=0;qi.prototype.MEDIA_ERR_CUSTOM=0;qi.MEDIA_ERR_ABORTED=1;qi.prototype.MEDIA_ERR_ABORTED=1;qi.MEDIA_ERR_NETWORK=2;qi.prototype.MEDIA_ERR_NETWORK=2;qi.MEDIA_ERR_DECODE=3;qi.prototype.MEDIA_ERR_DECODE=3;qi.MEDIA_ERR_SRC_NOT_SUPPORTED=4;qi.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;qi.MEDIA_ERR_ENCRYPTED=5;qi.prototype.MEDIA_ERR_ENCRYPTED=5;function dA(t){return t!=null&&typeof t.then=="function"}function no(t){dA(t)&&t.then(null,e=>{})}const K1=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,s,n)=>(t[s]&&(i[s]=t[s]),i),{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},HQ=function(t){const e=t.$$("track"),i=Array.prototype.map.call(e,n=>n.track);return Array.prototype.map.call(e,function(n){const r=K1(n.track);return n.src&&(r.src=n.src),r}).concat(Array.prototype.filter.call(t.textTracks(),function(n){return i.indexOf(n)===-1}).map(K1))},QQ=function(t,e){return t.forEach(function(i){const s=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(n=>s.addCue(n))}),e.textTracks()};var iT={textTracksToJson:HQ,jsonToTextTracks:QQ,trackToJson_:K1};const Jv="vjs-modal-dialog";class td extends Ge{constructor(e,i){super(e,i),this.handleKeyDown_=s=>this.handleKeyDown(s),this.close_=s=>this.close(s),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=kt("div",{className:"".concat(Jv,"-content")},{role:"document"}),this.descEl_=kt("p",{className:"".concat(Jv,"-description vjs-control-text"),id:this.el().getAttribute("aria-describedby")}),al(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return"".concat(Jv," vjs-hidden ").concat(super.buildCSSClass())}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let s=this.getChild("closeButton");if(i&&!s){const n=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(s,"close",this.close_)}!i&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),s=i.parentNode,n=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(i),this.empty(),FI(i,e),this.trigger("modalfill"),n?s.insertBefore(i,n):s.appendChild(i);const r=this.getChild("closeButton");r&&s.appendChild(r.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),K0(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=st.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const i=this.focusableEls_(),s=this.el_.querySelector(":focus");let n;for(let r=0;r<i.length;r++)if(s===i[r]){n=r;break}st.activeElement===this.el_&&(n=0),e.shiftKey&&n===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&n===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof be.HTMLAnchorElement||i instanceof be.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof be.HTMLInputElement||i instanceof be.HTMLSelectElement||i instanceof be.HTMLTextAreaElement||i instanceof be.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof be.HTMLIFrameElement||i instanceof be.HTMLObjectElement||i instanceof be.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}td.prototype.options_={pauseOnOpen:!0,temporary:!0};Ge.registerComponent("ModalDialog",td);class Vc extends ir{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Xo(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let s=0,n=this.length;s<n;s++)if(this[s]===e){i=this[s],i.off&&i.off(),this.tracks_.splice(s,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let s=0,n=this.length;s<n;s++){const r=this[s];if(r.id===e){i=r;break}}return i}}Vc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Vc.prototype.allowedEvents_)Vc.prototype["on"+t]=null;const Zv=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)};class VQ extends Vc{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){Zv(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Zv(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Zv(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const ey=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)};class $Q extends Vc{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){ey(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&ey(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,ey(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class qI extends Vc{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class jQ{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,s=e.length;i<s;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let s=0,n=this.trackElements_.length;s<n;s++)if(e===this.trackElements_[s].track){i=this.trackElements_[s];break}return i}removeTrackElement_(e){for(let i=0,s=this.trackElements_.length;i<s;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class Pm{constructor(e){Pm.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let s=0;const n=e.length;this.cues_=e,this.length_=e.length;const r=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(i<n)for(s=i;s<n;s++)r.call(this,s)}getCueById(e){let i=null;for(let s=0,n=this.length;s<n;s++){const r=this[s];if(r.id===e){i=r;break}}return i}}const zQ={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},KQ={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},GQ={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},nT={disabled:"disabled",hidden:"hidden",showing:"showing"};class KC extends ir{constructor(e={}){super();const i={id:e.id||"vjs_track_"+Er(),kind:e.kind||"",language:e.language||""};let s=e.label||"";for(const n in i)Object.defineProperty(this,n,{get(){return i[n]},set(){}});Object.defineProperty(this,"label",{get(){return s},set(n){n!==s&&(s=n,this.trigger("labelchange"))}})}}const GC=function(t){return new URL(t,st.baseURI)},WI=function(t){return new URL(t,st.baseURI).href},qC=function(t){if(typeof t=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},Y0=function(t,e=be.location){return GC(t).origin!==e.origin};var qQ=Object.freeze({__proto__:null,parseUrl:GC,getAbsoluteURL:WI,getFileExtension:qC,isCrossOrigin:Y0});const sT=function(t,e){const i=new be.WebVTT.Parser(be,be.vttjs,be.WebVTT.StringDecoder()),s=[];i.oncue=function(n){e.addCue(n)},i.onparsingerror=function(n){s.push(n)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),s.length>0&&(be.console&&be.console.groupCollapsed&&be.console.groupCollapsed("Text Track parsing errors for ".concat(e.src)),s.forEach(n=>Jt.error(n)),be.console&&be.console.groupEnd&&be.console.groupEnd()),i.flush()},rT=function(t,e){const i={uri:t},s=Y0(t);s&&(i.cors=s);const n=e.tech_.crossOrigin()==="use-credentials";n&&(i.withCredentials=n),Jk(i,Di(this,function(r,o,a){if(r)return Jt.error(r,o);e.loaded_=!0,typeof be.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Jt.error("vttjs failed to load, stopping trying to process ".concat(e.src));return}return sT(a,e)}):sT(a,e)}))};class af extends KC{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=Ei(e,{kind:GQ[e.kind]||"subtitles",language:e.language||e.srclang||""});let s=nT[i.mode]||"disabled";const n=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(s="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const r=new Pm(this.cues_),o=new Pm(this.activeCues_);let a=!1;this.timeupdateHandler=Di(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),s!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return n},set(){}},mode:{get(){return s},set(u){nT[u]&&s!==u&&(s=u,!this.preload_&&s!=="disabled"&&this.cues.length===0&&rT(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),c=[];for(let h=0,A=this.cues.length;h<A;h++){const f=this.cues[h];f.startTime<=u&&f.endTime>=u&&c.push(f)}if(a=!1,c.length!==this.activeCues_.length)a=!0;else for(let h=0;h<c.length;h++)this.activeCues_.indexOf(c[h])===-1&&(a=!0);return this.activeCues_=c,o.setCues_(this.activeCues_),o},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&rT(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(!("getCueAsHTML"in i)){i=new be.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in i||(i[n]=e[n]);i.id=e.id,i.originalCue_=e}const s=this.tech_.textTracks();for(let n=0;n<s.length;n++)s[n]!==this&&s[n].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const s=this.cues_[i];if(s===e||s.originalCue_&&s.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}af.prototype.allowedEvents_={cuechange:"cuechange"};class YI extends KC{constructor(e={}){const i=Ei(e,{kind:KQ[e.kind]||""});super(i);let s=!1;Object.defineProperty(this,"enabled",{get(){return s},set(n){typeof n!="boolean"||n===s||(s=n,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class XI extends KC{constructor(e={}){const i=Ei(e,{kind:zQ[e.kind]||""});super(i);let s=!1;Object.defineProperty(this,"selected",{get(){return s},set(n){typeof n!="boolean"||n===s||(s=n,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class ia extends ir{constructor(e={}){super();let i;const s=new af(e);this.kind=s.kind,this.src=s.src,this.srclang=s.language,this.label=s.label,this.default=s.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return s}}}),i=ia.NONE,s.addEventListener("loadeddata",()=>{i=ia.LOADED,this.trigger({type:"load",target:this})})}}ia.prototype.allowedEvents_={load:"load"};ia.NONE=0;ia.LOADING=1;ia.LOADED=2;ia.ERROR=3;const wr={audio:{ListClass:VQ,TrackClass:YI,capitalName:"Audio"},video:{ListClass:$Q,TrackClass:XI,capitalName:"Video"},text:{ListClass:qI,TrackClass:af,capitalName:"Text"}};Object.keys(wr).forEach(function(t){wr[t].getterName="".concat(t,"Tracks"),wr[t].privateName="".concat(t,"Tracks_")});const $c={remoteText:{ListClass:qI,TrackClass:af,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:jQ,TrackClass:ia,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},fs=Object.assign({},wr,$c);$c.names=Object.keys($c);wr.names=Object.keys(wr);fs.names=[].concat($c.names).concat(wr.names);function WQ(t,e,i,s,n={}){const r=t.textTracks();n.kind=e,i&&(n.label=i),s&&(n.language=s),n.tech=t;const o=new fs.text.TrackClass(n);return r.addTrack(o),o}class Qt extends Ge{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=s=>this.onDurationChange(s),this.trackProgress_=s=>this.trackProgress(s),this.trackCurrentTime_=s=>this.trackCurrentTime(s),this.stopTrackingCurrentTime_=s=>this.stopTrackingCurrentTime(s),this.disposeSourceHandler_=s=>this.disposeSourceHandler(s),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),fs.names.forEach(s=>{const n=fs[s];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(s=>{e["native".concat(s,"Tracks")]===!1&&(this["featuresNative".concat(s,"Tracks")]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new fs.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Di(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Or(0,0)}bufferedPercent(){return GI(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(wr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const s=this["".concat(i,"Tracks")]()||[];let n=s.length;for(;n--;){const r=s[n];i==="text"&&this.removeRemoteTextTrack(r),s.removeTrack(r)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const s=e[i];this.removeRemoteTextTrack(s)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new qi(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Or(0,0):Or()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){wr.names.forEach(e=>{const i=wr[e],s=()=>{this.trigger("".concat(e,"trackchange"))},n=this[i.getterName]();n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),this.on("dispose",()=>{n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s)})})}addWebVttScript_(){if(!be.WebVTT)if(st.body.contains(this.el())){if(!this.options_["vtt.js"]&&Uc(Bx)&&Object.keys(Bx).length>0){this.trigger("vttjsloaded");return}const e=st.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),be.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),s=a=>e.addTrack(a.track),n=a=>e.removeTrack(a.track);i.on("addtrack",s),i.on("removetrack",n),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),o=()=>{r();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",r),l.mode==="showing"&&l.addEventListener("cuechange",r)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){i.off("addtrack",s),i.off("removetrack",n),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",r)})}addTextTrack(e,i,s){if(!e)throw new Error("TextTrack kind is required but was not provided");return WQ(this,e,i,s)}createRemoteTextTrack(e){const i=Ei(e,{tech:this});return new $c.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const s=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(s.track)),s}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=Er();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return Qt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Qt||e instanceof Qt||e===Qt}static registerTech(e,i){if(Qt.techs_||(Qt.techs_={}),!Qt.isTech(i))throw new Error("Tech ".concat(e," must be a Tech"));if(!Qt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Qt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=tn(e),Qt.techs_[e]=i,Qt.techs_[cA(e)]=i,e!=="Tech"&&Qt.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(Qt.techs_&&Qt.techs_[e])return Qt.techs_[e];if(e=tn(e),be&&be.videojs&&be.videojs[e])return Jt.warn("The ".concat(e," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),be.videojs[e]}}}fs.names.forEach(function(t){const e=fs[t];Qt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Qt.prototype.featuresVolumeControl=!0;Qt.prototype.featuresMuteControl=!0;Qt.prototype.featuresFullscreenResize=!1;Qt.prototype.featuresPlaybackRate=!1;Qt.prototype.featuresProgressEvents=!1;Qt.prototype.featuresSourceset=!1;Qt.prototype.featuresTimeupdateEvents=!1;Qt.prototype.featuresNativeTextTracks=!1;Qt.prototype.featuresVideoFrameCallback=!1;Qt.withSourceHandlers=function(t){t.registerSourceHandler=function(i,s){let n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),s===void 0&&(s=n.length),n.splice(s,0,i)},t.canPlayType=function(i){const s=t.sourceHandlers||[];let n;for(let r=0;r<s.length;r++)if(n=s[r].canPlayType(i),n)return n;return""},t.selectSourceHandler=function(i,s){const n=t.sourceHandlers||[];let r;for(let o=0;o<n.length;o++)if(r=n[o].canHandleSource(i,s),r)return n[o];return null},t.canPlaySource=function(i,s){const n=t.selectSourceHandler(i,s);return n?n.canHandleSource(i,s):""},["seekable","seeking","duration"].forEach(function(i){const s=this[i];typeof s=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):s.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){let s=t.selectSourceHandler(i,this.options_);s||(t.nativeSourceHandler?s=t.nativeSourceHandler:Jt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=s.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ge.registerComponent("Tech",Qt);Qt.registerTech("Tech",Qt);Qt.defaultTechOrder_=[];const Jl={},Lm={},Rm={};function YQ(t,e){Jl[t]=Jl[t]||[],Jl[t].push(e)}function XQ(t,e,i){t.setTimeout(()=>Ol(e,Jl[e.type],i,t),1)}function JQ(t,e){t.forEach(i=>i.setTech&&i.setTech(e))}function ZQ(t,e,i){return t.reduceRight(WC(i),e[i]())}function eV(t,e,i,s){return e[i](t.reduce(WC(i),s))}function oT(t,e,i,s=null){const n="call"+tn(i),r=t.reduce(WC(n),s),o=r===Rm,a=o?null:e[i](r);return nV(t,i,a,o),a}const tV={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},iV={setCurrentTime:1,setMuted:1,setVolume:1},aT={play:1,pause:1};function WC(t){return(e,i)=>e===Rm?Rm:i[t]?i[t](e):e}function nV(t,e,i,s){for(let n=t.length-1;n>=0;n--){const r=t[n];r[e]&&r[e](s,i)}}function sV(t){Lm.hasOwnProperty(t.id())&&delete Lm[t.id()]}function rV(t,e){const i=Lm[t.id()];let s=null;if(i==null)return s=e(t),Lm[t.id()]=[[e,s]],s;for(let n=0;n<i.length;n++){const[r,o]=i[n];r===e&&(s=o)}return s===null&&(s=e(t),i.push([e,s])),s}function Ol(t={},e=[],i,s,n=[],r=!1){const[o,...a]=e;if(typeof o=="string")Ol(t,Jl[o],i,s,n,r);else if(o){const l=rV(s,o);if(!l.setSource)return n.push(l),Ol(t,a,i,s,n,r);l.setSource(Object.assign({},t),function(u,c){if(u)return Ol(t,a,i,s,n,r);n.push(l),Ol(c,t.type===c.type?a:Jl[c.type],i,s,n,r)})}else a.length?Ol(t,a,i,s,n,r):r?i(t,n):Ol(t,Jl["*"],i,s,n,!0)}const oV={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Mm=function(t=""){const e=qC(t);return oV[e.toLowerCase()]||""},aV=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const i=t.cache_.sources.filter(n=>n.src===e);if(i.length)return i[0].type;const s=t.$$("source");for(let n=0;n<s.length;n++){const r=s[n];if(r.type&&r.src&&r.src===e)return r.type}return Mm(e)},JI=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(i){i=JI(i),Array.isArray(i)?e=e.concat(i):Ao(i)&&e.push(i)}),t=e}else typeof t=="string"&&t.trim()?t=[lT({src:t})]:Ao(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[lT(t)]:t=[];return t};function lT(t){if(!t.type){const e=Mm(t.src);e&&(t.type=e)}return t}var lV='<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>';const uT=km?10009:Im?461:8,Mu={codes:{play:415,pause:19,ff:417,rw:412,back:uT},names:{415:"play",19:"pause",417:"ff",412:"rw",[uT]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},cT=5;class uV extends ir{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const i=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i.key)){if(this.isPaused_)return;i.preventDefault();const s=i.key.substring(5).toLowerCase();this.move(s)}else if(Mu.isEventKey(i,"play")||Mu.isEventKey(i,"pause")||Mu.isEventKey(i,"ff")||Mu.isEventKey(i,"rw")){i.preventDefault();const s=Mu.getEventName(i);this.performMediaAction_(s)}else Mu.isEventKey(i,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(i.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+cT);break;case"rw":this.userSeek_(this.player_.currentTime()-cT);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const i=e.relatedTarget;let s=null;const n=this.getCurrentComponent(e.target);i&&(s=!!i.closest(".video-js"),i.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!s||!i)&&(n&&n.name()==="CloseButton"?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,i=[];function s(n){for(const r of n)r.hasOwnProperty("el_")&&r.getIsFocusable()&&r.getIsAvailableToBeFocused(r.el())&&i.push(r),r.hasOwnProperty("children_")&&r.children_.length>0&&s(r.children_)}return e.children_.forEach(n=>{if(n.hasOwnProperty("el_"))if(n.getIsFocusable&&n.getIsAvailableToBeFocused&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())){i.push(n);return}else n.hasOwnProperty("children_")&&n.children_.length>0?s(n.children_):n.hasOwnProperty("items")&&n.items.length>0?s(n.items):this.findSuitableDOMChild(n)&&i.push(n);if(n.name_==="ErrorDisplay"&&n.opened_){const r=n.el_.querySelector(".vjs-errors-ok-button-container");r&&r.querySelectorAll("button").forEach((a,l)=>{i.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{const u=a.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},h={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:h}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=i,this.focusableComponents}findSuitableDOMChild(e){function i(s){if(e.getIsFocusable(s)&&e.getIsAvailableToBeFocused(s))return s;for(let n=0;n<s.children.length;n++){const r=s.children[n],o=i(r);if(o)return o}return null}return e.el()?i(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const i=e||document.activeElement;if(this.focusableComponents.length){for(const s of this.focusableComponents)if(s.el()===i)return s}}add(e){const i=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&i.push(e),this.focusableComponents=i,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let i=0;i<this.focusableComponents.length;i++)if(this.focusableComponents[i].name()===e.name()){this.focusableComponents.splice(i,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const i=this.getCurrentComponent();if(!i)return;const s=i.getPositions(),n=this.focusableComponents.filter(o=>o!==i&&this.isInDirection_(s.boundingClientRect,o.getPositions().boundingClientRect,e)),r=this.findBestCandidate_(s.center,n,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:i})}findBestCandidate_(e,i,s){let n=1/0,r=null;for(const o of i){const a=o.getPositions().center,l=this.calculateDistance_(e,a,s);l<n&&(n=l,r=o)}return r}isInDirection_(e,i,s){switch(s){case"right":return i.left>=e.right;case"left":return i.right<=e.left;case"down":return i.top>=e.bottom;case"up":return i.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,i,s){const n=Math.abs(e.x-i.x),r=Math.abs(e.y-i.y);let o;switch(s){case"right":case"left":o=n+r*100;break;case"up":o=r*2+n*.5;break;case"down":o=r*5+n;break;default:o=n+r}return o}searchForTrackSelect_(){const e=this;for(const i of e.updateFocusableComponents())if(i.constructor.name==="TextTrackSelect"){e.focus(i);break}}}class cV extends Ge{constructor(e,i,s){const n=Ei({createEl:!1},i);if(super(e,n,s),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let r=0,o=i.playerOptions.techOrder;r<o.length;r++){const a=tn(o[r]);let l=Qt.getTech(a);if(a||(l=Ge.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(i.playerOptions.sources)}}Ge.registerComponent("MediaLoader",cV);class X0 extends Ge{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=s=>this.handleMouseOver(s),this.handleMouseOut_=s=>this.handleMouseOut(s),this.handleClick_=s=>this.handleClick(s),this.handleKeyDown_=s=>this.handleKeyDown(s),this.emitTapEvents(),this.enable()}createEl(e="div",i={},s={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&Jt.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported; use a Button instead.")),s=Object.assign({role:"button"},s),this.tabIndex_=i.tabIndex;const n=kt(e,i,s);return this.player_.options_.experimentalSvgIcons||n.appendChild(kt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=kt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const s=this.localize(e);this.controlText_=e,al(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",s)}buildCSSClass(){return"vjs-control vjs-button ".concat(super.buildCSSClass())}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ge.registerComponent("ClickableComponent",X0);class G1 extends X0{constructor(e,i){super(e,i),this.update(),this.update_=s=>this.update(s),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return kt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'));return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(kt("picture",{className:"vjs-poster",tabIndex:-1},{},kt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?no(this.player_.play()):this.player_.pause())}}G1.prototype.crossorigin=G1.prototype.crossOrigin;Ge.registerComponent("PosterImage",G1);const lr="#222",dT="#ccc",dV={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ty(t,e){let i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Kr(t,e,i){try{t.style[e]=i}catch{return}}function hT(t){return t?"".concat(t,"px"):""}class hV extends Ge{constructor(e,i,s){super(e,i,s);const n=o=>this.updateDisplay(o),r=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",n),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(Di(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",r),e.on("playerresize",r);const o=be.screen.orientation||be,a=be.screen.orientation?"change":"orientationchange";o.addEventListener(a,r),e.on("dispose",()=>o.removeEventListener(a,r));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage;let n,r,o;for(let a=0;a<i.length;a++){const l=i[a];s&&s.enabled&&s.language&&s.language===l.language&&l.kind in e?l.kind===s.kind?o=l:o||(o=l):s&&!s.enabled?(o=null,n=null,r=null):l.default&&(l.kind==="descriptions"&&!n?n=l:l.kind in e&&!r&&(r=l))}o?o.mode="showing":r?r.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof be.WebVTT=="function"&&be.WebVTT.processCues(be,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let s=null,n=null,r=e.length;for(;r--;){const o=e[r];o.mode==="showing"&&(o.kind==="descriptions"?s=o:n=o)}if(n?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):s&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s)),!be.CSS.supports("inset","10px")){const o=this.el_,a=o.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;o.style="",Kr(o,"position","relative"),Kr(o,"height",u-l+"px"),Kr(o,"top","unset"),Dm?Kr(o,"bottom",u+"px"):Kr(o,"bottom","0px"),a.length>0&&a.forEach(c=>{if(c.style.inset){const h=c.style.inset.split(" ");h.length===3&&Object.assign(c.style,{top:h[0],right:h[1],bottom:h[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!be.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),s=e/i,n=this.player_.videoWidth()/this.player_.videoHeight();let r=0,o=0;Math.abs(s-n)>.1&&(s>n?r=Math.round((e-i*n)/2):o=Math.round((i-e/n)/2)),Kr(this.el_,"insetInline",hT(r)),Kr(this.el_,"insetBlock",hT(o))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),s=e.activeCues;let n=s.length;for(;n--;){const r=s[n];if(!r)continue;const o=r.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&Kr(o.firstChild,"color",ty(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Kr(o.firstChild,"backgroundColor",ty(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Kr(o,"backgroundColor",ty(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?o.firstChild.style.textShadow="2px 2px 3px ".concat(lr,", 2px 2px 4px ").concat(lr,", 2px 2px 5px ").concat(lr):i.edgeStyle==="raised"?o.firstChild.style.textShadow="1px 1px ".concat(lr,", 2px 2px ").concat(lr,", 3px 3px ").concat(lr):i.edgeStyle==="depressed"?o.firstChild.style.textShadow="1px 1px ".concat(dT,", 0 1px ").concat(dT,", -1px -1px ").concat(lr,", 0 -1px ").concat(lr):i.edgeStyle==="uniform"&&(o.firstChild.style.textShadow="0 0 4px ".concat(lr,", 0 0 4px ").concat(lr,", 0 0 4px ").concat(lr,", 0 0 4px ").concat(lr))),i.fontPercent&&i.fontPercent!==1){const a=be.parseFloat(o.style.fontSize);o.style.fontSize=a*i.fontPercent+"px",o.style.height="auto",o.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=dV[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof be.WebVTT!="function"||e.every(s=>!s.activeCues))return;const i=[];for(let s=0;s<e.length;++s){const n=e[s];for(let r=0;r<n.activeCues.length;++r)i.push(n.activeCues[r])}be.WebVTT.processCues(be,i,this.el_);for(let s=0;s<e.length;++s){const n=e[s];for(let r=0;r<n.activeCues.length;++r){const o=n.activeCues[r].displayState;Xl(o,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:s)),n.language&&Nc(o,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}}Ge.registerComponent("TextTrackDisplay",hV);class AV extends Ge{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),s=kt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(s),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ge.registerComponent("LoadingSpinner",AV);class es extends X0{createEl(e,i={},s={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),s=Object.assign({type:"button"},s);const n=kt(e,i,s);return this.player_.options_.experimentalSvgIcons||n.appendChild(kt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,i={}){const s=this.constructor.name;return Jt.warn("Adding an actionable (user controllable) child to a Button (".concat(s,") is not supported; use a ClickableComponent instead.")),Ge.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Ge.registerComponent("Button",es);class ZI extends es{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",s=>this.handleMouseDown(s))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){no(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const s=this.player_.getChild("controlBar"),n=s&&s.getChild("playToggle");if(!n){this.player_.tech(!0).focus();return}const r=()=>n.focus();dA(i)?i.then(r,()=>{}):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}ZI.prototype.controlText_="Play Video";Ge.registerComponent("BigPlayButton",ZI);class fV extends es{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return"vjs-close-button ".concat(super.buildCSSClass())}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ge.registerComponent("CloseButton",fV);class eD extends es{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",s=>this.handlePlay(s)),this.on(e,"pause",s=>this.handlePause(s)),i.replay&&this.on(e,"ended",s=>this.handleEnded(s))}buildCSSClass(){return"vjs-play-control ".concat(super.buildCSSClass())}handleClick(e){this.player_.paused()?no(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}eD.prototype.controlText_="Play";Ge.registerComponent("PlayToggle",eD);class id extends Ge{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended","seeking"],s=>this.update(s)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:"".concat(e," vjs-time-control vjs-control")}),s=kt("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_)," ")},{role:"presentation"});return i.appendChild(s),this.contentEl_=kt("span",{className:"".concat(e,"-display")},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=cu(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,Jt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=st.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}id.prototype.labelText_="Time";id.prototype.controlText_="Time";Ge.registerComponent("TimeDisplay",id);class YC extends id{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}YC.prototype.labelText_="Current Time";YC.prototype.controlText_="Current Time";Ge.registerComponent("CurrentTimeDisplay",YC);class XC extends id{constructor(e,i){super(e,i);const s=n=>this.updateContent(n);this.on(e,"durationchange",s),this.on(e,"loadstart",s),this.on(e,"loadedmetadata",s)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}XC.prototype.labelText_="Duration";XC.prototype.controlText_="Duration";Ge.registerComponent("DurationDisplay",XC);class pV extends Ge{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),s=super.createEl("span",{textContent:"/"});return i.appendChild(s),e.appendChild(i),e}}Ge.registerComponent("TimeDivider",pV);class JC extends id{constructor(e,i){super(e,i),this.on(e,"durationchange",s=>this.updateContent(s))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(kt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}JC.prototype.labelText_="Remaining Time";JC.prototype.controlText_="Remaining Time";Ge.registerComponent("RemainingTimeDisplay",JC);class gV extends Ge{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",s=>this.updateShowing(s))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=kt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(kt("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type")," ")})),this.contentEl_.appendChild(st.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ge.registerComponent("LiveDisplay",gV);class tD extends es{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=s=>this.updateLiveEdgeStatus(s),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=kt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}tD.prototype.controlText_="Seek to live, currently playing live";Ge.registerComponent("SeekToLive",tD);function lf(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}var mV=Object.freeze({__proto__:null,clamp:lf});class ZC extends Ge{constructor(e,i){super(e,i),this.handleMouseDown_=s=>this.handleMouseDown(s),this.handleMouseUp_=s=>this.handleMouseUp(s),this.handleKeyDown_=s=>this.handleKeyDown(s),this.handleClick_=s=>this.handleClick(s),this.handleMouseMove_=s=>this.handleMouseMove(s),this.update_=s=>this.update(s),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},s={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),s=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},s),super.createEl(e,i,s)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!fo&&e.preventDefault(),BI(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;kI(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(lf(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=z0(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){const i=this.options_.playerOptions.spatialNavigation,s=i&&i.enabled,n=i&&i.horizontalSeek;s?n&&e.key==="ArrowLeft"||!n&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&e.key==="ArrowRight"||!n&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ge.registerComponent("Slider",ZC);const iy=(t,e)=>lf(t/e*100,0,100).toFixed(2)+"%";class bV extends Ge{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",s=>this.update(s))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=kt("span",{className:"vjs-control-text"}),s=kt("span",{textContent:this.localize("Loaded")}),n=st.createTextNode(": ");return this.percentageEl_=kt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(s),i.appendChild(n),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,s=this.player_.buffered(),n=i&&i.isLive()?i.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),o=this.partEls_,a=iy(r,n);this.percent_!==a&&(this.el_.style.width=a,al(this.percentageEl_,a),this.percent_=a);for(let l=0;l<s.length;l++){const u=s.start(l),c=s.end(l);let h=o[l];h||(h=this.el_.appendChild(kt()),o[l]=h),!(h.dataset.start===u&&h.dataset.end===c)&&(h.dataset.start=u,h.dataset.end=c,h.style.left=iy(u,r),h.style.width=iy(c-u,r))}for(let l=o.length;l>s.length;l--)this.el_.removeChild(o[l-1]);o.length=s.length})}}Ge.registerComponent("LoadProgressBar",bV);class vV extends Ge{constructor(e,i){super(e,i),this.update=po(Di(this,this.update),xr)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,s){const n=MA(this.el_),r=Hc(this.player_.el()),o=e.width*i;if(!r||!n)return;let a=e.left-r.left+o,l=e.width-o+(r.right-e.right);l||(l=e.width-o,a=o);let u=n.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>n.width&&(u=n.width),u=Math.round(u),this.el_.style.right="-".concat(u,"px"),this.write(s)}write(e){al(this.el_,e)}updateTime(e,i,s,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let r;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-i*a;r=(l<1?"":"-")+cu(l,a)}else r=cu(s,o);this.update(e,i,r),n&&n()})}}Ge.registerComponent("TimeTooltip",vV);class e2 extends Ge{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=po(Di(this,this.update),xr)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const s=this.getChild("timeTooltip");if(!s)return;const n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(e,i,n)}}e2.prototype.options_={children:[]};!Jn&&!Nr&&e2.prototype.options_.children.push("timeTooltip");Ge.registerComponent("PlayProgressBar",e2);class iD extends Ge{constructor(e,i){super(e,i),this.update=po(Di(this,this.update),xr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const s=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,s,()=>{this.el_.style.left="".concat(e.width*i,"px")})}}iD.prototype.options_={children:["timeTooltip"]};Ge.registerComponent("MouseTimeDisplay",iD);const xp=5,AT=12;class J0 extends ZC{constructor(e,i){i=Ei(J0.prototype.options_,i),i.children=[...i.children];const s=e.options_.disableSeekWhileScrubbingOnMobile&&(Jn||Nr);(!Jn&&!Nr||s)&&i.children.splice(1,0,"mouseTimeDisplay"),super(e,i),this.shouldDisableSeekWhileScrubbingOnMobile_=s,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Di(this,this.update),this.update=po(this.update_,xr),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in st&&"visibilityState"in st&&this.on(st,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){st.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,xr))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(st.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const s=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let r=this.player_.duration();n&&n.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==s||this.duration_!==r)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[cu(s,r),cu(r,r)],"{1} of {2}")),this.currentTime_=s,this.duration_=r),this.bar&&this.bar.update(Hc(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let i;const s=this.player_.liveTracker;return s&&s.isLive()?(i=(e-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){OA(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!OA(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let s;const n=this.calculateDistance(e),r=this.player_.liveTracker;if(!r||!r.isLive())s=n*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(n>=.99){r.seekToLiveEdge();return}const o=r.seekableStart(),a=r.liveCurrentTime();if(s=o+n*r.liveWindow(),s>=a&&(s=a),s<=o&&(s=o+.1),s===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=s:this.userSeek_(s),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?no(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+xp)}stepBack(){this.userSeek_(this.player_.currentTime()-xp)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const s=parseInt(e.key,10)*.1;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-xp*AT)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+xp*AT)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in st&&"visibilityState"in st&&this.off(st,"visibilitychange",this.toggleVisibility_),super.dispose()}}J0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};Ge.registerComponent("SeekBar",J0);class nD extends Ge{constructor(e,i){super(e,i),this.handleMouseMove=po(Di(this,this.handleMouseMove),xr),this.throttledHandleMouseSeek=po(Di(this,this.handleMouseSeek),xr),this.handleMouseUpHandler_=s=>this.handleMouseUp(s),this.handleMouseDownHandler_=s=>this.handleMouseDown(s),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const s=i.getChild("playProgressBar"),n=i.getChild("mouseTimeDisplay");if(!s&&!n)return;const r=i.el(),o=MA(r);let a=z0(r,e).x;a=lf(a,0,1),n&&n.update(o,a),s&&s.update(o,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&no(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}nD.prototype.options_={children:["seekBar"]};Ge.registerComponent("ProgressControl",nD);class sD extends es{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],s=>this.handlePictureInPictureChange(s)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],s=>this.handlePictureInPictureEnabledChange(s)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return"vjs-picture-in-picture-control vjs-hidden ".concat(super.buildCSSClass())}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){st.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in be?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof st.exitPictureInPicture=="function"&&super.show()}}sD.prototype.controlText_="Picture-in-Picture";Ge.registerComponent("PictureInPictureToggle",sD);class rD extends es{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",s=>this.handleFullscreenChange(s)),st[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return"vjs-fullscreen-control ".concat(super.buildCSSClass())}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}rD.prototype.controlText_="Fullscreen";Ge.registerComponent("FullscreenToggle",rD);const yV=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class wV extends Ge{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ge.registerComponent("VolumeLevel",wV);class CV extends Ge{constructor(e,i){super(e,i),this.update=po(Di(this,this.update),xr)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,s,n){if(!s){const r=Hc(this.el_),o=Hc(this.player_.el()),a=e.width*i;if(!o||!r)return;const l=e.left-o.left+a,u=e.width-a+(o.right-e.right);let c=r.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>r.width&&(c=r.width),this.el_.style.right="-".concat(c,"px")}this.write("".concat(n,"%"))}write(e){al(this.el_,e)}updateVolume(e,i,s,n,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,s,n.toFixed(0)),r&&r()})}}Ge.registerComponent("VolumeLevelTooltip",CV);class oD extends Ge{constructor(e,i){super(e,i),this.update=po(Di(this,this.update),xr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,s){const n=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,s,n,()=>{s?this.el_.style.bottom="".concat(e.height*i,"px"):this.el_.style.left="".concat(e.width*i,"px")})}}oD.prototype.options_={children:["volumeLevelTooltip"]};Ge.registerComponent("MouseVolumeLevelDisplay",oD);class Z0 extends ZC{constructor(e,i){super(e,i),this.on("slideractive",s=>this.updateLastVolume_(s)),this.on(e,"volumechange",s=>this.updateARIAAttributes(s)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){OA(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const s=this.el(),n=Hc(s),r=this.vertical();let o=z0(s,e);o=r?o.y:o.x,o=lf(o,0,1),i.update(n,o,r)}OA(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Z0.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Jn&&!Nr&&Z0.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Z0.prototype.playerEvent="volumechange";Ge.registerComponent("VolumeBar",Z0);class aD extends Ge{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||Uc(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),yV(this,e),this.throttledHandleMouseMove=po(Di(this,this.handleMouseMove),xr),this.handleMouseUpHandler_=s=>this.handleMouseUp(s),this.on("mousedown",s=>this.handleMouseDown(s)),this.on("touchstart",s=>this.handleMouseDown(s)),this.on("mousemove",s=>this.handleMouseMove(s)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control ".concat(e)})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}aD.prototype.options_={children:["volumeBar"]};Ge.registerComponent("VolumeControl",aD);const EV=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class lD extends es{constructor(e,i){super(e,i),EV(this,e),this.on(e,["loadstart","volumechange"],s=>this.update(s))}buildCSSClass(){return"vjs-mute-control ".concat(super.buildCSSClass())}handleClick(e){const i=this.player_.volume(),s=this.player_.lastVolume_();if(i===0){const n=s<.1?.1:s;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),Jn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),$0(this.el_,[0,1,2,3].reduce((s,n)=>s+"".concat(n?" ":"","vjs-vol-").concat(n),"")),Xl(this.el_,"vjs-vol-".concat(i))}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}lD.prototype.controlText_="Mute";Ge.registerComponent("MuteToggle",lD);class uD extends Ge{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||Uc(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=s=>this.handleKeyPress(s),this.on(e,["loadstart"],s=>this.volumePanelState_(s)),this.on(this.muteToggle,"keyup",s=>this.handleKeyPress(s)),this.on(this.volumeControl,"keyup",s=>this.handleVolumeControlKeyUp(s)),this.on("keydown",s=>this.handleKeyPress(s)),this.on("mouseover",s=>this.handleMouseOver(s)),this.on("mouseout",s=>this.handleMouseOut(s)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control ".concat(e)})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),tr(st,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Zn(st,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}uD.prototype.options_={children:["muteToggle","volumeControl"]};Ge.registerComponent("VolumePanel",uD);class cD extends es{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("forward-".concat(this.skipTime)),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return"vjs-skip-forward-".concat(this.getSkipForwardTime()," ").concat(super.buildCSSClass())}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),s=this.player_.liveTracker,n=s&&s.isLive()?s.seekableEnd():this.player_.duration();let r;i+this.skipTime<=n?r=i+this.skipTime:r=n,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}cD.prototype.controlText_="Skip Forward";Ge.registerComponent("SkipForward",cD);class dD extends es{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("replay-".concat(this.skipTime)),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return"vjs-skip-backward-".concat(this.getSkipBackwardTime()," ").concat(super.buildCSSClass())}handleClick(e){const i=this.player_.currentTime(),s=this.player_.liveTracker,n=s&&s.isLive()&&s.seekableStart();let r;n&&i-this.skipTime<=n?r=n:i>=this.skipTime?r=i-this.skipTime:r=0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}dD.prototype.controlText_="Skip Backward";Ge.registerComponent("SkipBackward",dD);class hD extends Ge{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",s=>this.handleKeyDown(s)),this.boundHandleBlur_=s=>this.handleBlur(s),this.boundHandleTapClick_=s=>this.handleTapClick(s)}addEventListenerForItem(e){e instanceof Ge&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ge&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=kt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),tr(i,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||st.activeElement;if(!this.children().some(s=>s.el()===i)){const s=this.menuButton_;s&&s.buttonPressed_&&i!==s.el().firstChild&&s.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const s=i.filter(n=>n.el()===e.target)[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}Ge.registerComponent("Menu",hD);class t2 extends Ge{constructor(e,i={}){super(e,i),this.menuButton_=new es(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const s=es.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+s,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=r=>this.handleClick(r);this.handleMenuKeyUp_=r=>this.handleMenuKeyUp(r),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",r=>this.handleKeyDown(r)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),tr(st,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",r=>this.handleMouseLeave(r)),this.on("keydown",r=>this.handleSubmenuKeyDown(r))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new hD(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=kt("li",{className:"vjs-menu-title",textContent:tn(this.options_.title),tabIndex:-1}),s=new Ge(this.player_,{el:i});e.addItem(s)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=es.prototype.buildCSSClass();return"vjs-menu-button ".concat(e," ").concat(i," ").concat(super.buildCSSClass())}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(super.buildCSSClass())}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Zn(st,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Jn&&EI())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ge.registerComponent("MenuButton",t2);class i2 extends t2{constructor(e,i){const s=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!s)return;const n=Di(this,this.update);s.addEventListener("removetrack",n),s.addEventListener("addtrack",n),s.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){s.removeEventListener("removetrack",n),s.removeEventListener("addtrack",n),s.removeEventListener("labelchange",n)})}}Ge.registerComponent("TrackButton",i2);class uf extends X0{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,s){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),s),r=kt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(r):n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ge.registerComponent("MenuItem",uf);class cf extends uf{constructor(e,i){const s=i.track,n=e.textTracks();i.label=s.label||s.language||"Unknown",i.selected=s.mode==="showing",super(e,i),this.track=s,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const r=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],r),n.addEventListener("change",r),n.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),n.removeEventListener("change",r),n.removeEventListener("selectedlanguagechange",o)}),n.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof be.Event!="object")try{a=new be.Event("change")}catch{}a||(a=st.createEvent("Event"),a.initEvent("change",!0,!0)),n.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const i=this.track,s=this.player_.textTracks();if(super.handleClick(e),!!s)for(let n=0;n<s.length;n++){const r=s[n];this.kinds.indexOf(r.kind)!==-1&&(r===i?r.mode!=="showing"&&(r.mode="showing"):r.mode!=="disabled"&&(r.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ge.registerComponent("TextTrackMenuItem",cf);class AD extends cf{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let s=!0;for(let n=0,r=i.length;n<r;n++){const o=i[n];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let s=!0;for(let n=0,r=i.length;n<r;n++){const o=i[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ge.registerComponent("OffTextTrackMenuItem",AD);class nd extends i2{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=cf){let s;this.label_&&(s="".concat(this.label_," off")),e.push(new AD(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let r=0;r<n.length;r++){const o=n[r];if(this.kinds_.indexOf(o.kind)>-1){const a=new i(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-".concat(o.kind,"-menu-item")),e.push(a)}}return e}}Ge.registerComponent("TextTrackButton",nd);class fD extends uf{constructor(e,i){const s=i.track,n=i.cue,r=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=n.text,i.selected=n.startTime<=r&&r<n.endTime,super(e,i),this.track=s,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ge.registerComponent("ChaptersTrackMenuItem",fD);class n2 extends nd{constructor(e,i,s){super(e,i,s),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(n=>{n.selected(this.track_.activeCues[0]===n.cue)})}}buildCSSClass(){return"vjs-chapters-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-chapters-button ".concat(super.buildWrapperCSSClass())}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const s=e[i];if(s.kind===this.kind_)return s}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(tn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let s=0,n=i.length;s<n;s++){const r=i[s],o=new fD(this.player_,{track:this.track_,cue:r});e.push(o)}return e}}n2.prototype.kind_="chapters";n2.prototype.controlText_="Chapters";Ge.registerComponent("ChaptersButton",n2);class s2 extends nd{constructor(e,i,s){super(e,i,s),this.setIcon("audio-description");const n=e.textTracks(),r=Di(this,this.handleTracksChange);n.addEventListener("change",r),this.on("dispose",function(){n.removeEventListener("change",r)})}handleTracksChange(e){const i=this.player().textTracks();let s=!1;for(let n=0,r=i.length;n<r;n++){const o=i[n];if(o.kind!==this.kind_&&o.mode==="showing"){s=!0;break}}s?this.disable():this.enable()}buildCSSClass(){return"vjs-descriptions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-descriptions-button ".concat(super.buildWrapperCSSClass())}}s2.prototype.kind_="descriptions";s2.prototype.controlText_="Descriptions";Ge.registerComponent("DescriptionsButton",s2);class r2 extends nd{constructor(e,i,s){super(e,i,s),this.setIcon("subtitles")}buildCSSClass(){return"vjs-subtitles-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subtitles-button ".concat(super.buildWrapperCSSClass())}}r2.prototype.kind_="subtitles";r2.prototype.controlText_="Subtitles";Ge.registerComponent("SubtitlesButton",r2);class o2 extends cf{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ge.registerComponent("CaptionSettingsMenuItem",o2);class a2 extends nd{constructor(e,i,s){super(e,i,s),this.setIcon("captions")}buildCSSClass(){return"vjs-captions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-captions-button ".concat(super.buildWrapperCSSClass())}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new o2(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}a2.prototype.kind_="captions";a2.prototype.controlText_="Captions";Ge.registerComponent("CaptionsButton",a2);class pD extends cf{createEl(e,i,s){const n=super.createEl(e,i,s),r=n.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):r.appendChild(kt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(kt("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),n}}Ge.registerComponent("SubsCapsMenuItem",pD);class l2 extends nd{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(tn(this.label_))}buildCSSClass(){return"vjs-subs-caps-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subs-caps-button ".concat(super.buildWrapperCSSClass())}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new o2(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,pD),e}}l2.prototype.kinds_=["captions","subtitles"];l2.prototype.controlText_="Subtitles";Ge.registerComponent("SubsCapsButton",l2);class gD extends uf{constructor(e,i){const s=i.track,n=e.audioTracks();i.label=s.label||s.language||"Unknown",i.selected=s.enabled,super(e,i),this.track=s,this.addClass("vjs-".concat(s.kind,"-menu-item"));const r=(...o)=>{this.handleTracksChange.apply(this,o)};n.addEventListener("change",r),this.on("dispose",()=>{n.removeEventListener("change",r)})}createEl(e,i,s){const n=super.createEl(e,i,s),r=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(kt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(kt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let s=0;s<i.length;s++){const n=i[s];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ge.registerComponent("AudioTrackMenuItem",gD);class mD extends i2{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return"vjs-audio-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-audio-button ".concat(super.buildWrapperCSSClass())}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let s=0;s<i.length;s++){const n=i[s];e.push(new gD(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}mD.prototype.controlText_="Audio Track";Ge.registerComponent("AudioTrackButton",mD);class u2 extends uf{constructor(e,i){const s=i.rate,n=parseFloat(s,10);i.label=s,i.selected=n===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=s,this.rate=n,this.on(e,"ratechange",r=>this.update(r))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}u2.prototype.contentElType="button";Ge.registerComponent("PlaybackRateMenuItem",u2);class bD extends t2{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",s=>this.updateVisibility(s)),this.on(e,"ratechange",s=>this.updateLabel(s)),this.on(e,"playbackrateschange",s=>this.handlePlaybackRateschange(s))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=kt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-playback-rate ".concat(super.buildWrapperCSSClass())}createItems(){const e=this.playbackRates(),i=[];for(let s=e.length-1;s>=0;s--)i.push(new u2(this.player(),{rate:e[s]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}bD.prototype.controlText_="Playback Rate";Ge.registerComponent("PlaybackRateMenuButton",bD);class vD extends Ge{buildCSSClass(){return"vjs-spacer ".concat(super.buildCSSClass())}createEl(e="div",i={},s={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,s)}}Ge.registerComponent("Spacer",vD);class xV extends vD{buildCSSClass(){return"vjs-custom-control-spacer ".concat(super.buildCSSClass())}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}Ge.registerComponent("CustomControlSpacer",xV);class yD extends Ge{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}yD.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Ge.registerComponent("ControlBar",yD);class wD extends td{constructor(e,i){super(e,i),this.on(e,"error",s=>{this.open(s)})}buildCSSClass(){return"vjs-error-display ".concat(super.buildCSSClass())}content(){const e=this.player().error();return e?this.localize(e.message):""}}wD.prototype.options_=Object.assign({},td.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ge.registerComponent("ErrorDisplay",wD);class CD extends Ge{constructor(e,i={}){super(e,i),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),kt("select",{id:this.options_.id},{},this.options_.SelectOptions.map(i=>{const s=(this.options_.labelId?this.options_.labelId:"vjs-track-option-".concat(Er()))+"-"+i[1].replace(/\W+/g,""),n=kt("option",{id:s,value:this.localize(i[0]),textContent:this.localize(i[1])});return n.setAttribute("aria-labelledby","".concat(this.selectLabelledbyIds," ").concat(s)),n}))}}Ge.registerComponent("TextTrackSelect",CD);class Zl extends Ge{constructor(e,i={}){super(e,i);const s=kt("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(s);const n=this.options_.selects;for(const r of n){const o=this.options_.selectConfigs[r],a=o.className,l=o.id.replace("%s",this.options_.id_);let u=null;const c="vjs_select_".concat(Er());if(this.options_.type==="colors"){u=kt("span",{className:a});const A=kt("label",{id:l,className:"vjs-label",textContent:this.localize(o.label)});A.setAttribute("for",c),u.appendChild(A)}const h=new CD(e,{SelectOptions:o.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(h),this.options_.type==="colors"&&(u.appendChild(h.el()),this.el().appendChild(u))}}createEl(){return kt("fieldset",{className:this.options_.className})}}Ge.registerComponent("TextTrackFieldset",Zl);class ED extends Ge{constructor(e,i={}){super(e,i);const s=this.options_.textTrackComponentid,n=new Zl(e,{id_:s,legendId:"captions-text-legend-".concat(s),legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);const r=new Zl(e,{id_:s,legendId:"captions-background-".concat(s),legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const o=new Zl(e,{id_:s,legendId:"captions-window-".concat(s),legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o)}createEl(){return kt("div",{className:"vjs-track-settings-colors"})}}Ge.registerComponent("TextTrackSettingsColors",ED);class xD extends Ge{constructor(e,i={}){super(e,i);const s=this.options_.textTrackComponentid,n=new Zl(e,{id_:s,legendId:"captions-font-size-".concat(s),legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);const r=new Zl(e,{id_:s,legendId:"captions-edge-style-".concat(s),legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const o=new Zl(e,{id_:s,legendId:"captions-font-family-".concat(s),legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o)}createEl(){return kt("div",{className:"vjs-track-settings-font"})}}Ge.registerComponent("TextTrackSettingsFont",xD);class TD extends Ge{constructor(e,i={}){super(e,i);const s=this.localize("restore all settings to the default values"),n=new es(e,{controlText:s,className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);const r=new es(e,{controlText:s,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Done"),this.addChild(r)}createEl(){return kt("div",{className:"vjs-track-settings-controls"})}}Ge.registerComponent("TrackSettingsControls",TD);const ny="vjs-text-track-settings",fT=["#000","Black"],pT=["#00F","Blue"],gT=["#0FF","Cyan"],mT=["#0F0","Green"],bT=["#F0F","Magenta"],vT=["#F00","Red"],yT=["#FFF","White"],wT=["#FF0","Yellow"],sy=["1","Opaque"],ry=["0.5","Semi-Transparent"],CT=["0","Transparent"],Ra={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[fT,yT,vT,mT,pT,wT,bT,gT],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[sy,ry,CT],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[yT,fT,vT,mT,pT,wT,bT,gT],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[sy,ry],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[CT,ry,sy],className:"vjs-window-opacity vjs-opacity"}};Ra.windowColor.options=Ra.backgroundColor.options;function _D(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function TV(t,e){const i=t.options[t.options.selectedIndex].value;return _D(i,e)}function _V(t,e,i){if(e){for(let s=0;s<t.options.length;s++)if(_D(t.options[s].value,i)===e){t.selectedIndex=s;break}}}class SV extends td{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=kt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const i=new ED(e,{textTrackComponentid:this.id_,selectConfigs:Ra,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(i);const s=new xD(e,{textTrackComponentid:this.id_,selectConfigs:Ra,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(s);const n=new TD(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),mc(Ra,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return gI(Ra,(e,i,s)=>{const n=TV(this.$(i.selector),i.parser);return n!==void 0&&(e[s]=n),e},{})}setValues(e){mc(Ra,(i,s)=>{_V(this.$(i.selector),e[s],i.parser)})}setDefaults(){mc(Ra,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(be.localStorage.getItem(ny))}catch(i){Jt.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?be.localStorage.setItem(ny,JSON.stringify(e)):be.localStorage.removeItem(ny)}catch(i){Jt.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Ge.registerComponent("TextTrackSettings",SV);class BV extends Ge{constructor(e,i){let s=i.ResizeObserver||be.ResizeObserver;i.ResizeObserver===null&&(s=!1);const n=Ei({createEl:!s,reportTouchActivity:!1},i);super(e,n),this.ResizeObserver=i.ResizeObserver||be.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=NI(()=>{this.resizeHandler()},100,!1,this),s?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const r=this.debouncedHandler_;let o=this.unloadListener_=function(){Zn(this,"resize",r),Zn(this,"unload",o),o=null};tr(this.el_.contentWindow,"unload",o),tr(this.el_.contentWindow,"resize",r)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ge.registerComponent("ResizeManager",BV);const kV={trackingThreshold:20,liveTolerance:15};class IV extends Ge{constructor(e,i){const s=Ei(kV,i,{createEl:!1});super(e,s),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=n=>this.handlePlay(n),this.handleFirstTimeupdate_=n=>this.handleFirstTimeupdate(n),this.handleSeeked_=n=>this.handleSeeked(n),this.seekToLiveEdge_=n=>this.seekToLiveEdge(n),this.reset_(),this.on(this.player_,"durationchange",n=>this.handleDurationchange(n)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(be.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+s;const n=this.liveCurrentTime(),r=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-r)>this.options_.liveTolerance;(!this.timeupdateSeen_||n===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,xr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let s=e?e.length:0;for(;s--;)i.push(e.end(s));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let s=e?e.length:0;for(;s--;)i.push(e.start(s));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ge.registerComponent("LiveTracker",IV);class DV extends Ge{constructor(e,i){super(e,i),this.on("statechanged",s=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:kt("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(Er())}),description:kt("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(Er())})},kt("div",{className:"vjs-title-bar"},{},mI(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,s={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(n=>{const r=this.state[n],o=this.els[n],a=s[n];K0(o),r&&al(o,r),i&&(i.removeAttribute(a),r&&i.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ge.registerComponent("TitleBar",DV);const FV={initialDisplay:4e3,position:[],takeFocus:!1};class PV extends es{constructor(e,i){i=Ei(FV,i),super(e,i),this.controlText(i.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],s=>{this.removeClass("force-display")})}buildCSSClass(){return"vjs-transient-button focus-visible ".concat(this.options_.position.map(e=>"vjs-".concat(e)).join(" "))}createEl(){const e=kt("button",{},{type:"button",class:this.buildCSSClass()},kt("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Ge.registerComponent("TransientButton",PV);const q1=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const i=t.$$("source"),s=[];let n="";if(!i.length)return!1;for(let r=0;r<i.length;r++){const o=i[r].src;o&&s.indexOf(o)===-1&&s.push(o)}return s.length?(s.length===1&&(n=s[0]),t.triggerSourceset(n),!0):!1},LV=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=st.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const i=st.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",be.Element.prototype.appendChild.call(this,i),this.innerHTML}}),SD=(t,e)=>{let i={};for(let s=0;s<t.length&&(i=Object.getOwnPropertyDescriptor(t[s],e),!(i&&i.set&&i.get));s++);return i.enumerable=!0,i.configurable=!0,i},RV=t=>SD([t.el(),be.HTMLMediaElement.prototype,be.Element.prototype,LV],"innerHTML"),ET=function(t){const e=t.el();if(e.resetSourceWatch_)return;const i={},s=RV(t),n=r=>(...o)=>{const a=r.apply(e,o);return q1(t),a};["append","appendChild","insertAdjacentHTML"].forEach(r=>{e[r]&&(i[r]=e[r],e[r]=n(i[r]))}),Object.defineProperty(e,"innerHTML",Ei(s,{set:n(s.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(r=>{e[r]=i[r]}),Object.defineProperty(e,"innerHTML",s)},t.one("sourceset",e.resetSourceWatch_)},MV=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?WI(be.Element.prototype.getAttribute.call(this,"src")):""},set(t){return be.Element.prototype.setAttribute.call(this,"src",t),t}}),OV=t=>SD([t.el(),be.HTMLMediaElement.prototype,MV],"src"),UV=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const i=OV(t),s=e.setAttribute,n=e.load;Object.defineProperty(e,"src",Ei(i,{set:r=>{const o=i.set.call(e,r);return t.triggerSourceset(e.src),o}})),e.setAttribute=(r,o)=>{const a=s.call(e,r,o);return/src/i.test(r)&&t.triggerSourceset(e.src),a},e.load=()=>{const r=n.call(e);return q1(t)||(t.triggerSourceset(""),ET(t)),r},e.currentSrc?t.triggerSourceset(e.currentSrc):q1(t)||ET(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=n,e.setAttribute=s,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class ft extends Qt{constructor(e,i){super(e,i);const s=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",s&&(this.el_.currentSrc!==s.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(s):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const r=this.el_.childNodes;let o=r.length;const a=[];for(;o--;){const l=r[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!n&&!this.el_.hasAttribute("crossorigin")&&Y0(l.src)&&(n=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&Jt.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(RA||Q0)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),ft.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){UV(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const s=()=>{i=[];for(let r=0;r<e.length;r++){const o=e[r];o.kind==="metadata"&&i.push({track:o,storedMode:o.mode})}};s(),e.addEventListener("change",s),this.on("dispose",()=>e.removeEventListener("change",s));const n=()=>{for(let r=0;r<i.length;r++){const o=i[r];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",s),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",s),e.addEventListener("change",s),e.removeEventListener("change",n)})}overrideNative_(e,i){if(i!==this["featuresNative".concat(e,"Tracks")])return;const s=e.toLowerCase();this["".concat(s,"TracksListeners_")]&&Object.keys(this["".concat(s,"TracksListeners_")]).forEach(n=>{this.el()["".concat(s,"Tracks")].removeEventListener(n,this["".concat(s,"TracksListeners_")][n])}),this["featuresNative".concat(e,"Tracks")]=!i,this["".concat(s,"TracksListeners_")]=null,this.proxyNativeTracksForType_(s)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=wr[e],s=this.el()[i.getterName],n=this[i.getterName]();if(!this["featuresNative".concat(i.capitalName,"Tracks")]||!s||!s.addEventListener)return;const r={change:a=>{const l={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(l),e==="text"&&this[$c.remoteText.getterName]().trigger(l)},addtrack(a){n.addTrack(a.track)},removetrack(a){n.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<n.length;l++){let u=!1;for(let c=0;c<s.length;c++)if(s[c]===n[l]){u=!0;break}u||a.push(n[l])}for(;a.length;)n.removeTrack(a.shift())};this[i.getterName+"Listeners_"]=r,Object.keys(r).forEach(a=>{const l=r[a];s.addEventListener(a,l),this.on("dispose",u=>s.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){wr.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const s=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(s,e),ft.disposeMediaElement(e),e=s}else{e=st.createElement("video");const s=this.options_.tag&&La(this.options_.tag),n=Ei({},s);(!RA||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,_I(e,Object.assign(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Nc(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let s=0;s<i.length;s++){const n=i[s],r=this.options_[n];typeof r<"u"&&(r?Nc(e,n,n):j0(e,n),e[n]=r)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let s=!1;const n=function(){s=!0};this.on("loadstart",n);const r=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",r),this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),s||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(s){this.trigger(s)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&V0?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){Jt(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Nr&&fo&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)no(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,i){if(!e)return Jt.error("Invalid source URL."),!1;const s={src:e};i&&(s.type=i);const n=kt("source",{},s);return this.el_.appendChild(n),!0}removeSourceElement(e){if(!e)return Jt.error("Source URL is required to remove the source element."),!1;const i=this.el_.querySelectorAll("source");for(const s of i)if(s.src===e)return this.el_.removeChild(s),!0;return Jt.warn("No matching source element found with src: ".concat(e)),!1}reset(){ft.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,s):super.addTextTrack(e,i,s)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=st.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const s=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(s),s}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let s=i.length;for(;s--;)(e===i[s]||e===i[s].track)&&this.el().removeChild(i[s])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),be.performance&&(e.creationTime=be.performance.now()),e}}U0(ft,"TEST_VID",function(){if(!Jc())return;const t=st.createElement("video"),e=st.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});ft.isSupported=function(){try{ft.TEST_VID.volume=.5}catch{return!1}return!!(ft.TEST_VID&&ft.TEST_VID.canPlayType)};ft.canPlayType=function(t){return ft.TEST_VID.canPlayType(t)};ft.canPlaySource=function(t,e){return ft.canPlayType(t.type)};ft.canControlVolume=function(){try{const t=ft.TEST_VID.volume;ft.TEST_VID.volume=t/2+.1;const e=t!==ft.TEST_VID.volume;return e&&Jn?(be.setTimeout(()=>{ft&&ft.prototype&&(ft.prototype.featuresVolumeControl=t!==ft.TEST_VID.volume)}),!1):e}catch{return!1}};ft.canMuteVolume=function(){try{const t=ft.TEST_VID.muted;return ft.TEST_VID.muted=!t,ft.TEST_VID.muted?Nc(ft.TEST_VID,"muted","muted"):j0(ft.TEST_VID,"muted","muted"),t!==ft.TEST_VID.muted}catch{return!1}};ft.canControlPlaybackRate=function(){if(Nr&&fo&&N0<58)return!1;try{const t=ft.TEST_VID.playbackRate;return ft.TEST_VID.playbackRate=t/2+.1,t!==ft.TEST_VID.playbackRate}catch{return!1}};ft.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(st.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(st.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(st.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(st.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};ft.supportsNativeTextTracks=function(){return V0||Jn&&fo};ft.supportsNativeVideoTracks=function(){return!!(ft.TEST_VID&&ft.TEST_VID.videoTracks)};ft.supportsNativeAudioTracks=function(){return!!(ft.TEST_VID&&ft.TEST_VID.audioTracks)};ft.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){U0(ft.prototype,t,()=>ft[e](),!0)});ft.prototype.featuresVolumeControl=ft.canControlVolume();ft.prototype.movingMediaElementInDOM=!Jn;ft.prototype.featuresFullscreenResize=!0;ft.prototype.featuresProgressEvents=!0;ft.prototype.featuresTimeupdateEvents=!0;ft.prototype.featuresVideoFrameCallback=!!(ft.TEST_VID&&ft.TEST_VID.requestVideoFrameCallback);ft.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};ft.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let i=e.length;for(;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ft.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ft.prototype["set"+tn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){ft.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){ft.prototype["set"+tn(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){ft.prototype[t]=function(){return this.el_[t]()}});Qt.withSourceHandlers(ft);ft.nativeSourceHandler={};ft.nativeSourceHandler.canPlayType=function(t){try{return ft.TEST_VID.canPlayType(t)}catch{return""}};ft.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ft.nativeSourceHandler.canPlayType(t.type);if(t.src){const i=qC(t.src);return ft.nativeSourceHandler.canPlayType("video/".concat(i))}return""};ft.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};ft.nativeSourceHandler.dispose=function(){};ft.registerSourceHandler(ft.nativeSourceHandler);Qt.registerTech("Html5",ft);const BD=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],oy={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},W1=["tiny","xsmall","small","medium","large","xlarge","huge"],gg={};W1.forEach(t=>{const e=t.charAt(0)==="x"?"x-".concat(t.substring(1)):t;gg[t]="vjs-layout-".concat(e)});const NV={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Oi extends Ge{constructor(e,i,s){if(e.id=e.id||i.id||"vjs_video_".concat(Er()),i=Object.assign(Oi.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const o=e.closest("[lang]");o&&(i.language=o.getAttribute("lang"))}if(super(null,i,s),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.boundUpdatePlayerHeightOnAudioOnlyMode_=o=>this.updatePlayerHeightOnAudioOnlyMode_(o),this.isFullscreen_=!1,this.log=fI(this.id_),this.fsApi_=_m,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&La(e),this.language(this.options_.language),i.languages){const o={};Object.getOwnPropertyNames(i.languages).forEach(function(a){o[a.toLowerCase()]=i.languages[a]}),this.languages_=o}else this.languages_=Oi.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error('plugin "'.concat(o,'" does not exist'))}),this.scrubbing_=!1,this.el_=this.createEl(),jC(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(tr(st,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=Ei(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(o=>{this[o](i.plugins[o])}),i.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const a=new be.DOMParser().parseFromString(lV,"image/svg+xml");if(a.querySelector("parsererror"))Jt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),i.spatialNavigation&&i.spatialNavigation.enabled&&(this.spatialNavigation=new uV(this),this.addClass("vjs-spatial-navigation-enabled")),RA&&this.addClass("vjs-touch-enabled"),Jn||this.addClass("vjs-workinghover"),Oi.players[this.id_]=this;const r=N1.split(".")[0];this.addClass("vjs-v".concat(r)),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Zn(st,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Zn(st,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Oi.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),sV(this),fs.names.forEach(e=>{const i=fs[e],s=this[i.getterName]();s&&s.off&&s.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,s=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const n=this.tag.tagName.toLowerCase()==="video-js";s?i=this.el_=e.parentNode:n||(i=this.el_=super.createEl("div"));const r=La(e);if(n){for(i=this.el_=e,e=this.tag=st.createElement("video");i.children.length;)e.appendChild(i.firstChild);uA(i,"video-js")||Xl(i,"video-js"),i.appendChild(e),s=this.playerElIngest_=i,Object.keys(i).forEach(l=>{try{e[l]=i[l]}catch{}})}e.setAttribute("tabindex","-1"),r.tabindex="-1",fo&&H0&&(e.setAttribute("role","application"),r.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(l){n&&l==="class"||i.setAttribute(l,r[l]),n&&e.setAttribute(l,r[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused");const o=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>CI[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...o),be.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=OI("vjs-styles-dimensions");const l=tl(".vjs-styles-defaults"),u=tl("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const u=a.item(l);Xl(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!s&&e.parentNode.insertBefore(i,e),Q1(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Jt.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'));return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const s=e+"_";if(i===void 0)return this[s]||0;if(i===""||i==="auto"){this[s]=void 0,this.updateStyleEl_();return}const n=parseFloat(i);if(isNaN(n)){Jt.error('Improper value "'.concat(i,'" supplied for for ').concat(e));return}this[s]=n,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Xo(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),LQ(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(be.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let e,i,s,n;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?s=this.aspectRatio_:this.videoWidth()>0?s=this.videoWidth()+":"+this.videoHeight():s="16:9";const r=s.split(":"),o=r[1]/r[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*o,/^[^a-zA-Z]/.test(this.id())?n="dimensions-"+this.id():n=this.id()+"-dimensions",this.addClass(n),UI(this.styleEl_,"\n      .".concat(n," {\n        width: ").concat(e,"px;\n        height: ").concat(i,"px;\n      }\n\n      .").concat(n,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(o*100,"%;\n      }\n    "))}loadTech_(e,i){this.tech_&&this.unloadTech_();const s=tn(e),n=e.charAt(0).toLowerCase()+e.slice(1);s!=="Html5"&&this.tag&&(Qt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;let r=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(r=!1);const o={source:i,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(n,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};fs.names.forEach(l=>{const u=fs[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[s]),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=Qt.getTech(e);if(!a)throw new Error("No Tech named '".concat(s,"' exists! '").concat(s,"' should be registered using videojs.registerTech()'"));this.tech_=new a(o),this.tech_.ready(Di(this,this.handleTechReady_),!0),iT.jsonToTextTracks(this.textTracksJson_||[],this.tech_),BD.forEach(l=>{this.on(this.tech_,l,u=>this["handleTech".concat(tn(l),"_")](u))}),Object.keys(oy).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this["handleTech".concat(oy[l],"_")].bind(this),event:u});return}this["handleTech".concat(oy[l],"_")](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(s!=="Html5"||!this.tag)&&Q1(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){fs.names.forEach(e=>{const i=fs[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=iT.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Jt.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":N1}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const n=this.muted();this.muted(!0);const r=()=>{this.muted(n)};this.playTerminatedQueue_.push(r);const o=this.play();if(dA(o))return o.catch(a=>{throw r(),new Error("Rejection at manualAutoplay. Restoring muted value. ".concat(a||""))})};let s;if(e==="any"&&!this.muted()?(s=this.play(),dA(s)&&(s=s.catch(i))):e==="muted"&&!this.muted()?s=i():s=this.play(),!!dA(s))return s.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,s="";typeof i!="string"&&(i=e.src,s=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!s&&(s=aV(this,i)),this.cache_.source=Ei({},e,{src:i,type:s});const n=this.cache_.sources.filter(l=>l.src&&l.src===i),r=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const u=La(o[l]);r.push(u),u.src&&u.src===i&&a.push(u.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=r=>this.updateSourceCaches_(r);const s=this.currentSource().src,n=e.src;s&&!/^blob:/.test(s)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==s)&&(i=()=>{}),i(n),e.src||this.tech_.any(["sourceset","loadstart"],r=>{if(r.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?no(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),s=>s.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!st.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const s=this.el();let n=st[this.fsApi_.fullscreenElement]===s;!n&&s.matches&&(n=s.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in iV)return eV(this.middleware_,this.tech_,e,i);if(e in aT)return oT(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(s){throw Jt(s),s}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in tV)return ZQ(this.middleware_,this.tech_,e);if(e in aT)return oT(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(Jt("Video.js: ".concat(e," method not defined for ").concat(this.techName_," playback technology."),i),i):i.name==="TypeError"?(Jt("Video.js: ".concat(e," unavailable on ").concat(this.techName_," playback technology element."),i),this.tech_.isReady_=!1,i):(Jt(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=no){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),s=!!(V0||Jn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&s&&this.load();return}const n=this.techGet_("play");s&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),n===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(s){s(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Or(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Or(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Or(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return GI(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let s=e.end(e.length-1);return s>i&&(s=i),s}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((s,n)=>{function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){r(),s()}function a(u,c){r(),n(c)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);const l=i.requestFullscreenHelper_(e);l&&(l.then(r,r),l.then(s,n))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const s=this.el_[this.fsApi_.requestFullscreen](i);return s&&s.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,s)=>{function n(){e.off("fullscreenerror",o),e.off("fullscreenchange",r)}function r(){n(),i()}function o(l,u){n(),s(u)}e.one("fullscreenchange",r),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(n,n),a.then(i,s))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=st[this.fsApi_.exitFullscreen]();return e&&no(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=st.documentElement.style.overflow,tr(st,"keydown",this.boundFullWindowOnEscKey_),st.documentElement.style.overflow="hidden",Xl(st.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Zn(st,"keydown",this.boundFullWindowOnEscKey_),st.documentElement.style.overflow=this.docOrigOverflow,$0(st.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&be.documentPictureInPicture){const e=st.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(kt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),be.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(LI(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:i}),i.addEventListener("pagehide",s=>{const n=s.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in st&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(be.documentPictureInPicture&&be.documentPictureInPicture.window)return be.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in st)return st.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(n=>{const r=n.tagName.toLowerCase();if(n.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return r==="input"?o.indexOf(n.type)===-1:["textarea"].indexOf(r)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:s=o=>e.key.toLowerCase()==="f",muteKey:n=o=>e.key.toLowerCase()==="m",playPauseKey:r=o=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=i;if(s.call(this,e)){e.preventDefault(),e.stopPropagation();const o=Ge.getComponent("FullscreenToggle");st[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ge.getComponent("MuteToggle").prototype.handleClick.call(this,e)):r.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ge.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let s=0,n=this.options_.techOrder;s<n.length;s++){const r=n[s];let o=Qt.getTech(r);if(o||(o=Ge.getComponent(r)),!o){Jt.error('The "'.concat(r,'" tech is undefined. Skipped browser support check for that tech.'));continue}if(o.isSupported()&&(i=o.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(a=>[a,Qt.getTech(a)]).filter(([a,l])=>l?l.isSupported():(Jt.error('The "'.concat(a,'" tech is undefined. Skipped browser support check for that tech.')),!1)),s=function(a,l,u){let c;return a.some(h=>l.some(A=>{if(c=u(h,A),c)return!0})),c};let n;const r=a=>(l,u)=>a(u,l),o=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?n=s(e,i,r(o)):n=s(i,e,o),n||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const s=JI(e);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),XQ(this,s[0],(n,r)=>{if(this.middleware_=r,i||(this.cache_.sources=s),this.updateSourceCaches_(n),this.src_(n)){if(s.length>1)return this.handleSrc_(s.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}JQ(r,this.tech_)}),s.length>1){const n=()=>{this.error(null),this.handleSrc_(s.slice(1),!0)},r=()=>{this.off("error",n)};this.one("error",n),this.one("playing",r),this.resetRetryOnError_=()=>{this.off("error",n),this.off("playing",r)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?$I(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,i){return this.tech_?this.tech_.addSourceElement(e,i):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();no(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Xo(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:s,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:r}=s||{};e&&e.updateContent(),i&&i.updateContent(),n&&n.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(el("beforeerror").forEach(i=>{const s=i(this,e);if(!(Ao(s)&&!Array.isArray(s)||typeof s=="string"||typeof s=="number"||s===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=s}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new qi(e),this.addClass("vjs-error"),Jt.error("(CODE:".concat(this.error_.code," ").concat(qi.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),el("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,s;const n=Di(this,this.reportUserActivity),r=function(h){(h.screenX!==i||h.screenY!==s)&&(i=h.screenX,s=h.screenY,n())},o=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},a=function(h){n(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",r),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!Jn&&!Nr&&(l.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const h=this.options_.inactivityTimeout;h<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),s=i&&i.currentHeight();e.forEach(n=>{n!==i&&n.el_&&!n.hasClass("vjs-hidden")&&(n.hide(),this.audioOnlyCache_.hiddenChildren.push(n))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=s,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(s),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,s){if(this.tech_)return this.tech_.addTextTrack(e,i,s)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Xo(this)&&this.trigger("languagechange"))}languages(){return Ei(Oi.prototype.options_.languages,this.languages_)}toJSON(){const e=Ei(this.options_),i=e.tracks;e.tracks=[];for(let s=0;s<i.length;s++){let n=i[s];n=Ei(n),n.player=void 0,e.tracks[s]=n}return e}createModal(e,i){i=i||{},i.content=e||"";const s=new td(this,i);return this.addChild(s),s.on("dispose",()=>{this.removeChild(s)}),s.open(),s}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let s=0;s<W1.length;s++){const n=W1[s],r=this.breakpoints_[n];if(i<=r){if(e===n)return;e&&this.removeClass(gg[e]),this.addClass(gg[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},NV,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return gg[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const s=this.crossOrigin();this.reset(),this.cache_.media=Ei(e);const{artist:n,artwork:r,description:o,poster:a,src:l,textTracks:u,title:c}=this.cache_.media;!r&&a&&(this.cache_.media.artwork=[{src:a,type:Mm(a)}]),s&&this.crossOrigin(s),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(h=>this.addRemoteTextTrack(h,!1)),this.titleBar&&this.titleBar.update({title:c,description:o||n||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),r=>({kind:r.kind,label:r.label,language:r.language,src:r.src})),n={src:i,textTracks:s};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:Mm(n.poster)}]),n}return Ei(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},s=La(e),n=s["data-setup"];if(uA(e,"vjs-fill")&&(s.fill=!0),uA(e,"vjs-fluid")&&(s.fluid=!0),n!==null)try{Object.assign(s,JSON.parse(n||"{}"))}catch(r){Jt.error("data-setup",r)}if(Object.assign(i,s),e.hasChildNodes()){const r=e.childNodes;for(let o=0,a=r.length;o<a;o++){const l=r[o],u=l.nodeName.toLowerCase();u==="source"?i.sources.push(La(l)):u==="track"&&i.tracks.push(La(l))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}fs.names.forEach(function(t){const e=fs[t];Oi.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Oi.prototype.crossorigin=Oi.prototype.crossOrigin;Oi.players={};const Fd=be.navigator;Oi.prototype.options_={techOrder:Qt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Fd&&(Fd.languages&&Fd.languages[0]||Fd.userLanguage||Fd.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};BD.forEach(function(t){Oi.prototype["handleTech".concat(tn(t),"_")]=function(){return this.trigger(t)}});Ge.registerComponent("Player",Oi);const Om="plugin",yc="activePlugins_",rc={},Um=t=>rc.hasOwnProperty(t),mg=t=>Um(t)?rc[t]:void 0,kD=(t,e)=>{t[yc]=t[yc]||{},t[yc][e]=!0},Nm=(t,e,i)=>{const s=(i?"before":"")+"pluginsetup";t.trigger(s,e),t.trigger(s+":"+e.name,e)},HV=function(t,e){const i=function(){Nm(this,{name:t,plugin:e,instance:null},!0);const s=e.apply(this,arguments);return kD(this,t),Nm(this,{name:t,plugin:e,instance:s}),s};return Object.keys(e).forEach(function(s){i[s]=e[s]}),i},xT=(t,e)=>(e.prototype.name=t,function(...i){Nm(this,{name:t,plugin:e,instance:null},!0);const s=new e(this,...i);return this[t]=()=>s,Nm(this,s.getEventHash()),s});class Fs{constructor(e){if(this.constructor===Fs)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),jC(this),delete this.trigger,VI(this,this.constructor.defaultState),kD(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return ed(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[yc][e]=!1,this.player=this.state=null,i[e]=xT(e,rc[e])}static isBasic(e){const i=typeof e=="string"?mg(e):e;return typeof i=="function"&&!Fs.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error('Illegal plugin name, "'.concat(e,'", must be a string, was ').concat(typeof e,"."));if(Um(e))Jt.warn('A plugin named "'.concat(e,'" already exists. You may want to avoid re-registering plugins!'));else if(Oi.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'.concat(e,'", cannot share a name with an existing player method!'));if(typeof i!="function")throw new Error('Illegal plugin for "'.concat(e,'", must be a function, was ').concat(typeof i,"."));return rc[e]=i,e!==Om&&(Fs.isBasic(i)?Oi.prototype[e]=HV(e,i):Oi.prototype[e]=xT(e,i)),i}static deregisterPlugin(e){if(e===Om)throw new Error("Cannot de-register base plugin.");Um(e)&&(delete rc[e],delete Oi.prototype[e])}static getPlugins(e=Object.keys(rc)){let i;return e.forEach(s=>{const n=mg(s);n&&(i=i||{},i[s]=n)}),i}static getPluginVersion(e){const i=mg(e);return i&&i.VERSION||""}}Fs.getPlugin=mg;Fs.BASE_PLUGIN_NAME=Om;Fs.registerPlugin(Om,Fs);Oi.prototype.usingPlugin=function(t){return!!this[yc]&&this[yc][t]===!0};Oi.prototype.hasPlugin=function(t){return!!Um(t)};function QV(t,e){let i=!1;return function(...s){return i||Jt.warn(t),i=!0,e.apply(this,s)}}function Hr(t,e,i,s){return QV("".concat(e," is deprecated and will be removed in ").concat(t,".0; please use ").concat(i," instead."),s)}var VV={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const ID=t=>t.indexOf("#")===0?t.slice(1):t;function Ne(t,e,i){let s=Ne.getPlayer(t);if(s)return e&&Jt.warn('Player "'.concat(t,'" is already initialised. Options will not be applied.')),i&&s.ready(i),s;const n=typeof t=="string"?tl("#"+ID(t)):t;if(!Zc(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in n?n.getRootNode()instanceof be.ShadowRoot:!1)?n.getRootNode():n.ownerDocument.body;(!n.ownerDocument.defaultView||!o.contains(n))&&Jt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),el("beforesetup").forEach(l=>{const u=l(n,Ei(e));if(!Ao(u)||Array.isArray(u)){Jt.error("please return an object in beforesetup hooks");return}e=Ei(e,u)});const a=Ge.getComponent("Player");return s=new a(n,e,i),el("setup").forEach(l=>l(s)),s}Ne.hooks_=zo;Ne.hooks=el;Ne.hook=yQ;Ne.hookOnce=wQ;Ne.removeHook=AI;if(be.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Jc()){let t=tl(".vjs-styles-defaults");if(!t){t=OI("vjs-styles-defaults");const e=tl("head");e&&e.insertBefore(t,e.firstChild),UI(t,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}$1(1,Ne);Ne.VERSION=N1;Ne.options=Oi.prototype.options_;Ne.getPlayers=()=>Oi.players;Ne.getPlayer=t=>{const e=Oi.players;let i;if(typeof t=="string"){const s=ID(t),n=e[s];if(n)return n;i=tl("#"+s)}else i=t;if(Zc(i)){const{player:s,playerId:n}=i;if(s||e[n])return s||e[n]}};Ne.getAllPlayers=()=>Object.keys(Oi.players).map(t=>Oi.players[t]).filter(Boolean);Ne.players=Oi.players;Ne.getComponent=Ge.getComponent;Ne.registerComponent=(t,e)=>(Qt.isTech(e)&&Jt.warn("The ".concat(t," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),Ge.registerComponent.call(Ge,t,e));Ne.getTech=Qt.getTech;Ne.registerTech=Qt.registerTech;Ne.use=YQ;Object.defineProperty(Ne,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Ne.middleware,"TERMINATOR",{value:Rm,writeable:!1,enumerable:!0});Ne.browser=CI;Ne.obj=xQ;Ne.mergeOptions=Hr(9,"videojs.mergeOptions","videojs.obj.merge",Ei);Ne.defineLazyProperty=Hr(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",U0);Ne.bind=Hr(9,"videojs.bind","native Function.prototype.bind",Di);Ne.registerPlugin=Fs.registerPlugin;Ne.deregisterPlugin=Fs.deregisterPlugin;Ne.plugin=(t,e)=>(Jt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Fs.registerPlugin(t,e));Ne.getPlugins=Fs.getPlugins;Ne.getPlugin=Fs.getPlugin;Ne.getPluginVersion=Fs.getPluginVersion;Ne.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Ne.options.languages=Ei(Ne.options.languages,{[t]:e}),Ne.options.languages[t]};Ne.log=Jt;Ne.createLogger=fI;Ne.time=NQ;Ne.createTimeRange=Hr(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Or);Ne.createTimeRanges=Hr(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Or);Ne.formatTime=Hr(9,"videojs.formatTime","videojs.time.formatTime",cu);Ne.setFormatTime=Hr(9,"videojs.setFormatTime","videojs.time.setFormatTime",zI);Ne.resetFormatTime=Hr(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",KI);Ne.parseUrl=Hr(9,"videojs.parseUrl","videojs.url.parseUrl",GC);Ne.isCrossOrigin=Hr(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Y0);Ne.EventTarget=ir;Ne.any=$C;Ne.on=tr;Ne.one=q0;Ne.off=Zn;Ne.trigger=ed;Ne.xhr=Jk;Ne.TextTrack=af;Ne.AudioTrack=YI;Ne.VideoTrack=XI;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Ne[t]=function(){return Jt.warn("videojs.".concat(t,"() is deprecated; use videojs.dom.").concat(t,"() instead")),RI[t].apply(null,arguments)}});Ne.computedStyle=Hr(9,"videojs.computedStyle","videojs.dom.computedStyle",Qc);Ne.dom=RI;Ne.fn=PQ;Ne.num=mV;Ne.str=OQ;Ne.url=qQ;Ne.Error=VV;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class $V{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(s){i.enabled_(s)}}),i}}class Hm extends Ne.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const s=this.levels_.length;return i=new $V(e),""+s in this||Object.defineProperty(this,s,{get(){return this.levels_[s]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let s=0,n=this.length;s<n;s++)if(this[s]===e){i=this.levels_.splice(s,1)[0],this.selectedIndex_===s?this.selectedIndex_=-1:this.selectedIndex_>s&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,s=this.length;i<s;i++){const n=this[i];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Hm.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in Hm.prototype.allowedEvents_)Hm.prototype["on"+t]=null;var DD="4.1.0";const jV=function(t,e){const i=t.qualityLevels,s=new Hm,n=function(){s.dispose(),t.qualityLevels=i,t.off("dispose",n)};return t.on("dispose",n),t.qualityLevels=()=>s,t.qualityLevels.VERSION=DD,s},FD=function(t){return jV(this,Ne.obj.merge({},t))};Ne.registerPlugin("qualityLevels",FD);FD.VERSION=DD;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */const ks=L0,Qm=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Tr=t=>Ne.log.debug?Ne.log.debug.bind(Ne,"VHS:","".concat(t," >")):function(){};function vi(...t){const e=Ne.obj||Ne;return(e.merge||e.mergeOptions).apply(e,t)}function Fn(...t){const e=Ne.time||Ne;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function zV(t){if(t.length===0)return"Buffered Ranges are empty";let e="Buffered Ranges: \n";for(let i=0;i<t.length;i++){const s=t.start(i),n=t.end(i);e+="".concat(s," --> ").concat(n,". Duration (").concat(n-s,")\n")}return e}const so=1/30,ro=so*3,PD=function(t,e){const i=[];let s;if(t&&t.length)for(s=0;s<t.length;s++)e(t.start(s),t.end(s))&&i.push([t.start(s),t.end(s)]);return Fn(i)},oc=function(t,e){return PD(t,function(i,s){return i-ro<=e&&s+ro>=e})},Tp=function(t,e){return PD(t,function(i){return i-so>=e})},KV=function(t){if(t.length<2)return Fn();const e=[];for(let i=1;i<t.length;i++){const s=t.end(i-1),n=t.start(i);e.push([s,n])}return Fn(e)},GV=function(t,e){let i=null,s=null,n=0;const r=[],o=[];if(!t||!t.length||!e||!e.length)return Fn();let a=t.length;for(;a--;)r.push({time:t.start(a),type:"start"}),r.push({time:t.end(a),type:"end"});for(a=e.length;a--;)r.push({time:e.start(a),type:"start"}),r.push({time:e.end(a),type:"end"});for(r.sort(function(l,u){return l.time-u.time}),a=0;a<r.length;a++)r[a].type==="start"?(n++,n===2&&(i=r[a].time)):r[a].type==="end"&&(n--,n===1&&(s=r[a].time)),i!==null&&s!==null&&(o.push([i,s]),i=null,s=null);return Fn(o)},LD=t=>{const e=[];if(!t||!t.length)return"";for(let i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},qV=function(t,e,i=1){return((t.length?t.end(t.length-1):0)-e)/i},jl=t=>{const e=[];for(let i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},WV=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},ay=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},c2=function(t,e){let i=0;if(!t||!t.length)return i;for(let s=0;s<t.length;s++){const n=t.start(s),r=t.end(s);if(!(e>r)){if(e>n&&e<=r){i+=r-e;continue}i+=r-n}}return i},d2=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(s){i+=s.duration}),(e.preloadHints||[]).forEach(function(s){s.type==="PART"&&(i+=t.partTargetDuration)}),i},Y1=t=>(t.segments||[]).reduce((e,i,s)=>(i.parts?i.parts.forEach(function(n,r){e.push({duration:n.duration,segmentIndex:s,partIndex:r,part:n,segment:i})}):e.push({duration:i.duration,segmentIndex:s,partIndex:null,segment:i,part:null}),e),[]),RD=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},MD=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:i}=t;let s=(i||[]).reduce((n,r)=>n+(r.type==="PART"?1:0),0);return s+=e&&e.length?e.length:0,s},OD=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const i=RD(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},YV=function(t,e){let i=0,s=e-t.mediaSequence,n=t.segments[s];if(n){if(typeof n.start<"u")return{result:n.start,precise:!0};if(typeof n.end<"u")return{result:n.end-n.duration,precise:!0}}for(;s--;){if(n=t.segments[s],typeof n.end<"u")return{result:i+n.end,precise:!0};if(i+=d2(t,n),typeof n.start<"u")return{result:i+n.start,precise:!0}}return{result:i,precise:!1}},XV=function(t,e){let i=0,s,n=e-t.mediaSequence;for(;n<t.segments.length;n++){if(s=t.segments[n],typeof s.start<"u")return{result:s.start-i,precise:!0};if(i+=d2(t,s),typeof s.end<"u")return{result:s.end-i,precise:!0}}return{result:-1,precise:!1}},UD=function(t,e,i){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const s=YV(t,e);if(s.precise)return s.result;const n=XV(t,e);return n.precise?n.result:s.result+i},ND=function(t,e,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return be.Infinity}return UD(t,e,i)},hA=function({defaultDuration:t,durationList:e,startIndex:i,endIndex:s}){let n=0;if(i>s&&([i,s]=[s,i]),i<0){for(let r=i;r<Math.min(0,s);r++)n+=t;i=0}for(let r=i;r<s;r++)n+=e[r].duration;return n},HD=function(t,e,i,s){if(!t||!t.segments)return null;if(t.endList)return ND(t);if(e===null)return null;e=e||0;let n=UD(t,t.mediaSequence+t.segments.length,e);return i&&(s=typeof s=="number"?s:OD(null,t),n-=s),Math.max(0,n)},JV=function(t,e,i){const n=e||0;let r=HD(t,e,!0,i);return r===null?Fn():(r<n&&(r=n),Fn(n,r))},ZV=function({playlist:t,currentTime:e,startingSegmentIndex:i,startingPartIndex:s,startTime:n,exactManifestTimings:r}){let o=e-n;const a=Y1(t);let l=0;for(let u=0;u<a.length;u++){const c=a[u];if(i===c.segmentIndex&&!(typeof s=="number"&&typeof c.partIndex=="number"&&s!==c.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const c=a[u];if(o+=c.duration,r){if(o<0)continue}else if(o+so<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n-hA({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<a.length;u++){const c=a[u];o-=c.duration;const h=c.duration>so,A=o===0,f=h&&o+so>=0;if(!((A||f)&&u!==a.length-1)){if(r){if(o>0)continue}else if(o-so>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n+hA({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},QD=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},h2=function(t){return t.excludeUntil&&t.excludeUntil===1/0},eb=function(t){const e=QD(t);return!t.disabled&&!e},e$=function(t){return t.disabled},t$=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},VD=function(t,e){return e.attributes&&e.attributes[t]},i$=function(t,e,i,s=0){return VD("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-s*8)/e:NaN},X1=(t,e)=>{if(t.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(s=>eb(s)?(s.attributes.BANDWIDTH||0)<i:!1).length===0},A2=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),TT=function(t,e){const i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let s=!1;for(const n in i){for(const r in i[n])if(s=e(i[n][r]),s)break;if(s)break}return!!s},df=t=>{if(!t||!t.playlists||!t.playlists.length)return TT(t,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<t.playlists.length;e++){const i=t.playlists[e],s=i.attributes&&i.attributes.CODECS;if(!(s&&s.split(",").every(r=>tI(r))||TT(t,r=>A2(i,r))))return!1}return!0};var Is={liveEdgeDelay:OD,duration:ND,seekable:JV,getMediaInfoForTime:ZV,isEnabled:eb,isDisabled:e$,isExcluded:QD,isIncompatible:h2,playlistEnd:HD,isAes:t$,hasAttribute:VD,estimateSegmentRequestTime:i$,isLowestEnabledRendition:X1,isAudioOnly:df,playlistMatch:A2,segmentDurationWithParts:d2};const{log:$D}=Ne,wc=(t,e)=>"".concat(t,"-").concat(e),jD=(t,e,i)=>"placeholder-uri-".concat(t,"-").concat(e,"-").concat(i),n$=({onwarn:t,oninfo:e,manifestString:i,customTagParsers:s=[],customTagMappers:n=[],llhls:r})=>{const o=new VN;t&&o.on("warn",t),e&&o.on("info",e),s.forEach(u=>o.addParser(u)),n.forEach(u=>o.addTagMapper(u)),o.push(i),o.end();const a=o.manifest;if(r||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((c,h)=>Math.max(c,h.duration),0)),t&&t({message:"manifest has no targetDuration defaulting to ".concat(u)}),a.targetDuration=u}const l=RD(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((c,h)=>Math.max(c,h.duration),0);t&&(t({message:"manifest has no partTargetDuration defaulting to ".concat(u)}),$D.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},sd=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(t.mediaGroups[i])for(const s in t.mediaGroups[i])for(const n in t.mediaGroups[i][s]){const r=t.mediaGroups[i][s][n];e(r,i,s,n)}})},zD=({playlist:t,uri:e,id:i})=>{t.id=i,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},s$=t=>{let e=t.playlists.length;for(;e--;){const i=t.playlists[e];zD({playlist:i,id:wc(e,i.uri)}),i.resolvedUri=ks(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||$D.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},r$=t=>{sd(t,e=>{e.uri&&(e.resolvedUri=ks(t.uri,e.uri))})},o$=(t,e)=>{const i=wc(0,e),s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:be.location.href,resolvedUri:be.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return s.playlists[i]=s.playlists[0],s.playlists[e]=s.playlists[0],s},KD=(t,e,i=jD)=>{t.uri=e;for(let n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){const r="placeholder-uri-".concat(n);t.playlists[n].uri=r}const s=df(t);sd(t,(n,r,o,a)=>{if(!n.playlists||!n.playlists.length){if(s&&r==="AUDIO"&&!n.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}n.playlists=[ln({},n)]}n.playlists.forEach(function(l,u){const c=i(r,o,a,l),h=wc(u,c);l.uri?l.resolvedUri=l.resolvedUri||ks(t.uri,l.uri):(l.uri=u===0?c:h,l.resolvedUri=l.uri),l.id=l.id||h,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),s$(t),r$(t)};class _T{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,s=i.startDate.getTime();this.trimProcessedDateRanges_(s),this.pendingDateRanges_=e.reduce((n,r)=>(n.set(r.id,r),n),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((s,n)=>{if(!this.processedDateRanges_.has(n)&&(s.startTime=s.startDate.getTime()/1e3-this.offset_,s.processDateRange=()=>this.processDateRange(s),i.push(s),!!s.class))if(e[s.class]){const r=e[s.class].push(s);s.classListIndex=r-1}else e[s.class]=[s],s.classListIndex=0});for(const s of i){const n=e[s.class]||[];s.endDate?s.endTime=s.endDate.getTime()/1e3-this.offset_:s.endOnNext&&n[s.classListIndex+1]?s.endTime=n[s.classListIndex+1].startTime:s.duration?s.endTime=s.startTime+s.duration:s.plannedDuration?s.endTime=s.startTime+s.plannedDuration:s.endTime=s.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((s,n)=>{s.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}}const GD=22,eu=({requestType:t,request:e,error:i,parseFailure:s})=>{const n=e.status<200||e.status>299,r=e.status>=400&&e.status<=499,o={uri:e.uri,requestType:t},a=n&&!r||s;if(i&&r)o.error=ln({},i),o.errorType=Ne.Error.NetworkRequestFailed;else if(e.aborted)o.errorType=Ne.Error.NetworkRequestAborted;else if(e.timedout)o.erroType=Ne.Error.NetworkRequestTimeout;else if(a){const l=s?Ne.Error.NetworkBodyParserFailed:Ne.Error.NetworkBadStatus;o.errorType=l,o.status=e.status,o.headers=e.headers}return o},{EventTarget:a$}=Ne,l$=(t,e)=>{if(e.endList||!e.serverControl)return t;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:s}=e;let n=e.mediaSequence+e.segments.length;if(s){const r=s.parts||[],o=MD(e)-1;o>-1&&o!==r.length-1&&(i._HLS_part=o),(o>-1||r.length)&&n--}i._HLS_msn=n}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const s=new be.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(n){i.hasOwnProperty(n)&&s.searchParams.set(n,i[n])}),t=s.toString()}return t},u$=(t,e)=>{if(!t)return e;const i=vi(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(let s=0;s<e.parts.length;s++)t.parts&&t.parts[s]&&(i.parts[s]=vi(t.parts[s],e.parts[s]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},c$=(t,e,i)=>{const s=t.slice(),n=e.slice();i=i||0;const r=[];let o;for(let a=0;a<n.length;a++){const l=s[a+i],u=n[a];l?(o=l.map||o,r.push(u$(l,u))):(o&&!u.map&&(u.map=o),r.push(u))}return r},qD=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=ks(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=ks(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=ks(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=ks(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=ks(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=ks(e,i.uri))})},WD=function(t){const e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let s=0;s<i.preloadHints.length;s++)if(i.preloadHints[s].type==="MAP")return e}i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},YD=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,J1=(t,e,i=YD)=>{const s=vi(t,{}),n=s.playlists[e.id];if(!n||i(n,e))return null;e.segments=WD(e);const r=vi(n,e);if(r.preloadSegment&&!e.preloadSegment&&delete r.preloadSegment,n.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}r.segments=c$(n.segments,e.segments,e.mediaSequence-n.mediaSequence)}r.segments.forEach(o=>{qD(o,r.resolvedUri)});for(let o=0;o<s.playlists.length;o++)s.playlists[o].id===e.id&&(s.playlists[o]=r);return s.playlists[e.id]=r,s.playlists[e.uri]=r,sd(t,(o,a,l,u)=>{if(o.playlists)for(let c=0;c<o.playlists.length;c++)e.id===o.playlists[c].id&&(o.playlists[c]=r)}),s},Z1=(t,e)=>{const i=t.segments||[],s=i[i.length-1],n=s&&s.parts&&s.parts[s.parts.length-1],r=n&&n.duration||s&&s.duration;return e&&r?r*1e3:(t.partTargetDuration||t.targetDuration||10)*500},ST=(t,e,i)=>{if(!t)return;const s=[];return t.forEach(n=>{if(!n.attributes)return;const{BANDWIDTH:r,RESOLUTION:o,CODECS:a}=n.attributes;s.push({id:n.id,bandwidth:r,resolution:o,codecs:a})}),{type:e,isLive:i,renditions:s}};class ac extends a${constructor(e,i,s={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Tr("PlaylistLoader");const{withCredentials:n=!1}=s;this.src=e,this.vhs_=i,this.withCredentials=n,this.addDateRangesToTextTrack_=s.addDateRangesToTextTrack;const r=i.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new _T,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=ks(this.main.uri,e.uri);this.llhls&&(i=l$(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials,requestType:"hls-playlist"},(s,n)=>{if(this.request){if(s)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,s){const{uri:n,id:r}=i;this.request=null,s&&(this.state=s),this.error={playlist:this.main.playlists[r],status:e.status,message:"HLS playlist request error at URL: ".concat(n,"."),responseText:e.responseText,code:e.status>=500?4:2,metadata:eu({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:i}){try{return n$({onwarn:({message:s})=>this.logger_("m3u8-parser warn for ".concat(e,": ").concat(s)),oninfo:({message:s})=>this.logger_("m3u8-parser info for ".concat(e,": ").concat(s)),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(s){this.error=s,this.error.metadata={errorType:Ne.Error.StreamingHlsPlaylistParserError,error:s}}}haveMetadata({playlistString:e,playlistObject:i,url:s,id:n}){this.request=null,this.state="HAVE_METADATA";const r={playlistInfo:{type:"media",uri:s}};this.trigger({type:"playlistparsestart",metadata:r});const o=i||this.parseManifest_({url:s,manifestString:e});o.lastRequest=Date.now(),zD({playlist:o,uri:s,id:n});const a=J1(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Z1(this.media(),!!a)),r.parsedPlaylist=ST(this.main.playlists,r.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:r}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),be.clearTimeout(this.mediaUpdateTimeout),be.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new _T,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(be.clearTimeout(this.finalRenditionTimeout),i){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=be.setTimeout(this.media.bind(this,e,!1),a);return}const s=this.state,n=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),s==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Z1(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const o={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:o}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Qm(e.resolvedUri,l),a)return this.playlistRequestError(this.request,e,s);this.trigger({type:"playlistrequestcomplete",metadata:o}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),s==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(be.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(be.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const s=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=be.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},s);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(be.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=be.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=be.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,s)=>{if(!this.request)return;if(this.request=null,i)return this.error={status:s.status,message:"HLS playlist request error at URL: ".concat(this.src,"."),responseText:s.responseText,code:2,metadata:eu({requestType:s.requestType,request:s,error:i})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=Qm(this.src,s),this.trigger({type:"playlistparsestart",metadata:e});const n=this.parseManifest_({manifestString:s.responseText,url:this.src});e.parsedPlaylist=ST(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,KD(this.main,this.srcUri()),e.playlists.forEach(s=>{s.segments=WD(s),s.segments.forEach(n=>{qD(n,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||be.location.href;this.main=o$(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,i){const s=this.main,n=e.ID;let r=s.playlists.length;for(;r--;){const o=s.playlists[r];if(o.attributes["PATHWAY-ID"]===n){const a=o.resolvedUri,l=o.id;if(i){const u=this.createCloneURI_(o.resolvedUri,e),c=wc(n,u),h=this.createCloneAttributes_(n,o.attributes),A=this.createClonePlaylist_(o,c,e,h);s.playlists[r]=A,s.playlists[c]=A,s.playlists[u]=A}else s.playlists.splice(r,1);delete s.playlists[l],delete s.playlists[a]}}this.updateOrDeleteCloneMedia(e,i)}updateOrDeleteCloneMedia(e,i){const s=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{if(!(!s.mediaGroups[r]||!s.mediaGroups[r][n])){for(const o in s.mediaGroups[r])if(o===n){for(const a in s.mediaGroups[r][o])s.mediaGroups[r][o][a].playlists.forEach((u,c)=>{const h=s.playlists[u.id],A=h.id,f=h.resolvedUri;delete s.playlists[A],delete s.playlists[f]});delete s.mediaGroups[r][o]}}}),i&&this.createClonedMediaGroups_(e)}addClonePathway(e,i={}){const s=this.main,n=s.playlists.length,r=this.createCloneURI_(i.resolvedUri,e),o=wc(e.ID,r),a=this.createCloneAttributes_(e.ID,i.attributes),l=this.createClonePlaylist_(i,o,e,a);s.playlists[n]=l,s.playlists[o]=l,s.playlists[r]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const i=e.ID,s=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{if(!(!n.mediaGroups[r]||n.mediaGroups[r][i]))for(const o in n.mediaGroups[r]){if(o===s)n.mediaGroups[r][i]={};else continue;for(const a in n.mediaGroups[r][o]){const l=n.mediaGroups[r][o][a];n.mediaGroups[r][i][a]=ln({},l);const u=n.mediaGroups[r][i][a],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((h,A)=>{const f=n.playlists[h.id],m=jD(r,i,a),p=wc(i,m);if(f&&!n.playlists[p]){const x=this.createClonePlaylist_(f,p,e),C=x.resolvedUri;n.playlists[p]=x,n.playlists[C]=x}u.playlists[A]=this.createClonePlaylist_(h,p,e)})}}})}createClonePlaylist_(e,i,s,n){const r=this.createCloneURI_(e.resolvedUri,s),o={resolvedUri:r,uri:r,id:i};return e.segments&&(o.segments=[]),n&&(o.attributes=n),vi(e,o)}createCloneURI_(e,i){const s=new URL(e);s.hostname=i["URI-REPLACEMENT"].HOST;const n=i["URI-REPLACEMENT"].PARAMS;for(const r of Object.keys(n))s.searchParams.set(r,n[r]);return s.href}createCloneAttributes_(e,i){const s={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{i[n]&&(s[n]=e)}),s}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const s in e.contentProtection){const n=e.contentProtection[s].attributes.keyId;n&&i.add(n.toLowerCase())}return i}}}const ew=function(t,e,i,s){const n=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(n||t.responseText)))),s(e,t)},d$=(t,e)=>{if(!t||!t.size)return;let i=e;return t.forEach(s=>{i=s(i)}),i},h$=(t,e,i,s)=>{!t||!t.size||t.forEach(n=>{n(e,i,s)})},XD=function(){const t=function e(i,s){i=vi({timeout:45e3},i);const n=e.beforeRequest||Ne.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||Ne.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||Ne.Vhs.xhr._responseCallbackSet;n&&typeof n=="function"&&(Ne.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(n));const a=Ne.Vhs.xhr.original===!0?Ne.xhr:Ne.Vhs.xhr,l=d$(r,i);r.delete(n);const u=a(l||i,function(h,A){return h$(o,u,h,A),ew(u,h,A,s)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=i.uri,u.requestType=i.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},A$=function(t){let e;const i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=be.BigInt(t.offset)+be.BigInt(t.length)-be.BigInt(1):e=t.offset+t.length-1,"bytes="+i+"-"+e},tw=function(t){const e={};return t.byterange&&(e.Range=A$(t.byterange)),e},f$=function(t,e){return t.start(e)+"-"+t.end(e)},p$=function(t,e){const i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},g$=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},JD=function(t){const e={};return Object.keys(t).forEach(i=>{const s=t[i];nI(s)?e[i]={bytes:s.buffer,byteOffset:s.byteOffset,byteLength:s.byteLength}:e[i]=s}),e},Vm=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},ZD=function(t){return t.resolvedUri},eF=t=>{const e=Array.prototype.slice.call(t),i=16;let s="",n,r;for(let o=0;o<e.length/i;o++)n=e.slice(o*i,o*i+i).map(p$).join(""),r=e.slice(o*i,o*i+i).map(g$).join(""),s+=n+" "+r+"\n";return s},m$=({bytes:t})=>eF(t),b$=t=>{let e="",i;for(i=0;i<t.length;i++)e+=f$(t,i)+" ";return e};var v$=Object.freeze({__proto__:null,createTransferableMessage:JD,initSegmentId:Vm,segmentKeyId:ZD,hexDump:eF,tagDump:m$,textRanges:b$});const tF=.25,y$=(t,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart+i,r=t-n;return new Date(e.dateTimeObject.getTime()+r*1e3)},w$=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,C$=(t,e)=>{let i;try{i=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let s=e.segments[0];if(i<new Date(s.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){s=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(i<u)break}const n=e.segments[e.segments.length-1],r=n.dateTimeObject,o=n.videoTimingInfo?w$(n.videoTimingInfo):n.duration+n.duration*tF,a=new Date(r.getTime()+o*1e3);return i>a?null:(i>new Date(r)&&(s=n),{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:Is.duration(e,e.mediaSequence+e.segments.indexOf(s)),type:s.videoTimingInfo?"accurate":"estimate"})},E$=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,s;for(let r=0;r<e.segments.length&&(s=e.segments[r],i=s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:i+s.duration,!(t<=i));r++);const n=e.segments[e.segments.length-1];if(n.videoTimingInfo&&n.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+n.duration*tF)return null;s=n}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:i-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}},x$=(t,e)=>{let i,s;try{i=new Date(t),s=new Date(e)}catch{}const n=i.getTime();return(s.getTime()-n)/1e3},T$=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},_$=({playlist:t,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const s=E$(e,t);if(!s)return i({message:"valid programTime was not found"});if(s.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});const n={mediaSeconds:e},r=y$(e,s.segment);return r&&(n.programDateTime=r.toISOString()),i(null,n)},iF=({programTime:t,playlist:e,retryCount:i=2,seekTo:s,pauseAfterSeek:n=!0,tech:r,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!s)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!r.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!T$(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=C$(t,e);if(!a)return o({message:"".concat(t," was not found in the stream")});const l=a.segment,u=x$(l.dateTimeObject,t);if(a.type==="estimate"){if(i===0)return o({message:"".concat(t," is not buffered yet. Try again")});s(a.estimatedStart+u),r.one("seeked",()=>{iF({programTime:t,playlist:e,retryCount:i-1,seekTo:s,pauseAfterSeek:n,tech:r,callback:o})});return}const c=l.start+u,h=()=>o(null,r.currentTime());r.one("seeked",h),n&&r.pause(),s(c)},ly=(t,e)=>{if(t.readyState===4)return e()},S$=(t,e,i,s)=>{let n=[],r,o=!1;const a=function(h,A,f,m){return A.abort(),o=!0,i(h,A,f,m)},l=function(h,A){if(o)return;if(h)return h.metadata=eu({requestType:s,request:A,error:h}),a(h,A,"",n);const f=A.responseText.substring(n&&n.byteLength||0,A.responseText.length);if(n=eH(n,sI(f,!0)),r=r||Ph(n),n.length<10||r&&n.length<r+2)return ly(A,()=>a(h,A,"",n));const m=UC(n);return m==="ts"&&n.length<188?ly(A,()=>a(h,A,"",n)):!m&&n.length<376?ly(A,()=>a(h,A,"",n)):a(null,A,m,n)},c=e({uri:t,beforeSend(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function({total:A,loaded:f}){return ew(h,null,{statusCode:h.status},l)})}},function(h,A){return ew(c,h,A,l)});return c},{EventTarget:B$}=Ne,BT=function(t,e){if(!YD(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let i=0;i<t.segments.length;i++){const s=t.segments[i],n=e.segments[i];if(s.uri!==n.uri)return!1;if(!s.byterange&&!n.byterange)continue;const r=s.byterange,o=n.byterange;if(r&&!o||!r&&o||r.offset!==o.offset||r.length!==o.length)return!1}return!0},k$=(t,e,i,s)=>{const n=s.attributes.NAME||i;return"placeholder-uri-".concat(t,"-").concat(e,"-").concat(n)},I$=({mainXml:t,srcUrl:e,clientOffset:i,sidxMapping:s,previousManifest:n})=>{const r=JH(t,{manifestUri:e,clientOffset:i,sidxMapping:s,previousManifest:n});return KD(r,e,k$),r},D$=(t,e)=>{sd(t,(i,s,n,r)=>{(!e.mediaGroups[s][n]||!(r in e.mediaGroups[s][n]))&&delete t.mediaGroups[s][n][r]})},F$=(t,e,i)=>{let s=!0,n=vi(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let r=0;r<e.playlists.length;r++){const o=e.playlists[r];if(o.sidx){const l=M0(o.sidx);i&&i[l]&&i[l].sidx&&RC(o,i[l].sidx,o.sidx.resolvedUri)}const a=J1(n,o,BT);a&&(n=a,s=!1)}return sd(e,(r,o,a,l)=>{if(r.playlists&&r.playlists.length){const u=r.playlists[0].id,c=J1(n,r.playlists[0],BT);c&&(n=c,l in n.mediaGroups[o][a]||(n.mediaGroups[o][a][l]=r),n.mediaGroups[o][a][l].playlists[0]=n.playlists[u],s=!1)}}),D$(n,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(s=!1),s?null:n},P$=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,kT=(t,e)=>{const i={};for(const s in t){const r=t[s].sidx;if(r){const o=M0(r);if(!e[o])break;const a=e[o].sidxInfo;P$(a,r)&&(i[o]=e[o])}}return i},L$=(t,e)=>{let s=kT(t.playlists,e);return sd(t,(n,r,o,a)=>{if(n.playlists&&n.playlists.length){const l=n.playlists;s=vi(s,kT(l,e))}}),s};class iw extends B${constructor(e,i,s={},n){super(),this.isPaused_=!0,this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:r=!1}=s;if(this.vhs_=i,this.withCredentials=r,this.addMetadataToTextTrack=s.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Tr("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,i,s){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2,metadata:e.metadata},s&&(this.state=s),this.trigger("error"),!0}addSidxSegments_(e,i,s){const n=e.sidx&&M0(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n]){be.clearTimeout(this.mediaRequest_),this.mediaRequest_=be.setTimeout(()=>s(!1),0);return}const r=Qm(e.sidx.resolvedUri),o=(l,u)=>{if(this.requestErrored_(l,u,i))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:h}=u;let A;try{A=nQ(xt(u.response).subarray(8))}catch(f){f.metadata=eu({requestType:h,request:u,parseFailure:!0}),this.requestErrored_(f,u,i);return}return c[n]={sidxInfo:e.sidx,sidx:A},RC(e,A,e.sidx.resolvedUri),s(!0)},a="dash-sidx";this.request=S$(r,this.vhs_.xhr,(l,u,c,h)=>{if(l)return o(l,u);if(!c||c!=="mp4"){const m=c||"unknown";return o({status:u.status,message:"Unsupported ".concat(m," container type for sidx segment at URL: ").concat(r),response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:A,length:f}=e.sidx.byterange;if(h.length>=f+A)return o(l,{response:h.subarray(A,A+f),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",requestType:"dash-sidx",headers:tw({byterange:e.sidx.byterange})},o)},a)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},be.clearTimeout(this.minimumUpdatePeriodTimeout_),be.clearTimeout(this.mediaRequest_),be.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const s=!this.media_||e.id!==this.media_.id;if(s&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}s&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,n=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,be.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),be.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(be.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,be.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const s=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=be.setTimeout(()=>this.load(),s);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){be.clearTimeout(this.mediaRequest_),this.mediaRequest_=be.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:i}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(s,n)=>{if(s){const{requestType:o}=n;s.metadata=eu({requestType:o,request:n,error:s})}if(this.requestErrored_(s,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:i});const r=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Qm(this.mainPlaylistLoader_.srcUrl,n),r){this.handleMain_(),this.syncClientServerClock_(()=>e(n,r));return}return e(n,r)})}syncClientServerClock_(e){const i=ZH(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:ks(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(s,n)=>{if(!this.request)return;if(s){const{requestType:o}=n;return this.error.metadata=eu({requestType:o,request:n,error:s}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let r;i.method==="HEAD"?!n.responseHeaders||!n.responseHeaders.date?r=this.mainLoaded_:r=Date.parse(n.responseHeaders.date):r=Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){be.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:i});let s;try{s=I$({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(r){this.error=r,this.error.metadata={errorType:Ne.Error.StreamingDashManifestParserError,error:r},this.trigger("error")}e&&(s=F$(e,s,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=s||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||s&&s.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(s),s){const{duration:r,endList:o}=s,a=[];s.playlists.forEach(u=>{a.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:r,isLive:!o,renditions:a};i.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:i})}return!!s}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(be.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_("found invalid minimumUpdatePeriod of ".concat(i,", not setting a timeout"));return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=be.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=L$(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,s=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,s=!this.media_||this.media_!==i[e];if(s?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const n=()=>{this.media().endList||(this.mediaUpdateTimeout=be.setTimeout(()=>{this.trigger("mediaupdatetimeout"),n()},Z1(this.media(),!!s)))};n()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(s=>({cueTime:s.start,frames:[{data:s.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const s in e.contentProtection){const n=e.contentProtection[s].attributes["cenc:default_KID"];n&&i.add(n.replace(/-/g,"").toLowerCase())}return i}}}var kn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const R$=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},nF=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},M$=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},sF=function(t){return function(){const e=M$(t),i=nF(new Worker(e));i.objURL=e;const s=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),s.call(this)},i}},rF=function(t){return"var browserWorkerPolyFill = ".concat(nF.toString(),";\n")+"browserWorkerPolyFill(self);\n"+t},oF=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},O$=rF(oF(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var v={};this.on=function(D,M){v[D]||(v[D]=[]),v[D]=v[D].concat(M)},this.off=function(D,M){var L;return v[D]?(L=v[D].indexOf(M),v[D]=v[D].slice(),v[D].splice(L,1),L>-1):!1},this.trigger=function(D){var M,L,H,K;if(M=v[D],!!M)if(arguments.length===2)for(H=M.length,L=0;L<H;++L)M[L].call(this,arguments[1]);else{for(K=[],L=arguments.length,L=1;L<arguments.length;++L)K.push(arguments[L]);for(H=M.length,L=0;L<H;++L)M[L].apply(this,K)}},this.dispose=function(){v={}}}};e.prototype.pipe=function(v){return this.on("data",function(D){v.push(D)}),this.on("done",function(D){v.flush(D)}),this.on("partialdone",function(D){v.partialFlush(D)}),this.on("endedtimeline",function(D){v.endTimeline(D)}),this.on("reset",function(D){v.reset(D)}),v},e.prototype.push=function(v){this.trigger("data",v)},e.prototype.flush=function(v){this.trigger("done",v)},e.prototype.partialFlush=function(v){this.trigger("partialdone",v)},e.prototype.endTimeline=function(v){this.trigger("endedtimeline",v)},e.prototype.reset=function(v){this.trigger("reset",v)};var i=e,s=Math.pow(2,32),n=function(v){var D=new DataView(v.buffer,v.byteOffset,v.byteLength),M;return D.getBigUint64?(M=D.getBigUint64(0),M<Number.MAX_SAFE_INTEGER?Number(M):M):D.getUint32(0)*s+D.getUint32(4)},r={getUint64:n,MAX_UINT32:s},o=r.MAX_UINT32,a,l,u,c,h,A,f,m,p,x,C,g,w,S,I,O,U,$,k,P,T,R,E,_,F,V,Q,G,Y,ee,W,ge,ce,we,Ce,Oe;(function(){var v;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(v in E)E.hasOwnProperty(v)&&(E[v]=[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]);_=new Uint8Array([105,115,111,109]),V=new Uint8Array([97,118,99,49]),F=new Uint8Array([0,0,0,1]),Q=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),G=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Y={video:Q,audio:G},ge=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),W=new Uint8Array([0,0,0,0,0,0,0,0]),ce=new Uint8Array([0,0,0,0,0,0,0,0]),we=ce,Ce=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Oe=ce,ee=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(v){var D=[],M=0,L,H,K;for(L=1;L<arguments.length;L++)D.push(arguments[L]);for(L=D.length;L--;)M+=D[L].byteLength;for(H=new Uint8Array(M+8),K=new DataView(H.buffer,H.byteOffset,H.byteLength),K.setUint32(0,H.byteLength),H.set(v,4),L=0,M=8;L<D.length;L++)H.set(D[L],M),M+=D[L].byteLength;return H},l=function(){return a(E.dinf,a(E.dref,ge))},u=function(v){return a(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},c=function(){return a(E.ftyp,_,F,_,V)},O=function(v){return a(E.hdlr,Y[v])},h=function(v){return a(E.mdat,v)},I=function(v){var D=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,v.duration&255,85,196,0,0]);return v.samplerate&&(D[12]=v.samplerate>>>24&255,D[13]=v.samplerate>>>16&255,D[14]=v.samplerate>>>8&255,D[15]=v.samplerate&255),a(E.mdhd,D)},S=function(v){return a(E.mdia,I(v),O(v.type),f(v))},A=function(v){return a(E.mfhd,new Uint8Array([0,0,0,0,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255]))},f=function(v){return a(E.minf,v.type==="video"?a(E.vmhd,ee):a(E.smhd,W),l(),$(v))},m=function(v,D){for(var M=[],L=D.length;L--;)M[L]=P(D[L]);return a.apply(null,[E.moof,A(v)].concat(M))},p=function(v){for(var D=v.length,M=[];D--;)M[D]=g(v[D]);return a.apply(null,[E.moov,C(4294967295)].concat(M).concat(x(v)))},x=function(v){for(var D=v.length,M=[];D--;)M[D]=T(v[D]);return a.apply(null,[E.mvex].concat(M))},C=function(v){var D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(E.mvhd,D)},U=function(v){var D=v.samples||[],M=new Uint8Array(4+D.length),L,H;for(H=0;H<D.length;H++)L=D[H].flags,M[H+4]=L.dependsOn<<4|L.isDependedOn<<2|L.hasRedundancy;return a(E.sdtp,M)},$=function(v){return a(E.stbl,k(v),a(E.stts,Oe),a(E.stsc,we),a(E.stsz,Ce),a(E.stco,ce))},function(){var v,D;k=function(M){return a(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),M.type==="video"?v(M):D(M))},v=function(M){var L=M.sps||[],H=M.pps||[],K=[],ue=[],he,me;for(he=0;he<L.length;he++)K.push((L[he].byteLength&65280)>>>8),K.push(L[he].byteLength&255),K=K.concat(Array.prototype.slice.call(L[he]));for(he=0;he<H.length;he++)ue.push((H[he].byteLength&65280)>>>8),ue.push(H[he].byteLength&255),ue=ue.concat(Array.prototype.slice.call(H[he]));if(me=[E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(M.width&65280)>>8,M.width&255,(M.height&65280)>>8,M.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(E.avcC,new Uint8Array([1,M.profileIdc,M.profileCompatibility,M.levelIdc,255].concat([L.length],K,[H.length],ue))),a(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],M.sarRatio){var ve=M.sarRatio[0],Fe=M.sarRatio[1];me.push(a(E.pasp,new Uint8Array([(ve&4278190080)>>24,(ve&16711680)>>16,(ve&65280)>>8,ve&255,(Fe&4278190080)>>24,(Fe&16711680)>>16,(Fe&65280)>>8,Fe&255])))}return a.apply(null,me)},D=function(M){return a(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(M.channelcount&65280)>>8,M.channelcount&255,(M.samplesize&65280)>>8,M.samplesize&255,0,0,0,0,(M.samplerate&65280)>>8,M.samplerate&255,0,0]),u(M))}}(),w=function(v){var D=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,0,(v.duration&4278190080)>>24,(v.duration&16711680)>>16,(v.duration&65280)>>8,v.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(v.width&65280)>>8,v.width&255,0,0,(v.height&65280)>>8,v.height&255,0,0]);return a(E.tkhd,D)},P=function(v){var D,M,L,H,K,ue,he;return D=a(E.tfhd,new Uint8Array([0,0,0,58,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ue=Math.floor(v.baseMediaDecodeTime/o),he=Math.floor(v.baseMediaDecodeTime%o),M=a(E.tfdt,new Uint8Array([1,0,0,0,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255,he>>>24&255,he>>>16&255,he>>>8&255,he&255])),K=92,v.type==="audio"?(L=R(v,K),a(E.traf,D,M,L)):(H=U(v),L=R(v,H.length+K),a(E.traf,D,M,L,H))},g=function(v){return v.duration=v.duration||4294967295,a(E.trak,w(v),S(v))},T=function(v){var D=new Uint8Array([0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.type!=="video"&&(D[D.length-1]=0),a(E.trex,D)},function(){var v,D,M;M=function(L,H){var K=0,ue=0,he=0,me=0;return L.length&&(L[0].duration!==void 0&&(K=1),L[0].size!==void 0&&(ue=2),L[0].flags!==void 0&&(he=4),L[0].compositionTimeOffset!==void 0&&(me=8)),[0,0,K|ue|he|me,1,(L.length&4278190080)>>>24,(L.length&16711680)>>>16,(L.length&65280)>>>8,L.length&255,(H&4278190080)>>>24,(H&16711680)>>>16,(H&65280)>>>8,H&255]},D=function(L,H){var K,ue,he,me,ve,Fe;for(me=L.samples||[],H+=20+16*me.length,he=M(me,H),ue=new Uint8Array(he.length+me.length*16),ue.set(he),K=he.length,Fe=0;Fe<me.length;Fe++)ve=me[Fe],ue[K++]=(ve.duration&4278190080)>>>24,ue[K++]=(ve.duration&16711680)>>>16,ue[K++]=(ve.duration&65280)>>>8,ue[K++]=ve.duration&255,ue[K++]=(ve.size&4278190080)>>>24,ue[K++]=(ve.size&16711680)>>>16,ue[K++]=(ve.size&65280)>>>8,ue[K++]=ve.size&255,ue[K++]=ve.flags.isLeading<<2|ve.flags.dependsOn,ue[K++]=ve.flags.isDependedOn<<6|ve.flags.hasRedundancy<<4|ve.flags.paddingValue<<1|ve.flags.isNonSyncSample,ue[K++]=ve.flags.degradationPriority&61440,ue[K++]=ve.flags.degradationPriority&15,ue[K++]=(ve.compositionTimeOffset&4278190080)>>>24,ue[K++]=(ve.compositionTimeOffset&16711680)>>>16,ue[K++]=(ve.compositionTimeOffset&65280)>>>8,ue[K++]=ve.compositionTimeOffset&255;return a(E.trun,ue)},v=function(L,H){var K,ue,he,me,ve,Fe;for(me=L.samples||[],H+=20+8*me.length,he=M(me,H),K=new Uint8Array(he.length+me.length*8),K.set(he),ue=he.length,Fe=0;Fe<me.length;Fe++)ve=me[Fe],K[ue++]=(ve.duration&4278190080)>>>24,K[ue++]=(ve.duration&16711680)>>>16,K[ue++]=(ve.duration&65280)>>>8,K[ue++]=ve.duration&255,K[ue++]=(ve.size&4278190080)>>>24,K[ue++]=(ve.size&16711680)>>>16,K[ue++]=(ve.size&65280)>>>8,K[ue++]=ve.size&255;return a(E.trun,K)},R=function(L,H){return L.type==="audio"?v(L,H):D(L,H)}}();var de={ftyp:c,mdat:h,moof:m,moov:p,initSegment:function(v){var D=c(),M=p(v),L;return L=new Uint8Array(D.byteLength+M.byteLength),L.set(D),L.set(M,D.byteLength),L}},Te=function(v){var D,M,L=[],H=[];for(H.byteLength=0,H.nalCount=0,H.duration=0,L.byteLength=0,D=0;D<v.length;D++)M=v[D],M.nalUnitType==="access_unit_delimiter_rbsp"?(L.length&&(L.duration=M.dts-L.dts,H.byteLength+=L.byteLength,H.nalCount+=L.length,H.duration+=L.duration,H.push(L)),L=[M],L.byteLength=M.data.byteLength,L.pts=M.pts,L.dts=M.dts):(M.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(L.keyFrame=!0),L.duration=M.dts-L.dts,L.byteLength+=M.data.byteLength,L.push(M));return H.length&&(!L.duration||L.duration<=0)&&(L.duration=H[H.length-1].duration),H.byteLength+=L.byteLength,H.nalCount+=L.length,H.duration+=L.duration,H.push(L),H},xe=function(v){var D,M,L=[],H=[];for(L.byteLength=0,L.nalCount=0,L.duration=0,L.pts=v[0].pts,L.dts=v[0].dts,H.byteLength=0,H.nalCount=0,H.duration=0,H.pts=v[0].pts,H.dts=v[0].dts,D=0;D<v.length;D++)M=v[D],M.keyFrame?(L.length&&(H.push(L),H.byteLength+=L.byteLength,H.nalCount+=L.nalCount,H.duration+=L.duration),L=[M],L.nalCount=M.length,L.byteLength=M.byteLength,L.pts=M.pts,L.dts=M.dts,L.duration=M.duration):(L.duration+=M.duration,L.nalCount+=M.length,L.byteLength+=M.byteLength,L.push(M));return H.length&&L.duration<=0&&(L.duration=H[H.length-1].duration),H.byteLength+=L.byteLength,H.nalCount+=L.nalCount,H.duration+=L.duration,H.push(L),H},He=function(v){var D;return!v[0][0].keyFrame&&v.length>1&&(D=v.shift(),v.byteLength-=D.byteLength,v.nalCount-=D.nalCount,v[0][0].dts=D.dts,v[0][0].pts=D.pts,v[0][0].duration+=D.duration),v},$e=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},oe=function(v,D){var M=$e();return M.dataOffset=D,M.compositionTimeOffset=v.pts-v.dts,M.duration=v.duration,M.size=4*v.length,M.size+=v.byteLength,v.keyFrame&&(M.flags.dependsOn=2,M.flags.isNonSyncSample=0),M},Ae=function(v,D){var M,L,H,K,ue,he=D||0,me=[];for(M=0;M<v.length;M++)for(K=v[M],L=0;L<K.length;L++)ue=K[L],H=oe(ue,he),he+=H.size,me.push(H);return me},De=function(v){var D,M,L,H,K,ue,he=0,me=v.byteLength,ve=v.nalCount,Fe=me+4*ve,Ke=new Uint8Array(Fe),at=new DataView(Ke.buffer);for(D=0;D<v.length;D++)for(H=v[D],M=0;M<H.length;M++)for(K=H[M],L=0;L<K.length;L++)ue=K[L],at.setUint32(he,ue.data.byteLength),he+=4,Ke.set(ue.data,he),he+=ue.data.byteLength;return Ke},Ie=function(v,D){var M,L=D||0,H=[];return M=oe(v,L),H.push(M),H},Re=function(v){var D,M,L=0,H=v.byteLength,K=v.length,ue=H+4*K,he=new Uint8Array(ue),me=new DataView(he.buffer);for(D=0;D<v.length;D++)M=v[D],me.setUint32(L,M.data.byteLength),L+=4,he.set(M.data,L),L+=M.data.byteLength;return he},X={groupNalsIntoFrames:Te,groupFramesIntoGops:xe,extendFirstKeyFrame:He,generateSampleTable:Ae,concatenateNalData:De,generateSampleTableForFrame:Ie,concatenateNalDataForFrame:Re},ae=[33,16,5,32,164,27],le=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ye=function(v){for(var D=[];v--;)D.push(0);return D},ke=function(v){return Object.keys(v).reduce(function(D,M){return D[M]=new Uint8Array(v[M].reduce(function(L,H){return L.concat(H)},[])),D},{})},Qe,Ve=function(){if(!Qe){var v={96e3:[ae,[227,64],ye(154),[56]],88200:[ae,[231],ye(170),[56]],64e3:[ae,[248,192],ye(240),[56]],48e3:[ae,[255,192],ye(268),[55,148,128],ye(54),[112]],44100:[ae,[255,192],ye(268),[55,163,128],ye(84),[112]],32e3:[ae,[255,192],ye(268),[55,234],ye(226),[112]],24e3:[ae,[255,192],ye(268),[55,255,128],ye(268),[111,112],ye(126),[224]],16e3:[ae,[255,192],ye(268),[55,255,128],ye(268),[111,255],ye(269),[223,108],ye(195),[1,192]],12e3:[le,ye(268),[3,127,248],ye(268),[6,255,240],ye(268),[13,255,224],ye(268),[27,253,128],ye(259),[56]],11025:[le,ye(268),[3,127,248],ye(268),[6,255,240],ye(268),[13,255,224],ye(268),[27,255,192],ye(268),[55,175,128],ye(108),[112]],8e3:[le,ye(268),[3,121,16],ye(47),[7]]};Qe=ke(v)}return Qe},_e=9e4,Pe,Ye,lt,ut,Dt,At,Rt;Pe=function(v){return v*_e},Ye=function(v,D){return v*D},lt=function(v){return v/_e},ut=function(v,D){return v/D},Dt=function(v,D){return Pe(ut(v,D))},At=function(v,D){return Ye(lt(v),D)},Rt=function(v,D,M){return lt(M?v:v-D)};var pt={ONE_SECOND_IN_TS:_e,secondsToVideoTs:Pe,secondsToAudioTs:Ye,videoTsToSeconds:lt,audioTsToSeconds:ut,audioTsToVideoTs:Dt,videoTsToAudioTs:At,metadataTsToSeconds:Rt},yt=Ve,jt=pt,Tt=function(v){var D,M,L=0;for(D=0;D<v.length;D++)M=v[D],L+=M.data.byteLength;return L},ni=function(v,D,M,L){var H,K=0,ue=0,he=0,me=0,ve,Fe,Ke;if(D.length&&(H=jt.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),K=Math.ceil(jt.ONE_SECOND_IN_TS/(v.samplerate/1024)),M&&L&&(ue=H-Math.max(M,L),he=Math.floor(ue/K),me=he*K),!(he<1||me>jt.ONE_SECOND_IN_TS/2))){for(ve=yt()[v.samplerate],ve||(ve=D[0].data),Fe=0;Fe<he;Fe++)Ke=D[0],D.splice(0,0,{data:ve,dts:Ke.dts-K,pts:Ke.pts-K});return v.baseMediaDecodeTime-=Math.floor(jt.videoTsToAudioTs(me,v.samplerate)),me}},Pi=function(v,D,M){return D.minSegmentDts>=M?v:(D.minSegmentDts=1/0,v.filter(function(L){return L.dts>=M?(D.minSegmentDts=Math.min(D.minSegmentDts,L.dts),D.minSegmentPts=D.minSegmentDts,!0):!1}))},hn=function(v){var D,M,L=[];for(D=0;D<v.length;D++)M=v[D],L.push({size:M.data.byteLength,duration:1024});return L},rn=function(v){var D,M,L=0,H=new Uint8Array(Tt(v));for(D=0;D<v.length;D++)M=v[D],H.set(M.data,L),L+=M.data.byteLength;return H},xn={prefixWithSilence:ni,trimAdtsFramesByEarliestDts:Pi,generateSampleTable:hn,concatenateFrameData:rn},ie=pt.ONE_SECOND_IN_TS,se=function(v,D){typeof D.pts=="number"&&(v.timelineStartInfo.pts===void 0&&(v.timelineStartInfo.pts=D.pts),v.minSegmentPts===void 0?v.minSegmentPts=D.pts:v.minSegmentPts=Math.min(v.minSegmentPts,D.pts),v.maxSegmentPts===void 0?v.maxSegmentPts=D.pts:v.maxSegmentPts=Math.max(v.maxSegmentPts,D.pts)),typeof D.dts=="number"&&(v.timelineStartInfo.dts===void 0&&(v.timelineStartInfo.dts=D.dts),v.minSegmentDts===void 0?v.minSegmentDts=D.dts:v.minSegmentDts=Math.min(v.minSegmentDts,D.dts),v.maxSegmentDts===void 0?v.maxSegmentDts=D.dts:v.maxSegmentDts=Math.max(v.maxSegmentDts,D.dts))},Ee=function(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},Be=function(v,D){var M,L,H=v.minSegmentDts;return D||(H-=v.timelineStartInfo.dts),M=v.timelineStartInfo.baseMediaDecodeTime,M+=H,M=Math.max(0,M),v.type==="audio"&&(L=v.samplerate/ie,M*=L,M=Math.floor(M)),M},Xe={clearDtsInfo:Ee,calculateTrackBaseMediaDecodeTime:Be,collectDtsInfo:se},tt=4,_t=128,si=function(v){for(var D=0,M={payloadType:-1,payloadSize:0},L=0,H=0;D<v.byteLength&&v[D]!==_t;){for(;v[D]===255;)L+=255,D++;for(L+=v[D++];v[D]===255;)H+=255,D++;if(H+=v[D++],!M.payload&&L===tt){var K=String.fromCharCode(v[D+3],v[D+4],v[D+5],v[D+6]);if(K==="GA94"){M.payloadType=L,M.payloadSize=H,M.payload=v.subarray(D,D+H);break}else M.payload=void 0}D+=H,L=0,H=0}return M},Wi=function(v){return v.payload[0]!==181||(v.payload[1]<<8|v.payload[2])!==49||String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])!=="GA94"||v.payload[7]!==3?null:v.payload.subarray(8,v.payload.length-1)},jn=function(v,D){var M=[],L,H,K,ue;if(!(D[0]&64))return M;for(H=D[0]&31,L=0;L<H;L++)K=L*3,ue={type:D[K+2]&3,pts:v},D[K+2]&4&&(ue.ccData=D[K+3]<<8|D[K+4],M.push(ue));return M},Ls=function(v){for(var D=v.byteLength,M=[],L=1,H,K;L<D-2;)v[L]===0&&v[L+1]===0&&v[L+2]===3?(M.push(L+2),L+=2):L++;if(M.length===0)return v;H=D-M.length,K=new Uint8Array(H);var ue=0;for(L=0;L<H;ue++,L++)ue===M[0]&&(ue++,M.shift()),K[L]=v[ue];return K},sr={parseSei:si,parseUserData:Wi,parseCaptionPackets:jn,discardEmulationPreventionBytes:Ls,USER_DATA_REGISTERED_ITU_T_T35:tt},vs=i,Yi=sr,ci=function(v){v=v||{},ci.prototype.init.call(this),this.parse708captions_=typeof v.parse708captions=="boolean"?v.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ci(0,0),new Ci(0,1),new Ci(1,0),new Ci(1,1)],this.parse708captions_&&(this.cc708Stream_=new ct({captionServices:v.captionServices})),this.reset(),this.ccStreams_.forEach(function(D){D.on("data",this.trigger.bind(this,"data")),D.on("partialdone",this.trigger.bind(this,"partialdone")),D.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ci.prototype=new vs,ci.prototype.push=function(v){var D,M,L;if(v.nalUnitType==="sei_rbsp"&&(D=Yi.parseSei(v.escapedRBSP),!!D.payload&&D.payloadType===Yi.USER_DATA_REGISTERED_ITU_T_T35&&(M=Yi.parseUserData(D),!!M))){if(v.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(v.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}L=Yi.parseCaptionPackets(v.pts,M),this.captionPackets_=this.captionPackets_.concat(L),this.latestDts_!==v.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=v.dts}},ci.prototype.flushCCStreams=function(v){this.ccStreams_.forEach(function(D){return v==="flush"?D.flush():D.partialFlush()},this)},ci.prototype.flushStream=function(v){if(!this.captionPackets_.length){this.flushCCStreams(v);return}this.captionPackets_.forEach(function(D,M){D.presortIndex=M}),this.captionPackets_.sort(function(D,M){return D.pts===M.pts?D.presortIndex-M.presortIndex:D.pts-M.pts}),this.captionPackets_.forEach(function(D){D.type<2?this.dispatchCea608Packet(D):this.dispatchCea708Packet(D)},this),this.captionPackets_.length=0,this.flushCCStreams(v)},ci.prototype.flush=function(){return this.flushStream("flush")},ci.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ci.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(v){v.reset()})},ci.prototype.dispatchCea608Packet=function(v){this.setsTextOrXDSActive(v)?this.activeCea608Channel_[v.type]=null:this.setsChannel1Active(v)?this.activeCea608Channel_[v.type]=0:this.setsChannel2Active(v)&&(this.activeCea608Channel_[v.type]=1),this.activeCea608Channel_[v.type]!==null&&this.ccStreams_[(v.type<<1)+this.activeCea608Channel_[v.type]].push(v)},ci.prototype.setsChannel1Active=function(v){return(v.ccData&30720)===4096},ci.prototype.setsChannel2Active=function(v){return(v.ccData&30720)===6144},ci.prototype.setsTextOrXDSActive=function(v){return(v.ccData&28928)===256||(v.ccData&30974)===4138||(v.ccData&30974)===6186},ci.prototype.dispatchCea708Packet=function(v){this.parse708captions_&&this.cc708Stream_.push(v)};var vn={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},yo=function(v){var D=vn[v]||v;return v&4096&&v===D?"":String.fromCharCode(D)},zi=function(v){return 32<=v&&v<=127||160<=v&&v<=255},is=function(v){this.windowNum=v,this.reset()};is.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},is.prototype.getText=function(){return this.rows.join("\n")},is.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},is.prototype.newLine=function(v){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(v),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},is.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},is.prototype.addText=function(v){this.rows[this.rowIdx]+=v},is.prototype.backspace=function(){if(!this.isEmpty()){var v=this.rows[this.rowIdx];this.rows[this.rowIdx]=v.substr(0,v.length-1)}};var An=function(v,D,M){this.serviceNum=v,this.text="",this.currentWindow=new is(-1),this.windows=[],this.stream=M,typeof D=="string"&&this.createTextDecoder(D)};An.prototype.init=function(v,D){this.startPts=v;for(var M=0;M<8;M++)this.windows[M]=new is(M),typeof D=="function"&&(this.windows[M].beforeRowOverflow=D)},An.prototype.setCurrentWindow=function(v){this.currentWindow=this.windows[v]},An.prototype.createTextDecoder=function(v){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(v)}catch(D){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+v+" encoding. "+D})}};var ct=function(v){v=v||{},ct.prototype.init.call(this);var D=this,M=v.captionServices||{},L={},H;Object.keys(M).forEach(K=>{H=M[K],/^SERVICE/.test(K)&&(L[K]=H.encoding)}),this.serviceEncodings=L,this.current708Packet=null,this.services={},this.push=function(K){K.type===3?(D.new708Packet(),D.add708Bytes(K)):(D.current708Packet===null&&D.new708Packet(),D.add708Bytes(K))}};ct.prototype=new vs,ct.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},ct.prototype.add708Bytes=function(v){var D=v.ccData,M=D>>>8,L=D&255;this.current708Packet.ptsVals.push(v.pts),this.current708Packet.data.push(M),this.current708Packet.data.push(L)},ct.prototype.push708Packet=function(){var v=this.current708Packet,D=v.data,M=null,L=null,H=0,K=D[H++];for(v.seq=K>>6,v.sizeCode=K&63;H<D.length;H++)K=D[H++],M=K>>5,L=K&31,M===7&&L>0&&(K=D[H++],M=K),this.pushServiceBlock(M,H,L),L>0&&(H+=L-1)},ct.prototype.pushServiceBlock=function(v,D,M){var L,H=D,K=this.current708Packet.data,ue=this.services[v];for(ue||(ue=this.initService(v,H));H<D+M&&H<K.length;H++)L=K[H],zi(L)?H=this.handleText(H,ue):L===24?H=this.multiByteCharacter(H,ue):L===16?H=this.extendedCommands(H,ue):128<=L&&L<=135?H=this.setCurrentWindow(H,ue):152<=L&&L<=159?H=this.defineWindow(H,ue):L===136?H=this.clearWindows(H,ue):L===140?H=this.deleteWindows(H,ue):L===137?H=this.displayWindows(H,ue):L===138?H=this.hideWindows(H,ue):L===139?H=this.toggleWindows(H,ue):L===151?H=this.setWindowAttributes(H,ue):L===144?H=this.setPenAttributes(H,ue):L===145?H=this.setPenColor(H,ue):L===146?H=this.setPenLocation(H,ue):L===143?ue=this.reset(H,ue):L===8?ue.currentWindow.backspace():L===12?ue.currentWindow.clearText():L===13?ue.currentWindow.pendingNewLine=!0:L===14?ue.currentWindow.clearText():L===141&&H++},ct.prototype.extendedCommands=function(v,D){var M=this.current708Packet.data,L=M[++v];return zi(L)&&(v=this.handleText(v,D,{isExtended:!0})),v},ct.prototype.getPts=function(v){return this.current708Packet.ptsVals[Math.floor(v/2)]},ct.prototype.initService=function(v,D){var L="SERVICE"+v,M=this,L,H;return L in this.serviceEncodings&&(H=this.serviceEncodings[L]),this.services[v]=new An(v,H,M),this.services[v].init(this.getPts(D),function(K){M.flushDisplayed(K,M.services[v])}),this.services[v]},ct.prototype.handleText=function(v,D,M){var L=M&&M.isExtended,H=M&&M.isMultiByte,K=this.current708Packet.data,ue=L?4096:0,he=K[v],me=K[v+1],ve=D.currentWindow,Fe,Ke;function at(qe){return qe.map(Et=>("0"+(Et&255).toString(16)).slice(-2)).join("")}if(H?(Ke=[he,me],v++):Ke=[he],D.textDecoder_&&!L)Fe=D.textDecoder_.decode(new Uint8Array(Ke));else if(H){const qe=at(Ke);Fe=String.fromCharCode(parseInt(qe,16))}else Fe=yo(ue|he);return ve.pendingNewLine&&!ve.isEmpty()&&ve.newLine(this.getPts(v)),ve.pendingNewLine=!1,ve.addText(Fe),v},ct.prototype.multiByteCharacter=function(v,D){var M=this.current708Packet.data,L=M[v+1],H=M[v+2];return zi(L)&&zi(H)&&(v=this.handleText(++v,D,{isMultiByte:!0})),v},ct.prototype.setCurrentWindow=function(v,D){var M=this.current708Packet.data,L=M[v],H=L&7;return D.setCurrentWindow(H),v},ct.prototype.defineWindow=function(v,D){var M=this.current708Packet.data,L=M[v],H=L&7;D.setCurrentWindow(H);var K=D.currentWindow;return L=M[++v],K.visible=(L&32)>>5,K.rowLock=(L&16)>>4,K.columnLock=(L&8)>>3,K.priority=L&7,L=M[++v],K.relativePositioning=(L&128)>>7,K.anchorVertical=L&127,L=M[++v],K.anchorHorizontal=L,L=M[++v],K.anchorPoint=(L&240)>>4,K.rowCount=L&15,L=M[++v],K.columnCount=L&63,L=M[++v],K.windowStyle=(L&56)>>3,K.penStyle=L&7,K.virtualRowCount=K.rowCount+1,v},ct.prototype.setWindowAttributes=function(v,D){var M=this.current708Packet.data,L=M[v],H=D.currentWindow.winAttr;return L=M[++v],H.fillOpacity=(L&192)>>6,H.fillRed=(L&48)>>4,H.fillGreen=(L&12)>>2,H.fillBlue=L&3,L=M[++v],H.borderType=(L&192)>>6,H.borderRed=(L&48)>>4,H.borderGreen=(L&12)>>2,H.borderBlue=L&3,L=M[++v],H.borderType+=(L&128)>>5,H.wordWrap=(L&64)>>6,H.printDirection=(L&48)>>4,H.scrollDirection=(L&12)>>2,H.justify=L&3,L=M[++v],H.effectSpeed=(L&240)>>4,H.effectDirection=(L&12)>>2,H.displayEffect=L&3,v},ct.prototype.flushDisplayed=function(v,D){for(var M=[],L=0;L<8;L++)D.windows[L].visible&&!D.windows[L].isEmpty()&&M.push(D.windows[L].getText());D.endPts=v,D.text=M.join("\n\n"),this.pushCaption(D),D.startPts=v},ct.prototype.pushCaption=function(v){v.text!==""&&(this.trigger("data",{startPts:v.startPts,endPts:v.endPts,text:v.text,stream:"cc708_"+v.serviceNum}),v.text="",v.startPts=v.endPts)},ct.prototype.displayWindows=function(v,D){var M=this.current708Packet.data,L=M[++v],H=this.getPts(v);this.flushDisplayed(H,D);for(var K=0;K<8;K++)L&1<<K&&(D.windows[K].visible=1);return v},ct.prototype.hideWindows=function(v,D){var M=this.current708Packet.data,L=M[++v],H=this.getPts(v);this.flushDisplayed(H,D);for(var K=0;K<8;K++)L&1<<K&&(D.windows[K].visible=0);return v},ct.prototype.toggleWindows=function(v,D){var M=this.current708Packet.data,L=M[++v],H=this.getPts(v);this.flushDisplayed(H,D);for(var K=0;K<8;K++)L&1<<K&&(D.windows[K].visible^=1);return v},ct.prototype.clearWindows=function(v,D){var M=this.current708Packet.data,L=M[++v],H=this.getPts(v);this.flushDisplayed(H,D);for(var K=0;K<8;K++)L&1<<K&&D.windows[K].clearText();return v},ct.prototype.deleteWindows=function(v,D){var M=this.current708Packet.data,L=M[++v],H=this.getPts(v);this.flushDisplayed(H,D);for(var K=0;K<8;K++)L&1<<K&&D.windows[K].reset();return v},ct.prototype.setPenAttributes=function(v,D){var M=this.current708Packet.data,L=M[v],H=D.currentWindow.penAttr;return L=M[++v],H.textTag=(L&240)>>4,H.offset=(L&12)>>2,H.penSize=L&3,L=M[++v],H.italics=(L&128)>>7,H.underline=(L&64)>>6,H.edgeType=(L&56)>>3,H.fontStyle=L&7,v},ct.prototype.setPenColor=function(v,D){var M=this.current708Packet.data,L=M[v],H=D.currentWindow.penColor;return L=M[++v],H.fgOpacity=(L&192)>>6,H.fgRed=(L&48)>>4,H.fgGreen=(L&12)>>2,H.fgBlue=L&3,L=M[++v],H.bgOpacity=(L&192)>>6,H.bgRed=(L&48)>>4,H.bgGreen=(L&12)>>2,H.bgBlue=L&3,L=M[++v],H.edgeRed=(L&48)>>4,H.edgeGreen=(L&12)>>2,H.edgeBlue=L&3,v},ct.prototype.setPenLocation=function(v,D){var M=this.current708Packet.data,L=M[v],H=D.currentWindow.penLoc;return D.currentWindow.pendingNewLine=!0,L=M[++v],H.row=L&15,L=M[++v],H.column=L&63,v},ct.prototype.reset=function(v,D){var M=this.getPts(v);return this.flushDisplayed(M,D),this.initService(D.serviceNum,v)};var mf={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},dl=function(v){return v===null?"":(v=mf[v]||v,String.fromCharCode(v))},hu=14,bb=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Rs=function(){for(var v=[],D=hu+1;D--;)v.push({text:"",indent:0,offset:0});return v},Ci=function(v,D){Ci.prototype.init.call(this),this.field_=v||0,this.dataChannel_=D||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(M){var L,H,K,ue,he;if(L=M.ccData&32639,L===this.lastControlCode_){this.lastControlCode_=null;return}if((L&61440)===4096?this.lastControlCode_=L:L!==this.PADDING_&&(this.lastControlCode_=null),K=L>>>8,ue=L&255,L!==this.PADDING_)if(L===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(L===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(M.pts),this.flushDisplayed(M.pts),H=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=H,this.startPts_=M.pts;else if(L===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(M.pts);else if(L===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(M.pts);else if(L===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(M.pts);else if(L===this.CARRIAGE_RETURN_)this.clearFormatting(M.pts),this.flushDisplayed(M.pts),this.shiftRowsUp_(),this.startPts_=M.pts;else if(L===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(L===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(M.pts),this.displayed_=Rs();else if(L===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Rs();else if(L===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(M.pts),this.displayed_=Rs()),this.mode_="paintOn",this.startPts_=M.pts;else if(this.isSpecialCharacter(K,ue))K=(K&3)<<8,he=dl(K|ue),this[this.mode_](M.pts,he),this.column_++;else if(this.isExtCharacter(K,ue))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),K=(K&3)<<8,he=dl(K|ue),this[this.mode_](M.pts,he),this.column_++;else if(this.isMidRowCode(K,ue))this.clearFormatting(M.pts),this[this.mode_](M.pts," "),this.column_++,(ue&14)===14&&this.addFormatting(M.pts,["i"]),(ue&1)===1&&this.addFormatting(M.pts,["u"]);else if(this.isOffsetControlCode(K,ue)){const ve=ue&3;this.nonDisplayed_[this.row_].offset=ve,this.column_+=ve}else if(this.isPAC(K,ue)){var me=bb.indexOf(L&7968);if(this.mode_==="rollUp"&&(me-this.rollUpRows_+1<0&&(me=this.rollUpRows_-1),this.setRollUp(M.pts,me)),me!==this.row_&&me>=0&&me<=14&&(this.clearFormatting(M.pts),this.row_=me),ue&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(M.pts,["u"]),(L&16)===16){const ve=(L&14)>>1;this.column_=ve*4,this.nonDisplayed_[this.row_].indent+=ve}this.isColorPAC(ue)&&(ue&14)===14&&this.addFormatting(M.pts,["i"])}else this.isNormalChar(K)&&(ue===0&&(ue=null),he=dl(K),he+=dl(ue),this[this.mode_](M.pts,he),this.column_+=he.length)}};Ci.prototype=new vs,Ci.prototype.flushDisplayed=function(v){const D=L=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+L+"."})},M=[];this.displayed_.forEach((L,H)=>{if(L&&L.text&&L.text.length){try{L.text=L.text.trim()}catch{D(H)}L.text.length&&M.push({text:L.text,line:H+1,position:10+Math.min(70,L.indent*10)+L.offset*2.5})}else L==null&&D(H)}),M.length&&this.trigger("data",{startPts:this.startPts_,endPts:v,content:M,stream:this.name_})},Ci.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Rs(),this.nonDisplayed_=Rs(),this.lastControlCode_=null,this.column_=0,this.row_=hu,this.rollUpRows_=2,this.formatting_=[]},Ci.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ci.prototype.isSpecialCharacter=function(v,D){return v===this.EXT_&&D>=48&&D<=63},Ci.prototype.isExtCharacter=function(v,D){return(v===this.EXT_+1||v===this.EXT_+2)&&D>=32&&D<=63},Ci.prototype.isMidRowCode=function(v,D){return v===this.EXT_&&D>=32&&D<=47},Ci.prototype.isOffsetControlCode=function(v,D){return v===this.OFFSET_&&D>=33&&D<=35},Ci.prototype.isPAC=function(v,D){return v>=this.BASE_&&v<this.BASE_+8&&D>=64&&D<=127},Ci.prototype.isColorPAC=function(v){return v>=64&&v<=79||v>=96&&v<=127},Ci.prototype.isNormalChar=function(v){return v>=32&&v<=127},Ci.prototype.setRollUp=function(v,D){if(this.mode_!=="rollUp"&&(this.row_=hu,this.mode_="rollUp",this.flushDisplayed(v),this.nonDisplayed_=Rs(),this.displayed_=Rs()),D!==void 0&&D!==this.row_)for(var M=0;M<this.rollUpRows_;M++)this.displayed_[D-M]=this.displayed_[this.row_-M],this.displayed_[this.row_-M]={text:"",indent:0,offset:0};D===void 0&&(D=this.row_),this.topRow_=D-this.rollUpRows_+1},Ci.prototype.addFormatting=function(v,D){this.formatting_=this.formatting_.concat(D);var M=D.reduce(function(L,H){return L+"<"+H+">"},"");this[this.mode_](v,M)},Ci.prototype.clearFormatting=function(v){if(this.formatting_.length){var D=this.formatting_.reverse().reduce(function(M,L){return M+"</"+L+">"},"");this.formatting_=[],this[this.mode_](v,D)}},Ci.prototype.popOn=function(v,D){var M=this.nonDisplayed_[this.row_].text;M+=D,this.nonDisplayed_[this.row_].text=M},Ci.prototype.rollUp=function(v,D){var M=this.displayed_[this.row_].text;M+=D,this.displayed_[this.row_].text=M},Ci.prototype.shiftRowsUp_=function(){var v;for(v=0;v<this.topRow_;v++)this.displayed_[v]={text:"",indent:0,offset:0};for(v=this.row_+1;v<hu+1;v++)this.displayed_[v]={text:"",indent:0,offset:0};for(v=this.topRow_;v<this.row_;v++)this.displayed_[v]=this.displayed_[v+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ci.prototype.paintOn=function(v,D){var M=this.displayed_[this.row_].text;M+=D,this.displayed_[this.row_].text=M};var bf={CaptionStream:ci,Cea608Stream:Ci,Cea708Stream:ct},Au={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},vb=i,vf=8589934592,yb=4294967296,ad="shared",fu=function(v,D){var M=1;for(v>D&&(M=-1);Math.abs(D-v)>yb;)v+=M*vf;return v},la=function(v){var D,M;la.prototype.init.call(this),this.type_=v||ad,this.push=function(L){if(L.type==="metadata"){this.trigger("data",L);return}this.type_!==ad&&L.type!==this.type_||(M===void 0&&(M=L.dts),L.dts=fu(L.dts,M),L.pts=fu(L.pts,M),D=L.dts,this.trigger("data",L))},this.flush=function(){M=D,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){M=void 0,D=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};la.prototype=new vb;var ld={TimestampRolloverStream:la,handleRollover:fu},ud=(v,D,M)=>{if(!v)return-1;for(var L=M;L<v.length;L++)if(v[L]===D)return L;return-1},yf={typedArrayIndexOf:ud},pu=yf.typedArrayIndexOf,ua={Utf8:3},wf=function(v,D,M){var L,H="";for(L=D;L<M;L++)H+="%"+("00"+v[L].toString(16)).slice(-2);return H},wo=function(v,D,M){return decodeURIComponent(wf(v,D,M))},hl=function(v,D,M){return unescape(wf(v,D,M))},Al=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},fl={APIC:function(v){var D=1,M,L,H="-->";v.data[0]===ua.Utf8&&(M=pu(v.data,0,D),!(M<0)&&(v.mimeType=hl(v.data,D,M),D=M+1,v.pictureType=v.data[D],D++,L=pu(v.data,0,D),!(L<0)&&(v.description=wo(v.data,D,L),D=L+1,v.mimeType===H?v.url=hl(v.data,D,v.data.length):v.pictureData=v.data.subarray(D,v.data.length))))},"T*":function(v){v.data[0]===ua.Utf8&&(v.value=wo(v.data,1,v.data.length).replace(/\0*$/,""),v.values=v.value.split("\0"))},TXXX:function(v){var D;v.data[0]===ua.Utf8&&(D=pu(v.data,0,1),D!==-1&&(v.description=wo(v.data,1,D),v.value=wo(v.data,D+1,v.data.length).replace(/\0*$/,""),v.data=v.value))},"W*":function(v){v.url=hl(v.data,0,v.data.length).replace(/\0.*$/,"")},WXXX:function(v){var D;v.data[0]===ua.Utf8&&(D=pu(v.data,0,1),D!==-1&&(v.description=wo(v.data,1,D),v.url=hl(v.data,D+1,v.data.length).replace(/\0.*$/,"")))},PRIV:function(v){var D;for(D=0;D<v.data.length;D++)if(v.data[D]===0){v.owner=hl(v.data,0,D);break}v.privateData=v.data.subarray(D+1),v.data=v.privateData}},wb=function(v){var D,M,L=10,H=0,K=[];if(!(v.length<10||v[0]!==73||v[1]!==68||v[2]!==51)){H=Al(v.subarray(6,10)),H+=10;var ue=v[5]&64;ue&&(L+=4,L+=Al(v.subarray(10,14)),H-=Al(v.subarray(16,20)));do{if(D=Al(v.subarray(L+4,L+8)),D<1)break;M=String.fromCharCode(v[L],v[L+1],v[L+2],v[L+3]);var he={id:M,data:v.subarray(L+10,L+D+10)};he.key=he.id,fl[he.id]?fl[he.id](he):he.id[0]==="T"?fl["T*"](he):he.id[0]==="W"&&fl["W*"](he),K.push(he),L+=10,L+=D}while(L<H);return K}},Cf={parseId3Frames:wb,parseSyncSafeInteger:Al,frameParsers:fl},Ef=i,gu=Au,ns=Cf,ca;ca=function(v){var D={descriptor:v&&v.descriptor},M=0,L=[],H=0,K;if(ca.prototype.init.call(this),this.dispatchType=gu.METADATA_STREAM_TYPE.toString(16),D.descriptor)for(K=0;K<D.descriptor.length;K++)this.dispatchType+=("00"+D.descriptor[K].toString(16)).slice(-2);this.push=function(ue){var he,me,ve,Fe,Ke,at;if(ue.type==="timed-metadata"){if(ue.dataAlignmentIndicator&&(H=0,L.length=0),L.length===0&&(ue.data.length<10||ue.data[0]!==73||ue.data[1]!==68||ue.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(L.push(ue),H+=ue.data.byteLength,L.length===1&&(M=ns.parseSyncSafeInteger(ue.data.subarray(6,10)),M+=10),!(H<M)){for(he={data:new Uint8Array(M),frames:[],pts:L[0].pts,dts:L[0].dts},Ke=0;Ke<M;)he.data.set(L[0].data.subarray(0,M-Ke),Ke),Ke+=L[0].data.byteLength,H-=L[0].data.byteLength,L.shift();me=10,he.data[5]&64&&(me+=4,me+=ns.parseSyncSafeInteger(he.data.subarray(10,14)),M-=ns.parseSyncSafeInteger(he.data.subarray(16,20)));do{if(ve=ns.parseSyncSafeInteger(he.data.subarray(me+4,me+8)),ve<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(at=String.fromCharCode(he.data[me],he.data[me+1],he.data[me+2],he.data[me+3]),Fe={id:at,data:he.data.subarray(me+10,me+ve+10)},Fe.key=Fe.id,ns.frameParsers[Fe.id]?ns.frameParsers[Fe.id](Fe):Fe.id[0]==="T"?ns.frameParsers["T*"](Fe):Fe.id[0]==="W"&&ns.frameParsers["W*"](Fe),Fe.owner==="com.apple.streaming.transportStreamTimestamp"){var qe=Fe.data,Et=(qe[3]&1)<<30|qe[4]<<22|qe[5]<<14|qe[6]<<6|qe[7]>>>2;Et*=4,Et+=qe[7]&3,Fe.timeStamp=Et,he.pts===void 0&&he.dts===void 0&&(he.pts=Fe.timeStamp,he.dts=Fe.timeStamp),this.trigger("timestamp",Fe)}he.frames.push(Fe),me+=10,me+=ve}while(me<M);this.trigger("data",he)}}}},ca.prototype=new Ef;var mu=ca,rr=i,Co=bf,Ms=Au,xf=ld.TimestampRolloverStream,pl,Eo,bu,da=188,vu=71;pl=function(){var v=new Uint8Array(da),D=0;pl.prototype.init.call(this),this.push=function(M){var L=0,H=da,K;for(D?(K=new Uint8Array(M.byteLength+D),K.set(v.subarray(0,D)),K.set(M,D),D=0):K=M;H<K.byteLength;){if(K[L]===vu&&K[H]===vu){this.trigger("data",K.subarray(L,H)),L+=da,H+=da;continue}L++,H++}L<K.byteLength&&(v.set(K.subarray(L),0),D=K.byteLength-L)},this.flush=function(){D===da&&v[0]===vu&&(this.trigger("data",v),D=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){D=0,this.trigger("reset")}},pl.prototype=new rr,Eo=function(){var v,D,M,L;Eo.prototype.init.call(this),L=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function(H,K){var ue=0;K.payloadUnitStartIndicator&&(ue+=H[ue]+1),K.type==="pat"?D(H.subarray(ue),K):M(H.subarray(ue),K)},D=function(H,K){K.section_number=H[7],K.last_section_number=H[8],L.pmtPid=(H[10]&31)<<8|H[11],K.pmtPid=L.pmtPid},M=function(H,K){var ue,he,me,ve;if(H[5]&1){for(L.programMapTable={video:null,audio:null,"timed-metadata":{}},ue=(H[1]&15)<<8|H[2],he=3+ue-4,me=(H[10]&15)<<8|H[11],ve=12+me;ve<he;){var Fe=H[ve],Ke=(H[ve+1]&31)<<8|H[ve+2];Fe===Ms.H264_STREAM_TYPE&&L.programMapTable.video===null?L.programMapTable.video=Ke:Fe===Ms.ADTS_STREAM_TYPE&&L.programMapTable.audio===null?L.programMapTable.audio=Ke:Fe===Ms.METADATA_STREAM_TYPE&&(L.programMapTable["timed-metadata"][Ke]=Fe),ve+=((H[ve+3]&15)<<8|H[ve+4])+5}K.programMapTable=L.programMapTable}},this.push=function(H){var K={},ue=4;if(K.payloadUnitStartIndicator=!!(H[1]&64),K.pid=H[1]&31,K.pid<<=8,K.pid|=H[2],(H[3]&48)>>>4>1&&(ue+=H[ue]+1),K.pid===0)K.type="pat",v(H.subarray(ue),K),this.trigger("data",K);else if(K.pid===this.pmtPid)for(K.type="pmt",v(H.subarray(ue),K),this.trigger("data",K);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([H,ue,K]):this.processPes_(H,ue,K)},this.processPes_=function(H,K,ue){ue.pid===this.programMapTable.video?ue.streamType=Ms.H264_STREAM_TYPE:ue.pid===this.programMapTable.audio?ue.streamType=Ms.ADTS_STREAM_TYPE:ue.streamType=this.programMapTable["timed-metadata"][ue.pid],ue.type="pes",ue.data=H.subarray(K),this.trigger("data",ue)}},Eo.prototype=new rr,Eo.STREAM_TYPES={h264:27,adts:15},bu=function(){var v=this,D=!1,M={data:[],size:0},L={data:[],size:0},H={data:[],size:0},K,ue=function(me,ve){var Fe;const Ke=me[0]<<16|me[1]<<8|me[2];ve.data=new Uint8Array,Ke===1&&(ve.packetLength=6+(me[4]<<8|me[5]),ve.dataAlignmentIndicator=(me[6]&4)!==0,Fe=me[7],Fe&192&&(ve.pts=(me[9]&14)<<27|(me[10]&255)<<20|(me[11]&254)<<12|(me[12]&255)<<5|(me[13]&254)>>>3,ve.pts*=4,ve.pts+=(me[13]&6)>>>1,ve.dts=ve.pts,Fe&64&&(ve.dts=(me[14]&14)<<27|(me[15]&255)<<20|(me[16]&254)<<12|(me[17]&255)<<5|(me[18]&254)>>>3,ve.dts*=4,ve.dts+=(me[18]&6)>>>1)),ve.data=me.subarray(9+me[8]))},he=function(me,ve,Fe){var Ke=new Uint8Array(me.size),at={type:ve},qe=0,Et=0,zt=!1,_n;if(!(!me.data.length||me.size<9)){for(at.trackId=me.data[0].pid,qe=0;qe<me.data.length;qe++)_n=me.data[qe],Ke.set(_n.data,Et),Et+=_n.data.byteLength;ue(Ke,at),zt=ve==="video"||at.packetLength<=me.size,(Fe||zt)&&(me.size=0,me.data.length=0),zt&&v.trigger("data",at)}};bu.prototype.init.call(this),this.push=function(me){({pat:function(){},pes:function(){var ve,Fe;switch(me.streamType){case Ms.H264_STREAM_TYPE:ve=M,Fe="video";break;case Ms.ADTS_STREAM_TYPE:ve=L,Fe="audio";break;case Ms.METADATA_STREAM_TYPE:ve=H,Fe="timed-metadata";break;default:return}me.payloadUnitStartIndicator&&he(ve,Fe,!0),ve.data.push(me),ve.size+=me.data.byteLength},pmt:function(){var ve={type:"metadata",tracks:[]};K=me.programMapTable,K.video!==null&&ve.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+K.video,codec:"avc",type:"video"}),K.audio!==null&&ve.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+K.audio,codec:"adts",type:"audio"}),D=!0,v.trigger("data",ve)}})[me.type]()},this.reset=function(){M.size=0,M.data.length=0,L.size=0,L.data.length=0,this.trigger("reset")},this.flushStreams_=function(){he(M,"video"),he(L,"audio"),he(H,"timed-metadata")},this.flush=function(){if(!D&&K){var me={type:"metadata",tracks:[]};K.video!==null&&me.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+K.video,codec:"avc",type:"video"}),K.audio!==null&&me.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+K.audio,codec:"adts",type:"audio"}),v.trigger("data",me)}D=!1,this.flushStreams_(),this.trigger("done")}},bu.prototype=new rr;var Tf={PAT_PID:0,MP2T_PACKET_LENGTH:da,TransportPacketStream:pl,TransportParseStream:Eo,ElementaryStream:bu,TimestampRolloverStream:xf,CaptionStream:Co.CaptionStream,Cea608Stream:Co.Cea608Stream,Cea708Stream:Co.Cea708Stream,MetadataStream:mu};for(var cd in Ms)Ms.hasOwnProperty(cd)&&(Tf[cd]=Ms[cd]);var _f=Tf,Sf=i,Cb=pt.ONE_SECOND_IN_TS,ha,Bf=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ha=function(v){var D,M=0;ha.prototype.init.call(this),this.skipWarn_=function(L,H){this.trigger("log",{level:"warn",message:"adts skiping bytes ".concat(L," to ").concat(H," in frame ").concat(M," outside syncword")})},this.push=function(L){var H=0,K,ue,he,me,ve;if(v||(M=0),L.type==="audio"){D&&D.length?(he=D,D=new Uint8Array(he.byteLength+L.data.byteLength),D.set(he),D.set(L.data,he.byteLength)):D=L.data;for(var Fe;H+7<D.length;){if(D[H]!==255||(D[H+1]&246)!==240){typeof Fe!="number"&&(Fe=H),H++;continue}if(typeof Fe=="number"&&(this.skipWarn_(Fe,H),Fe=null),ue=(~D[H+1]&1)*2,K=(D[H+3]&3)<<11|D[H+4]<<3|(D[H+5]&224)>>5,me=((D[H+6]&3)+1)*1024,ve=me*Cb/Bf[(D[H+2]&60)>>>2],D.byteLength-H<K)break;this.trigger("data",{pts:L.pts+M*ve,dts:L.dts+M*ve,sampleCount:me,audioobjecttype:(D[H+2]>>>6&3)+1,channelcount:(D[H+2]&1)<<2|(D[H+3]&192)>>>6,samplerate:Bf[(D[H+2]&60)>>>2],samplingfrequencyindex:(D[H+2]&60)>>>2,samplesize:16,data:D.subarray(H+7+ue,H+K)}),M++,H+=K}typeof Fe=="number"&&(this.skipWarn_(Fe,H),Fe=null),D=D.subarray(H)}},this.flush=function(){M=0,this.trigger("done")},this.reset=function(){D=void 0,this.trigger("reset")},this.endTimeline=function(){D=void 0,this.trigger("endedtimeline")}},ha.prototype=new Sf;var kf=ha,If;If=function(v){var D=v.byteLength,M=0,L=0;this.length=function(){return 8*D},this.bitsAvailable=function(){return 8*D+L},this.loadWord=function(){var H=v.byteLength-D,K=new Uint8Array(4),ue=Math.min(4,D);if(ue===0)throw new Error("no bytes available");K.set(v.subarray(H,H+ue)),M=new DataView(K.buffer).getUint32(0),L=ue*8,D-=ue},this.skipBits=function(H){var K;L>H?(M<<=H,L-=H):(H-=L,K=Math.floor(H/8),H-=K*8,D-=K,this.loadWord(),M<<=H,L-=H)},this.readBits=function(H){var K=Math.min(L,H),ue=M>>>32-K;return L-=K,L>0?M<<=K:D>0&&this.loadWord(),K=H-K,K>0?ue<<K|this.readBits(K):ue},this.skipLeadingZeros=function(){var H;for(H=0;H<L;++H)if((M&2147483648>>>H)!==0)return M<<=H,L-=H,H;return this.loadWord(),H+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var H=this.skipLeadingZeros();return this.readBits(H+1)-1},this.readExpGolomb=function(){var H=this.readUnsignedExpGolomb();return 1&H?1+H>>>1:-1*(H>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var yu=If,Df=i,Ff=yu,gl,wu,dd;wu=function(){var v=0,D,M;wu.prototype.init.call(this),this.push=function(L){var H;M?(H=new Uint8Array(M.byteLength+L.data.byteLength),H.set(M),H.set(L.data,M.byteLength),M=H):M=L.data;for(var K=M.byteLength;v<K-3;v++)if(M[v+2]===1){D=v+5;break}for(;D<K;)switch(M[D]){case 0:if(M[D-1]!==0){D+=2;break}else if(M[D-2]!==0){D++;break}v+3!==D-2&&this.trigger("data",M.subarray(v+3,D-2));do D++;while(M[D]!==1&&D<K);v=D-2,D+=3;break;case 1:if(M[D-1]!==0||M[D-2]!==0){D+=3;break}this.trigger("data",M.subarray(v+3,D-2)),v=D-2,D+=3;break;default:D+=3;break}M=M.subarray(v),D-=v,v=0},this.reset=function(){M=null,v=0,this.trigger("reset")},this.flush=function(){M&&M.byteLength>3&&this.trigger("data",M.subarray(v+3)),M=null,v=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},wu.prototype=new Df,dd={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},gl=function(){var v=new wu,D,M,L,H,K,ue,he;gl.prototype.init.call(this),D=this,this.push=function(me){me.type==="video"&&(M=me.trackId,L=me.pts,H=me.dts,v.push(me))},v.on("data",function(me){var ve={trackId:M,pts:L,dts:H,data:me,nalUnitTypeCode:me[0]&31};switch(ve.nalUnitTypeCode){case 5:ve.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ve.nalUnitType="sei_rbsp",ve.escapedRBSP=K(me.subarray(1));break;case 7:ve.nalUnitType="seq_parameter_set_rbsp",ve.escapedRBSP=K(me.subarray(1)),ve.config=ue(ve.escapedRBSP);break;case 8:ve.nalUnitType="pic_parameter_set_rbsp";break;case 9:ve.nalUnitType="access_unit_delimiter_rbsp";break}D.trigger("data",ve)}),v.on("done",function(){D.trigger("done")}),v.on("partialdone",function(){D.trigger("partialdone")}),v.on("reset",function(){D.trigger("reset")}),v.on("endedtimeline",function(){D.trigger("endedtimeline")}),this.flush=function(){v.flush()},this.partialFlush=function(){v.partialFlush()},this.reset=function(){v.reset()},this.endTimeline=function(){v.endTimeline()},he=function(me,ve){var Fe=8,Ke=8,at,qe;for(at=0;at<me;at++)Ke!==0&&(qe=ve.readExpGolomb(),Ke=(Fe+qe+256)%256),Fe=Ke===0?Fe:Ke},K=function(me){for(var ve=me.byteLength,Fe=[],Ke=1,at,qe;Ke<ve-2;)me[Ke]===0&&me[Ke+1]===0&&me[Ke+2]===3?(Fe.push(Ke+2),Ke+=2):Ke++;if(Fe.length===0)return me;at=ve-Fe.length,qe=new Uint8Array(at);var Et=0;for(Ke=0;Ke<at;Et++,Ke++)Et===Fe[0]&&(Et++,Fe.shift()),qe[Ke]=me[Et];return qe},ue=function(me){var ve=0,Fe=0,Ke=0,at=0,qe,Et,zt,_n,Ns,ga,yd,wd,Cd,Ed,Zf,Li=[1,1],xd,kr;if(qe=new Ff(me),Et=qe.readUnsignedByte(),_n=qe.readUnsignedByte(),zt=qe.readUnsignedByte(),qe.skipUnsignedExpGolomb(),dd[Et]&&(Ns=qe.readUnsignedExpGolomb(),Ns===3&&qe.skipBits(1),qe.skipUnsignedExpGolomb(),qe.skipUnsignedExpGolomb(),qe.skipBits(1),qe.readBoolean()))for(Zf=Ns!==3?8:12,kr=0;kr<Zf;kr++)qe.readBoolean()&&(kr<6?he(16,qe):he(64,qe));if(qe.skipUnsignedExpGolomb(),ga=qe.readUnsignedExpGolomb(),ga===0)qe.readUnsignedExpGolomb();else if(ga===1)for(qe.skipBits(1),qe.skipExpGolomb(),qe.skipExpGolomb(),yd=qe.readUnsignedExpGolomb(),kr=0;kr<yd;kr++)qe.skipExpGolomb();if(qe.skipUnsignedExpGolomb(),qe.skipBits(1),wd=qe.readUnsignedExpGolomb(),Cd=qe.readUnsignedExpGolomb(),Ed=qe.readBits(1),Ed===0&&qe.skipBits(1),qe.skipBits(1),qe.readBoolean()&&(ve=qe.readUnsignedExpGolomb(),Fe=qe.readUnsignedExpGolomb(),Ke=qe.readUnsignedExpGolomb(),at=qe.readUnsignedExpGolomb()),qe.readBoolean()&&qe.readBoolean()){switch(xd=qe.readUnsignedByte(),xd){case 1:Li=[1,1];break;case 2:Li=[12,11];break;case 3:Li=[10,11];break;case 4:Li=[16,11];break;case 5:Li=[40,33];break;case 6:Li=[24,11];break;case 7:Li=[20,11];break;case 8:Li=[32,11];break;case 9:Li=[80,33];break;case 10:Li=[18,11];break;case 11:Li=[15,11];break;case 12:Li=[64,33];break;case 13:Li=[160,99];break;case 14:Li=[4,3];break;case 15:Li=[3,2];break;case 16:Li=[2,1];break;case 255:{Li=[qe.readUnsignedByte()<<8|qe.readUnsignedByte(),qe.readUnsignedByte()<<8|qe.readUnsignedByte()];break}}Li&&Li[0]/Li[1]}return{profileIdc:Et,levelIdc:zt,profileCompatibility:_n,width:(wd+1)*16-ve*2-Fe*2,height:(2-Ed)*(Cd+1)*16-Ke*2-at*2,sarRatio:Li}}},gl.prototype=new Df;var Pf={H264Stream:gl},Eb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Aa=function(v,D){var M=v[D+6]<<21|v[D+7]<<14|v[D+8]<<7|v[D+9],L=v[D+5],H=(L&16)>>4;return M=M>=0?M:0,H?M+20:M+10},ml=function(v,D){return v.length-D<10||v[D]!==73||v[D+1]!==68||v[D+2]!==51?D:(D+=Aa(v,D),ml(v,D))},xb=function(v){var D=ml(v,0);return v.length>=D+2&&(v[D]&255)===255&&(v[D+1]&240)===240&&(v[D+1]&22)===16},Cu=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Lf=function(v,D,M){var L,H="";for(L=D;L<M;L++)H+="%"+("00"+v[L].toString(16)).slice(-2);return H},Tb=function(v,D,M){return unescape(Lf(v,D,M))},hd=function(v,D){var M=(v[D+5]&224)>>5,L=v[D+4]<<3,H=v[D+3]&6144;return H|L|M},Rf=function(v,D){return v[D]===73&&v[D+1]===68&&v[D+2]===51?"timed-metadata":v[D]&!0&&(v[D+1]&240)===240?"audio":null},Mf=function(v){for(var D=0;D+5<v.length;){if(v[D]!==255||(v[D+1]&246)!==240){D++;continue}return Eb[(v[D+2]&60)>>>2]}return null},Ad=function(v){var D,M,L,H;D=10,v[5]&64&&(D+=4,D+=Cu(v.subarray(10,14)));do{if(M=Cu(v.subarray(D+4,D+8)),M<1)return null;if(H=String.fromCharCode(v[D],v[D+1],v[D+2],v[D+3]),H==="PRIV"){L=v.subarray(D+10,D+M+10);for(var K=0;K<L.byteLength;K++)if(L[K]===0){var ue=Tb(L,0,K);if(ue==="com.apple.streaming.transportStreamTimestamp"){var he=L.subarray(K+1),me=(he[3]&1)<<30|he[4]<<22|he[5]<<14|he[6]<<6|he[7]>>>2;return me*=4,me+=he[7]&3,me}break}}D+=10,D+=M}while(D<v.byteLength);return null},fd={isLikelyAacData:xb,parseId3TagSize:Aa,parseAdtsSize:hd,parseType:Rf,parseSampleRate:Mf,parseAacTimestamp:Ad},_b=i,_r=fd,Eu;Eu=function(){var v=new Uint8Array,D=0;Eu.prototype.init.call(this),this.setTimestamp=function(M){D=M},this.push=function(M){var L=0,H=0,K,ue,he,me;for(v.length?(me=v.length,v=new Uint8Array(M.byteLength+me),v.set(v.subarray(0,me)),v.set(M,me)):v=M;v.length-H>=3;){if(v[H]===73&&v[H+1]===68&&v[H+2]===51){if(v.length-H<10||(L=_r.parseId3TagSize(v,H),H+L>v.length))break;ue={type:"timed-metadata",data:v.subarray(H,H+L)},this.trigger("data",ue),H+=L;continue}else if((v[H]&255)===255&&(v[H+1]&240)===240){if(v.length-H<7||(L=_r.parseAdtsSize(v,H),H+L>v.length))break;he={type:"audio",data:v.subarray(H,H+L),pts:D,dts:D},this.trigger("data",he),H+=L;continue}H++}K=v.length-H,K>0?v=v.subarray(H):v=new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}},Eu.prototype=new _b;var Sb=Eu,Bb=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Of=Bb,Uf=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Rn=Uf,xu=i,bl=de,vl=X,Tu=xn,Os=Xe,Sr=_f,_u=pt,Nf=kf,Hf=Pf.H264Stream,Su=Sb,xo=fd.isLikelyAacData,Bu=pt.ONE_SECOND_IN_TS,Qf=Of,pd=Rn,yl,fa,Vr,To,kb=function(v,D){D.stream=v,this.trigger("log",D)},Vf=function(v,D){for(var M=Object.keys(D),L=0;L<M.length;L++){var H=M[L];H==="headOfPipeline"||!D[H].on||D[H].on("log",kb.bind(v,H))}},$f=function(v,D){var M;if(v.length!==D.length)return!1;for(M=0;M<v.length;M++)if(v[M]!==D[M])return!1;return!0},jf=function(v,D,M,L,H,K){var ue=M-D,he=L-D,me=H-M;return{start:{dts:v,pts:v+ue},end:{dts:v+he,pts:v+me},prependedContentDuration:K,baseMediaDecodeTime:v}};fa=function(v,D){var M=[],L,H=0,K=0,ue=1/0;D=D||{},L=D.firstSequenceNumber||0,fa.prototype.init.call(this),this.push=function(he){Os.collectDtsInfo(v,he),v&&Qf.forEach(function(me){v[me]=he[me]}),M.push(he)},this.setEarliestDts=function(he){H=he},this.setVideoBaseMediaDecodeTime=function(he){ue=he},this.setAudioAppendStart=function(he){K=he},this.flush=function(){var he,me,ve,Fe,Ke,at,qe;if(M.length===0){this.trigger("done","AudioSegmentStream");return}he=Tu.trimAdtsFramesByEarliestDts(M,v,H),v.baseMediaDecodeTime=Os.calculateTrackBaseMediaDecodeTime(v,D.keepOriginalTimestamps),qe=Tu.prefixWithSilence(v,he,K,ue),v.samples=Tu.generateSampleTable(he),ve=bl.mdat(Tu.concatenateFrameData(he)),M=[],me=bl.moof(L,[v]),Fe=new Uint8Array(me.byteLength+ve.byteLength),L++,Fe.set(me),Fe.set(ve,me.byteLength),Os.clearDtsInfo(v),Ke=Math.ceil(Bu*1024/v.samplerate),he.length&&(at=he.length*Ke,this.trigger("segmentTimingInfo",jf(_u.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),he[0].dts,he[0].pts,he[0].dts+at,he[0].pts+at,qe||0)),this.trigger("timingInfo",{start:he[0].pts,end:he[0].pts+at})),this.trigger("data",{track:v,boxes:Fe}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Os.clearDtsInfo(v),M=[],this.trigger("reset")}},fa.prototype=new xu,yl=function(v,D){var M,L=[],H=[],K,ue;D=D||{},M=D.firstSequenceNumber||0,yl.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(he){Os.collectDtsInfo(v,he),he.nalUnitType==="seq_parameter_set_rbsp"&&!K&&(K=he.config,v.sps=[he.data],pd.forEach(function(me){v[me]=K[me]},this)),he.nalUnitType==="pic_parameter_set_rbsp"&&!ue&&(ue=he.data,v.pps=[he.data]),L.push(he)},this.flush=function(){for(var he,me,ve,Fe,Ke,at,qe=0,Et,zt;L.length&&L[0].nalUnitType!=="access_unit_delimiter_rbsp";)L.shift();if(L.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(he=vl.groupNalsIntoFrames(L),ve=vl.groupFramesIntoGops(he),ve[0][0].keyFrame||(me=this.getGopForFusion_(L[0],v),me?(qe=me.duration,ve.unshift(me),ve.byteLength+=me.byteLength,ve.nalCount+=me.nalCount,ve.pts=me.pts,ve.dts=me.dts,ve.duration+=me.duration):ve=vl.extendFirstKeyFrame(ve)),H.length){var _n;if(D.alignGopsAtEnd?_n=this.alignGopsAtEnd_(ve):_n=this.alignGopsAtStart_(ve),!_n){this.gopCache_.unshift({gop:ve.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),L=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Os.clearDtsInfo(v),ve=_n}Os.collectDtsInfo(v,ve),v.samples=vl.generateSampleTable(ve),Ke=bl.mdat(vl.concatenateNalData(ve)),v.baseMediaDecodeTime=Os.calculateTrackBaseMediaDecodeTime(v,D.keepOriginalTimestamps),this.trigger("processedGopsInfo",ve.map(function(Ns){return{pts:Ns.pts,dts:Ns.dts,byteLength:Ns.byteLength}})),Et=ve[0],zt=ve[ve.length-1],this.trigger("segmentTimingInfo",jf(v.baseMediaDecodeTime,Et.dts,Et.pts,zt.dts+zt.duration,zt.pts+zt.duration,qe)),this.trigger("timingInfo",{start:ve[0].pts,end:ve[ve.length-1].pts+ve[ve.length-1].duration}),this.gopCache_.unshift({gop:ve.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),L=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),Fe=bl.moof(M,[v]),at=new Uint8Array(Fe.byteLength+Ke.byteLength),M++,at.set(Fe),at.set(Ke,Fe.byteLength),this.trigger("data",{track:v,boxes:at}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),L=[],this.gopCache_.length=0,H.length=0,this.trigger("reset")},this.resetStream_=function(){Os.clearDtsInfo(v),K=void 0,ue=void 0},this.getGopForFusion_=function(he){var me=45e3,ve=1/0,Fe,Ke,at,qe,Et;for(Et=0;Et<this.gopCache_.length;Et++)qe=this.gopCache_[Et],at=qe.gop,!(!(v.pps&&$f(v.pps[0],qe.pps[0]))||!(v.sps&&$f(v.sps[0],qe.sps[0])))&&(at.dts<v.timelineStartInfo.dts||(Fe=he.dts-at.dts-at.duration,Fe>=-1e4&&Fe<=me&&(!Ke||ve>Fe)&&(Ke=qe,ve=Fe)));return Ke?Ke.gop:null},this.alignGopsAtStart_=function(he){var me,ve,Fe,Ke,at,qe,Et,zt;for(at=he.byteLength,qe=he.nalCount,Et=he.duration,me=ve=0;me<H.length&&ve<he.length&&(Fe=H[me],Ke=he[ve],Fe.pts!==Ke.pts);){if(Ke.pts>Fe.pts){me++;continue}ve++,at-=Ke.byteLength,qe-=Ke.nalCount,Et-=Ke.duration}return ve===0?he:ve===he.length?null:(zt=he.slice(ve),zt.byteLength=at,zt.duration=Et,zt.nalCount=qe,zt.pts=zt[0].pts,zt.dts=zt[0].dts,zt)},this.alignGopsAtEnd_=function(he){var me,ve,Fe,Ke,at,qe;for(me=H.length-1,ve=he.length-1,at=null,qe=!1;me>=0&&ve>=0;){if(Fe=H[me],Ke=he[ve],Fe.pts===Ke.pts){qe=!0;break}if(Fe.pts>Ke.pts){me--;continue}me===H.length-1&&(at=ve),ve--}if(!qe&&at===null)return null;var Et;if(qe?Et=ve:Et=at,Et===0)return he;var zt=he.slice(Et),_n=zt.reduce(function(Ns,ga){return Ns.byteLength+=ga.byteLength,Ns.duration+=ga.duration,Ns.nalCount+=ga.nalCount,Ns},{byteLength:0,duration:0,nalCount:0});return zt.byteLength=_n.byteLength,zt.duration=_n.duration,zt.nalCount=_n.nalCount,zt.pts=zt[0].pts,zt.dts=zt[0].dts,zt},this.alignGopsWith=function(he){H=he}},yl.prototype=new xu,To=function(v,D){this.numberOfTracks=0,this.metadataStream=D,v=v||{},typeof v.remux<"u"?this.remuxTracks=!!v.remux:this.remuxTracks=!0,typeof v.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=v.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,To.prototype.init.call(this),this.push=function(M){if(M.content||M.text)return this.pendingCaptions.push(M);if(M.frames)return this.pendingMetadata.push(M);this.pendingTracks.push(M.track),this.pendingBytes+=M.boxes.byteLength,M.track.type==="video"&&(this.videoTrack=M.track,this.pendingBoxes.push(M.boxes)),M.track.type==="audio"&&(this.audioTrack=M.track,this.pendingBoxes.unshift(M.boxes))}},To.prototype=new xu,To.prototype.flush=function(v){var D=0,M={captions:[],captionStreams:{},metadata:[],info:{}},L,H,K,ue=0,he;if(this.pendingTracks.length<this.numberOfTracks){if(v!=="VideoSegmentStream"&&v!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(ue=this.videoTrack.timelineStartInfo.pts,pd.forEach(function(me){M.info[me]=this.videoTrack[me]},this)):this.audioTrack&&(ue=this.audioTrack.timelineStartInfo.pts,Qf.forEach(function(me){M.info[me]=this.audioTrack[me]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?M.type=this.pendingTracks[0].type:M.type="combined",this.emittedTracks+=this.pendingTracks.length,K=bl.initSegment(this.pendingTracks),M.initSegment=new Uint8Array(K.byteLength),M.initSegment.set(K),M.data=new Uint8Array(this.pendingBytes),he=0;he<this.pendingBoxes.length;he++)M.data.set(this.pendingBoxes[he],D),D+=this.pendingBoxes[he].byteLength;for(he=0;he<this.pendingCaptions.length;he++)L=this.pendingCaptions[he],L.startTime=_u.metadataTsToSeconds(L.startPts,ue,this.keepOriginalTimestamps),L.endTime=_u.metadataTsToSeconds(L.endPts,ue,this.keepOriginalTimestamps),M.captionStreams[L.stream]=!0,M.captions.push(L);for(he=0;he<this.pendingMetadata.length;he++)H=this.pendingMetadata[he],H.cueTime=_u.metadataTsToSeconds(H.pts,ue,this.keepOriginalTimestamps),M.metadata.push(H);for(M.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",M),he=0;he<M.captions.length;he++)L=M.captions[he],this.trigger("caption",L);for(he=0;he<M.metadata.length;he++)H=M.metadata[he],this.trigger("id3Frame",H)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},To.prototype.setRemux=function(v){this.remuxTracks=v},Vr=function(v){var D=this,M=!0,L,H;Vr.prototype.init.call(this),v=v||{},this.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var K={};this.transmuxPipeline_=K,K.type="aac",K.metadataStream=new Sr.MetadataStream,K.aacStream=new Su,K.audioTimestampRolloverStream=new Sr.TimestampRolloverStream("audio"),K.timedMetadataTimestampRolloverStream=new Sr.TimestampRolloverStream("timed-metadata"),K.adtsStream=new Nf,K.coalesceStream=new To(v,K.metadataStream),K.headOfPipeline=K.aacStream,K.aacStream.pipe(K.audioTimestampRolloverStream).pipe(K.adtsStream),K.aacStream.pipe(K.timedMetadataTimestampRolloverStream).pipe(K.metadataStream).pipe(K.coalesceStream),K.metadataStream.on("timestamp",function(ue){K.aacStream.setTimestamp(ue.timeStamp)}),K.aacStream.on("data",function(ue){ue.type!=="timed-metadata"&&ue.type!=="audio"||K.audioSegmentStream||(H=H||{timelineStartInfo:{baseMediaDecodeTime:D.baseMediaDecodeTime},codec:"adts",type:"audio"},K.coalesceStream.numberOfTracks++,K.audioSegmentStream=new fa(H,v),K.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),K.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),K.adtsStream.pipe(K.audioSegmentStream).pipe(K.coalesceStream),D.trigger("trackinfo",{hasAudio:!!H,hasVideo:!!L}))}),K.coalesceStream.on("data",this.trigger.bind(this,"data")),K.coalesceStream.on("done",this.trigger.bind(this,"done")),Vf(this,K)},this.setupTsPipeline=function(){var K={};this.transmuxPipeline_=K,K.type="ts",K.metadataStream=new Sr.MetadataStream,K.packetStream=new Sr.TransportPacketStream,K.parseStream=new Sr.TransportParseStream,K.elementaryStream=new Sr.ElementaryStream,K.timestampRolloverStream=new Sr.TimestampRolloverStream,K.adtsStream=new Nf,K.h264Stream=new Hf,K.captionStream=new Sr.CaptionStream(v),K.coalesceStream=new To(v,K.metadataStream),K.headOfPipeline=K.packetStream,K.packetStream.pipe(K.parseStream).pipe(K.elementaryStream).pipe(K.timestampRolloverStream),K.timestampRolloverStream.pipe(K.h264Stream),K.timestampRolloverStream.pipe(K.adtsStream),K.timestampRolloverStream.pipe(K.metadataStream).pipe(K.coalesceStream),K.h264Stream.pipe(K.captionStream).pipe(K.coalesceStream),K.elementaryStream.on("data",function(ue){var he;if(ue.type==="metadata"){for(he=ue.tracks.length;he--;)!L&&ue.tracks[he].type==="video"?(L=ue.tracks[he],L.timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime):!H&&ue.tracks[he].type==="audio"&&(H=ue.tracks[he],H.timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime);L&&!K.videoSegmentStream&&(K.coalesceStream.numberOfTracks++,K.videoSegmentStream=new yl(L,v),K.videoSegmentStream.on("log",D.getLogTrigger_("videoSegmentStream")),K.videoSegmentStream.on("timelineStartInfo",function(me){H&&!v.keepOriginalTimestamps&&(H.timelineStartInfo=me,K.audioSegmentStream.setEarliestDts(me.dts-D.baseMediaDecodeTime))}),K.videoSegmentStream.on("processedGopsInfo",D.trigger.bind(D,"gopInfo")),K.videoSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"videoSegmentTimingInfo")),K.videoSegmentStream.on("baseMediaDecodeTime",function(me){H&&K.audioSegmentStream.setVideoBaseMediaDecodeTime(me)}),K.videoSegmentStream.on("timingInfo",D.trigger.bind(D,"videoTimingInfo")),K.h264Stream.pipe(K.videoSegmentStream).pipe(K.coalesceStream)),H&&!K.audioSegmentStream&&(K.coalesceStream.numberOfTracks++,K.audioSegmentStream=new fa(H,v),K.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),K.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),K.audioSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"audioSegmentTimingInfo")),K.adtsStream.pipe(K.audioSegmentStream).pipe(K.coalesceStream)),D.trigger("trackinfo",{hasAudio:!!H,hasVideo:!!L})}}),K.coalesceStream.on("data",this.trigger.bind(this,"data")),K.coalesceStream.on("id3Frame",function(ue){ue.dispatchType=K.metadataStream.dispatchType,D.trigger("id3Frame",ue)}),K.coalesceStream.on("caption",this.trigger.bind(this,"caption")),K.coalesceStream.on("done",this.trigger.bind(this,"done")),Vf(this,K)},this.setBaseMediaDecodeTime=function(K){var ue=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=K),H&&(H.timelineStartInfo.dts=void 0,H.timelineStartInfo.pts=void 0,Os.clearDtsInfo(H),ue.audioTimestampRolloverStream&&ue.audioTimestampRolloverStream.discontinuity()),L&&(ue.videoSegmentStream&&(ue.videoSegmentStream.gopCache_=[]),L.timelineStartInfo.dts=void 0,L.timelineStartInfo.pts=void 0,Os.clearDtsInfo(L),ue.captionStream.reset()),ue.timestampRolloverStream&&ue.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(K){H&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(K)},this.setRemux=function(K){var ue=this.transmuxPipeline_;v.remux=K,ue&&ue.coalesceStream&&ue.coalesceStream.setRemux(K)},this.alignGopsWith=function(K){L&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(K)},this.getLogTrigger_=function(K){var ue=this;return function(he){he.stream=K,ue.trigger("log",he)}},this.push=function(K){if(M){var ue=xo(K);ue&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!ue&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),M=!1}this.transmuxPipeline_.headOfPipeline.push(K)},this.flush=function(){M=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Vr.prototype=new xu;var Ib={Transmuxer:Vr},gd=function(v){return v>>>0},Db=function(v){return("00"+v.toString(16)).slice(-2)},_o={toUnsigned:gd,toHexString:Db},Fb=function(v){var D="";return D+=String.fromCharCode(v[0]),D+=String.fromCharCode(v[1]),D+=String.fromCharCode(v[2]),D+=String.fromCharCode(v[3]),D},ku=Fb,Pb=_o.toUnsigned,Lb=ku,md=function(v,D){var M=[],L,H,K,ue,he;if(!D.length)return null;for(L=0;L<v.byteLength;)H=Pb(v[L]<<24|v[L+1]<<16|v[L+2]<<8|v[L+3]),K=Lb(v.subarray(L+4,L+8)),ue=H>1?L+H:v.byteLength,K===D[0]&&(D.length===1?M.push(v.subarray(L+8,ue)):(he=md(v.subarray(L+8,ue),D.slice(1)),he.length&&(M=M.concat(he)))),L=ue;return M},So=md,$r=_o.toUnsigned,zf=r.getUint64,bd=function(v){var D={version:v[0],flags:new Uint8Array(v.subarray(1,4))};return D.version===1?D.baseMediaDecodeTime=zf(v.subarray(4)):D.baseMediaDecodeTime=$r(v[4]<<24|v[5]<<16|v[6]<<8|v[7]),D},vd=bd,Rb=function(v){var D=new DataView(v.buffer,v.byteOffset,v.byteLength),M={version:v[0],flags:new Uint8Array(v.subarray(1,4)),trackId:D.getUint32(4)},L=M.flags[2]&1,H=M.flags[2]&2,K=M.flags[2]&8,ue=M.flags[2]&16,he=M.flags[2]&32,me=M.flags[0]&65536,ve=M.flags[0]&131072,Fe;return Fe=8,L&&(Fe+=4,M.baseDataOffset=D.getUint32(12),Fe+=4),H&&(M.sampleDescriptionIndex=D.getUint32(Fe),Fe+=4),K&&(M.defaultSampleDuration=D.getUint32(Fe),Fe+=4),ue&&(M.defaultSampleSize=D.getUint32(Fe),Fe+=4),he&&(M.defaultSampleFlags=D.getUint32(Fe)),me&&(M.durationIsEmpty=!0),!L&&ve&&(M.baseDataOffsetIsMoof=!0),M},Kf=Rb,Mb=function(v){return{isLeading:(v[0]&12)>>>2,dependsOn:v[0]&3,isDependedOn:(v[1]&192)>>>6,hasRedundancy:(v[1]&48)>>>4,paddingValue:(v[1]&14)>>>1,isNonSyncSample:v[1]&1,degradationPriority:v[2]<<8|v[3]}},Ob=Mb,Gf=Ob,Ub=function(v){var D={version:v[0],flags:new Uint8Array(v.subarray(1,4)),samples:[]},M=new DataView(v.buffer,v.byteOffset,v.byteLength),L=D.flags[2]&1,H=D.flags[2]&4,K=D.flags[1]&1,ue=D.flags[1]&2,he=D.flags[1]&4,me=D.flags[1]&8,ve=M.getUint32(4),Fe=8,Ke;for(L&&(D.dataOffset=M.getInt32(Fe),Fe+=4),H&&ve&&(Ke={flags:Gf(v.subarray(Fe,Fe+4))},Fe+=4,K&&(Ke.duration=M.getUint32(Fe),Fe+=4),ue&&(Ke.size=M.getUint32(Fe),Fe+=4),me&&(D.version===1?Ke.compositionTimeOffset=M.getInt32(Fe):Ke.compositionTimeOffset=M.getUint32(Fe),Fe+=4),D.samples.push(Ke),ve--);ve--;)Ke={},K&&(Ke.duration=M.getUint32(Fe),Fe+=4),ue&&(Ke.size=M.getUint32(Fe),Fe+=4),he&&(Ke.flags=Gf(v.subarray(Fe,Fe+4)),Fe+=4),me&&(D.version===1?Ke.compositionTimeOffset=M.getInt32(Fe):Ke.compositionTimeOffset=M.getUint32(Fe),Fe+=4),D.samples.push(Ke);return D},qf=Ub,Wf={tfdt:vd,trun:qf},Yf={parseTfdt:Wf.tfdt,parseTrun:Wf.trun},y=function(v){for(var D=0,M=String.fromCharCode(v[D]),L="";M!=="\0";)L+=M,D++,M=String.fromCharCode(v[D]);return L+=M,L},b={uint8ToCString:y},B=b.uint8ToCString,N=r.getUint64,j=function(v){var D=4,M=v[0],L,H,K,ue,he,me,ve,Fe;if(M===0){L=B(v.subarray(D)),D+=L.length,H=B(v.subarray(D)),D+=H.length;var Ke=new DataView(v.buffer);K=Ke.getUint32(D),D+=4,he=Ke.getUint32(D),D+=4,me=Ke.getUint32(D),D+=4,ve=Ke.getUint32(D),D+=4}else if(M===1){var Ke=new DataView(v.buffer);K=Ke.getUint32(D),D+=4,ue=N(v.subarray(D)),D+=8,me=Ke.getUint32(D),D+=4,ve=Ke.getUint32(D),D+=4,L=B(v.subarray(D)),D+=L.length,H=B(v.subarray(D)),D+=H.length}Fe=new Uint8Array(v.subarray(D,v.byteLength));var at={scheme_id_uri:L,value:H,timescale:K||1,presentation_time:ue,presentation_time_delta:he,event_duration:me,id:ve,message_data:Fe};return ne(M,at)?at:void 0},q=function(v,D,M,L){return v||v===0?v/D:L+M/D},ne=function(v,D){var M=D.scheme_id_uri!=="\0",L=v===0&&re(D.presentation_time_delta)&&M,H=v===1&&re(D.presentation_time)&&M;return!(v>1)&&L||H},re=function(v){return v!==void 0||v!==null},fe={parseEmsgBox:j,scaleTime:q},Se;typeof window<"u"?Se=window:typeof t<"u"?Se=t:typeof self<"u"?Se=self:Se={};var pe=Se,Le=_o.toUnsigned,ze=_o.toHexString,We=So,Ze=ku,it=fe,mt=Kf,dt=qf,wt=vd,Ot=r.getUint64,Xt,St,Ut,Tn,_i,Mn,ys,Us=pe,Iu=Cf.parseId3Frames;Xt=function(v){var D={},M=We(v,["moov","trak"]);return M.reduce(function(L,H){var K,ue,he,me,ve;return K=We(H,["tkhd"])[0],!K||(ue=K[0],he=ue===0?12:20,me=Le(K[he]<<24|K[he+1]<<16|K[he+2]<<8|K[he+3]),ve=We(H,["mdia","mdhd"])[0],!ve)?null:(ue=ve[0],he=ue===0?12:20,L[me]=Le(ve[he]<<24|ve[he+1]<<16|ve[he+2]<<8|ve[he+3]),L)},D)},St=function(v,D){var M;M=We(D,["moof","traf"]);var L=M.reduce(function(H,K){var ue=We(K,["tfhd"])[0],he=Le(ue[4]<<24|ue[5]<<16|ue[6]<<8|ue[7]),me=v[he]||9e4,ve=We(K,["tfdt"])[0],Fe=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),Ke;ve[0]===1?Ke=Ot(ve.subarray(4,12)):Ke=Fe.getUint32(4);let at;return typeof Ke=="bigint"?at=Ke/Us.BigInt(me):typeof Ke=="number"&&!isNaN(Ke)&&(at=Ke/me),at<Number.MAX_SAFE_INTEGER&&(at=Number(at)),at<H&&(H=at),H},1/0);return typeof L=="bigint"||isFinite(L)?L:0},Ut=function(v,D){var M=We(D,["moof","traf"]),L=0,H=0,K;if(M&&M.length){var ue=We(M[0],["tfhd"])[0],he=We(M[0],["trun"])[0],me=We(M[0],["tfdt"])[0];if(ue){var ve=mt(ue);K=ve.trackId}if(me){var Fe=wt(me);L=Fe.baseMediaDecodeTime}if(he){var Ke=dt(he);Ke.samples&&Ke.samples.length&&(H=Ke.samples[0].compositionTimeOffset||0)}}var at=v[K]||9e4;typeof L=="bigint"&&(H=Us.BigInt(H),at=Us.BigInt(at));var qe=(L+H)/at;return typeof qe=="bigint"&&qe<Number.MAX_SAFE_INTEGER&&(qe=Number(qe)),qe},Tn=function(v){var D=We(v,["moov","trak"]),M=[];return D.forEach(function(L){var H=We(L,["mdia","hdlr"]),K=We(L,["tkhd"]);H.forEach(function(ue,he){var me=Ze(ue.subarray(8,12)),ve=K[he],Fe,Ke,at;me==="vide"&&(Fe=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),Ke=Fe.getUint8(0),at=Ke===0?Fe.getUint32(12):Fe.getUint32(20),M.push(at))})}),M},Mn=function(v){var D=v[0],M=D===0?12:20;return Le(v[M]<<24|v[M+1]<<16|v[M+2]<<8|v[M+3])},_i=function(v){var D=We(v,["moov","trak"]),M=[];return D.forEach(function(L){var H={},K=We(L,["tkhd"])[0],ue,he;K&&(ue=new DataView(K.buffer,K.byteOffset,K.byteLength),he=ue.getUint8(0),H.id=he===0?ue.getUint32(12):ue.getUint32(20));var me=We(L,["mdia","hdlr"])[0];if(me){var ve=Ze(me.subarray(8,12));ve==="vide"?H.type="video":ve==="soun"?H.type="audio":H.type=ve}var Fe=We(L,["mdia","minf","stbl","stsd"])[0];if(Fe){var Ke=Fe.subarray(8);H.codec=Ze(Ke.subarray(4,8));var at=We(Ke,[H.codec])[0],qe,Et;at&&(/^[asm]vc[1-9]$/i.test(H.codec)?(qe=at.subarray(78),Et=Ze(qe.subarray(4,8)),Et==="avcC"&&qe.length>11?(H.codec+=".",H.codec+=ze(qe[9]),H.codec+=ze(qe[10]),H.codec+=ze(qe[11])):H.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(H.codec)?(qe=at.subarray(28),Et=Ze(qe.subarray(4,8)),Et==="esds"&&qe.length>20&&qe[19]!==0?(H.codec+="."+ze(qe[19]),H.codec+="."+ze(qe[20]>>>2&63).replace(/^0/,"")):H.codec="mp4a.40.2"):H.codec=H.codec.toLowerCase())}var zt=We(L,["mdia","mdhd"])[0];zt&&(H.timescale=Mn(zt)),M.push(H)}),M},ys=function(v,D=0){var M=We(v,["emsg"]);return M.map(L=>{var H=it.parseEmsgBox(new Uint8Array(L)),K=Iu(H.message_data);return{cueTime:it.scaleTime(H.presentation_time,H.timescale,H.presentation_time_delta,D),duration:it.scaleTime(H.event_duration,H.timescale),frames:K}})};var Br={findBox:We,parseType:Ze,timescale:Xt,startTime:St,compositionStartTime:Ut,videoTrackIds:Tn,tracks:_i,getTimescaleFromMediaHeader:Mn,getEmsgID3:ys};const{parseTrun:NP}=Yf,{findBox:W2}=Br;var Y2=pe,HP=function(v){var D=W2(v,["moof","traf"]),M=W2(v,["mdat"]),L=[];return M.forEach(function(H,K){var ue=D[K];L.push({mdat:H,traf:ue})}),L},QP=function(v,D,M){var L=D,H=M.defaultSampleDuration||0,K=M.defaultSampleSize||0,ue=M.trackId,he=[];return v.forEach(function(me){var ve=NP(me),Fe=ve.samples;Fe.forEach(function(Ke){Ke.duration===void 0&&(Ke.duration=H),Ke.size===void 0&&(Ke.size=K),Ke.trackId=ue,Ke.dts=L,Ke.compositionTimeOffset===void 0&&(Ke.compositionTimeOffset=0),typeof L=="bigint"?(Ke.pts=L+Y2.BigInt(Ke.compositionTimeOffset),L+=Y2.BigInt(Ke.duration)):(Ke.pts=L+Ke.compositionTimeOffset,L+=Ke.duration)}),he=he.concat(Fe)}),he},X2={getMdatTrafPairs:HP,parseSamples:QP},VP=sr.discardEmulationPreventionBytes,$P=bf.CaptionStream,Nb=So,jP=vd,zP=Kf,{getMdatTrafPairs:KP,parseSamples:GP}=X2,qP=function(v,D){for(var M=v,L=0;L<D.length;L++){var H=D[L];if(M<H.size)return H;M-=H.size}return null},WP=function(v,D,M){var L=new DataView(v.buffer,v.byteOffset,v.byteLength),H={logs:[],seiNals:[]},K,ue,he,me;for(ue=0;ue+4<v.length;ue+=he)if(he=L.getUint32(ue),ue+=4,!(he<=0))switch(v[ue]&31){case 6:var ve=v.subarray(ue+1,ue+1+he),Fe=qP(ue,D);if(K={nalUnitType:"sei_rbsp",size:he,data:ve,escapedRBSP:VP(ve),trackId:M},Fe)K.pts=Fe.pts,K.dts=Fe.dts,me=Fe;else if(me)K.pts=me.pts,K.dts=me.dts;else{H.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+ue+" for trackId "+M+". See mux.js#223."});break}H.seiNals.push(K);break}return H},YP=function(v,D){var M={},L=KP(v);return L.forEach(function(H){var K=H.mdat,ue=H.traf,he=Nb(ue,["tfhd"]),me=zP(he[0]),ve=me.trackId,Fe=Nb(ue,["tfdt"]),Ke=Fe.length>0?jP(Fe[0]).baseMediaDecodeTime:0,at=Nb(ue,["trun"]),qe,Et;D===ve&&at.length>0&&(qe=GP(at,Ke,me),Et=WP(K,qe,ve),M[ve]||(M[ve]={seiNals:[],logs:[]}),M[ve].seiNals=M[ve].seiNals.concat(Et.seiNals),M[ve].logs=M[ve].logs.concat(Et.logs))}),M},XP=function(v,D,M){var L;if(D===null)return null;L=YP(v,D);var H=L[D]||{};return{seiNals:H.seiNals,logs:H.logs,timescale:M}},JP=function(){var v=!1,D,M,L,H,K,ue;this.isInitialized=function(){return v},this.init=function(he){D=new $P,v=!0,ue=he?he.isPartial:!1,D.on("data",function(me){me.startTime=me.startPts/H,me.endTime=me.endPts/H,K.captions.push(me),K.captionStreams[me.stream]=!0}),D.on("log",function(me){K.logs.push(me)})},this.isNewInit=function(he,me){return he&&he.length===0||me&&typeof me=="object"&&Object.keys(me).length===0?!1:L!==he[0]||H!==me[L]},this.parse=function(he,me,ve){var Fe;if(this.isInitialized()){if(!me||!ve)return null;if(this.isNewInit(me,ve))L=me[0],H=ve[L];else if(L===null||!H)return M.push(he),null}else return null;for(;M.length>0;){var Ke=M.shift();this.parse(Ke,me,ve)}return Fe=XP(he,L,H),Fe&&Fe.logs&&(K.logs=K.logs.concat(Fe.logs)),Fe===null||!Fe.seiNals?K.logs.length?{logs:K.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Fe.seiNals),this.flushStream(),K)},this.pushNals=function(he){if(!this.isInitialized()||!he||he.length===0)return null;he.forEach(function(me){D.push(me)})},this.flushStream=function(){if(!this.isInitialized())return null;ue?D.partialFlush():D.flush()},this.clearParsedCaptions=function(){K.captions=[],K.captionStreams={},K.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;D.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){M=[],L=null,H=null,K?this.clearParsedCaptions():K={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},ZP=JP;const{parseTfdt:eL}=Yf,pa=So,{getTimescaleFromMediaHeader:tL}=Br,{parseSamples:iL,getMdatTrafPairs:nL}=X2;var J2=function(){let v=9e4;this.init=function(D){const M=pa(D,["moov","trak","mdia","mdhd"])[0];M&&(v=tL(M))},this.parseSegment=function(D){const M=[],L=nL(D);let H=0;return L.forEach(function(K){const ue=K.mdat,he=K.traf,me=pa(he,["tfdt"])[0],ve=pa(he,["tfhd"])[0],Fe=pa(he,["trun"]);if(me&&(H=eL(me).baseMediaDecodeTime),Fe.length&&ve){const Ke=iL(Fe,H,ve);let at=0;Ke.forEach(function(qe){const Et="utf-8",zt=new TextDecoder(Et),_n=ue.slice(at,at+qe.size);if(pa(_n,["vtte"])[0]){at+=qe.size;return}pa(_n,["vttc"]).forEach(function(yd){const wd=pa(yd,["payl"])[0],Cd=pa(yd,["sttg"])[0],Ed=qe.pts/v,Zf=(qe.pts+qe.duration)/v;let Li,xd;if(wd)try{Li=zt.decode(wd)}catch(kr){console.error(kr)}if(Cd)try{xd=zt.decode(Cd)}catch(kr){console.error(kr)}qe.duration&&Li&&M.push({cueText:Li,start:Ed,end:Zf,settings:xd})}),at+=qe.size})}}),M}},Hb=Au,Z2=function(v){var D=v[1]&31;return D<<=8,D|=v[2],D},Xf=function(v){return!!(v[1]&64)},Jf=function(v){var D=0;return(v[3]&48)>>>4>1&&(D+=v[4]+1),D},sL=function(v,D){var M=Z2(v);return M===0?"pat":M===D?"pmt":D?"pes":null},rL=function(v){var D=Xf(v),M=4+Jf(v);return D&&(M+=v[M]+1),(v[M+10]&31)<<8|v[M+11]},oL=function(v){var D={},M=Xf(v),L=4+Jf(v);if(M&&(L+=v[L]+1),!!(v[L+5]&1)){var H,K,ue;H=(v[L+1]&15)<<8|v[L+2],K=3+H-4,ue=(v[L+10]&15)<<8|v[L+11];for(var he=12+ue;he<K;){var me=L+he;D[(v[me+1]&31)<<8|v[me+2]]=v[me],he+=((v[me+3]&15)<<8|v[me+4])+5}return D}},aL=function(v,D){var M=Z2(v),L=D[M];switch(L){case Hb.H264_STREAM_TYPE:return"video";case Hb.ADTS_STREAM_TYPE:return"audio";case Hb.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},lL=function(v){var D=Xf(v);if(!D)return null;var M=4+Jf(v);if(M>=v.byteLength)return null;var L=null,H;return H=v[M+7],H&192&&(L={},L.pts=(v[M+9]&14)<<27|(v[M+10]&255)<<20|(v[M+11]&254)<<12|(v[M+12]&255)<<5|(v[M+13]&254)>>>3,L.pts*=4,L.pts+=(v[M+13]&6)>>>1,L.dts=L.pts,H&64&&(L.dts=(v[M+14]&14)<<27|(v[M+15]&255)<<20|(v[M+16]&254)<<12|(v[M+17]&255)<<5|(v[M+18]&254)>>>3,L.dts*=4,L.dts+=(v[M+18]&6)>>>1)),L},Qb=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},uL=function(v){for(var D=4+Jf(v),M=v.subarray(D),L=0,H=0,K=!1,ue;H<M.byteLength-3;H++)if(M[H+2]===1){L=H+5;break}for(;L<M.byteLength;)switch(M[L]){case 0:if(M[L-1]!==0){L+=2;break}else if(M[L-2]!==0){L++;break}H+3!==L-2&&(ue=Qb(M[H+3]&31),ue==="slice_layer_without_partitioning_rbsp_idr"&&(K=!0));do L++;while(M[L]!==1&&L<M.length);H=L-2,L+=3;break;case 1:if(M[L-1]!==0||M[L-2]!==0){L+=3;break}ue=Qb(M[H+3]&31),ue==="slice_layer_without_partitioning_rbsp_idr"&&(K=!0),H=L-2,L+=3;break;default:L+=3;break}return M=M.subarray(H),L-=H,H=0,M&&M.byteLength>3&&(ue=Qb(M[H+3]&31),ue==="slice_layer_without_partitioning_rbsp_idr"&&(K=!0)),K},cL={parseType:sL,parsePat:rL,parsePmt:oL,parsePayloadUnitStartIndicator:Xf,parsePesType:aL,parsePesTime:lL,videoPacketContainsKeyFrame:uL},eE=Au,Du=ld.handleRollover,yi={};yi.ts=cL,yi.aac=fd;var wl=pt.ONE_SECOND_IN_TS,ss=188,jr=71,dL=function(v,D){for(var M=0,L=ss,H,K;L<v.byteLength;){if(v[M]===jr&&v[L]===jr){switch(H=v.subarray(M,L),K=yi.ts.parseType(H,D.pid),K){case"pat":D.pid=yi.ts.parsePat(H);break;case"pmt":var ue=yi.ts.parsePmt(H);D.table=D.table||{},Object.keys(ue).forEach(function(he){D.table[he]=ue[he]});break}M+=ss,L+=ss;continue}M++,L++}},tE=function(v,D,M){for(var L=0,H=ss,K,ue,he,me,ve,Fe=!1;H<=v.byteLength;){if(v[L]===jr&&(v[H]===jr||H===v.byteLength)){switch(K=v.subarray(L,H),ue=yi.ts.parseType(K,D.pid),ue){case"pes":he=yi.ts.parsePesType(K,D.table),me=yi.ts.parsePayloadUnitStartIndicator(K),he==="audio"&&me&&(ve=yi.ts.parsePesTime(K),ve&&(ve.type="audio",M.audio.push(ve),Fe=!0));break}if(Fe)break;L+=ss,H+=ss;continue}L++,H++}for(H=v.byteLength,L=H-ss,Fe=!1;L>=0;){if(v[L]===jr&&(v[H]===jr||H===v.byteLength)){switch(K=v.subarray(L,H),ue=yi.ts.parseType(K,D.pid),ue){case"pes":he=yi.ts.parsePesType(K,D.table),me=yi.ts.parsePayloadUnitStartIndicator(K),he==="audio"&&me&&(ve=yi.ts.parsePesTime(K),ve&&(ve.type="audio",M.audio.push(ve),Fe=!0));break}if(Fe)break;L-=ss,H-=ss;continue}L--,H--}},hL=function(v,D,M){for(var L=0,H=ss,K,ue,he,me,ve,Fe,Ke,at,qe=!1,Et={data:[],size:0};H<v.byteLength;){if(v[L]===jr&&v[H]===jr){switch(K=v.subarray(L,H),ue=yi.ts.parseType(K,D.pid),ue){case"pes":if(he=yi.ts.parsePesType(K,D.table),me=yi.ts.parsePayloadUnitStartIndicator(K),he==="video"&&(me&&!qe&&(ve=yi.ts.parsePesTime(K),ve&&(ve.type="video",M.video.push(ve),qe=!0)),!M.firstKeyFrame)){if(me&&Et.size!==0){for(Fe=new Uint8Array(Et.size),Ke=0;Et.data.length;)at=Et.data.shift(),Fe.set(at,Ke),Ke+=at.byteLength;if(yi.ts.videoPacketContainsKeyFrame(Fe)){var zt=yi.ts.parsePesTime(Fe);zt?(M.firstKeyFrame=zt,M.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Et.size=0}Et.data.push(K),Et.size+=K.byteLength}break}if(qe&&M.firstKeyFrame)break;L+=ss,H+=ss;continue}L++,H++}for(H=v.byteLength,L=H-ss,qe=!1;L>=0;){if(v[L]===jr&&v[H]===jr){switch(K=v.subarray(L,H),ue=yi.ts.parseType(K,D.pid),ue){case"pes":he=yi.ts.parsePesType(K,D.table),me=yi.ts.parsePayloadUnitStartIndicator(K),he==="video"&&me&&(ve=yi.ts.parsePesTime(K),ve&&(ve.type="video",M.video.push(ve),qe=!0));break}if(qe)break;L-=ss,H-=ss;continue}L--,H--}},AL=function(v,D){if(v.audio&&v.audio.length){var M=D;(typeof M>"u"||isNaN(M))&&(M=v.audio[0].dts),v.audio.forEach(function(K){K.dts=Du(K.dts,M),K.pts=Du(K.pts,M),K.dtsTime=K.dts/wl,K.ptsTime=K.pts/wl})}if(v.video&&v.video.length){var L=D;if((typeof L>"u"||isNaN(L))&&(L=v.video[0].dts),v.video.forEach(function(K){K.dts=Du(K.dts,L),K.pts=Du(K.pts,L),K.dtsTime=K.dts/wl,K.ptsTime=K.pts/wl}),v.firstKeyFrame){var H=v.firstKeyFrame;H.dts=Du(H.dts,L),H.pts=Du(H.pts,L),H.dtsTime=H.dts/wl,H.ptsTime=H.pts/wl}}},fL=function(v){for(var D=!1,M=0,L=null,H=null,K=0,ue=0,he;v.length-ue>=3;){var me=yi.aac.parseType(v,ue);switch(me){case"timed-metadata":if(v.length-ue<10){D=!0;break}if(K=yi.aac.parseId3TagSize(v,ue),K>v.length){D=!0;break}H===null&&(he=v.subarray(ue,ue+K),H=yi.aac.parseAacTimestamp(he)),ue+=K;break;case"audio":if(v.length-ue<7){D=!0;break}if(K=yi.aac.parseAdtsSize(v,ue),K>v.length){D=!0;break}L===null&&(he=v.subarray(ue,ue+K),L=yi.aac.parseSampleRate(he)),M++,ue+=K;break;default:ue++;break}if(D)return null}if(L===null||H===null)return null;var ve=wl/L,Fe={audio:[{type:"audio",dts:H,pts:H},{type:"audio",dts:H+M*1024*ve,pts:H+M*1024*ve}]};return Fe},pL=function(v){var D={pid:null,table:null},M={};dL(v,D);for(var L in D.table)if(D.table.hasOwnProperty(L)){var H=D.table[L];switch(H){case eE.H264_STREAM_TYPE:M.video=[],hL(v,D,M),M.video.length===0&&delete M.video;break;case eE.ADTS_STREAM_TYPE:M.audio=[],tE(v,D,M),M.audio.length===0&&delete M.audio;break}}return M},gL=function(v,D){var M=yi.aac.isLikelyAacData(v),L;return M?L=fL(v):L=pL(v),!L||!L.audio&&!L.video?null:(AL(L,D),L)},mL={inspect:gL,parseAudioPes_:tE};const bL=function(v,D){D.on("data",function(M){const L=M.initSegment;M.initSegment={data:L.buffer,byteOffset:L.byteOffset,byteLength:L.byteLength};const H=M.data;M.data=H.buffer,v.postMessage({action:"data",segment:M,byteOffset:H.byteOffset,byteLength:H.byteLength},[M.data])}),D.on("done",function(M){v.postMessage({action:"done"})}),D.on("gopInfo",function(M){v.postMessage({action:"gopInfo",gopInfo:M})}),D.on("videoSegmentTimingInfo",function(M){const L={start:{decode:pt.videoTsToSeconds(M.start.dts),presentation:pt.videoTsToSeconds(M.start.pts)},end:{decode:pt.videoTsToSeconds(M.end.dts),presentation:pt.videoTsToSeconds(M.end.pts)},baseMediaDecodeTime:pt.videoTsToSeconds(M.baseMediaDecodeTime)};M.prependedContentDuration&&(L.prependedContentDuration=pt.videoTsToSeconds(M.prependedContentDuration)),v.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:L})}),D.on("audioSegmentTimingInfo",function(M){const L={start:{decode:pt.videoTsToSeconds(M.start.dts),presentation:pt.videoTsToSeconds(M.start.pts)},end:{decode:pt.videoTsToSeconds(M.end.dts),presentation:pt.videoTsToSeconds(M.end.pts)},baseMediaDecodeTime:pt.videoTsToSeconds(M.baseMediaDecodeTime)};M.prependedContentDuration&&(L.prependedContentDuration=pt.videoTsToSeconds(M.prependedContentDuration)),v.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:L})}),D.on("id3Frame",function(M){v.postMessage({action:"id3Frame",id3Frame:M})}),D.on("caption",function(M){v.postMessage({action:"caption",caption:M})}),D.on("trackinfo",function(M){v.postMessage({action:"trackinfo",trackInfo:M})}),D.on("audioTimingInfo",function(M){v.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:pt.videoTsToSeconds(M.start),end:pt.videoTsToSeconds(M.end)}})}),D.on("videoTimingInfo",function(M){v.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:pt.videoTsToSeconds(M.start),end:pt.videoTsToSeconds(M.end)}})}),D.on("log",function(M){v.postMessage({action:"log",log:M})})};class iE{constructor(D,M){this.options=M||{},this.self=D,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ib.Transmuxer(this.options),bL(this.self,this.transmuxer)}pushMp4Captions(D){this.captionParser||(this.captionParser=new ZP,this.captionParser.init());const M=new Uint8Array(D.data,D.byteOffset,D.byteLength),L=this.captionParser.parse(M,D.trackIds,D.timescales);this.self.postMessage({action:"mp4Captions",captions:L&&L.captions||[],logs:L&&L.logs||[],data:M.buffer},[M.buffer])}initMp4WebVttParser(D){this.webVttParser||(this.webVttParser=new J2);const M=new Uint8Array(D.data,D.byteOffset,D.byteLength);this.webVttParser.init(M)}getMp4WebVttText(D){this.webVttParser||(this.webVttParser=new J2);const M=new Uint8Array(D.data,D.byteOffset,D.byteLength),L=this.webVttParser.parseSegment(M);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:L||[],data:M.buffer},[M.buffer])}probeMp4StartTime({timescales:D,data:M}){const L=Br.startTime(D,M);this.self.postMessage({action:"probeMp4StartTime",startTime:L,data:M},[M.buffer])}probeMp4Tracks({data:D}){const M=Br.tracks(D);this.self.postMessage({action:"probeMp4Tracks",tracks:M,data:D},[D.buffer])}probeEmsgID3({data:D,offset:M}){const L=Br.getEmsgID3(D,M);this.self.postMessage({action:"probeEmsgID3",id3Frames:L,emsgData:D},[D.buffer])}probeTs({data:D,baseStartTime:M}){const L=typeof M=="number"&&!isNaN(M)?M*pt.ONE_SECOND_IN_TS:void 0,H=mL.inspect(D,L);let K=null;H&&(K={hasVideo:H.video&&H.video.length===2||!1,hasAudio:H.audio&&H.audio.length===2||!1},K.hasVideo&&(K.videoStart=H.video[0].ptsTime),K.hasAudio&&(K.audioStart=H.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:K,data:D},[D.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(D){const M=new Uint8Array(D.data,D.byteOffset,D.byteLength);this.transmuxer.push(M)}reset(){this.transmuxer.reset()}setTimestampOffset(D){const M=D.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(pt.secondsToVideoTs(M)))}setAudioAppendStart(D){this.transmuxer.setAudioAppendStart(Math.ceil(pt.secondsToVideoTs(D.appendStart)))}setRemux(D){this.transmuxer.setRemux(D.remux)}flush(D){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(D){this.transmuxer.alignGopsWith(D.gopsToAlignWith.slice())}}self.onmessage=function(v){if(v.data.action==="init"&&v.data.options){this.messageHandlers=new iE(self,v.data.options);return}this.messageHandlers||(this.messageHandlers=new iE(self)),v.data&&v.data.action&&v.data.action!=="init"&&this.messageHandlers[v.data.action]&&this.messageHandlers[v.data.action](v.data)}}));var U$=sF(O$);const N$=(t,e,i)=>{const{type:s,initSegment:n,captions:r,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:r,captionStreams:o,metadata:a});const c=t.data.segment.boxes||{data:t.data.segment.data},h={type:s,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(n.data,n.byteOffset,n.byteLength)};typeof l<"u"&&(h.videoFrameDtsTime=l),typeof u<"u"&&(h.videoFramePtsTime=u),i(h)},H$=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},Q$=(t,e)=>{e.gopInfo=t.data.gopInfo},aF=t=>{const{transmuxer:e,bytes:i,audioAppendStart:s,gopsToAlignWith:n,remux:r,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:h,onId3:A,onCaptions:f,onDone:m,onEndedTimeline:p,onTransmuxerLog:x,isEndOfTimeline:C,segment:g,triggerSegmentEventFn:w}=t,S={buffer:[]};let I=C;const O=$=>{e.currentTransmux===t&&($.data.action==="data"&&N$($,S,o),$.data.action==="trackinfo"&&a($.data.trackInfo),$.data.action==="gopInfo"&&Q$($,S),$.data.action==="audioTimingInfo"&&l($.data.audioTimingInfo),$.data.action==="videoTimingInfo"&&u($.data.videoTimingInfo),$.data.action==="videoSegmentTimingInfo"&&c($.data.videoSegmentTimingInfo),$.data.action==="audioSegmentTimingInfo"&&h($.data.audioSegmentTimingInfo),$.data.action==="id3Frame"&&A([$.data.id3Frame],$.data.id3Frame.dispatchType),$.data.action==="caption"&&f($.data.caption),$.data.action==="endedtimeline"&&(I=!1,p()),$.data.action==="log"&&x($.data.log),$.data.type==="transmuxed"&&(I||(e.onmessage=null,H$({transmuxedData:S,callback:m}),lF(e))))},U=()=>{const $={message:"Received an error message from the transmuxer worker",metadata:{errorType:Ne.Error.StreamingFailedToTransmuxSegment,segmentInfo:Hl({segment:g})}};m(null,$)};if(e.onmessage=O,e.onerror=U,s&&e.postMessage({action:"setAudioAppendStart",appendStart:s}),Array.isArray(n)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof r<"u"&&e.postMessage({action:"setRemux",remux:r}),i.byteLength){const $=i instanceof ArrayBuffer?i:i.buffer,k=i instanceof ArrayBuffer?0:i.byteOffset;w({type:"segmenttransmuxingstart",segment:g}),e.postMessage({action:"push",data:$,byteOffset:k,byteLength:i.byteLength},[$])}C&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},lF=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():aF(t.currentTransmux))},IT=(t,e)=>{t.postMessage({action:e}),lF(t)},uF=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,IT(e,t);return}e.transmuxQueue.push(IT.bind(null,e,t))},V$=t=>{uF("reset",t)},$$=t=>{uF("endTimeline",t)},cF=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,aF(t);return}t.transmuxer.transmuxQueue.push(t)},j$=t=>{const e=new U$;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:t}),e};var uy={reset:V$,endTimeline:$$,transmux:cF,createTransmuxer:j$};const Cc=function(t){const e=t.transmuxer,i=t.endAction||t.action,s=t.callback,n=ln({},t,{endAction:null,transmuxer:null,callback:null}),r=o=>{o.data.action===i&&(e.removeEventListener("message",r),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),s(o.data))};if(e.addEventListener("message",r),t.data){const o=t.data instanceof ArrayBuffer;n.byteOffset=o?0:t.data.byteOffset,n.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(n,a)}else e.postMessage(n)},oo={FAILURE:2,TIMEOUT:-101,ABORTED:-102},dF="wvtt",nw=t=>{t.forEach(e=>{e.abort()})},z$=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),K$=t=>{const e=t.target,s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return s.bytesReceived=t.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s},f2=(t,e)=>{const{requestType:i}=e,s=eu({requestType:i,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:oo.TIMEOUT,xhr:e,metadata:s}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:oo.ABORTED,xhr:e,metadata:s}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:oo.FAILURE,xhr:e,metadata:s}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:oo.FAILURE,xhr:e,metadata:s}:null},DT=(t,e,i,s)=>(n,r)=>{const o=r.response,a=f2(n,r);if(a)return i(a,t);if(o.byteLength!==16)return i({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:oo.FAILURE,xhr:r},t);const l=new DataView(o),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let h=0;h<e.length;h++)e[h].bytes=u;const c={uri:r.uri};return s({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),i(null,t)},G$=(t,e)=>{e===dF&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},q$=(t,e,i)=>{e===dF&&Cc({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:s,mp4VttCues:n})=>{t.bytes=s,i(null,t,{mp4VttCues:n})}})},hF=(t,e)=>{const i=UC(t.map.bytes);if(i!=="mp4"){const s=t.map.resolvedUri||t.map.uri,n=i||"unknown";return e({internal:!0,message:"Found unsupported ".concat(n," container for initialization segment at URL: ").concat(s),code:oo.FAILURE,metadata:{mediaType:n}})}Cc({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:s,data:n})=>(t.map.bytes=n,s.forEach(function(r){t.map.tracks=t.map.tracks||{},!t.map.tracks[r.type]&&(t.map.tracks[r.type]=r,typeof r.id=="number"&&r.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[r.id]=r.timescale),r.type==="text"&&G$(t,r.codec))}),e(null))})},W$=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:i})=>(s,n)=>{const r=f2(s,n);if(r)return e(r,t);const o=new Uint8Array(n.response);if(i({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=o,e(null,t);t.map.bytes=o,hF(t,function(a){if(a)return a.xhr=n,a.status=n.status,e(a,t);e(null,t)})},Y$=({segment:t,finishProcessingFn:e,responseType:i,triggerSegmentEventFn:s})=>(n,r)=>{const o=f2(n,r);if(o)return e(o,t);s({type:"segmentloaded",segment:t});const a=i==="arraybuffer"||!r.responseText?r.response:R$(r.responseText.substring(t.lastReachedChar||0));return t.stats=z$(r),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},X$=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})=>{const m=t.map&&t.map.tracks||{},p=!!(m.audio&&m.video);let x=s.bind(null,t,"audio","start");const C=s.bind(null,t,"audio","end");let g=s.bind(null,t,"video","start");const w=s.bind(null,t,"video","end"),S=()=>cF({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:I=>{I.type=I.type==="combined"?"video":I.type,c(t,I)},onTrackInfo:I=>{i&&(p&&(I.isMuxed=!0),i(t,I))},onAudioTimingInfo:I=>{x&&typeof I.start<"u"&&(x(I.start),x=null),C&&typeof I.end<"u"&&C(I.end)},onVideoTimingInfo:I=>{g&&typeof I.start<"u"&&(g(I.start),g=null),w&&typeof I.end<"u"&&w(I.end)},onVideoSegmentTimingInfo:I=>{const O={pts:{start:I.start.presentation,end:I.end.presentation},dts:{start:I.start.decode,end:I.end.decode}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:O}),n(I)},onAudioSegmentTimingInfo:I=>{const O={pts:{start:I.start.pts,end:I.end.pts},dts:{start:I.start.dts,end:I.end.dts}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:O}),r(I)},onId3:(I,O)=>{o(t,I,O)},onCaptions:I=>{a(t,[I])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:A,onDone:(I,O)=>{h&&(I.type=I.type==="combined"?"video":I.type,f({type:"segmenttransmuxingcomplete",segment:t}),h(O,t,I))},segment:t,triggerSegmentEventFn:f});Cc({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:I=>{t.bytes=e=I.data;const O=I.result;O&&(i(t,{hasAudio:O.hasAudio,hasVideo:O.hasVideo,isMuxed:p}),i=null),S()}})},AF=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})=>{let m=new Uint8Array(e);if(bQ(m)){t.isFmp4=!0;const{tracks:p}=t.map;if(p.text&&(!p.audio||!p.video)){c(t,{data:m,type:"text"}),q$(t,p.text.codec,h);return}const C={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(C.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(C.videoCodec=p.video.codec),p.video&&p.audio&&(C.isMuxed=!0),i(t,C);const g=(w,S)=>{c(t,{data:m,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),S&&S.length&&o(t,S),w&&w.length&&a(t,w),h(null,t,{})};Cc({action:"probeMp4StartTime",timescales:t.map.timescales,data:m,transmuxer:t.transmuxer,callback:({data:w,startTime:S})=>{e=w.buffer,t.bytes=m=w,C.hasAudio&&!C.isMuxed&&s(t,"audio","start",S),C.hasVideo&&s(t,"video","start",S),Cc({action:"probeEmsgID3",data:m,transmuxer:t.transmuxer,offset:S,callback:({emsgData:I,id3Frames:O})=>{if(e=I.buffer,t.bytes=m=I,!p.video||!I.byteLength||!t.transmuxer){g(void 0,O);return}Cc({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:m,timescales:t.map.timescales,trackIds:[p.video.id],callback:U=>{e=U.data.buffer,t.bytes=m=U.data,U.logs.forEach(function($){A(vi($,{stream:"mp4CaptionParser"}))}),g(U.captions,O)}})}})}});return}if(!t.transmuxer){h(null,t,{});return}if(typeof t.container>"u"&&(t.container=UC(m)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),h(null,t,{});return}X$({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})},fF=function({id:t,key:e,encryptedBytes:i,decryptionWorker:s,segment:n,doneFn:r},o){const a=u=>{if(u.data.source===t){s.removeEventListener("message",a);const c=u.data.decrypted;o(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};s.onerror=()=>{const u="An error occurred in the decryption worker",c=Hl({segment:n}),h={message:u,metadata:{error:new Error(u),errorType:Ne.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:n.key.resolvedUri||n.map.key.resolvedUri}}};r(h,n)},s.addEventListener("message",a);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),s.postMessage(JD({source:t,encrypted:i,key:l,iv:e.iv}),[i.buffer,l.buffer])},J$=({decryptionWorker:t,segment:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})=>{f({type:"segmentdecryptionstart"}),fF({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:h},m=>{e.bytes=m,f({type:"segmentdecryptioncomplete",segment:e}),AF({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})})},Z$=({activeXhrs:t,decryptionWorker:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})=>{let m=0,p=!1;return(x,C)=>{if(!p){if(x)return p=!0,nw(t),h(x,C);if(m+=1,m===t.length){const g=function(){if(C.encryptedBytes)return J$({decryptionWorker:e,segment:C,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f});AF({segment:C,bytes:C.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:A,triggerSegmentEventFn:f})};if(C.endOfAllRequests=Date.now(),C.map&&C.map.encryptedBytes&&!C.map.bytes)return f({type:"segmentdecryptionstart",segment:C}),fF({decryptionWorker:e,id:C.requestId+"-init",encryptedBytes:C.map.encryptedBytes,key:C.map.key,segment:C,doneFn:h},w=>{C.map.bytes=w,f({type:"segmentdecryptioncomplete",segment:C}),hF(C,S=>{if(S)return nw(t),h(S,C);g()})});g()}}}},ej=({loadendState:t,abortFn:e})=>i=>{i.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},tj=({segment:t,progressFn:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>h=>{if(!h.target.aborted)return t.stats=vi(t.stats,K$(h)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(h,t)},ij=({xhr:t,xhrOptions:e,decryptionWorker:i,segment:s,abortFn:n,progressFn:r,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:A,endedTimelineFn:f,dataFn:m,doneFn:p,onTransmuxerLog:x,triggerSegmentEventFn:C})=>{const g=[],w=Z$({activeXhrs:g,decryptionWorker:i,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:A,endedTimelineFn:f,dataFn:m,doneFn:p,onTransmuxerLog:x,triggerSegmentEventFn:C});if(s.key&&!s.key.bytes){const $=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&$.push(s.map.key);const k=vi(e,{uri:s.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),P=DT(s,$,w,C),T={uri:s.key.resolvedUri};C({type:"segmentkeyloadstart",segment:s,keyInfo:T});const R=t(k,P);g.push(R)}if(s.map&&!s.map.bytes){if(s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri)){const R=vi(e,{uri:s.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),E=DT(s,[s.map.key],w,C),_={uri:s.map.key.resolvedUri};C({type:"segmentkeyloadstart",segment:s,keyInfo:_});const F=t(R,E);g.push(F)}const k=vi(e,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:tw(s.map),requestType:"segment-media-initialization"}),P=W$({segment:s,finishProcessingFn:w,triggerSegmentEventFn:C});C({type:"segmentloadstart",segment:s});const T=t(k,P);g.push(T)}const S=vi(e,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:tw(s),requestType:"segment"}),I=Y$({segment:s,finishProcessingFn:w,responseType:S.responseType,triggerSegmentEventFn:C});C({type:"segmentloadstart",segment:s});const O=t(S,I);O.addEventListener("progress",tj({segment:s,progressFn:r,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:A,endedTimelineFn:f,dataFn:m})),g.push(O);const U={};return g.forEach($=>{$.addEventListener("loadend",ej({loadendState:U,abortFn:n}))}),()=>nw(g)},nj=Tr("CodecUtils"),sj=function(t){const e=t.attributes||{};if(e.CODECS)return Zr(e.CODECS)},pF=(t,e)=>{const i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},rj=(t,e)=>{if(!pF(t,e))return!0;const i=e.attributes||{},s=t.mediaGroups.AUDIO[i.AUDIO];for(const n in s)if(!s[n].uri&&!s[n].playlists)return!0;return!1},$m=function(t){const e={};return t.forEach(({mediaType:i,type:s,details:n})=>{e[i]=e[i]||[],e[i].push(eI("".concat(s).concat(n)))}),Object.keys(e).forEach(function(i){if(e[i].length>1){nj("multiple ".concat(i," codecs found as attributes: ").concat(e[i].join(", "),". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.")),e[i]=null;return}e[i]=e[i][0]}),e},FT=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},AA=function(t,e){const i=e.attributes||{},s=$m(sj(e)||[]);if(pF(t,e)&&!s.audio&&!rj(t,e)){const n=$m(jN(t,i.AUDIO)||[]);n.audio&&(s.audio=n.audio)}return s},_p=Tr("PlaylistSelector"),PT=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},jm=function(t,e){if(!t)return"";const i=be.getComputedStyle(t);return i?i[e]:""},Ec=function(t,e){const i=t.slice();t.sort(function(s,n){const r=e(s,n);return r===0?i.indexOf(s)-i.indexOf(n):r})},p2=function(t,e){let i,s;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||be.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(s=e.attributes.BANDWIDTH),s=s||be.Number.MAX_VALUE,i-s},oj=function(t,e){let i,s;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||be.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(s=e.attributes.RESOLUTION.width),s=s||be.Number.MAX_VALUE,i===s&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-s};let gF=function(t,e,i,s,n,r){if(!t)return;const o={bandwidth:e,width:i,height:s,limitRenditionByPlayerDimensions:n};let a=t.playlists;Is.isAudioOnly(t)&&(a=r.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(I=>{let O;const U=I.attributes&&I.attributes.RESOLUTION&&I.attributes.RESOLUTION.width,$=I.attributes&&I.attributes.RESOLUTION&&I.attributes.RESOLUTION.height;return O=I.attributes&&I.attributes.BANDWIDTH,O=O||be.Number.MAX_VALUE,{bandwidth:O,width:U,height:$,playlist:I}});Ec(l,(I,O)=>I.bandwidth-O.bandwidth),l=l.filter(I=>!Is.isIncompatible(I.playlist));let u=l.filter(I=>Is.isEnabled(I.playlist));u.length||(u=l.filter(I=>!Is.isDisabled(I.playlist)));const c=u.filter(I=>I.bandwidth*kn.BANDWIDTH_VARIANCE<e);let h=c[c.length-1];const A=c.filter(I=>I.bandwidth===h.bandwidth)[0];if(n===!1){const I=A||u[0]||l[0];if(I&&I.playlist){let O="sortedPlaylistReps";return A&&(O="bandwidthBestRep"),u[0]&&(O="enabledPlaylistReps"),_p("choosing ".concat(PT(I)," using ").concat(O," with options"),o),I.playlist}return _p("could not choose a playlist with options",o),null}const f=c.filter(I=>I.width&&I.height);Ec(f,(I,O)=>I.width-O.width);const m=f.filter(I=>I.width===i&&I.height===s);h=m[m.length-1];const p=m.filter(I=>I.bandwidth===h.bandwidth)[0];let x,C,g;p||(x=f.filter(I=>I.width>i||I.height>s),C=x.filter(I=>I.width===x[0].width&&I.height===x[0].height),h=C[C.length-1],g=C.filter(I=>I.bandwidth===h.bandwidth)[0]);let w;if(r.leastPixelDiffSelector){const I=f.map(O=>(O.pixelDiff=Math.abs(O.width-i)+Math.abs(O.height-s),O));Ec(I,(O,U)=>O.pixelDiff===U.pixelDiff?U.bandwidth-O.bandwidth:O.pixelDiff-U.pixelDiff),w=I[0]}const S=w||g||p||A||u[0]||l[0];if(S&&S.playlist){let I="sortedPlaylistReps";return w?I="leastPixelDiffRep":g?I="resolutionPlusOneRep":p?I="resolutionBestRep":A?I="bandwidthBestRep":u[0]&&(I="enabledPlaylistReps"),_p("choosing ".concat(PT(S)," using ").concat(I," with options"),o),S.playlist}return _p("could not choose a playlist with options",o),null};const LT=function(){let t=this.useDevicePixelRatio&&be.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),gF(this.playlists.main,this.systemBandwidth,parseInt(jm(this.tech_.el(),"width"),10)*t,parseInt(jm(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},aj=function(t){let e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let s=this.useDevicePixelRatio&&be.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(s=this.customPixelRatio),e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),gF(this.playlists.main,e,parseInt(jm(this.tech_.el(),"width"),10)*s,parseInt(jm(this.tech_.el(),"height"),10)*s,this.limitRenditionByPlayerDimensions,this.playlistController_)}},lj=function(t){const{main:e,currentTime:i,bandwidth:s,duration:n,segmentDuration:r,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,u=e.playlists.filter(m=>!Is.isIncompatible(m));let c=u.filter(Is.isEnabled);c.length||(c=u.filter(m=>!Is.isDisabled(m)));const A=c.filter(Is.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const x=l.getSyncPoint(m,n,a,i)?1:2,g=Is.estimateSegmentRequestTime(r,s,m)*x-o;return{playlist:m,rebufferingImpact:g}}),f=A.filter(m=>m.rebufferingImpact<=0);return Ec(f,(m,p)=>p2(p.playlist,m.playlist)),f.length?f[0]:(Ec(A,(m,p)=>m.rebufferingImpact-p.rebufferingImpact),A[0]||null)},uj=function(){const t=this.playlists.main.playlists.filter(Is.isEnabled);return Ec(t,(i,s)=>p2(i,s)),t.filter(i=>!!AA(this.playlists.main,i).video)[0]||null},cj=t=>{let e=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(s=>{i.set(s,e),e+=s.byteLength})),i};function mF(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const dj=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"});let s=i;/^cc708_/.test(i)&&(s="SERVICE"+i.split("_")[1]);const n=e.textTracks().getTrackById(s);if(n)t[i]=n;else{const r=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=i,a=i,l=!1;const u=r[s];u&&(o=u.label,a=u.language,l=u.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:s,default:l,label:o,language:a},!1).track}}},hj=function({inbandTextTracks:t,captionArray:e,timestampOffset:i}){if(!e)return;const s=be.WebKitDataCue||be.VTTCue;e.forEach(n=>{const r=n.stream;n.content?n.content.forEach(o=>{const a=new s(n.startTime+i,n.endTime+i,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[r].addCue(a)}):t[r].addCue(new s(n.startTime+i,n.endTime+i,n.text))})},Aj=function(t){Object.defineProperties(t.frame,{id:{get(){return Ne.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Ne.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Ne.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},fj=({inbandTextTracks:t,metadataArray:e,timestampOffset:i,videoDuration:s})=>{if(!e)return;const n=be.WebKitDataCue||be.VTTCue,r=t.metadataTrack_;if(!r||(e.forEach(c=>{const h=c.cueTime+i;typeof h!="number"||be.isNaN(h)||h<0||!(h<1/0)||!c.frames||!c.frames.length||c.frames.forEach(A=>{const f=new n(h,h,A.value||A.url||A.data||"");f.frame=A,f.value=A,Aj(f),r.addCue(f)})}),!r.cues||!r.cues.length))return;const o=r.cues,a=[];for(let c=0;c<o.length;c++)o[c]&&a.push(o[c]);const l=a.reduce((c,h)=>{const A=c[h.startTime]||[];return A.push(h),c[h.startTime]=A,c},{}),u=Object.keys(l).sort((c,h)=>Number(c)-Number(h));u.forEach((c,h)=>{const A=l[c],f=isFinite(s)?s:c,m=Number(u[h+1])||f;A.forEach(p=>{p.endTime=m})})},pj={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},gj=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),mj=({inbandTextTracks:t,dateRanges:e})=>{const i=t.metadataTrack_;if(!i)return;const s=be.WebKitDataCue||be.VTTCue;e.forEach(n=>{for(const r of Object.keys(n)){if(gj.has(r))continue;const o=new s(n.startTime,n.endTime,"");o.id=n.id,o.type="com.apple.quicktime.HLS",o.value={key:pj[r],data:n[r]},(r==="scte35Out"||r==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(o)}n.processDateRange()})},RT=(t,e,i)=>{t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Ne.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Rh=function(t,e,i){let s,n;if(i&&i.cues)for(s=i.cues.length;s--;)n=i.cues[s],n.startTime>=t&&n.endTime<=e&&i.removeCue(n)},bj=function(t){const e=t.cues;if(!e)return;const i={};for(let s=e.length-1;s>=0;s--){const n=e[s],r="".concat(n.startTime,"-").concat(n.endTime,"-").concat(n.text);i[r]?t.removeCue(n):i[r]=n}},vj=(t,e,i)=>{if(typeof e>"u"||e===null||!t.length)return[];const s=Math.ceil((e-i+3)*$l.ONE_SECOND_IN_TS);let n;for(n=0;n<t.length&&!(t[n].pts>s);n++);return t.slice(n)},yj=(t,e,i)=>{if(!e.length)return t;if(i)return e.slice();const s=e[0].pts;let n=0;for(n;n<t.length&&!(t[n].pts>=s);n++);return t.slice(0,n).concat(e)},wj=(t,e,i,s)=>{const n=Math.ceil((e-s)*$l.ONE_SECOND_IN_TS),r=Math.ceil((i-s)*$l.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=r););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=n););return l=Math.max(l,0),o.splice(l,a-l+1),o},Cj=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const i=Object.keys(t).sort(),s=Object.keys(e).sort();if(i.length!==s.length)return!1;for(let n=0;n<i.length;n++){const r=i[n];if(r!==s[n]||t[r]!==e[r])return!1}return!0},Ej=function(t,e,i){e=e||[];const s=[];let n=0;for(let r=0;r<e.length;r++){const o=e[r];if(t===o.timeline&&(s.push(r),n+=o.duration,n>i))return r}return s.length===0?0:s[s.length-1]},Pd=1,xj=500,MT=t=>typeof t=="number"&&isFinite(t),Sp=1/60,Tj=(t,e,i)=>t!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,_j=(t,e,i)=>{let s=e-kn.BACK_BUFFER_LENGTH;t.length&&(s=Math.max(s,t.start(0)));const n=e-i;return Math.min(n,s)},Ou=t=>{const{startOfSegment:e,duration:i,segment:s,part:n,playlist:{mediaSequence:r,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:c}=t,h=a.length-1;let A="mediaIndex/partIndex increment";t.getMediaInfoForTime?A="getMediaInfoForTime (".concat(t.getMediaInfoForTime,")"):t.isSyncRequest&&(A="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(A+=" with independent ".concat(t.independent));const f=typeof u=="number",m=t.segment.uri?"segment":"pre-segment",p=f?MD({preloadSegment:s})-1:0;return"".concat(m," [").concat(r+l,"/").concat(r+h,"]")+(f?" part [".concat(u,"/").concat(p,"]"):"")+" segment start/end [".concat(s.start," => ").concat(s.end,"]")+(f?" part start/end [".concat(n.start," => ").concat(n.end,"]"):"")+" startOfSegment [".concat(e,"]")+" duration [".concat(i,"]")+" timeline [".concat(c,"]")+" selected by [".concat(A,"]")+" playlist [".concat(o,"]")},OT=t=>"".concat(t,"TimingInfo"),Sj=({segmentTimeline:t,currentTimeline:e,startOfSegment:i,buffered:s,overrideCheck:n})=>!n&&t===e?null:t<e?i:s.length?s.end(s.length-1):i,sw=({timelineChangeController:t,currentTimeline:e,segmentTimeline:i,loaderType:s,audioDisabled:n})=>{if(e===i)return!1;if(s==="audio"){const r=t.lastTimelineChange({type:"main"});return!r||r.to!==i}if(s==="main"&&n){const r=t.pendingTimelineChange({type:"audio"});return!(r&&r.to===i)}return!1},Bj=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),i=t.pendingTimelineChange({type:"main"}),s=e&&i,n=s&&e.to!==i.to;return!!(s&&e.from!==-1&&i.from!==-1&&n)},kj=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),i=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&i&&e.to<i.to},Ca=t=>{const e=t.pendingSegment_;if(!e)return;if(sw({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&Bj(t.timelineChangeController_)){if(kj(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},Ij=t=>{let e=0;return["video","audio"].forEach(function(i){const s=t["".concat(i,"TimingInfo")];if(!s)return;const{start:n,end:r}=s;let o;typeof n=="bigint"||typeof r=="bigint"?o=be.BigInt(r)-be.BigInt(n):typeof n=="number"&&typeof r=="number"&&(o=r-n),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},UT=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+so:!1,Dj=(t,e)=>{if(e!=="hls")return null;const i=Ij({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;const s=t.playlist.targetDuration,n=UT({segmentDuration:i,maxDuration:s*2}),r=UT({segmentDuration:i,maxDuration:s}),o="Segment with index ".concat(t.mediaIndex," ")+"from playlist ".concat(t.playlist.id," ")+"has a duration of ".concat(i," ")+"when the reported duration is ".concat(t.duration," ")+"and the target duration is ".concat(s,". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return n||r?{severity:n?"warn":"info",message:o}:null},Hl=({type:t,segment:e})=>{if(!e)return;const i=!!(e.key||e.map&&e.map.ke),s=!!(e.map&&!e.map.bytes),n=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:n,duration:e.duration,isEncrypted:i,isMediaInitialization:s}};class rw extends Ne.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Tr("SegmentLoader[".concat(this.loaderType_,"]")),Object.defineProperty(this,"state",{get(){return this.state_},set(s){s!==this.state_&&(this.logger_("".concat(this.state_," -> ").concat(s)),this.state_=s,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ca(this)}),this.sourceUpdater_.on("codecschange",s=>{this.trigger(ln({type:"codecschange"},s))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ca(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",s=>{this.trigger(ln({type:"timelinechange"},s)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Ca(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ca(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return uy.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&be.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,be.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&uy.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Fn();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:s,isMuxed:n}=e;if(s&&i&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const s=Vm(e);let n=this.initSegments_[s];return i&&!n&&e.bytes&&(this.initSegments_[s]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,i=!1){if(!e)return null;const s=ZD(e);let n=this.keyCache_[s];this.cacheEncryptionKeys_&&i&&!n&&e.bytes&&(this.keyCache_[s]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(n||e).resolvedUri};return n&&(r.bytes=n.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const s=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(s&&(s.id?r=s.id:s.uri&&(r=s.uri)),this.logger_("playlist update [".concat(r," => ").concat(e.id||e.uri,"]")),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_("Playlist update:\ncurrentTime: ".concat(this.currentTime_(),"\nbufferedEnd: ").concat(ay(this.buffered_()),"\n"),this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-s.mediaSequence;if(this.logger_("live window shift [".concat(o,"]")),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=l}}n&&(n.mediaIndex-=o,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,e)}pause(){this.checkBufferTimeout_&&(be.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&uy.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,s=()=>{},n=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let r=1;const o=()=>{r--,r===0&&s()};(n||!this.audioDisabled_)&&(r++,this.sourceUpdater_.removeAudio(e,i,o)),(n||this.loaderType_==="main")&&(this.gopBuffer_=wj(this.gopBuffer_,e,i,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,i,o));for(const a in this.inbandTextTracks_)Rh(e,i,this.inbandTextTracks_[a]);Rh(e,i,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&be.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=be.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&be.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=be.setTimeout(this.monitorBufferTick_.bind(this),xj)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const i={segmentInfo:Hl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:i}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,s=this.partIndex){if(!i||!this.mediaSource_)return!1;const n=typeof e=="number"&&i.segments[e],r=e+1===i.segments.length,o=!n||!n.parts||s+1===n.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&r&&o}chooseNextRequest_(){const e=this.buffered_(),i=ay(e)||0,s=c2(e,this.currentTime_()),n=!this.hasPlayed_()&&s>=1,r=s>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||n||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=Ej(this.currentTimeline_,o,i),this.logger_("choose next request. Can not find sync point. Fallback to media Index: ".concat(a.mediaIndex));else if(this.mediaIndex!==null){const A=o[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=A.end?A.end:i,A.parts&&A.parts[f+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=f+1):a.mediaIndex=this.mediaIndex+1}else{let A,f,m;const p=this.fetchAtBuffer_?i:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_("chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ".concat(p,".\nCurrentTime: ").concat(this.currentTime_(),"\nBufferedEnd: ").concat(i,"\nFetch At Buffer: ").concat(this.fetchAtBuffer_,"\n"),this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const x=this.getSyncInfoFromMediaSequenceSync_(p);if(!x){const C="No sync info found while using media sequence sync";return this.error({message:C,metadata:{errorType:Ne.Error.StreamingFailedToSelectNextSegment,error:new Error(C)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_("chooseNextRequest_ mediaSequence syncInfo (".concat(x.start," --> ").concat(x.end,")")),A=x.segmentIndex,f=x.partIndex,m=x.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const x=Is.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});A=x.segmentIndex,f=x.partIndex,m=x.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(p):"currentTime ".concat(p),a.mediaIndex=A,a.startOfSegment=m,a.partIndex=f,this.logger_("choose next request. Playlist switched and we have a sync point. Media Index: ".concat(a.mediaIndex," "))}const l=o[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!s&&u&&!c&&!u.independent)if(a.partIndex===0){const A=o[a.mediaIndex-1],f=A.parts&&A.parts.length&&A.parts[A.parts.length-1];f&&f.independent&&(a.mediaIndex-=1,a.partIndex=A.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const h=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&h&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const i=Math.max(e,this.mediaSequenceSync_.start);e!==i&&this.logger_("getSyncInfoFromMediaSequenceSync_. Pulled target time from ".concat(e," to ").concat(i));const s=this.mediaSequenceSync_.getSyncInfoForTime(i);if(!s)return null;if(!s.isAppended)return s;const n=this.mediaSequenceSync_.getSyncInfoForTime(s.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){const{independent:i,playlist:s,mediaIndex:n,startOfSegment:r,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=s.segments[n],h=typeof a=="number"&&c.parts[a],A={requestId:"segment-loader-"+Math.random(),uri:h&&h.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:h?a:null,isSyncRequest:o,startOfSegment:r,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:h&&h.duration||c.duration,segment:c,part:h,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:i},f=typeof l<"u"?l:this.isPendingTimestampOffset_;A.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:f});const m=ay(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(A.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(A.gopsToAlignWith=vj(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),A}timestampOffsetForSegment_(e){return Sj(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),s=e.bandwidth,n=this.pendingSegment_.duration,r=Is.estimateSegmentRequestTime(n,s,this.playlist_,e.bytesReceived),o=qV(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(r<=o)return;const a=lj({main:this.vhs_.playlists.main,currentTime:i,bandwidth:s,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=r-o-a.rebufferingImpact;let c=.5;o<=so&&(c=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*kn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_("Aborting ".concat(Ou(e))),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){const{hasAudio:s,hasVideo:n}=i,r={segmentInfo:Hl({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:s,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},Cj(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ca(this))))}handleTimingInfo_(e,i,s,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,o=OT(i);r[o]=r[o]||{},r[o][s]=n,this.logger_("timinginfo: ".concat(i," - ").concat(s," - ").concat(n)),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ca(this)}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};i.forEach(o=>{r[o.stream]=r[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=r[o.stream];a.startTime=Math.min(a.startTime,o.startTime+n),a.endTime=Math.max(a.endTime,o.endTime+n),a.captions.push(o)}),Object.keys(r).forEach(o=>{const{startTime:a,endTime:l,captions:u}=r[o],c=this.inbandTextTracks_;this.logger_("adding cues from ".concat(a," -> ").concat(l," for ").concat(o)),dj(c,this.vhs_.tech_,o),Rh(a,l,c[o]),hj({captionArray:u,inbandTextTracks:c,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,s));return}this.addMetadataToTextTrack(s,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!sw({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:s,hasVideo:n,isMuxed:r}=i;return!(n&&!e.videoTimingInfo||s&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||sw({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Ca(this),this.callQueue_.push(this.handleData_.bind(this,e,i));return}const s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[OT(i.type)].start;else{const n=this.getCurrentMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo;let o;r&&(o=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:o,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,i.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=this.chooseNextRequest_();if(n.mediaIndex!==s.mediaIndex||n.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:s,playlist:n}){if(s){const r=Vm(s);if(this.activeInitSegmentId_===r)return null;i=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=r}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:s},n){const r=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+jl(r).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+jl(o).join(", "));const a=r.length?r.start(0):0,l=r.length?r.end(r.length-1):0,u=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(l-a<=Pd&&c-u<=Pd){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+"Appended byte length: ".concat(s.byteLength,", ")+"audio buffer: ".concat(jl(r).join(", "),", ")+"video buffer: ".concat(jl(o).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:s}));const A=this.currentTime_()-Pd;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ".concat(A)),this.remove(0,A,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in ".concat(Pd,"s")),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=be.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Pd*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:s},n){if(n){if(n.code===GD){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:s});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error({message:"".concat(i," append of ").concat(s.length,"b failed for segment ")+"#".concat(e.mediaIndex," in playlist ").concat(e.playlist.id),metadata:{errorType:Ne.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:n,bytes:r}){if(!r){const a=[n];let l=n.byteLength;s&&(a.unshift(s),l+=s.byteLength),r=cj({bytes:l,segments:a})}const o={segmentInfo:Hl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:r}))}handleSegmentTimingInfo_(e,i,s){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,r="".concat(e,"TimingInfo");n[r]||(n[r]={}),n[r].transmuxerPrependedSeconds=s.prependedContentDuration||0,n[r].transmuxedPresentationStart=s.start.presentation,n[r].transmuxedDecodeStart=s.start.decode,n[r].transmuxedPresentationEnd=s.end.presentation,n[r].transmuxedDecodeEnd=s.end.decode,n[r].baseMediaDecodeTime=s.baseMediaDecodeTime}appendData_(e,i){const{type:s,data:n}=i;if(!n||!n.byteLength||s==="audio"&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:s,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:s,initSegment:r,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Ca(this),this.loadQueue_.push(()=>{const i=ln({},e,{forceTimestampOffset:!0});ln(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),s=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=this.mediaIndex!==null,r=e.timeline!==this.currentTimeline_&&e.timeline>0,o=s||n&&r;this.logger_("Requesting\n".concat(mF(e.uri),"\n").concat(Ou(e))),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=ij({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_("".concat(Ou(e)," logged from transmuxer stream ").concat(u," as a ").concat(l,": ").concat(a))},triggerSegmentEventFn:({type:a,segment:l,keyInfo:u,trackInfo:c,timingInfo:h})=>{const f={segmentInfo:Hl({segment:l})};u&&(f.keyInfo=u),c&&(f.trackInfo=c),h&&(f.timingInfo=h),this.trigger({type:a,metadata:f})}})}trimBackBuffer_(e){const i=_j(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,s=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,o={resolvedUri:s?s.resolvedUri:i.resolvedUri,byterange:s?s.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:r},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===i.timeline&&(a.videoTimingInfo?o.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(o.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),i.key){const l=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(i.key),o.key.iv=l}return i.map&&(o.map=this.initSegmentForMap(i.map)),o}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<Sp){this.logger_("Ignoring segment's bandwidth because its duration of ".concat(e)+" is less than the min to record ".concat(Sp));return}const s={bandwidthInfo:{from:this.bandwidth,to:i.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:s}),this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,s));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===oo.ABORTED)return;if(this.pause(),e.code===oo.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,i.stats),n.endOfAllRequests=i.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=yj(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:s,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:r,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=i.segments[s-1];return s===0||!u||typeof u.start>"u"||u.end!==n+r?n:a.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:s,hasVideo:n,isMuxed:r}=i,o=this.loaderType_==="main"&&n,a=!this.audioDisabled_&&s&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=Tj(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:s}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:s.start:s.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),n=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end=typeof n.end=="number"?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Hl({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=Dj(e,this.sourceType_);if(i&&(i.severity==="warn"?Ne.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_("Throwing away un-appended sync request ".concat(Ou(e)));return}this.logger_("Appended ".concat(Ou(e))),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const s=e.segment,n=e.part,r=s.end&&this.currentTime_()-s.end>e.playlist.targetDuration*3,o=n&&n.end&&this.currentTime_()-n.end>e.playlist.partTargetDuration*3;if(r||o){this.logger_("bad ".concat(r?"segment":"part"," ").concat(Ou(e))),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Sp){this.logger_("Ignoring segment's throughput because its duration of ".concat(e.duration)+" is less than the min to record ".concat(Sp));return}const i=this.throughput.rate,s=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/s*8*1e3);this.throughput.rate+=(n-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,s=i.start,n=i.end;if(!MT(s)||!MT(n))return;Rh(s,n,this.segmentMetadataTrack_);const r=be.WebKitDataCue||be.VTTCue,o={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:s,end:n},a=JSON.stringify(o),l=new r(s,n,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}}function Ko(){}const bF=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Fj=["video","audio"],ow=(t,e)=>{const i=e["".concat(t,"Buffer")];return i&&i.updating||e.queuePending[t]},Pj=(t,e)=>{for(let i=0;i<e.length;i++){const s=e[i];if(s.type==="mediaSource")return null;if(s.type===t)return i}return null},xc=(t,e)=>{if(e.queue.length===0)return;let i=0,s=e.queue[i];if(s.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),s.action(e),s.doneFn&&s.doneFn(),xc("audio",e),xc("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||ow(t,e))){if(s.type!==t){if(i=Pj(t,e.queue),i===null)return;s=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=s,s.action(t,e),!s.doneFn){e.queuePending[t]=null,xc(t,e);return}}},vF=(t,e)=>{const i=e["".concat(t,"Buffer")],s=bF(t);i&&(i.removeEventListener("updateend",e["on".concat(s,"UpdateEnd_")]),i.removeEventListener("error",e["on".concat(s,"Error_")]),e.codecs[t]=null,e["".concat(t,"Buffer")]=null)},to=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Qs={appendBuffer:(t,e,i)=>(s,n)=>{const r=n["".concat(s,"Buffer")];if(to(n.mediaSource,r)){n.logger_("Appending segment ".concat(e.mediaIndex,"'s ").concat(t.length," bytes to ").concat(s,"Buffer"));try{r.appendBuffer(t)}catch(o){n.logger_("Error with code ".concat(o.code," ")+(o.code===GD?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(e.mediaIndex," to ").concat(s,"Buffer")),n.queuePending[s]=null,i(o)}}},remove:(t,e)=>(i,s)=>{const n=s["".concat(i,"Buffer")];if(to(s.mediaSource,n)){s.logger_("Removing ".concat(t," to ").concat(e," from ").concat(i,"Buffer"));try{n.remove(t,e)}catch{s.logger_("Remove ".concat(t," to ").concat(e," from ").concat(i,"Buffer failed"))}}},timestampOffset:t=>(e,i)=>{const s=i["".concat(e,"Buffer")];to(i.mediaSource,s)&&(i.logger_("Setting ".concat(e,"timestampOffset to ").concat(t)),s.timestampOffset=t)},callback:t=>(e,i)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_("Calling mediaSource endOfStream(".concat(t||"",")"));try{e.mediaSource.endOfStream(t)}catch(i){Ne.log.warn("Failed to call media source endOfStream",i)}}},duration:t=>e=>{e.logger_("Setting mediaSource duration to ".concat(t));try{e.mediaSource.duration=t}catch(i){Ne.log.warn("Failed to set media source duration",i)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e["".concat(t,"Buffer")];if(to(e.mediaSource,i)){e.logger_("calling abort on ".concat(t,"Buffer"));try{i.abort()}catch(s){Ne.log.warn("Failed to abort on ".concat(t,"Buffer"),s)}}},addSourceBuffer:(t,e)=>i=>{const s=bF(t),n=Lc(e);i.logger_("Adding ".concat(t,"Buffer with codec ").concat(e," to mediaSource"));const r=i.mediaSource.addSourceBuffer(n);r.addEventListener("updateend",i["on".concat(s,"UpdateEnd_")]),r.addEventListener("error",i["on".concat(s,"Error_")]),i.codecs[t]=e,i["".concat(t,"Buffer")]=r},removeSourceBuffer:t=>e=>{const i=e["".concat(t,"Buffer")];if(vF(t,e),!!to(e.mediaSource,i)){e.logger_("Removing ".concat(t,"Buffer with codec ").concat(e.codecs[t]," from mediaSource"));try{e.mediaSource.removeSourceBuffer(i)}catch(s){Ne.log.warn("Failed to removeSourceBuffer ".concat(t,"Buffer"),s)}}},changeType:t=>(e,i)=>{const s=i["".concat(e,"Buffer")],n=Lc(t);if(!to(i.mediaSource,s))return;const r=t.substring(0,t.indexOf(".")),o=i.codecs[e];if(o.substring(0,o.indexOf("."))===r)return;const l={codecsChangeInfo:{from:o,to:t}};i.trigger({type:"codecschange",metadata:l}),i.logger_("changing ".concat(e,"Buffer codec from ").concat(o," to ").concat(t));try{s.changeType(n),i.codecs[e]=t}catch(u){l.errorType=Ne.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,i.error_=u,i.trigger("error"),Ne.log.warn("Failed to changeType on ".concat(e,"Buffer"),u)}}},Vs=({type:t,sourceUpdater:e,action:i,doneFn:s,name:n})=>{e.queue.push({type:t,action:i,doneFn:s,name:n}),xc(t,e)},NT=(t,e)=>i=>{const s=e["".concat(t,"Buffered")](),n=zV(s);if(e.logger_('received "updateend" event for '.concat(t," Source Buffer: "),n),e.queuePending[t]){const r=e.queuePending[t].doneFn;e.queuePending[t]=null,r&&r(e["".concat(t,"Error_")])}xc(t,e)};class yF extends Ne.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>xc("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Tr("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=NT("video",this),this.onAudioUpdateEnd_=NT("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){Vs({type:"mediaSource",sourceUpdater:this,action:Qs.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){Vs({type:e,sourceUpdater:this,action:Qs.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Ne.log.error("removeSourceBuffer is not supported!");return}Vs({type:"mediaSource",sourceUpdater:this,action:Qs.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Ne.browser.IS_FIREFOX&&be.MediaSource&&be.MediaSource.prototype&&typeof be.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return be.SourceBuffer&&be.SourceBuffer.prototype&&typeof be.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){Ne.log.error("changeType is not supported!");return}Vs({type:e,sourceUpdater:this,action:Qs.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const s=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,s);this.canChangeType()&&this.changeType(i,s)})}appendBuffer(e,i){const{segmentInfo:s,type:n,bytes:r}=e;if(this.processedAppend_=!0,n==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_("delayed audio append of ".concat(r.length," until video append"));return}const o=i;if(Vs({type:n,sourceUpdater:this,action:Qs.appendBuffer(r,s||{mediaIndex:-1},o),doneFn:i,name:"appendBuffer"}),n==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio ".concat(a.length," appendBuffers")),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return to(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Fn()}videoBuffered(){return to(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Fn()}buffered(){const e=to(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=to(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():GV(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=Ko){Vs({type:"mediaSource",sourceUpdater:this,action:Qs.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=Ko){typeof e!="string"&&(e=void 0),Vs({type:"mediaSource",sourceUpdater:this,action:Qs.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,s=Ko){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}Vs({type:"audio",sourceUpdater:this,action:Qs.remove(e,i),doneFn:s,name:"remove"})}removeVideo(e,i,s=Ko){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}Vs({type:"video",sourceUpdater:this,action:Qs.remove(e,i),doneFn:s,name:"remove"})}updating(){return!!(ow("audio",this)||ow("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Vs({type:"audio",sourceUpdater:this,action:Qs.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Vs({type:"video",sourceUpdater:this,action:Qs.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Vs({type:"audio",sourceUpdater:this,action:Qs.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Vs({type:"video",sourceUpdater:this,action:Qs.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Fj.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this["".concat(e,"QueueCallback")](()=>vF(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const HT=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),Lj=t=>{const e=new Uint8Array(t);return Array.from(e).map(i=>i.toString(16).padStart(2,"0")).join("")},QT=new Uint8Array("\n\n".split("").map(t=>t.charCodeAt(0)));class Rj extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Mj extends rw{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Fn();const e=this.subtitlesTrack_.cues,i=e[0].startTime,s=e[e.length-1].startTime;return Fn([[i,s]])}initSegmentForMap(e,i=!1){if(!e)return null;const s=Vm(e);let n=this.initSegments_[s];if(i&&!n&&e.bytes){const r=QT.byteLength+e.bytes.byteLength,o=new Uint8Array(r);o.set(e.bytes),o.set(QT,e.bytes.byteLength),this.initSegments_[s]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){Rh(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,s){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===oo.TIMEOUT&&this.handleTimeout_(),e.code===oo.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const n=this.pendingSegment_,r=s.mp4VttCues&&s.mp4VttCues.length;r&&(n.mp4VttCues=s.mp4VttCues),this.saveBandwidthRelatedStats_(n.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const o=n.segment;if(o.map&&(o.map.bytes=i.map.bytes),n.bytes=i.bytes,typeof be.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,s),()=>this.stopForError({message:"Error loading vtt.js"}));return}o.requested=!0;try{this.parseVTTCues_(n)}catch(a){this.stopForError({message:a.message,metadata:{errorType:Ne.Error.StreamingVttParserError,error:a}});return}if(r||this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,n.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new be.VTTCue(a.startTime,a.endTime,a.text):a)}),bj(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,i){const s=e&&e.type==="vtt",n=i&&i.type==="text";s&&n&&super.handleData_(e,i)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(s=>{const n=s.start+i,r=s.end+i,o=new be.VTTCue(n,r,s.cueText);s.settings&&s.settings.split(" ").forEach(a=>{const l=a.split(":"),u=l[0],c=l[1];o[u]=isNaN(c)?c:Number(c)}),e.cues.push(o)})}parseVTTCues_(e){let i,s=!1;if(typeof be.WebVTT!="function")throw new Rj;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof be.TextDecoder=="function"?i=new be.TextDecoder("utf8"):(i=be.WebVTT.StringDecoder(),s=!0);const n=new be.WebVTT.Parser(be,be.vttjs,i);if(n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=o=>{e.timestampmap=o},n.onparsingerror=o=>{Ne.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;s&&(o=HT(o)),n.parse(o)}let r=e.bytes;s&&(r=HT(r)),n.parse(r),n.flush()}updateTimeMapping_(e,i,s){const n=e.segment;if(!i)return;if(!e.cues.length){n.empty=!0;return}const{MPEGTS:r,LOCAL:o}=e.timestampmap,l=r/$l.ONE_SECOND_IN_TS-o+i.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,h=this.handleRollover_(u.startTime+l,i.time);u.startTime=Math.max(h,0),u.endTime=Math.max(h+c,0)}),!s.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+e.mediaIndex,time:Math.min(u,c-n.duration)}}}handleRollover_(e,i){if(i===null)return e;let s=e*$l.ONE_SECOND_IN_TS;const n=i*$l.ONE_SECOND_IN_TS;let r;for(n<s?r=-8589934592:r=8589934592;Math.abs(s-n)>4294967296;)s+=r;return s/$l.ONE_SECOND_IN_TS}}const Oj=function(t,e){const i=t.cues;for(let s=0;s<i.length;s++){const n=i[s];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},Uj=function(t,e,i=0){if(!t.segments)return;let s=i,n;for(let r=0;r<t.segments.length;r++){const o=t.segments[r];if(n||(n=Oj(e,s+o.duration/2)),n){if("cueIn"in o){n.endTime=s,n.adEndTime=s,s+=o.duration,n=null;continue}if(s<n.endTime){s+=o.duration;continue}n.endTime+=o.duration}else if("cueOut"in o&&(n=new be.VTTCue(s,s+o.duration,o.cueOut),n.adStartTime=s,n.adEndTime=s+parseFloat(o.cueOut),e.addCue(n)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);n=new be.VTTCue(s,s+o.duration,""),n.adStartTime=s-a,n.adEndTime=n.adStartTime+l,e.addCue(n)}s+=o.duration}};class VT{constructor({start:e,end:i,segmentIndex:s,partIndex:n=null,appended:r=!1}){this.start_=e,this.end_=i,this.segmentIndex_=s,this.partIndex_=n,this.appended_=r}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Nj{constructor(e,i=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=i}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class wF{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,i){const{mediaSequence:s,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(s,n),!!this.isReliable_)return this.updateStorage_(n,s,this.calculateBaseTime_(s,n,i))}getSyncInfoForTime(e){for(const{segmentSyncInfo:i,partsSyncInfo:s}of this.storage_.values())if(s.length){for(const n of s)if(n.isInRange(e))return n}else if(i.isInRange(e))return i;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,i,s){const n=new Map;let r="\n",o=s,a=i;this.start_=o,e.forEach((l,u)=>{const c=this.storage_.get(a),h=o,A=h+l.duration,f=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),m=new VT({start:h,end:A,appended:f,segmentIndex:u});l.syncInfo=m;let p=o;const x=(l.parts||[]).map((C,g)=>{const w=p,S=p+C.duration,I=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[g]&&c.partsSyncInfo[g].isAppended),O=new VT({start:w,end:S,appended:I,segmentIndex:u,partIndex:g});return p=S,r+="Media Sequence: ".concat(a,".").concat(g," | Range: ").concat(w," --> ").concat(S," | Appended: ").concat(I,"\n"),C.syncInfo=O,O});n.set(a,new Nj(m,x)),r+="".concat(mF(l.resolvedUri)," | Media Sequence: ").concat(a," | Range: ").concat(h," --> ").concat(A," | Appended: ").concat(f,"\n"),a++,o=A}),this.end_=o,this.storage_=n,this.diagnostics_=r}calculateBaseTime_(e,i,s){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const n=Math.min(...this.storage_.keys());if(e<n){const r=n-e;let o=this.storage_.get(n).segmentSyncInfo.start;for(let a=0;a<r;a++){const l=i[a];o-=l.duration}return o}return s}isReliablePlaylist_(e,i){return e!=null&&Array.isArray(i)&&i.length}}class $T extends wF{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,i,s){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,i,s)}}const Hj=86400,cy=[{name:"VOD",run:(t,e,i,s,n)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,i,s,n,r)=>{const o=t.getMediaSequenceSync(r);if(!o||!o.isReliable)return null;const a=o.getSyncInfoForTime(n);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,i,s,n)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let r=null,o=null;const a=Y1(e);n=n||0;for(let l=0;l<a.length;l++){const u=e.endList||n===0?l:a.length-(l+1),c=a[u],h=c.segment,A=t.timelineToDatetimeMappings[h.timeline];if(!A||!h.dateTimeObject)continue;let m=h.dateTimeObject.getTime()/1e3+A;if(h.parts&&typeof c.partIndex=="number")for(let x=0;x<c.partIndex;x++)m+=h.parts[x].duration;const p=Math.abs(n-m);if(o!==null&&(p===0||o<p))break;o=p,r={time:m,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return r}},{name:"Segment",run:(t,e,i,s,n)=>{let r=null,o=null;n=n||0;const a=Y1(e);for(let l=0;l<a.length;l++){const u=e.endList||n===0?l:a.length-(l+1),c=a[u],h=c.segment,A=c.part&&c.part.start||h&&h.start;if(h.timeline===s&&typeof A<"u"){const f=Math.abs(n-A);if(o!==null&&o<f)break;(!r||o===null||o>=f)&&(o=f,r={time:A,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return r}},{name:"Discontinuity",run:(t,e,i,s,n)=>{let r=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,c=t.discontinuities[u];if(c){const h=Math.abs(n-c.time);if(o!==null&&o<h)break;(!r||o===null||o>=h)&&(o=h,r={time:c.time,segmentIndex:l,partIndex:null})}}}return r}},{name:"Playlist",run:(t,e,i,s,n)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Qj extends Ne.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const i=new wF,s=new $T(i),n=new $T(i);this.mediaSequenceStorage_={main:i,audio:s,vtt:n},this.logger_=Tr("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,i,s,n,r){if(i!==1/0)return cy.find(({name:l})=>l==="VOD").run(this,e,i);const o=this.runStrategies_(e,i,s,n,r);if(!o.length)return null;for(const a of o){const{syncPoint:l,strategy:u}=a,{segmentIndex:c,time:h}=l;if(c<0)continue;const A=e.segments[c],f=h,m=f+A.duration;if(this.logger_("Strategy: ".concat(u,". Current time: ").concat(n,". selected segment: ").concat(c,". Time: [").concat(f," -> ").concat(m,"]}")),n>=f&&n<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(o,{key:"time",value:n})}getExpiredTime(e,i){if(!e||!e.segments)return null;const s=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!s.length)return null;const n=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+hA({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,i,s,n,r){const o=[];for(let a=0;a<cy.length;a++){const l=cy[a],u=l.run(this,e,i,s,n,r);u&&(u.strategy=l.name,o.push({strategy:l.name,syncPoint:u}))}return o}selectSyncPoint_(e,i){let s=e[0].syncPoint,n=Math.abs(e[0].syncPoint[i.key]-i.value),r=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[i.key]-i.value);a<n&&(n=a,s=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for [".concat(i.key,": ").concat(i.value,"] chosen with strategy")+" [".concat(r,"]: [time:").concat(s.time,",")+" segmentIndex:".concat(s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:".concat(s.partIndex):"")+"]"),s}saveExpiredSegmentInfo(e,i){const s=i.mediaSequence-e.mediaSequence;if(s>Hj){Ne.log.warn("Not saving expired segment info. Media sequence gap ".concat(s," is too large."));return}for(let n=s-1;n>=0;n--){const r=e.segments[n];if(r&&typeof r.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:".concat(i.syncInfo.time,",")+" mediaSequence: ".concat(i.syncInfo.mediaSequence,"]")),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],s=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-s}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const s=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),n=e.segment;s&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const r=n.dateTimeObject;n.discontinuity&&i&&r&&(this.timelineToDatetimeMappings[n.timeline]=-(r.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,s){const n=e.segment,r=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-i.start},s&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline ".concat(e.timeline,": ")+"[time: ".concat(o.time,"] [mapping: ").concat(o.mapping,"]"))),a=e.startOfSegment,l=i.end+o.mapping;else if(o)a=i.start+o.mapping,l=i.end+o.mapping;else return!1;return r&&(r.start=a,r.end=l),(!n.start||a<n.start)&&(n.start=a),n.end=l,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,s=e.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let n=0;n<i.discontinuityStarts.length;n++){const r=i.discontinuityStarts[n],o=i.discontinuitySequence+n+1,a=r-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;a<0?u=s.start-hA({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:r}):u=s.end+hA({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Vj extends Ne.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:s}){return typeof i=="number"&&typeof s=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:s}){if(typeof i=="number"&&typeof s=="number"){this.lastTimelineChanges_[e]={type:e,from:i,to:s},delete this.pendingTimelineChanges_[e];const n={timelineChangeInfo:{from:i,to:s}};this.trigger({type:"timelinechange",metadata:n})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const $j=rF(oF(function(){var t=function(){function p(){this.listeners={}}var x=p.prototype;return x.on=function(g,w){this.listeners[g]||(this.listeners[g]=[]),this.listeners[g].push(w)},x.off=function(g,w){if(!this.listeners[g])return!1;var S=this.listeners[g].indexOf(w);return this.listeners[g]=this.listeners[g].slice(0),this.listeners[g].splice(S,1),S>-1},x.trigger=function(g){var w=this.listeners[g];if(w)if(arguments.length===2)for(var S=w.length,I=0;I<S;++I)w[I].call(this,arguments[1]);else for(var O=Array.prototype.slice.call(arguments,1),U=w.length,$=0;$<U;++$)w[$].apply(this,O)},x.dispose=function(){this.listeners={}},x.pipe=function(g){this.on("data",function(w){g.push(w)})},p}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const i=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],x=p[0],C=p[1],g=x[4],w=C[4];let S,I,O;const U=[],$=[];let k,P,T,R,E,_;for(S=0;S<256;S++)$[(U[S]=S<<1^(S>>7)*283)^S]=S;for(I=O=0;!g[I];I^=k||1,O=$[O]||1)for(R=O^O<<1^O<<2^O<<3^O<<4,R=R>>8^R&255^99,g[I]=R,w[R]=I,T=U[P=U[k=U[I]]],_=T*16843009^P*65537^k*257^I*16843008,E=U[R]*257^R*16843008,S=0;S<4;S++)x[S][I]=E=E<<24^E>>>8,C[S][R]=_=_<<24^_>>>8;for(S=0;S<5;S++)x[S]=x[S].slice(0),C[S]=C[S].slice(0);return p};let s=null;class n{constructor(x){s||(s=i()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];let C,g,w;const S=this._tables[0][4],I=this._tables[1],O=x.length;let U=1;if(O!==4&&O!==6&&O!==8)throw new Error("Invalid aes key size");const $=x.slice(0),k=[];for(this._key=[$,k],C=O;C<4*O+28;C++)w=$[C-1],(C%O===0||O===8&&C%O===4)&&(w=S[w>>>24]<<24^S[w>>16&255]<<16^S[w>>8&255]<<8^S[w&255],C%O===0&&(w=w<<8^w>>>24^U<<24,U=U<<1^(U>>7)*283)),$[C]=$[C-O]^w;for(g=0;C;g++,C--)w=$[g&3?C:C-4],C<=4||g<4?k[g]=w:k[g]=I[0][S[w>>>24]]^I[1][S[w>>16&255]]^I[2][S[w>>8&255]]^I[3][S[w&255]]}decrypt(x,C,g,w,S,I){const O=this._key[1];let U=x^O[0],$=w^O[1],k=g^O[2],P=C^O[3],T,R,E;const _=O.length/4-2;let F,V=4;const Q=this._tables[1],G=Q[0],Y=Q[1],ee=Q[2],W=Q[3],ge=Q[4];for(F=0;F<_;F++)T=G[U>>>24]^Y[$>>16&255]^ee[k>>8&255]^W[P&255]^O[V],R=G[$>>>24]^Y[k>>16&255]^ee[P>>8&255]^W[U&255]^O[V+1],E=G[k>>>24]^Y[P>>16&255]^ee[U>>8&255]^W[$&255]^O[V+2],P=G[P>>>24]^Y[U>>16&255]^ee[$>>8&255]^W[k&255]^O[V+3],V+=4,U=T,$=R,k=E;for(F=0;F<4;F++)S[(3&-F)+I]=ge[U>>>24]<<24^ge[$>>16&255]<<16^ge[k>>8&255]<<8^ge[P&255]^O[V++],T=U,U=$,$=k,k=P,P=T}}class r extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(x){this.jobs.push(x),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},a=function(p,x,C){const g=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),w=new n(Array.prototype.slice.call(x)),S=new Uint8Array(p.byteLength),I=new Int32Array(S.buffer);let O,U,$,k,P,T,R,E,_;for(O=C[0],U=C[1],$=C[2],k=C[3],_=0;_<g.length;_+=4)P=o(g[_]),T=o(g[_+1]),R=o(g[_+2]),E=o(g[_+3]),w.decrypt(P,T,R,E,I,_),I[_]=o(I[_]^O),I[_+1]=o(I[_+1]^U),I[_+2]=o(I[_+2]^$),I[_+3]=o(I[_+3]^k),O=P,U=T,$=R,k=E;return S};class l{constructor(x,C,g,w){const S=l.STEP,I=new Int32Array(x.buffer),O=new Uint8Array(x.byteLength);let U=0;for(this.asyncStream_=new r,this.asyncStream_.push(this.decryptChunk_(I.subarray(U,U+S),C,g,O)),U=S;U<I.length;U+=S)g=new Uint32Array([o(I[U-4]),o(I[U-3]),o(I[U-2]),o(I[U-1])]),this.asyncStream_.push(this.decryptChunk_(I.subarray(U,U+S),C,g,O));this.asyncStream_.push(function(){w(null,e(O))})}static get STEP(){return 32e3}decryptChunk_(x,C,g,w){return function(){const S=a(x,C,g);w.set(S,x.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var h=c,A=function(x){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(x):x&&x.buffer instanceof ArrayBuffer},f=h.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000"),function(){var p=new Uint16Array([65484]),x=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return x[0]===255?"big":x[0]===204?"little":"unknown"}();const m=function(p){const x={};return Object.keys(p).forEach(C=>{const g=p[C];A(g)?x[C]={bytes:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength}:x[C]=g}),x};self.onmessage=function(p){const x=p.data,C=new Uint8Array(x.encrypted.bytes,x.encrypted.byteOffset,x.encrypted.byteLength),g=new Uint32Array(x.key.bytes,x.key.byteOffset,x.key.byteLength/4),w=new Uint32Array(x.iv.bytes,x.iv.byteOffset,x.iv.byteLength/4);new l(C,g,w,function(S,I){self.postMessage(m({source:x.source,decrypted:I}),[I.buffer])})}}));var jj=sF($j);const zj=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},CF=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},aw=(t,e)=>{e.activePlaylistLoader=t,t.load()},Kj=(t,e)=>()=>{const{segmentLoaders:{[t]:i,main:s},mediaTypes:{[t]:n}}=e,r=n.activeTrack(),o=n.getActiveGroup(),a=n.activePlaylistLoader,l=n.lastGroup_;if(!(o&&l&&o.id===l.id)&&(n.lastGroup_=o,n.lastTrack_=r,CF(i,n),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&s.resetEverything();return}i.resyncLoader(),aw(o.playlistLoader,n)}},Gj=(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:s}}=e;s.lastGroup_=null,i.abort(),i.pause()},qj=(t,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[t]:s,main:n},mediaTypes:{[t]:r}}=e,o=r.activeTrack(),a=r.getActiveGroup(),l=r.activePlaylistLoader,u=r.lastTrack_;if(!(u&&o&&u.id===o.id)&&(r.lastGroup_=a,r.lastTrack_=o,CF(s,r),!!a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const c=e.vhs.playlistController_,h=c.selectPlaylist();if(c.media()===h)return;r.logger_("track change. Switching main audio from ".concat(u.id," to ").concat(o.id)),i.pause(),n.resetEverything(),c.fastQualityChange_(h);return}if(t==="AUDIO"){if(!a.playlistLoader){n.setAudio(!0),n.resetEverything();return}s.setAudio(!0),n.setAudio(!1)}if(l===a.playlistLoader){aw(a.playlistLoader,r);return}s.track&&s.track(o),s.resetEverything(),aw(a.playlistLoader,r)}},zm={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:i},excludePlaylist:s}=e,n=i.activeTrack(),r=i.activeGroup(),o=(r.filter(l=>l.default)[0]||r[0]).id,a=i.tracks[o];if(n===a){s({error:{message:"Problem encountered loading the default audio track."}});return}Ne.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in i.tracks)i.tracks[l].enabled=i.tracks[l]===a;i.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:i}}=e;Ne.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const s=i.activeTrack();s&&(s.mode="disabled"),i.onTrackChanged()}},jT={AUDIO:(t,e,i)=>{if(!e)return;const{tech:s,requestOptions:n,segmentLoaders:{[t]:r}}=i;e.on("loadedmetadata",()=>{const o=e.media();r.playlist(o,n),(!s.paused()||o.endList&&s.preload()!=="none")&&r.load()}),e.on("loadedplaylist",()=>{r.playlist(e.media(),n),s.paused()||r.load()}),e.on("error",zm[t](t,i))},SUBTITLES:(t,e,i)=>{const{tech:s,requestOptions:n,segmentLoaders:{[t]:r},mediaTypes:{[t]:o}}=i;e.on("loadedmetadata",()=>{const a=e.media();r.playlist(a,n),r.track(o.activeTrack()),(!s.paused()||a.endList&&s.preload()!=="none")&&r.load()}),e.on("loadedplaylist",()=>{r.playlist(e.media(),n),s.paused()||r.load()}),e.on("error",zm[t](t,i))}},Wj={AUDIO:(t,e)=>{const{vhs:i,sourceType:s,segmentLoaders:{[t]:n},requestOptions:r,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,h=df(c.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},h&&(o[t].main.default.playlists=c.main.playlists));for(const A in o[t]){a[A]||(a[A]=[]);for(const f in o[t][A]){let m=o[t][A][f],p;if(h?(u("AUDIO group '".concat(A,"' label '").concat(f,"' is a main playlist")),m.isMainPlaylist=!0,p=null):s==="vhs-json"&&m.playlists?p=new ac(m.playlists[0],i,r):m.resolvedUri?p=new ac(m.resolvedUri,i,r):m.playlists&&s==="dash"?p=new iw(m.playlists[0],i,r,c):p=null,m=vi({id:f,playlistLoader:p},m),jT[t](t,m.playlistLoader,e),a[A].push(m),typeof l[f]>"u"){const x=new Ne.AudioTrack({id:f,kind:zj(m),enabled:!1,language:m.language,default:m.default,label:f});l[f]=x}}}n.on("error",zm[t](t,e))},SUBTITLES:(t,e)=>{const{tech:i,vhs:s,sourceType:n,segmentLoaders:{[t]:r},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const h in a[t]){l[h]||(l[h]=[]);for(const A in a[t][h]){if(!s.options_.useForcedSubtitles&&a[t][h][A].forced)continue;let f=a[t][h][A],m;if(n==="hls")m=new ac(f.resolvedUri,s,o);else if(n==="dash"){if(!f.playlists.filter(x=>x.excludeUntil!==1/0).length)return;m=new iw(f.playlists[0],s,o,c)}else n==="vhs-json"&&(m=new ac(f.playlists?f.playlists[0]:f.resolvedUri,s,o));if(f=vi({id:A,playlistLoader:m},f),jT[t](t,f.playlistLoader,e),l[h].push(f),typeof u[A]>"u"){const p=i.addRemoteTextTrack({id:A,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:A},!1).track;u[A]=p}}}r.on("error",zm[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:i,main:{mediaGroups:s},mediaTypes:{[t]:{groups:n,tracks:r}}}=e;for(const o in s[t]){n[o]||(n[o]=[]);for(const a in s[t][o]){const l=s[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=i.options_.vhs&&i.options_.vhs.captionServices||{};let c={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=vi(c,u[c.instreamId])),c.default===void 0&&delete c.default,n[o].push(vi({id:a},l)),typeof r[a]>"u"){const h=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;r[a]=h}}}}},EF=(t,e)=>{for(let i=0;i<t.length;i++)if(A2(e,t[i])||t[i].playlists&&EF(t[i].playlists,e))return!0;return!1},Yj=(t,e)=>i=>{const{mainPlaylistLoader:s,mediaTypes:{[t]:{groups:n}}}=e,r=s.media();if(!r)return null;let o=null;r.attributes[t]&&(o=n[r.attributes[t]]);const a=Object.keys(n);if(!o)if(t==="AUDIO"&&a.length>1&&df(e.main))for(let l=0;l<a.length;l++){const u=n[a[l]];if(EF(u,r)){o=u;break}}else n.main?o=n.main:a.length===1&&(o=n[a[0]]);return typeof i>"u"?o:i===null||!o?null:o.filter(l=>l.id===i.id)[0]||null},Xj={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const s in i)if(i[s].enabled)return i[s];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const s in i)if(i[s].mode==="showing"||i[s].mode==="hidden")return i[s];return null}},Jj=(t,{mediaTypes:e})=>()=>{const i=e[t].activeTrack();return i?e[t].activeGroup(i):null},Zj=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Wj[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:i,tech:s,vhs:n,segmentLoaders:{["AUDIO"]:r,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=Yj(u,t),e[u].activeTrack=Xj[u](u,t),e[u].onGroupChanged=Kj(u,t),e[u].onGroupChanging=Gj(u,t),e[u].onTrackChanged=qj(u,t),e[u].getActiveGroup=Jj(u,t)});const a=e.AUDIO.activeGroup();if(a){const u=(a.filter(h=>h.default)[0]||a[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),r.setAudio(!0)):o.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),s.trigger({type:"usage",name:"vhs-audio-change"})};s.audioTracks().addEventListener("change",l),s.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",()=>{s.audioTracks().removeEventListener("change",l),s.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),s.clearTracks("audio");for(const u in e.AUDIO.tracks)s.audioTracks().addTrack(e.AUDIO.tracks[u])},ez=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ko,activeTrack:Ko,getActiveGroup:Ko,onGroupChanged:Ko,onTrackChanged:Ko,lastTrack_:null,logger_:Tr("MediaGroups[".concat(e,"]"))}}),t};class zT{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=ks(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(i=>[i.ID,i])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class tz extends Ne.EventTarget{constructor(e,i){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new zT,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Tr("Content Steering"),this.xhr_=e,this.getBandwidth_=i}assignTagProperties(e,i){this.manifestType_=i.serverUri?"HLS":"DASH";const s=i.serverUri||i.serverURL;if(!s){this.logger_("steering manifest URL is ".concat(s,", cannot request steering manifest.")),this.trigger("error");return}if(s.startsWith("data:")){this.decodeDataUriManifest_(s.substring(s.indexOf(",")+1));return}this.steeringManifest.reloadUri=ks(e,s),this.defaultPathway=i.pathwayId||i.defaultServiceLocation,this.queryBeforeStart=i.queryBeforeStart,this.proxyServerUrl_=i.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const i=this.steeringManifest.reloadUri;if(!i)return;const s=e?i:this.getRequestURI(i);if(!s){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const n={contentSteeringInfo:{uri:s}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:s,requestType:"content-steering-manifest"},(r,o)=>{if(r){if(o.status===410){this.logger_("manifest request 410 ".concat(r,".")),this.logger_("There will be no more content steering requests to ".concat(s," this session.")),this.excludedSteeringManifestURLs.add(s);return}if(o.status===429){const u=o.responseHeaders["retry-after"];this.logger_("manifest request 429 ".concat(r,".")),this.logger_("content steering will retry in ".concat(u," seconds.")),this.startTTLTimeout_(parseInt(u,10));return}this.logger_("manifest failed to load ".concat(r,".")),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:n});let a;try{a=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:Ne.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(a);const l={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const i=new be.URL(e),s=new be.URL(this.proxyServerUrl_);return s.searchParams.set("url",encodeURI(i.toString())),this.setSteeringParams_(s.toString())}decodeDataUriManifest_(e){const i=JSON.parse(be.atob(e));this.assignSteeringProperties_(i)}setSteeringParams_(e){const i=new be.URL(e),s=this.getPathway(),n=this.getBandwidth_();if(s){const r="_".concat(this.manifestType_,"_pathway");i.searchParams.set(r,s)}if(n){const r="_".concat(this.manifestType_,"_throughput");i.searchParams.set(r,n)}return i.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_("manifest version is ".concat(e.VERSION,", which is not supported.")),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const s=(n=>{for(const r of n)if(this.availablePathways_.has(r))return r;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==s&&(this.currentPathway=s,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const i=n=>this.excludedSteeringManifestURLs.has(n);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!i(n))return n}const s=this.setSteeringParams_(e);return i(s)?null:s}startTTLTimeout_(e=this.steeringManifest.ttl){const i=e*1e3;this.ttlTimeout_=be.setTimeout(()=>{this.requestSteeringManifest()},i)}clearTTLTimeout_(){be.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new zT}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,i){return!i&&this.steeringManifest.reloadUri||i&&(ks(e,i.serverURL)!==this.steeringManifest.reloadUri||i.defaultServiceLocation!==this.defaultPathway||i.queryBeforeStart!==this.queryBeforeStart||i.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const iz=(t,e)=>{let i=null;return(...s)=>{clearTimeout(i),i=setTimeout(()=>{t.apply(null,s)},e)}},nz=10;let Ea;const sz=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],rz=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},oz=function({currentPlaylist:t,buffered:e,currentTime:i,nextPlaylist:s,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:o,bufferBasedABR:a,log:l}){if(!s)return Ne.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u="allowing switch ".concat(t&&t.id||"null"," -> ").concat(s.id);if(!t)return l("".concat(u," as current playlist is not set")),!0;if(s.id===t.id)return!1;const c=!!oc(e,i).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l("not ".concat(u," as current playlist is live llhls, but currentTime isn't in buffered.")),!1):(l("".concat(u," as current playlist is live")),!0);const h=c2(e,i),A=a?kn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:kn.MAX_BUFFER_LOW_WATER_LINE;if(o<A)return l("".concat(u," as duration < max low water line (").concat(o," < ").concat(A,")")),!0;const f=s.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(f<m&&(!a||h<r)){let p="".concat(u," as next bandwidth < current bandwidth (").concat(f," < ").concat(m,")");return a&&(p+=" and forwardBuffer < bufferHighWaterLine (".concat(h," < ").concat(r,")")),l(p),!0}if((!a||f>m)&&h>=n){let p="".concat(u," as forwardBuffer >= bufferLowWaterLine (").concat(h," >= ").concat(n,")");return a&&(p+=" and next bandwidth > current bandwidth (".concat(f," > ").concat(m,")")),l(p),!0}return l("not ".concat(u," as no switching criteria met")),!1};class az extends Ne.EventTarget{constructor(e){super(),this.fastQualityChange_=iz(this.fastQualityChange_.bind(this),100);const{src:i,withCredentials:s,tech:n,bandwidth:r,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:h,bufferBasedABR:A,leastPixelDiffSelector:f,captionServices:m,experimentalUseMMS:p}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:x}=e;(x===null||typeof x>"u")&&(x=1/0),Ea=o,this.bufferBasedABR=!!A,this.leastPixelDiffSelector=!!f,this.withCredentials=s,this.tech_=n,this.vhs_=n.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=x,this.enableLowInitialPlaylist=u,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:s,maxPlaylistRetries:x,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=ez(),p&&be.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new be.ManagedMediaSource,this.usingManagedMediaSource_=!0,Ne.log("Using ManagedMediaSource")):be.MediaSource&&(this.mediaSource=new be.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Fn(),this.hasPlayed_=!1,this.syncController_=new Qj(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new jj,this.sourceUpdater_=new yF(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Vj,this.keyStatusMap_=new Map;const C={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new iw(i,this.vhs_,vi(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new ac(i,this.vhs_,vi(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new rw(vi(C,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new rw(vi(C,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Mj(vi(C,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((S,I)=>{function O(){n.off("vttjserror",U),S()}function U(){n.off("vttjsloaded",O),I()}n.one("vttjsloaded",O),n.one("vttjserror",U),n.addWebVttScript_()})}),e);const g=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new tz(this.vhs_.xhr,g),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),sz.forEach(S=>{this[S+"_"]=rz.bind(this,S)}),this.logger_=Tr("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const w=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(w,()=>{const S=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-S,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,s){const n=this.media(),r=n&&(n.id||n.uri),o=e&&(e.id||e.uri);if(r&&r!==o){this.logger_("switch media ".concat(r," -> ").concat(o," from ").concat(i));const a={renditionInfo:{id:o,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:i};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-".concat(i)})}this.mainPlaylistLoader_.media(e,s)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const i=this.mediaTypes_[e],s=i?i.activeGroup():null,n=this.contentSteeringController_.getPathway();if(s&&n){const o=(s.length?s[0].playlists:s.playlists).filter(a=>a.attributes.serviceLocation===n);o.length&&this.mediaTypes_[e].activePlaylistLoader.media(o[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=be.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(be.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const s=e.mediaGroups.AUDIO,n=Object.keys(s);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const a=s.main||n.length&&s[n[0]];for(const l in a)if(a[l].default){r={label:l};break}}if(!r)return i;const o=[];for(const a in s)if(s[a][r.label]){const l=s[a][r.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a&&o.push(c)}}return o.length?o:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const i=this.mainPlaylistLoader_.media(),s=i.targetDuration*1.5*1e3;X1(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=s,i.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.mainSegmentLoader_.load()),Zj({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),i),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let i=this.mainPlaylistLoader_.media();if(!i){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let s;if(this.enableLowInitialPlaylist&&(s=this.selectInitialPlaylist()),s||(s=this.selectPlaylist()),!s||!this.shouldSwitchToMedia_(s)||(this.initialMedia_=s,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;i=this.initialMedia_}this.handleUpdatedMediaPlaylist(i)}),this.mainPlaylistLoader_.on("error",()=>{const i=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const i=this.mainPlaylistLoader_.media(),s=i.targetDuration*1.5*1e3;X1(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=s,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const i=this.mainPlaylistLoader_.media();if(i.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(i)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(i=>{this.mainPlaylistLoader_.on(i,s=>{this.player_.trigger(ln({},s))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const s=e.mediaGroups||{};let n=!0;const r=Object.keys(s.AUDIO);for(const o in s.AUDIO)for(const a in s.AUDIO[o])s.AUDIO[o][a].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(s.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Ea.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(s.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),n=this.bufferLowWaterLine(),r=this.bufferHighWaterLine(),o=this.tech_.buffered();return oz({buffered:o,currentTime:s,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const s=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:s.playlist,error:s})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const s=this.audioSegmentLoader_.pendingSegment_;if(!s||!s.segment||!s.segment.syncInfo)return;const n=s.segment.syncInfo.end+.01;this.tech_.setCurrentTime(n)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",s=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:nz}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const s=this.getCodecsOrExclude_();s&&this.sourceUpdater_.addOrChangeSourceBuffers(s)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(s=>{this.mainSegmentLoader_.on(s,n=>{this.player_.trigger(ln({},n))}),this.audioSegmentLoader_.on(s,n=>{this.player_.trigger(ln({},n))}),this.subtitleSegmentLoader_.on(s,n=>{this.player_.trigger(ln({},n))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const s=i.end(0);let n=s;if(e.start){const r=e.start.timeOffset;r<0?n=Math.max(s+r,i.start(0)):n=Math.min(s,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const s=this.syncController_.getExpiredTime(e,this.duration());if(s===null)return!1;const n=Ea.Playlist.playlistEnd(e,s),r=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return n-r<=ro;const a=o.end(o.length-1);return a-r<=ro&&n-a<=ro}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:s}){if(e=e||this.mainPlaylistLoader_.media(),s=s||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,r=n.filter(eb),o=r.length===1&&r[0]===e;if(n.length===1&&s!==1/0)return Ne.log.warn("Problem encountered with playlist ".concat(e.id,". ")+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},p);return}let f=!1;n.forEach(m=>{if(m===e)return;const p=m.excludeUntil;typeof p<"u"&&p!==1/0&&(f=!0,delete m.excludeUntil)}),f&&(Ne.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+s*1e3,e.excludeUntil=a,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=i.internal?this.logger_:Ne.log.warn,c=i.message?" "+i.message:"";u("".concat(i.internal?"Internal problem":"Problem"," encountered with playlist ").concat(e.id,".")+"".concat(c," Switching to playlist ").concat(l.id,".")),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const h=l.targetDuration/2*1e3||5*1e3,A=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=h;return this.switchMedia_(l,"exclude",o||A)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const s=[],n=e==="all";(n||e==="main")&&s.push(this.mainPlaylistLoader_);const r=[];(n||e==="audio")&&r.push("AUDIO"),(n||e==="subtitle")&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&s.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this["".concat(o,"SegmentLoader_")];a&&(e===o||e==="all")&&s.push(a)}),s.forEach(o=>i.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const i=oc(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Ea.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,i){const s=e.media();if(!s)return null;const n=this.syncController_.getMediaSequenceSync(i);if(n&&n.isReliable){const a=n.start,l=n.end;if(!isFinite(a)||!isFinite(l))return null;const u=Ea.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,s),c=Math.max(0,l-u);return c<a?null:Fn([[a,c]])}const r=this.syncController_.getExpiredTime(s,this.duration());if(r===null)return null;const o=Ea.Playlist.seekable(s,r,Ea.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,s));return o.length?o:null}computeFinalSeekable_(e,i){if(!i)return e;const s=e.start(0),n=e.end(0),r=i.start(0),o=i.end(0);return r>n||s>o?e:Fn([[Math.max(s,r),Math.min(n,o)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let i;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!i))return;const s=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,i),!this.seekable_||s&&s.length&&this.seekable_.length&&s.start(0)===this.seekable_.start(0)&&s.end(0)===this.seekable_.end(0))return;this.logger_("seekable updated [".concat(LD(this.seekable_),"]"));const n={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:n}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}const i=this.tech_.buffered();let s=Ea.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(s=Math.max(s,i.end(i.length-1))),this.mediaSource.duration!==s&&this.sourceUpdater_.setDuration(s)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const s in i)i[s].forEach(n=>{n.playlistLoader&&n.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!s)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const s=AA(this.main(),i),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=s.video||e.main.videoCodec||KN),e.main.isMuxed&&(n.video+=",".concat(s.audio||e.main.audioCodec||Fx)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(n.audio=s.audio||e.main.audioCodec||e.audio.audioCodec||Fx,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,c)=>u?lA(c,this.usingManagedMediaSource_):jv(c),a={};let l;if(["video","audio"].forEach(function(u){if(n.hasOwnProperty(u)&&!o(e[u].isFmp4,n[u])){const c=e[u].isFmp4?"browser":"muxer";a[c]=a[c]||[],a[c].push(n[u]),u==="audio"&&(l=c)}}),r&&l&&i.attributes.AUDIO){const u=i.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==i&&(c.excludeUntil=1/0)}),this.logger_("excluding audio group ".concat(u," as ").concat(l,' does not support codec(s): "').concat(n.audio,'"'))}if(Object.keys(a).length){const u=Object.keys(a).reduce((c,h)=>(c&&(c+=", "),c+="".concat(h,' does not support codec(s): "').concat(a[h].join(","),'"'),c),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const h=(Zr(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,A=(Zr(n[c]||"")[0]||{}).type;h&&A&&h.toLowerCase()!==A.toLowerCase()&&u.push('"'.concat(this.sourceUpdater_.codecs[c],'" -> "').concat(n[c],'"'))}),u.length){this.excludePlaylist({playlistToExclude:i,error:{message:"Codec switching not supported: ".concat(u.join(", "),"."),internal:!0},playlistExclusionDuration:1/0});return}}return n}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(s=>{const n=e[s];if(i.indexOf(n.id)!==-1)return;i.push(n.id);const r=AA(this.main,n),o=[];r.audio&&!jv(r.audio)&&!lA(r.audio,this.usingManagedMediaSource_)&&o.push("audio codec ".concat(r.audio)),r.video&&!jv(r.video)&&!lA(r.video,this.usingManagedMediaSource_)&&o.push("video codec ".concat(r.video)),r.text&&r.text==="stpp.ttml.im1t"&&o.push("text codec ".concat(r.text)),o.length&&(n.excludeUntil=1/0,this.logger_("excluding ".concat(n.id," for unsupported: ").concat(o.join(", "))))})}excludeIncompatibleVariants_(e){const i=[],s=this.main().playlists,n=$m(Zr(e)),r=FT(n),o=n.video&&Zr(n.video)[0]||null,a=n.audio&&Zr(n.audio)[0]||null;Object.keys(s).forEach(l=>{const u=s[l];if(i.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;i.push(u.id);const c=[],h=AA(this.mainPlaylistLoader_.main,u),A=FT(h);if(!(!h.audio&&!h.video)){if(A!==r&&c.push('codec count "'.concat(A,'" !== "').concat(r,'"')),!this.sourceUpdater_.canChangeType()){const f=h.video&&Zr(h.video)[0]||null,m=h.audio&&Zr(h.audio)[0]||null;f&&o&&f.type.toLowerCase()!==o.type.toLowerCase()&&c.push('video codec "'.concat(f.type,'" !== "').concat(o.type,'"')),m&&a&&m.type.toLowerCase()!==a.type.toLowerCase()&&c.push('audio codec "'.concat(m.type,'" !== "').concat(a.type,'"'))}c.length&&(u.excludeUntil=1/0,this.logger_("excluding ".concat(u.id,": ").concat(c.join(" && "))))}})}updateAdCues_(e){let i=0;const s=this.seekable();s.length&&(i=s.start(0)),Uj(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=kn.GOAL_BUFFER_LENGTH,s=kn.GOAL_BUFFER_LENGTH_RATE,n=Math.max(i,kn.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*s,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=kn.BUFFER_LOW_WATER_LINE,s=kn.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(i,kn.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(i,kn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*s,this.bufferBasedABR?r:n)}bufferHighWaterLine(){return kn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){RT(this.inbandTextTracks_,"com.apple.streaming",this.tech_),mj({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,s){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();RT(this.inbandTextTracks_,e,this.tech_),fj({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:n,videoDuration:s})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const i of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(i));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(i=>{this.contentSteeringController_.on(i,s=>{this.trigger(ln({},s))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const i=this.main();(this.contentSteeringController_.didDASHTagChange(i.uri,i.contentSteering)||(()=>{const r=this.contentSteeringController_.getAvailablePathways(),o=[];for(const a of i.playlists){const l=a.attributes.serviceLocation;if(l&&(o.push(l),!r.has(l)))return!0}return!!(!o.length&&r.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const s=this.main().playlists,n=new Set;let r=!1;Object.keys(s).forEach(o=>{const a=s[o],l=this.pathwayAttribute_(a),u=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!u&&(delete a.excludeUntil,delete a.lastExcludeReason_,r=!0);const h=!a.excludeUntil&&a.excludeUntil!==1/0;!n.has(a.id)&&u&&h&&(n.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_("excluding ".concat(a.id," for ").concat(a.lastExcludeReason_)))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(o=>{const a=this.mediaTypes_[o];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(r=!0)}}),r&&this.changeSegmentPathway_()}handlePathwayClones_(){const i=this.main().playlists,s=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(s&&s.size||n&&n.size){for(const[o,a]of s.entries())n.get(o)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(o));for(const[o,a]of n.entries()){const l=s.get(o);if(!l){i.filter(c=>c.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(a,c)}),this.contentSteeringController_.addAvailablePathway(o);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(o))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,i){if(e["BASE-ID"]!==i["BASE-ID"]||e.ID!==i.ID||e["URI-REPLACEMENT"].HOST!==i["URI-REPLACEMENT"].HOST)return!1;const s=e["URI-REPLACEMENT"].PARAMS,n=i["URI-REPLACEMENT"].PARAMS;for(const r in s)if(s[r]!==n[r])return!1;for(const r in n)if(s[r]!==n[r])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const i="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(s=>{const n=this.mainPlaylistLoader_.getKeyIdSet(s);!n||!n.size||n.forEach(r=>{const o="usable",a=this.keyStatusMap_.has(r)&&this.keyStatusMap_.get(r)===o,l=s.lastExcludeReason_===i&&s.excludeUntil===1/0;a?a&&l&&(delete s.excludeUntil,delete s.lastExcludeReason_,this.logger_("enabling playlist ".concat(s.id," because key ID ").concat(r," is ").concat(o))):(s.excludeUntil!==1/0&&s.lastExcludeReason_!==i&&(s.excludeUntil=1/0,s.lastExcludeReason_=i,this.logger_("excluding playlist ".concat(s.id," because the key ID ").concat(r," doesn't exist in the keyStatusMap or is not ").concat(o))),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(s=>{const n=s&&s.attributes&&s.attributes.RESOLUTION&&s.attributes.RESOLUTION.height<720,r=s.excludeUntil===1/0&&s.lastExcludeReason_===i;n&&r&&(delete s.excludeUntil,Ne.log.warn("enabling non-HD playlist ".concat(s.id," because all playlists were excluded due to ").concat(i," key IDs")))})}addKeyStatus_(e,i){const r=(typeof e=="string"?e:Lj(e)).slice(0,32).toLowerCase();this.logger_("KeyStatus '".concat(i,"' with key ID ").concat(r," added to the keyStatusMap")),this.keyStatusMap_.set(r,i)}updatePlaylistByKeyStatus(e,i){this.addKeyStatus_(e,i),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const lz=(t,e,i)=>s=>{const n=t.main.playlists[e],r=h2(n),o=eb(n);if(typeof s>"u")return o;s?delete n.disabled:n.disabled=!0;const a={renditionInfo:{id:e,bandwidth:n.attributes.BANDWIDTH,resolution:n.attributes.RESOLUTION,codecs:n.attributes.CODECS},cause:"fast-quality"};return s!==o&&!r&&(s?(i(n),t.trigger({type:"renditionenabled",metadata:a})):t.trigger({type:"renditiondisabled",metadata:a})),s};class uz{constructor(e,i,s){const{playlistController_:n}=e,r=n.fastQualityChange_.bind(n);if(i.attributes){const o=i.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=AA(n.main(),i),this.playlist=i,this.id=s,this.enabled=lz(e.playlists,i.id,r)}}const cz=function(t){t.representations=()=>{const e=t.playlistController_.main(),i=df(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(s=>!h2(s)).map((s,n)=>new uz(t,s,s.id)):[]}},KT=["seeking","seeked","pause","playing","error"];class dz extends Ne.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Tr("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),s=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},o["".concat(c,"SegmentLoader_")].on("appendsdone",l[c].updateend),o["".concat(c,"SegmentLoader_")].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(h=>{o["".concat(h,"SegmentLoader_")][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(KT,r),this.tech_.on("canplay",s),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(KT,r),this.tech_.off("canplay",s),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(c=>{o["".concat(c,"SegmentLoader_")].off("appendsdone",l[c].updateend),o["".concat(c,"SegmentLoader_")].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&be.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&be.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=be.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_["".concat(e,"SegmentLoader_")];this["".concat(e,"StalledDownloads_")]>0&&this.logger_("resetting possible stalled download count for ".concat(e," loader")),this["".concat(e,"StalledDownloads_")]=0,this["".concat(e,"Buffered_")]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,s=i["".concat(e,"SegmentLoader_")],n=s.buffered_(),r=WV(this["".concat(e,"Buffered_")],n);if(this["".concat(e,"Buffered_")]=n,r){const o={bufferedRanges:n};i.trigger({type:"bufferedrangeschanged",metadata:o}),this.resetSegmentDownloads_(e);return}this["".concat(e,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(e,"StalledDownloads_")]," ").concat(e," appends that did not increase buffer (possible stalled download)"),{playlistId:s.playlist_&&s.playlist_.id,buffered:jl(n)}),!(this["".concat(e,"StalledDownloads_")]<10)&&(this.logger_("".concat(e," loader stalled download exclusion")),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-".concat(e,"-download-exclusion")}),e!=="subtitle"&&i.excludePlaylist({error:{message:"Excessive ".concat(e," segment downloading detected.")},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+ro>=i.end(i.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Fn([this.lastRecordedTime,e]));const s={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:s}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),s=this.tech_.currentTime(),n=this.afterSeekableWindow_(i,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let r;if(n&&(r=i.end(i.length-1)),this.beforeSeekableWindow_(i,s)){const m=i.start(0);r=m+(m===i.end(0)?0:ro)}if(typeof r<"u")return this.logger_("Trying to seek outside of seekable at time ".concat(s," with ")+"seekable range ".concat(LD(i),". Seeking to ")+"".concat(r,".")),this.tech_.setCurrentTime(r),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,c=this.media(),h=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-so)*2,A=[l,u];for(let m=0;m<A.length;m++){if(!A[m])continue;if(c2(A[m],s)<h)return!1}const f=Tp(a,s);return f.length===0?!1:(r=f.start(0)+ro,this.logger_("Buffered region starts (".concat(f.start(0),") ")+" just beyond seek point (".concat(s,"). Seeking to ").concat(r,".")),this.tech_.setCurrentTime(r),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),s=oc(i,e);if(s.length&&e+3<=s.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at ".concat(e," while inside a buffered region ")+"[".concat(s.start(0)," -> ").concat(s.end(0),"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const a=e.end(e.length-1);return this.logger_("Fell out of live window at time ".concat(i,". Seeking to ")+"live point (seekable end) ".concat(a)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const s=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=Tp(n,i);return o.length>0?(this.logger_("Stopped at ".concat(i," and seeking to ").concat(o.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,s,n=!1){if(!e.length)return!1;let r=e.end(e.length-1)+ro;const o=!s.endList,a=typeof s.partTargetDuration=="number";return o&&(a||n)&&(r=e.end(e.length-1)+s.targetDuration*3),i>r}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:s}){if(!e)return;let n;if(e.length&&i.length){const r=oc(e,s-3),o=oc(e,s),a=oc(i,s);a.length&&!o.length&&r.length&&(n={start:r.end(0),end:a.end(0)})}else Tp(e,s).length||(n=this.gapFromVideoUnderflow_(e,s));return n?(this.logger_("Encountered a gap in video from ".concat(n.start," to ").concat(n.end,". ")+"Seeking to current time ".concat(s)),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),s=this.tech_.currentTime(),n=Tp(i,s);if(this.resetTimeUpdate_(),n.length===0||s!==e)return;this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+so);const r={gapInfo:{from:s,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,i){const s=KV(e);for(let n=0;n<s.length;n++){const r=s.start(n),o=s.end(n);if(i-r<4&&i-r>2)return{start:r,end:o}}return null}}const hz={errorInterval:30,getSource(t){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(i)}},xF=function(t,e){let i=0,s=0;const n=vi(hz,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const r=function(){s&&t.currentTime(s)},o=function(c){c!=null&&(s=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",r),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-i<n.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){Ne.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),n.getSource.call(t,o)},l=function(){t.off("loadedmetadata",r),t.off("error",a),t.off("dispose",l)},u=function(c){l(),xF(t,c)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=u},Az=function(t){xF(this,t)};var TF="3.16.2",fz="7.1.0",pz="1.3.1",gz="7.2.0",mz="4.0.2";const Gi={PlaylistLoader:ac,Playlist:Is,utils:v$,STANDARD_PLAYLIST_SELECTOR:LT,INITIAL_PLAYLIST_SELECTOR:uj,lastBandwidthSelector:LT,movingAverageBandwidthSelector:aj,comparePlaylistBandwidth:p2,comparePlaylistResolution:oj,xhr:XD()};Object.keys(kn).forEach(t=>{Object.defineProperty(Gi,t,{get(){return Ne.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),kn[t]},set(e){if(Ne.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),typeof e!="number"||e<0){Ne.log.warn("value of Vhs.".concat(t," must be greater than or equal to 0"));return}kn[t]=e}})});const _F="videojs-vhs",SF=function(t,e){const i=e.media();let s=-1;for(let n=0;n<t.length;n++)if(t[n].id===i.id){s=n;break}t.selectedIndex_=s,t.trigger({selectedIndex:s,type:"change"})},bz=function(t,e){e.representations().forEach(i=>{t.addQualityLevel(i)}),SF(t,e.playlists)};Gi.canPlaySource=function(){return Ne.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const vz=(t,e,i)=>{if(!t)return t;let s={};e&&e.attributes&&e.attributes.CODECS&&(s=$m(Zr(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(s.audio=i.attributes.CODECS);const n=Lc(s.video),r=Lc(s.audio),o={};for(const a in t)o[a]={},r&&(o[a].audioContentType=r),n&&(o[a].videoContentType=n),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return vi(t,o)},yz=(t,e)=>t.reduce((i,s)=>{if(!s.contentProtection)return i;const n=e.reduce((r,o)=>{const a=s.contentProtection[o];return a&&a.pssh&&(r[o]={pssh:a.pssh}),r},{});return Object.keys(n).length&&i.push(n),i},[]),wz=({player:t,sourceKeySystems:e,audioMedia:i,mainPlaylists:s})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const n=i?s.concat([i]):s,r=yz(n,Object.keys(e)),o=[],a=[];return r.forEach(l=>{a.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},h=>{if(h){c(h);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},Cz=({player:t,sourceKeySystems:e,media:i,audioMedia:s})=>{const n=vz(e,i,s);return n?(t.currentSource().keySystems=n,n&&!t.eme?(Ne.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},BF=()=>{if(!be.localStorage)return null;const t=be.localStorage.getItem(_F);if(!t)return null;try{return JSON.parse(t)}catch{return null}},Ez=t=>{if(!be.localStorage)return!1;let e=BF();e=e?vi(e,t):t;try{be.localStorage.setItem(_F,JSON.stringify(e))}catch{return!1}return e},xz=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,kF=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},IF=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},DF=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},FF=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Gi.supportsNativeHls=function(){if(!st||!st.createElement)return!1;const t=st.createElement("video");return Ne.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(t.canPlayType(i))}):!1}();Gi.supportsNativeDash=function(){return!st||!st.createElement||!Ne.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(st.createElement("video").canPlayType("application/dash+xml"))}();Gi.supportsTypeNatively=t=>t==="hls"?Gi.supportsNativeHls:t==="dash"?Gi.supportsNativeDash:!1;Gi.isSupported=function(){return Ne.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Gi.xhr.onRequest=function(t){kF(Gi.xhr,t)};Gi.xhr.onResponse=function(t){IF(Gi.xhr,t)};Gi.xhr.offRequest=function(t){DF(Gi.xhr,t)};Gi.xhr.offResponse=function(t){FF(Gi.xhr,t)};const Tz=Ne.getComponent("Component");class PF extends Tz{constructor(e,i,s){if(super(i,s.vhs),typeof s.initialBandwidth=="number"&&(this.options_.bandwidth=s.initialBandwidth),this.logger_=Tr("VhsHandler"),i.options_&&i.options_.playerId){const n=Ne.getPlayer(i.options_.playerId);this.player_=n}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(st,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=>{const r=st.fullscreenElement||st.webkitFullscreenElement||st.mozFullScreenElement||st.msFullscreenElement;r&&r.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=vi(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const s=BF();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=kn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===kn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(s=>{typeof this.source_[s]<"u"&&(this.options_[s]=this.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const i=this.options_.customPixelRatio;typeof i=="number"&&i>=0&&(this.customPixelRatio=i)}setOptions(e={}){this.setOptions_(e)}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=xz(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Gi,this.options_.sourceType=iI(i),this.options_.seekTo=r=>{this.tech_.setCurrentTime(r)},this.options_.player_=this.player_,this.playlistController_=new az(this.options_);const s=vi({liveRangeSafeTimeDelta:ro},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new dz(s),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const r=Ne.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),r.error(o)});const n=this.options_.bufferBasedABR?Gi.movingAverageBandwidthSelector(.55):Gi.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):n.bind(this),this.playlistController_.selectInitialPlaylist=Gi.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(r){this.playlistController_.selectPlaylist=r.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(r){this.playlistController_.mainSegmentLoader_.throughput.rate=r,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let r=this.playlistController_.mainSegmentLoader_.bandwidth;const o=be.navigator.connection||be.navigator.mozConnection||be.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&r>=a?r=Math.max(r,l):r=l}return r},set(r){this.playlistController_.mainSegmentLoader_.bandwidth=r,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const r=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(r+o))},set(){Ne.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>jl(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>jl(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&Ez({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{cz(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=be.URL.createObjectURL(this.playlistController_.mediaSource),(Ne.browser.IS_ANY_SAFARI||Ne.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),wz({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=Cz({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",s=>{this.playlistController_.updatePlaylistByKeyStatus(s.keyId,s.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Ne.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{bz(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{SF(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":TF,"mux.js":fz,"mpd-parser":pz,"m3u8-parser":gz,"aes-decrypter":mz}}version(){return this.constructor.version()}canChangeType(){return yF.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&be.URL.revokeObjectURL&&(be.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return _$({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,s=!0,n=2){return iF({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{kF(this.xhr,e)},this.xhr.onResponse=e=>{IF(this.xhr,e)},this.xhr.offRequest=e=>{DF(this.xhr,e)},this.xhr.offResponse=e=>{FF(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],i=["gapjumped","playedrangeschanged"];e.forEach(s=>{this.playlistController_.on(s,n=>{this.player_.trigger(ln({},n))})}),i.forEach(s=>{this.playbackWatcher_.on(s,n=>{this.player_.trigger(ln({},n))})})}}const Km={name:"videojs-http-streaming",VERSION:TF,canHandleSource(t,e={}){const i=vi(Ne.options,e);return!i.vhs.experimentalUseMMS&&!lA("avc1.4d400d,mp4a.40.2",!1)?!1:Km.canPlayType(t.type,i)},handleSource(t,e,i={}){const s=vi(Ne.options,i);return e.vhs=new PF(t,e,s),e.vhs.xhr=XD(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const i=iI(t);if(!i)return"";const s=Km.getOverrideNative(e);return!Gi.supportsTypeNatively(i)||s?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,i=!(Ne.browser.IS_ANY_SAFARI||Ne.browser.IS_IOS),{overrideNative:s=i}=e;return s}},_z=()=>lA("avc1.4d400d,mp4a.40.2",!0);_z()&&Ne.getTech("Html5").registerSourceHandler(Km,0);Ne.VhsHandler=PF;Ne.VhsSourceHandler=Km;Ne.Vhs=Gi;Ne.use||Ne.registerComponent("Vhs",Gi);Ne.options.vhs=Ne.options.vhs||{};(!Ne.getPlugin||!Ne.getPlugin("reloadSourceOnError"))&&Ne.registerPlugin("reloadSourceOnError",Az);const Sz="Lecture",Bz="Pause",kz="Revoir",Iz="Durée",Dz="EN DIRECT",Fz="Chargé",Pz="Progression",Lz="Plein écran",Rz="Mettre en sourdine",Mz="Activer le son",Oz="Sous-titres",Uz="Sous-titres transcrits",Nz="Chapitres",Hz="Descriptions",Qz="Fermer",Vz="Texte",$z="Blanc",jz="Noir",zz="Rouge",Kz="Vert",Gz="Bleu",qz="Jaune",Wz="Magenta",Yz="Cyan",Xz="Arrière-plan",Jz="Fenêtre",Zz="Transparent",eK="Opaque",tK="Aucun",iK="Élevé",nK="Enfoncé",sK="Uniforme",rK="Manuscrite",oK="Scripte",aK="Réinitialiser",lK="Terminé",uK="Couleur",cK="Opacité",GT={"Audio Player":"Lecteur audio","Video Player":"Lecteur vidéo",Play:Sz,Pause:Bz,Replay:kz,"Current Time":"Temps actuel",Duration:Iz,"Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:Dz,"Seek to live, currently behind live":"Rechercher le direct, actuellement après le direct","Seek to live, currently playing live":"Rechercher le direct, le direct actuellement en cours de lecture",Loaded:Fz,Progress:Pz,"Progress Bar":"Barre de progression","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Fullscreen:Lz,"Exit Fullscreen":"Fenêtré",Mute:Rz,Unmute:Mz,"Playback Rate":"Vitesse de lecture",Subtitles:Oz,"subtitles off":"Sous-titres désactivés",Captions:Uz,"captions off":"Sous-titres transcrits désactivés",Chapters:Nz,Descriptions:Hz,"descriptions off":"descriptions désactivées","Audio Track":"Piste audio","Volume Level":"Niveau de volume","You aborted the media playback":"Vous avez interrompu la lecture de la vidéo.","A network error caused the media download to fail part-way.":"Une erreur de réseau a interrompu le téléchargement de la vidéo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Cette vidéo n'a pas pu être chargée, soit parce que le serveur ou le réseau a échoué ou parce que le format n'est pas reconnu.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La lecture de la vidéo a été interrompue à cause d'un problème de corruption ou parce que la vidéo utilise des fonctionnalités non prises en charge par votre navigateur.","No compatible source was found for this media.":"Aucune source compatible n'a été trouvée pour cette vidéo.","The media is encrypted and we do not have the keys to decrypt it.":"Le média est chiffré et nous n'avons pas les clés pour le déchiffrer.","Play Video":"Lire la vidéo",Close:Qz,"Close Modal Dialog":"Fermer la boîte de dialogue modale","Modal Window":"Fenêtre modale","This is a modal window":"Ceci est une fenêtre modale","This modal can be closed by pressing the Escape key or activating the close button.":"Ce modal peut être fermé en appuyant sur la touche Échap ou activer le bouton de fermeture.",", opens captions settings dialog":", ouvrir les paramètres des sous-titres transcrits",", opens subtitles settings dialog":", ouvrir les paramètres des sous-titres",", opens descriptions settings dialog":", ouvrir les paramètres des descriptions",", selected":", sélectionné","captions settings":"Paramètres des sous-titres transcrits","subtitles settings":"Paramètres des sous-titres","descriptions settings":"Paramètres des descriptions",Text:Vz,White:$z,Black:jz,Red:zz,Green:Kz,Blue:Gz,Yellow:qz,Magenta:Wz,Cyan:Yz,Background:Xz,Window:Jz,Transparent:Zz,"Semi-Transparent":"Semi-transparent",Opaque:eK,"Font Size":"Taille des caractères","Text Edge Style":"Style des contours du texte",None:tK,Raised:iK,Depressed:nK,Uniform:sK,"Drop shadow":"Ombre portée","Font Family":"Famille de polices","Proportional Sans-Serif":"Polices à chasse variable sans empattement (Proportional Sans-Serif)","Monospace Sans-Serif":"Polices à chasse fixe sans empattement (Monospace Sans-Serif)","Proportional Serif":"Polices à chasse variable avec empattement (Proportional Serif)","Monospace Serif":"Polices à chasse fixe avec empattement (Monospace Serif)",Casual:rK,Script:oK,"Small Caps":"Petites capitales",Reset:aK,"restore all settings to the default values":"Restaurer tous les paramètres aux valeurs par défaut",Done:lK,"Caption Settings Dialog":"Boîte de dialogue des paramètres des sous-titres transcrits","Beginning of dialog window. Escape will cancel and close the window.":"Début de la fenêtre de dialogue. La touche d'échappement annulera et fermera la fenêtre.","End of dialog window.":"Fin de la fenêtre de dialogue.","Exit Picture-in-Picture":"Quitter le mode image dans l'image","Picture-in-Picture":"Image dans l'image","{1} is loading.":"{1} en cours de chargement.","No content":"Aucun contenu",Color:uK,Opacity:cK,"Text Background":"Arrière-plan du texte","Caption Area Background":"Arrière-plan de la zone de sous-titre","Skip backward {1} seconds":"Reculer de {1} secondes","Skip forward {1} seconds":"Avancer de {1} secondes"},dK="Reproducir",hK="Pausa",AK="Duración total",fK="DIRECTO",pK="Cargado",gK="Progreso",mK="Pantalla completa",bK="Desactivar el sonido",vK="Activar el sonido",yK="Subtítulos",wK="Subtítulos especiales",CK="Capítulos",EK="Volver a reproducir",xK="Descripciones",TK="Cerrar",_K="Texto",SK="Blanco",BK="Negro",kK="Rojo",IK="Verde",DK="Azul",FK="Amarillo",PK="Magenta",LK="Cian",RK="Fondo",MK="Ventana",OK="Transparente",UK="Opaca",NK="Ninguno",HK="En relieve",QK="Hundido",VK="Uniforme",$K="Informal",jK="Cursiva",zK="Restablecer",KK="Listo",GK="Color",qK="Opacidad",qT={Play:dK,"Play Video":"Reproducir Vídeo",Pause:hK,"Current Time":"Tiempo reproducido",Duration:AK,"Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:fK,Loaded:pK,Progress:gK,Fullscreen:mK,"Exit Fullscreen":"Pantalla no completa",Mute:bK,Unmute:vK,"Playback Rate":"Velocidad de reproducción",Subtitles:yK,"subtitles off":"Subtítulos desactivados",Captions:wK,"captions off":"Subtítulos especiales desactivados",Chapters:CK,"You aborted the media playback":"Ha interrumpido la reproducción del vídeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del vídeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este vídeo.","Audio Player":"Reproductor de audio","Video Player":"Reproductor de video",Replay:EK,"Seek to live, currently behind live":"Buscar en vivo, actualmente demorado con respecto a la transmisión en vivo","Seek to live, currently playing live":"Buscar en vivo, actualmente reproduciendo en vivo","Progress Bar":"Barra de progreso","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Descriptions:xK,"descriptions off":"descripciones desactivadas","Audio Track":"Pista de audio","Volume Level":"Nivel de volumen","The media is encrypted and we do not have the keys to decrypt it.":"El material audiovisual está cifrado y no tenemos las claves para descifrarlo.",Close:TK,"Modal Window":"Ventana modal","This is a modal window":"Esta es una ventana modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta ventana modal puede cerrarse presionando la tecla Escape o activando el botón de cierre.",", opens captions settings dialog":", abre el diálogo de configuración de leyendas",", opens subtitles settings dialog":", abre el diálogo de configuración de subtítulos",", selected":", seleccionado","Close Modal Dialog":"Cierra cuadro de diálogo modal",", opens descriptions settings dialog":", abre el diálogo de configuración de las descripciones","captions settings":"configuración de leyendas","subtitles settings":"configuración de subtítulos","descriptions settings":"configuración de descripciones",Text:_K,White:SK,Black:BK,Red:kK,Green:IK,Blue:DK,Yellow:FK,Magenta:PK,Cyan:LK,Background:RK,Window:MK,Transparent:OK,"Semi-Transparent":"Semitransparente",Opaque:UK,"Font Size":"Tamaño de fuente","Text Edge Style":"Estilo de borde del texto",None:NK,Raised:HK,Depressed:QK,Uniform:VK,"Drop shadow":"Sombra paralela","Font Family":"Familia de fuente","Proportional Sans-Serif":"Sans-Serif proporcional","Monospace Sans-Serif":"Sans-Serif monoespacio","Proportional Serif":"Serif proporcional","Monospace Serif":"Serif monoespacio",Casual:$K,Script:jK,"Small Caps":"Minúsculas",Reset:zK,"restore all settings to the default values":"restablece todas las configuraciones a los valores predeterminados",Done:KK,"Caption Settings Dialog":"Diálogo de configuración de leyendas","Beginning of dialog window. Escape will cancel and close the window.":"Comienzo de la ventana de diálogo. La tecla Escape cancelará la operación y cerrará la ventana.","End of dialog window.":"Final de la ventana de diálogo.","{1} is loading.":"{1} se está cargando.","Exit Picture-in-Picture":"Salir de imagen sobre imagen","Picture-in-Picture":"Imagen sobre imagen","No content":"Sin contenido",Color:GK,Opacity:qK,"Text Background":"Fondo del texto","Caption Area Background":"Fondo del área de subtítulos","Skip forward {1} seconds":"Avanza {1} segundos","Skip backward {1} seconds":"Retrocede {1} segundos"},WK="Play",YK="Pausa",XK="Replay",JK="Durata",ZK="LIVE",eG="Caricato",tG="Stato",iG="Schermo intero",nG="Disattiva l’audio",sG="Attiva l’audio",rG="Sottotitoli",oG="Didascalie",aG="Capitolo",lG="Descrizioni",uG="Chiudi",cG="Testo",dG="Bianco",hG="Nero",AG="Rosso",fG="Verde",pG="Blu",gG="Giallo",mG="Magenta",bG="Ciano",vG="Sfondo",yG="Finestra",wG="Trasparente",CG="Opaco",EG="Nessuno",xG="Uniforme",TG="Reinizializza",_G="Fatto",SG="Colore",BG="Opacità",WT={"Audio Player":"Lettore audio","Video Player":"Lettore video",Play:WK,Pause:YK,Replay:XK,"Current Time":"Orario attuale",Duration:JK,"Remaining Time":"Tempo rimanente","Stream Type":"Tipo di streaming",LIVE:ZK,Loaded:eG,Progress:tG,"Progress Bar":"Barra di avanzamento","progress bar timing: currentTime={1} duration={2}":"{1} di {2}",Fullscreen:iG,"Exit Fullscreen":"Chiudi Schermo intero",Mute:nG,Unmute:sG,"Playback Rate":"Velocità di riproduzione",Subtitles:rG,"subtitles off":"Senza sottotitoli",Captions:oG,"captions off":"Senza didascalie",Chapters:aG,Descriptions:lG,"descriptions off":"Descrizioni disattivate","Audio Track":"Traccia audio","Volume Level":"Livello del volume","You aborted the media playback":"La riproduzione del contenuto multimediale è stata interrotta.","A network error caused the media download to fail part-way.":"Il download del contenuto multimediale è stato interrotto a causa di un problema rete.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il contenuto multimediale non può essere caricato a causa di un errore nel server o nella rete o perché il formato non viene supportato.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La riproduzione del contenuto multimediale è stata interrotta a causa di un file danneggiato o per l’utilizzo di impostazioni non supportate dal browser.","No compatible source was found for this media.":"Non ci sono fonti compatibili per questo contenuto multimediale.","The media is encrypted and we do not have the keys to decrypt it.":"Il contenuto multimediale è criptato e non disponiamo delle chiavi per decifrarlo.","Play Video":"Riproduci il video",Close:uG,"Close Modal Dialog":"Chiudi la finestra di dialogo","Modal Window":"Finestra di dialogo","This is a modal window":"Questa è una finestra di dialogo","This modal can be closed by pressing the Escape key or activating the close button.":"Questa finestra di dialogo può essere chiusa premendo sul tasto Esc o attivando il pulsante di chiusura.",", opens captions settings dialog":", aprire le impostazioni delle didascalie",", opens subtitles settings dialog":", aprire le impostazioni dei sottotitoli",", opens descriptions settings dialog":", aprire le impostazioni delle descrizioni",", selected":", selezionato","captions settings":"Impostazioni didascalie","subtitles settings":"Impostazioni sottotitoli","descriptions settings":"Impostazioni descrizioni",Text:cG,White:dG,Black:hG,Red:AG,Green:fG,Blue:pG,Yellow:gG,Magenta:mG,Cyan:bG,Background:vG,Window:yG,Transparent:wG,"Semi-Transparent":"Semi-Trasparente",Opaque:CG,"Font Size":"Dimensione dei caratteri","Text Edge Style":"Stile dei bordi del testo",None:EG,Uniform:xG,"Drop shadow":"Ombra","Font Family":"Carattere","Proportional Sans-Serif":"Sans-Serif proporzionale","Monospace Sans-Serif":"Sans-Serif monospaziato","Proportional Serif":"Serif proporzionale","Monospace Serif":"Serif monospaziato","Small Caps":"Maiuscoletto",Reset:TG,"restore all settings to the default values":"Ripristina i valori predefiniti per tutti i parametri",Done:_G,"Caption Settings Dialog":"Finestra di dialogo dei parametri della trascrizione dei sottotitoli","Beginning of dialog window. Escape will cancel and close the window.":"Inizio della finestra di dialogo. Il tasto Esc annullerà l’operazione e chiuderà la finestra.","End of dialog window.":"Fine della finestra di dialogo.","{1} is loading.":"{1} in fase di caricamento.","Exit Picture-in-Picture":"Esci dalla modalità Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture",Color:SG,Opacity:BG,"Text Background":"Sfondo testo","Caption Area Background":"Sfondo area sottotitoli","Skip forward {1} seconds":"Avanti {1} secondi","Skip backward {1} seconds":"Indietro {1} secondi"},kG="Wiedergabe",IG="Pause",DG="Erneut abspielen",FG="Dauer",PG="LIVE",LG="Geladen",RG="Status",MG="Vollbild",OG="Stumm schalten",UG="Ton einschalten",NG="Untertitel",HG="Untertitel",QG="Kapitel",VG="Schließen",$G="Beschreibungen",jG="Schrift",zG="Weiß",KG="Schwarz",GG="Rot",qG="Grün",WG="Blau",YG="Gelb",XG="Magenta",JG="Türkis",ZG="Hintergrund",eq="Fenster",tq="Durchsichtig",iq="Undurchsichtig",nq="Kein",sq="Erhoben",rq="Gedrückt",oq="Uniform",aq="Zwanglos",lq="Schreibschrift",uq="Zurücksetzen",cq="Fertig",dq="Farbe",hq="Deckkraft",YT={Play:kG,Pause:IG,Replay:DG,"Current Time":"Aktueller Zeitpunkt",Duration:FG,"Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:PG,Loaded:LG,Progress:RG,Fullscreen:MG,"Exit Fullscreen":"Vollbildmodus beenden",Mute:OG,Unmute:UG,"Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:NG,"subtitles off":"Untertitel aus",Captions:HG,"captions off":"Untertitel aus",Chapters:QG,"You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterstützt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem beschädigten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterstützt werden, abgebrochen.","No compatible source was found for this media.":"Für dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:VG,"Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Drücken der Esc-Taste bzw. Betätigung der Schaltfläche "Schließen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", öffnet Einstellungen für Untertitel",", opens subtitles settings dialog":", öffnet Einstellungen für Untertitel",", selected":", ausgewählt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen für Beschreibungen","Close Modal Dialog":"Modales Fenster schließen",Descriptions:$G,"descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschlüsselungsschlüssel für den verschlüsselten Medieninhalt sind nicht verfügbar.",", opens descriptions settings dialog":", öffnet Einstellungen für Beschreibungen","Audio Track":"Tonspur",Text:jG,White:zG,Black:KG,Red:GG,Green:qG,Blue:WG,Yellow:YG,Magenta:XG,Cyan:JG,Background:ZG,Window:eq,Transparent:tq,"Semi-Transparent":"Halbdurchsichtig",Opaque:iq,"Font Size":"Schriftgröße","Text Edge Style":"Textkantenstil",None:nq,Raised:sq,Depressed:rq,Uniform:oq,"Drop shadow":"Schlagschatten","Font Family":"Schriftfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:aq,Script:lq,"Small Caps":"Small-Caps",Reset:uq,"restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zurücksetzen",Done:cq,"Caption Settings Dialog":"Einstellungsdialog für Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schließt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Fortschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautstärke","{1} is loading.":"{1} wird geladen.","Seek to live, currently behind live":"Zur Live-Übertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-Übertragung wechseln. Es wird aktuell live abgespielt.","Exit Picture-in-Picture":"Bild-im-Bild-Modus beenden","Picture-in-Picture":"Bild-im-Bild-Modus","No content":"Kein Inhalt",Color:dq,Opacity:hq,"Text Background":"Texthintergrund","Caption Area Background":"Hintergrund des Untertitelbereichs","Playing in Picture-in-Picture":"Wird im Bild-im-Bild-Modus wiedergegeben","Skip forward {1} seconds":"{1} Sekunden vorwärts","Skip backward {1} seconds":"{1} Sekunden zurück"},Aq="Afspelen",fq="Pauzeren",pq="Opnieuw afspelen",gq="Tijdsduur",mq="LIVE",bq="Geladen",vq="Voortgang",yq="Volledig scherm",wq="Dempen",Cq="Dempen uit",Eq="Ondertiteling",xq="Ondertiteling (CC)",Tq="Hoofdstukken",_q="Beschrijvingen",Sq="Sluiten",Bq="Tekst",kq="Wit",Iq="Zwart",Dq="Rood",Fq="Groen",Pq="Blauw",Lq="Geel",Rq="Magenta",Mq="Cyaan",Oq="Achtergrond",Uq="Venster",Nq="Transparant",Hq="Ondoorzichtig",Qq="Geen",Vq="Verhoogd",$q="Ingedrukt",jq="Uniform",zq="Informeel",Kq="Script",Gq="Herstellen",qq="Gereed",Wq="Kleur",Yq="Transparantie",XT={"Audio Player":"Audiospeler","Video Player":"Videospeler",Play:Aq,Pause:fq,Replay:pq,"Current Time":"Huidige tijd",Duration:gq,"Remaining Time":"Resterende tijd","Stream Type":"Streamtype",LIVE:mq,"Seek to live, currently behind live":"Zoek naar live, momenteel achter op live","Seek to live, currently playing live":"Zoek naar live, momenteel live",Loaded:bq,Progress:vq,"Progress Bar":"Voortgangsbalk","progress bar timing: currentTime={1} duration={2}":"{1} van {2}",Fullscreen:yq,"Exit Fullscreen":"Volledig scherm uit",Mute:wq,Unmute:Cq,"Playback Rate":"Afspeelsnelheid",Subtitles:Eq,"subtitles off":"ondertiteling uit",Captions:xq,"captions off":"ondertiteling (CC) uit",Chapters:Tq,Descriptions:_q,"descriptions off":"beschrijvingen uit","Audio Track":"Audiospoor","Volume Level":"Volume","You aborted the media playback":"U heeft het afspelen van de media afgebroken","A network error caused the media download to fail part-way.":"Een netwerkfout heeft ervoor gezorgd dat het downloaden van de media is mislukt.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"De media kon niet worden geladen, doordat de server of het netwerk faalde of doordat het formaat niet wordt ondersteund.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Het afspelen van de media werd afgebroken vanwege een corruptieprobleem of omdat de uw browser de gebruikte mediafuncties niet ondersteund.","No compatible source was found for this media.":"Er is geen geschikte bron gevonden voor dit medium.","The media is encrypted and we do not have the keys to decrypt it.":"De media is gecodeerd en we hebben niet de sleutels om het te decoderen.","Play Video":"Video afspelen",Close:Sq,"Close Modal Dialog":"Extra venster sluiten","Modal Window":"Extra venster","This is a modal window":"Dit is een extra venster","This modal can be closed by pressing the Escape key or activating the close button.":"Dit venster kan worden gesloten door op de Escape-toets te drukken of door de sluit-knop te activeren.",", opens captions settings dialog":", opent instellingen venster voor ondertitelingen",", opens subtitles settings dialog":", opent instellingen venster voor ondertitelingen",", opens descriptions settings dialog":", opent instellingen venster voor beschrijvingen",", selected":", geselecteerd","captions settings":"ondertiteling instellingen","subtitles settings":"ondertiteling instellingen","descriptions settings":"beschrijvingen instellingen",Text:Bq,White:kq,Black:Iq,Red:Dq,Green:Fq,Blue:Pq,Yellow:Lq,Magenta:Rq,Cyan:Mq,Background:Oq,Window:Uq,Transparent:Nq,"Semi-Transparent":"Semi-transparant",Opaque:Hq,"Font Size":"Lettergrootte","Text Edge Style":"Stijl tekstrand",None:Qq,Raised:Vq,Depressed:$q,Uniform:jq,"Drop shadow":"Schaduw","Font Family":"Lettertype","Proportional Sans-Serif":"Proportioneel sans-serif","Monospace Sans-Serif":"Monospace sans-serif","Proportional Serif":"Proportioneel serif","Monospace Serif":"Monospace serif",Casual:zq,Script:Kq,"Small Caps":"Kleine Hoofdletters",Reset:Gq,"restore all settings to the default values":"alle instellingen herstellen naar de standaardwaarden",Done:qq,"Caption Settings Dialog":"Venster voor bijschriften-instellingen","Beginning of dialog window. Escape will cancel and close the window.":"Begin van dialoogvenster. Escape zal annuleren en het venster sluiten.","End of dialog window.":"Einde van dialoogvenster.","{1} is loading.":"{1} wordt geladen.","Exit Picture-in-Picture":"Picture-in-Picture uit","Picture-in-Picture":"Picture-in-Picture","No content":"Geen inhoud",Color:Wq,Opacity:Yq,"Text Background":"Tekst Achtergrond","Caption Area Background":"Achtergrond voor Ondertiteling","Skip forward {1} seconds":"{1} seconden vooruit","Skip backward {1} seconds":"{1} seconden terug"},Xq="Pusti",Jq="Pauza",Zq="Vrijeme trajanja",eW="UŽIVO",tW="Učitan",iW="Progres",nW="Puni ekran",sW="Prigušen",rW="Ne-prigušen",oW="Podnaslov",aW="Titlovi",lW="Poglavlja",JT={Play:Xq,Pause:Jq,"Current Time":"Trenutno vrijeme",Duration:Zq,"Remaining Time":"Preostalo vrijeme","Stream Type":"Način strimovanja",LIVE:eW,Loaded:tW,Progress:iW,Fullscreen:nW,"Exit Fullscreen":"Mali ekran",Mute:sW,Unmute:rW,"Playback Rate":"Stopa reprodukcije",Subtitles:oW,"subtitles off":"Podnaslov deaktiviran",Captions:aW,"captions off":"Titlovi deaktivirani",Chapters:lW,"You aborted the media playback":"Isključili ste reprodukciju videa.","A network error caused the media download to fail part-way.":"Video se prestao preuzimati zbog greške na mreži.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video se ne može reproducirati zbog servera, greške u mreži ili je format ne podržan.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Reprodukcija videa je zaustavljenja zbog greške u formatu ili zbog verzije vašeg pretraživača.","No compatible source was found for this media.":"Nije nađen nijedan kompatibilan izvor ovog videa."},uW="Play",cW="Pause",dW="Replay",hW="Duration",AW="LIVE",fW="Loaded",pW="Progress",gW="Fullscreen",mW="Mute",bW="Unmute",vW="Subtitles",yW="Captions",wW="Chapters",CW="Descriptions",EW="Close",xW="Text",TW="White",_W="Black",SW="Red",BW="Green",kW="Blue",IW="Yellow",DW="Magenta",FW="Cyan",PW="Background",LW="Window",RW="Transparent",MW="Opaque",OW="None",UW="Raised",NW="Depressed",HW="Uniform",QW="Casual",VW="Script",$W="Reset",jW="Done",zW="Color",KW="Opacity",ZT={"Audio Player":"Audio Player","Video Player":"Video Player",Play:uW,Pause:cW,Replay:dW,"Current Time":"Current Time",Duration:hW,"Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:AW,"Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live",Loaded:fW,Progress:pW,"Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}",Fullscreen:gW,"Exit Fullscreen":"Exit Fullscreen",Mute:mW,Unmute:bW,"Playback Rate":"Playback Rate",Subtitles:vW,"subtitles off":"subtitles off",Captions:yW,"captions off":"captions off",Chapters:wW,Descriptions:CW,"descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video",Close:EW,"Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subtitles settings","descriptions settings":"descriptions settings",Text:xW,White:TW,Black:_W,Red:SW,Green:BW,Blue:kW,Yellow:IW,Magenta:DW,Cyan:FW,Background:PW,Window:LW,Transparent:RW,"Semi-Transparent":"Semi-Transparent",Opaque:MW,"Font Size":"Font Size","Text Edge Style":"Text Edge Style",None:OW,Raised:UW,Depressed:NW,Uniform:HW,"Drop shadow":"Drop shadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:QW,Script:VW,"Small Caps":"Small Caps",Reset:$W,"restore all settings to the default values":"restore all settings to the default values",Done:jW,"Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","{1} is loading.":"{1} is loading.","Exit Picture-in-Picture":"Exit Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture","No content":"No content",Color:zW,Opacity:KW,"Text Background":"Text Background","Caption Area Background":"Caption Area Background","Playing in Picture-in-Picture":"Playing in Picture-in-Picture","Skip backward {1} seconds":"Skip backward {1} seconds","Skip forward {1} seconds":"Skip forward {1} seconds"},GW={name:"PVideo",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,ws:0,hs:0,x:0,y:0,minw:40,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},lecteur:"",lien:"",video:"",dataURL:"",type:"video/mp4",googleAPIKey:"",videoId:"",debutMinutes:"",debutSecondes:"",finMinutes:"",finSecondes:"",debut:0,fin:0,chargementVideo:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lien:this.lien,videoId:this.videoId,type:this.type,dataURL:this.dataURL,debutMinutes:this.debutMinutes,debutSecondes:this.debutSecondes,finMinutes:this.finMinutes,finSecondes:this.finSecondes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("video"),this.panneau.contenu!==""){if(this.panneau.contenu.hasOwnProperty("dataURL")&&(this.dataURL=this.panneau.contenu.dataURL),this.dataURL!==""&&this.dataURL!==null){const t=this.convertirDataURL(this.dataURL);this.video=window.URL.createObjectURL(t)}else this.dataURL===""&&this.panneau.contenu.hasOwnProperty("video")?this.lien=this.panneau.contenu.video:this.lien=this.panneau.contenu.lien;this.videoId=this.panneau.contenu.videoId,this.panneau.contenu.hasOwnProperty("type")&&(this.type=this.panneau.contenu.type),this.debutMinutes=this.panneau.contenu.debutMinutes,this.debutSecondes=this.panneau.contenu.debutSecondes,this.finMinutes=this.panneau.contenu.finMinutes,this.finSecondes=this.panneau.contenu.finSecondes}this.mode==="lecture"?(this.videoId!==""&&this.definirTemps(),this.redimensionnement=!0):this.mode==="decoupage"&&this.editer(),this.genererOptions("video")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&this.video!==""?this.$nextTick((function(){this.lecteur=Ne("#"+this.id+" .video-js",{language:this.$parent.langue,languages:{fr:GT,es:qT,it:WT,de:YT,nl:XT,hr:JT,en:ZT},playbackRates:[.6,.7,.8,.9,1,1.1,1.2,1.3,1.4]},(function(){setTimeout((function(){document.querySelector("#"+this.id).focus()}).bind(this),0)}).bind(this))}).bind(this)):this.mode==="edition"&&this.statut!=="min"&&this.lien===""&&setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0)},methods:{valider(){if(this.verifierURL(this.lien)===!0){const t=/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/,e=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|shorts\/|watch\?v=|&v=)([^#&?]*).*/;if(t.test(this.lien)&&this.lien.match(e)){if(this.videoId=this.lien.match(e)[2],this.googleAPIKey!==""){const i=new XMLHttpRequest;i.onload=(function(){if(i.readyState===i.DONE&&i.status===200&&i.response&&Object.keys(i.response).length>0){const s=i.response.items[0].contentDetails.duration,n=this.convertirTemps(s);let r=0;n.h>0&&(r=n.h*60),this.debutMinutes=0,this.debutSecondes=0,this.finMinutes=n.m+r,this.finSecondes=n.s}else this.debutMinutes=0,this.debutSecondes=0,this.finMinutes=0,this.finSecondes=0}).bind(this),i.open("GET","https://www.googleapis.com/youtube/v3/videos?part=contentDetails&key="+this.googleAPIKey+"&id="+this.videoId,!0),i.responseType="json",i.send()}else this.debutMinutes=0,this.debutSecondes=0,this.finMinutes=0,this.finSecondes=0;this.mode="decoupage",this.w=40,this.h=41,this.positionner()}else this.type="video/mp4",this.generer()}},decouper(){this.definirTemps()},generer(){this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=48,this.h=31.5),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.videoId!==""?this.definirTemps():this.video!==""&&this.$nextTick((function(){this.lecteur=Ne("#"+this.id+" .video-js",{language:this.$parent.langue,languages:{fr:GT,es:qT,it:WT,de:YT,nl:XT,hr:JT,en:ZT},playbackRates:[.6,.7,.8,.9,1,1.1,1.2,1.3,1.4]},(function(){setTimeout((function(){const e=document.querySelector("#"+this.id+" .conteneur").scrollHeight;this.h=Math.ceil(this.convertirPixels(e))+3.5,document.querySelector("#"+this.id+" .video-js .vjs-big-play-button").focus()}).bind(this),100)}).bind(this))}).bind(this)),this.positionner()},editer(){this.mode="decoupage",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=41,this.positionner()},definirTemps(){let t=0,e=0;(this.debutMinutes!==""||this.debutSecondes!=="")&&this.finMinutes===""&&this.finSecondes===""?(this.debutMinutes!==""&&(t+=parseInt(this.debutMinutes)*60),this.debutSecondes!==""&&(t+=parseInt(this.debutSecondes))):this.debutMinutes===""&&this.debutSecondes===""&&(this.finMinutes!==""||this.finSecondes!=="")?(this.finMinutes!==""&&(e+=parseInt(this.finMinutes)*60),this.finSecondes!==""&&(e+=parseInt(this.finSecondes))):(this.debutMinutes!==""||this.debutSecondes!=="")&&(this.finMinutes!==""||this.finSecondes!=="")&&(this.debutMinutes!==""&&(t+=parseInt(this.debutMinutes)*60),this.debutSecondes!==""&&(t+=parseInt(this.debutSecondes)),this.finMinutes!==""&&(e+=parseInt(this.finMinutes)*60),this.finSecondes!==""&&(e+=parseInt(this.finSecondes))),this.debut=t,this.fin=e},convertirTemps(t){t=t.search(/PT/i)>-1?t.slice(2):t;let e,i,s,n=t.search(/h/i),r=t.search(/m/i),o=t.search(/s/i),a=n>-1,l=r>-1,u=o>-1;e=a?t.slice(0,n):"",i=l?t.slice(a?n+1:0,r):"0",s=u?t.slice(l?r+1:n+1,o):"0";let c=0;return e>0&&(c=c+e*60*60),i>0&&(c=c+i*60),s>0&&(c=c+s),{h:parseInt(e),m:parseInt(i),s:parseInt(s),total:c}},televerserVideo(t){const e=t.target.files[0];if(e){this.chargementVideo=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(s){this.chargementVideo=!1,this.dataURL=s.target.result,this.video=window.URL.createObjectURL(e),this.type=e.type,this.generer()}).bind(this)}},convertirPixels(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return t/parseFloat(e)}}},qW={class:"conteneur panneau-video"},WW={key:0,class:"contenu"},YW=["for"],XW={class:"valider"},JW=["id","value"],ZW=["title"],eY={class:"separateur"},tY=["for"],iY=["id"],nY={key:1,class:"contenu"},sY={key:2,class:"contenu"},rY={class:"video"},oY=["src"],aY=["src"],lY=["src"],uY=["src"],cY={class:"temps"},dY={class:"debut"},hY={class:"minutes-secondes"},AY={class:"minutes"},fY=["for"],pY=["id","value"],gY={class:"secondes"},mY=["for"],bY=["id","value"],vY={class:"fin"},yY={class:"minutes-secondes"},wY={class:"minutes"},CY=["for"],EY=["id","value"],xY={class:"secondes"},TY=["for"],_Y=["id","value"],SY={class:"actions"},BY=["src"],kY=["src"],IY=["src"],DY=["src"],FY=["src"],PY={key:5,class:"contenu videojs"},LY={class:"video-js vjs-fill vjs-big-play-centered",controls:""},RY=["src","type"];function MY(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[16]||(e[16]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",qW,[n.mode==="edition"&&!n.chargementVideo?(z(),Z("div",WW,[d("label",{for:"lien_video_"+n.id},te(t.$t("lienVideo")),9,YW),d("div",XW,[d("input",{id:"lien_video_"+n.id,type:"search",value:n.lien,onInput:e[0]||(e[0]=a=>n.lien=a.target.value),onKeydown:e[1]||(e[1]=J((...a)=>r.valider&&r.valider(...a),["enter"]))},null,40,JW),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("valider"),onClick:e[2]||(e[2]=(...a)=>r.valider&&r.valider(...a)),onKeydown:e[3]||(e[3]=J((...a)=>r.valider&&r.valider(...a),["enter"]))},e[14]||(e[14]=[d("i",{class:"material-icons"},"search",-1)]),40,ZW)]),d("div",eY,[d("span",null,te(t.$t("ou")),1)]),d("label",null,te(t.$t("fichierAppareil")),1),d("label",{for:"selectionner_video_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[4]||(e[4]=J(a=>t.activerInput("selectionner_video_"+n.id),["enter"]))},te(t.$t("selectionnerVideo")),41,tY),d("input",{id:"selectionner_video_"+n.id,type:"file",onChange:e[5]||(e[5]=(...a)=>r.televerserVideo&&r.televerserVideo(...a)),style:{display:"none"},accept:".mp4, .m4v, .ogv"},null,40,iY)])):n.mode==="edition"&&n.chargementVideo?(z(),Z("div",nY,e[15]||(e[15]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):n.mode==="decoupage"?(z(),Z("div",sY,[d("div",rY,[n.debut===0&&n.fin===0?(z(),Z("iframe",{key:0,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,oY)):n.debut>0&&n.fin>0?(z(),Z("iframe",{key:1,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?start="+n.debut+"&end="+n.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,aY)):n.debut>0?(z(),Z("iframe",{key:2,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?start="+n.debut+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,lY)):(z(),Z("iframe",{key:3,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?end="+n.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,uY))]),d("div",cY,[d("div",dY,[d("label",null,te(t.$t("debut")),1),d("div",hY,[d("div",AY,[d("label",{for:"minutes_debut_"+n.id},te(t.$t("min")),9,fY),d("input",{id:"minutes_debut_"+n.id,type:"number",value:n.debutMinutes,min:0,onInput:e[6]||(e[6]=a=>n.debutMinutes=a.target.value)},null,40,pY)]),d("div",gY,[d("label",{for:"secondes_debut_"+n.id},te(t.$t("sec")),9,mY),d("input",{id:"secondes_debut_"+n.id,type:"number",value:n.debutSecondes,min:0,max:59,onInput:e[7]||(e[7]=a=>n.debutSecondes=a.target.value)},null,40,bY)])])]),d("div",vY,[d("label",null,te(t.$t("fin")),1),d("div",yY,[d("div",wY,[d("label",{for:"minutes_fin_"+n.id},te(t.$t("min")),9,CY),d("input",{id:"minutes_fin_"+n.id,type:"number",value:n.finMinutes,min:0,onInput:e[8]||(e[8]=a=>n.finMinutes=a.target.value)},null,40,EY)]),d("div",xY,[d("label",{for:"secondes_fin_"+n.id},te(t.$t("sec")),9,TY),d("input",{id:"secondes_fin_"+n.id,type:"number",value:n.finSecondes,min:0,max:59,onInput:e[9]||(e[9]=a=>n.finSecondes=a.target.value)},null,40,_Y)])])])]),d("div",SY,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...a)=>r.decouper&&r.decouper(...a)),onKeydown:e[11]||(e[11]=J((...a)=>r.decouper&&r.decouper(...a),["enter"]))},te(t.$t("apercu")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[12]||(e[12]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[13]||(e[13]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):n.mode==="lecture"&&n.videoId!==""?(z(),Z(vt,{key:3},[n.debut===0&&n.fin===0?(z(),Z("iframe",{key:0,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,BY)):n.debut>0&&n.fin>0?(z(),Z("iframe",{key:1,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?start="+n.debut+"&end="+n.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,kY)):n.debut>0?(z(),Z("iframe",{key:2,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?start="+n.debut+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,IY)):(z(),Z("iframe",{key:3,src:"https://www.youtube-nocookie.com/embed/"+n.videoId+"?end="+n.fin+"&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&version=3",allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,DY))],64)):n.mode==="lecture"&&n.videoId===""&&n.lien.includes("https://vimeo.com")?(z(),Z("iframe",{key:4,src:"https://player.vimeo.com/video/"+n.lien.replace("https://vimeo.com/",""),allow:"autoplay; fullscreen",crossorigin:"",frameborder:"0"},null,8,FY)):n.mode==="lecture"&&n.videoId===""&&n.video!==""?(z(),Z("div",PY,[d("video",LY,[d("source",{src:n.video,type:n.type},null,8,RY)])])):Me("",!0)]),e[17]||(e[17]=d("div",{class:"conteneur-droite"},null,-1)),e[18]||(e[18]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const OY=It(GW,[["render",MY]]),UY={name:"PWebcam",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,ws:0,hs:0,x:0,y:0,minw:40,minh:16,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},webcams:[],webcam:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{webcam:this.webcam},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("webcam"),this.panneau.contenu!==""&&(this.webcam=this.panneau.contenu.webcam),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("webcam")},mounted(){var t;if(this.initialiser(),this.positionner(),this.chargement=!1,!navigator.mediaDevices||!((t=navigator.mediaDevices)!=null&&t.enumerateDevices)?alert(this.$t("navigateurNonSupporte")):navigator.mediaDevices.enumerateDevices().then((function(e){for(const i of e)i.kind==="videoinput"&&this.webcams.push(i)}).bind(this)),this.mode==="edition"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" select").focus()}).bind(this),0),this.webcam!==""){let e=!1;this.webcams.forEach((function(i){(i.label===this.webcam||i.deviceId===this.webcam)&&(e=!0)}).bind(this)),e===!1&&(this.webcam="",this.editer())}},methods:{generer(){var t;if(this.webcam!=="")if((t=navigator.mediaDevices)!=null&&t.getUserMedia)navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){this.$nextTick((function(){document.querySelector("#video_"+this.id).srcObject=e}).bind(this))}).bind(this));else return alert(this.$t("navigateurNonSupporte")),!1;else return alert(this.$t("aucuneEntreeVideo")),!1;this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=48,this.h=41),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#video_"+this.id).focus()}).bind(this)),this.positionner()},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=16,setTimeout((function(){document.querySelector("#"+this.id+" select").focus()}).bind(this),0),this.positionner()},definirWebcam(t){return t.label!==""?t.label:t.deviceId}}},NY={class:"conteneur panneau-webcam"},HY={key:0,class:"contenu"},QY=["for"],VY={class:"webcam"},$Y=["id"],jY=["selected"],zY=["selected","value"],KY={class:"actions"},GY={key:1,class:"contenu"},qY=["id"];function WY(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[3]||(e[3]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",NY,[n.mode==="edition"?(z(),Z("div",HY,[d("label",{for:"webcam_"+n.id},te(t.$t("webcam")),9,QY),d("div",VY,[d("select",{id:"webcam_"+n.id,onChange:e[0]||(e[0]=a=>n.webcam=a.target.value)},[d("option",{selected:n.webcam==="",value:""},"--",8,jY),(z(!0),Z(vt,null,Yt(n.webcams,(a,l)=>(z(),Z("option",{selected:n.webcam===r.definirWebcam(a),value:r.definirWebcam(a),key:"webcam_"+l},te(r.definirWebcam(a)),9,zY))),128))],40,$Y)]),d("div",KY,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[2]||(e[2]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("div",GY,[d("video",{id:"video_"+n.id,controls:"",autoplay:""},null,8,qY)]))]),e[4]||(e[4]=d("div",{class:"conteneur-droite"},null,-1)),e[5]||(e[5]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const YY=It(UY,[["render",WY]]),XY={name:"PLien",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:20,minh:16,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},lien:"",titreLien:"",icone:"defaut",chargementIcone:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lien:this.lien,titreLien:this.titreLien,icone:this.icone},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("lien"),this.panneau.contenu!==""&&(this.lien=this.panneau.contenu.lien,this.titreLien=this.panneau.contenu.titreLien,this.panneau.contenu.hasOwnProperty("icone")&&!this.panneau.contenu.icone.includes("ladigitale.dev/favicons")&&(this.icone=this.panneau.contenu.icone)),this.genererOptions("lien")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.lien===""?setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" a").focus()}).bind(this),0)},methods:{generer(){if(this.verifierURL(this.lien)===!0){this.chargementIcone=!0;const t=new URL(this.lien),e=t.hostname,i=t.pathname,s=t.protocol,n=new XMLHttpRequest;n.onload=(function(){if(n.readyState===n.DONE&&n.status===200){const r=n.responseText;r!==""&&this.verifierURL(r)===!0?this.icone=r:r!==""&&r.substring(0,2)==="./"?this.icone=s+"//"+e+i+r.substring(2):r!==""&&r.substring(0,1)==="/"?this.icone=s+"//"+e+i+r.substring(1):r!==""?this.icone=s+"//"+e+i+r:this.icone="defaut",this.titreLien!==""?this.titre=this.titreLien:this.titre=this.$t("lien"),this.mode="lecture",this.titreLien!==""?(this.w=22,this.h=20):(this.w=20,this.h=16),this.$nextTick((function(){document.querySelector("#"+this.id+" a").focus()}).bind(this)),this.positionner()}this.chargementIcone=!1}).bind(this),n.open("POST",window.location.href.split("?")[0]+"inc/recuperer_icone.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("lien="+e)}},editer(){this.mode="edition",this.w=40,this.h=28,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()}}},JY={key:0,class:"conteneur panneau-lien"},ZY={class:"contenu"},eX=["for"],tX=["id","value"],iX=["for"],nX=["id","value"],sX={class:"contenu"},rX={key:1,class:"conteneur panneau-lien"},oX={key:0},aX=["href"],lX=["href"],uX=["href"],cX=["src","alt"];function dX(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[8]||(e[8]=d("div",{class:"conteneur-gauche"},null,-1)),n.mode==="edition"?(z(),Z("div",JY,[a1(d("div",ZY,[d("label",{for:"lien_"+n.id},te(t.$t("lien")),9,eX),d("input",{id:"lien_"+n.id,type:"search",class:"lien",value:n.lien,onInput:e[0]||(e[0]=a=>n.lien=a.target.value),onKeydown:e[1]||(e[1]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,tX),d("label",{for:"titre_lien_"+n.id},te(t.$t("titreLien")),9,iX),d("input",{id:"titre_lien_"+n.id,type:"search",class:"titre-lien",value:n.titreLien,onInput:e[2]||(e[2]=a=>n.titreLien=a.target.value),onKeydown:e[3]||(e[3]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,nX),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[5]||(e[5]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)],512),[[p1,!n.chargementIcone]]),a1(d("div",sX,e[6]||(e[6]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]),512),[[p1,n.chargementIcone]])])):(z(),Z("div",rX,[n.titreLien!==""?(z(),Z("label",oX,[d("a",{href:n.lien,target:"_blank",rel:"noreferrer"},te(n.titreLien),9,aX)])):Me("",!0),n.icone==="defaut"?(z(),Z("a",{key:1,class:"icone",href:n.lien,target:"_blank",rel:"noreferrer"},e[7]||(e[7]=[d("i",{class:"material-icons"},"open_in_new",-1)]),8,lX)):(z(),Z("a",{key:2,class:"favicon",href:n.lien,target:"_blank",rel:"noreferrer"},[d("img",{src:n.icone,width:60,height:60,alt:n.titreLien,onerror:"this.onerror=null;this.src='./static/img/lien.png';"},null,8,cX)],8,uX))])),e[9]||(e[9]=d("div",{class:"conteneur-droite"},null,-1)),e[10]||(e[10]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const hX=It(XY,[["render",dX]]),AX={name:"PIframe",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:22,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},lien:"",iframe:"",chargementIframe:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{lien:this.lien,iframe:this.iframe},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("contenuIntegre"),this.panneau.contenu!==""&&(this.lien=this.panneau.contenu.lien,this.iframe=this.panneau.contenu.iframe),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("iframe")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.lien===""&&setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0)},methods:{generer(){if(/<iframe(.+)<\/iframe>/g.test(this.lien)===!0&&(this.lien=this.lien.match(/<iframe [^>]*src="[^"]*"[^>]*>/g).map(e=>e.replace(/.*src="([^"]*)".*/,"$1"))[0]),this.verifierURL(this.lien)===!0){this.chargementIframe=!0;const e=new XMLHttpRequest;e.onload=(function(){if(e.readyState===e.DONE&&e.status===200){const i=JSON.parse(e.responseText);i.hasOwnProperty("error")?this.iframe=this.lien:i.provider_name.toLowerCase()==="learningapps.org"?(i.html=i.html.replace("http://LearningApps.org","https://learningapps.org"),this.iframe=i.html.match(/<iframe [^>]*src="[^"]*"[^>]*>/g).map(s=>s.replace(/.*src="([^"]*)".*/,"$1"))[0]):this.iframe=i.html.match(/<iframe [^>]*src="[^"]*"[^>]*>/g).map(s=>s.replace(/.*src="([^"]*)".*/,"$1"))[0],this.mode="lecture",this.redimensionnement=!0,this.chargementIframe=!1,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()}else this.chargementIframe=!1,this.iframe=this.lien}).bind(this),e.onerror=function(){this.chargementIframe=!1,this.iframe=this.lien},e.open("GET","https://noembed.com/embed?url="+this.lien,!0),e.send()}}}},fX={key:0,class:"conteneur panneau-iframe"},pX={class:"contenu"},gX=["for"],mX=["id","value"],bX={key:1,class:"contenu panneau-iframe chargement"},vX={key:2,class:"conteneur panneau-iframe large"},yX=["src"];function wX(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",{class:je(["conteneur-gauche",{masque:n.mode==="lecture"}])},null,2),n.mode==="edition"&&!n.chargementIframe?(z(),Z("div",fX,[d("div",pX,[d("label",{for:"lien_contenu_"+n.id},te(t.$t("lienContenuLigne")),9,gX),d("input",{id:"lien_contenu_"+n.id,type:"search",value:n.lien,onInput:e[0]||(e[0]=a=>n.lien=a.target.value),onKeydown:e[1]||(e[1]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,mX),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[3]||(e[3]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):n.mode==="edition"&&n.chargementIframe?(z(),Z("div",bX,e[4]||(e[4]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):(z(),Z("div",vX,[d("iframe",{src:n.iframe,allow:"autoplay; fullscreen",crossorigin:""},null,8,yX)])),d("div",{class:je(["conteneur-droite",{masque:n.mode==="lecture"}])},null,2),d("div",{class:je(["conteneur-bas",{masque:n.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const CX=It(AX,[["render",wX]]),EX={name:"PHtml",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:22,minh:10,statut:"",dimensions:{},position:{},html:"",dataURL:"",type:"texte",chargementFichier:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{html:this.html,dataURL:this.dataURL,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){if(this.definirCaracteristiques("html"),this.panneau.contenu!=="")if(this.type=this.panneau.contenu.type,this.type==="fichier"){this.dataURL=this.panneau.contenu.dataURL;const t=this.convertirDataURL(this.dataURL);this.html=window.URL.createObjectURL(t)}else this.html=this.panneau.contenu.html;this.genererOptions("html")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector('label[for="selectionner_fichier_'+this.id+'"]').focus()}).bind(this),0):this.mode==="lecture"&&(this.redimensionnement=!0)},methods:{generer(){this.mode="lecture",this.redimensionnement=!0,this.w=50,this.h=42,this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()},televerserFichier(t){const e=t.target.files[0];if(e&&e.name.substring(e.name.lastIndexOf(".")+1).toLowerCase()==="html"){this.chargementFichier=!0,this.type="fichier";const s=new FileReader;s.readAsDataURL(e),s.onloadend=(function(n){this.chargementFichier=!1,this.dataURL=n.target.result,this.html=window.URL.createObjectURL(e),this.generer()}).bind(this)}}}},xX={key:0,class:"conteneur panneau-html"},TX={key:0,class:"contenu"},_X=["for"],SX=["id"],BX={class:"separateur"},kX=["for"],IX=["id","value","placeholder"],DX={key:1,class:"contenu"},FX={key:1,class:"conteneur panneau-html large"},PX=["data"],LX=["innerHTML"];function RX(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",{class:je(["conteneur-gauche",{masque:n.mode==="lecture"}])},null,2),n.mode==="edition"?(z(),Z("div",xX,[n.chargementFichier?(z(),Z("div",DX,e[5]||(e[5]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):(z(),Z("div",TX,[d("label",null,te(t.$t("fichierAppareil"))+" (.html)",1),d("label",{for:"selectionner_fichier_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[0]||(e[0]=J(a=>t.activerInput("selectionner_fichier_"+n.id),["enter"]))},te(t.$t("selectionnerFichier")),41,_X),d("input",{id:"selectionner_fichier_"+n.id,type:"file",onChange:e[1]||(e[1]=(...a)=>r.televerserFichier&&r.televerserFichier(...a)),style:{display:"none"},accept:".html"},null,40,SX),d("div",BX,[d("span",null,te(t.$t("ou")),1)]),d("label",{for:"code_html_"+n.id},te(t.$t("codeHTML")),9,kX),d("textarea",{id:"code_html_"+n.id,value:n.html,onInput:e[2]||(e[2]=a=>n.html=a.target.value),placeholder:t.$t("codeHTML")},null,40,IX),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[4]||(e[4]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)]))])):(z(),Z("div",FX,[n.type==="fichier"?(z(),Z("object",{key:0,type:"text/html",data:n.html},null,8,PX)):(z(),Z("div",{key:1,class:"html",innerHTML:n.html},null,8,LX))])),d("div",{class:je(["conteneur-droite",{masque:n.mode==="lecture"}])},null,2),d("div",{class:je(["conteneur-bas",{masque:n.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const MX=It(EX,[["render",RX]]),OX={name:"PListe",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!0,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:30,statut:"",dimensions:{},position:{},items:[{id:"item_1735035298744",coche:!1,texte:this.$t("exemple")+" 1"},{id:"item_1735035298745",coche:!1,texte:this.$t("exemple")+" 2"}]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{items:this.items},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("liste"),this.panneau.contenu!==""&&(this.items=this.panneau.contenu.items),this.genererOptions("liste")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1},methods:{cocher(t){this.items[t].coche=!this.items[t].coche},ajouterItem(t,e){t.preventDefault(),t.stopPropagation(),e===""&&(e=this.items.length-1);const i="item_"+new Date().getTime();this.items.splice(e+1,0,{id:i,coche:!1,texte:""}),this.$nextTick(function(){document.querySelector("#"+i+" .texte").focus()})},supprimer(t,e){const i=this.items[t+1],s=this.items[t-1];this.items.splice(t,1),s&&e==="avant"?this.$nextTick(function(){document.querySelector("#"+s.id+" .texte").focus()}):i&&e==="apres"?this.$nextTick(function(){document.querySelector("#"+i.id+" .texte").focus()}):i?this.$nextTick(function(){document.querySelector("#"+i.id+" .texte").focus()}):this.$nextTick(function(){document.querySelector("#"+s.id+" .texte").focus()})},verifierItem(t,e){const i=this.recupererPosition(t.target),s=t.target.textContent;if(i===0&&t.key==="Backspace")this.supprimer(e,"avant");else if(i===s.length&&t.key==="Enter")this.ajouterItem(t,e);else if(t.key==="Enter"){const n=s.substring(0,i),r=s.substring(i,s.length);this.items[e].texte=n,this.ajouterItem(t,e),this.$nextTick((function(){this.items[e+1].texte=r}).bind(this))}},recupererPosition(t){let e=0;const i=t.ownerDocument||t.document,s=i.defaultView||i.parentWindow;if(s.getSelection().rangeCount>0){const r=s.getSelection().getRangeAt(0);let o=r.cloneRange();o.selectNodeContents(t),o.setEnd(r.endContainer,r.endOffset),e=o.toString().length}return e}}},UX={class:"conteneur panneau-liste"},NX={class:"contenu"},HX=["id"],QX={class:"contenu-item"},VX=["onClick","onKeydown"],$X=["onClick","onKeydown"],jX=["onKeydown"],zX=["onClick","onKeydown"],KX={class:"boutons"},GX=["title"];function qX(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[6]||(e[6]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",UX,[d("div",NX,[d("div",{class:je(["items",{"plein-ecran":n.statut==="max"}])},[(z(!0),Z(vt,null,Yt(n.items,(a,l)=>(z(),Z("div",{id:a.id,class:"item",key:"item_"+l+"_"+n.id},[d("div",QX,[a.coche===!1?(z(),Z("span",{key:0,class:"coche",role:"button",tabindex:"0",onClick:u=>r.cocher(l),onKeydown:J(u=>r.cocher(l),["enter"])},e[2]||(e[2]=[d("i",{class:"material-icons"},"check_box_outline_blank",-1)]),40,VX)):(z(),Z("span",{key:1,class:"coche",role:"button",tabindex:"0",onClick:u=>r.cocher(l),onKeydown:J(u=>r.cocher(l),["enter"])},e[3]||(e[3]=[d("i",{class:"material-icons"},"check_box",-1)]),40,$X)),d("span",{class:je(["texte",{barre:a.coche===!0}]),contenteditable:!0,onKeydown:u=>r.verifierItem(u,l)},te(a.texte),43,jX),d("span",{class:"supprimer",role:"button",tabindex:"0",onClick:u=>r.supprimer(l,"apres"),onKeydown:J(u=>r.supprimer(l,"apres"),["enter"])},e[4]||(e[4]=[d("i",{class:"material-icons"},"delete",-1)]),40,zX)])],8,HX))),128))],2),d("div",KX,[d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterItem"),onClick:e[0]||(e[0]=a=>r.ajouterItem(a,"")),onKeydown:e[1]||(e[1]=J(a=>r.ajouterItem(a,""),["enter"]))},e[5]||(e[5]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,GX)])])]),e[7]||(e[7]=d("div",{class:"conteneur-droite"},null,-1)),e[8]||(e[8]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const WX=It(OX,[["render",qX]]);function LF(t){return typeof t=="function"}function e_(){}var bg=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};bg.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},bg.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach(function(t){try{t()}catch{}}))},bg.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch{}this.interruptHandlers.add(t)};function Gm(t){return function(){return t}}function RF(){return[]}var YX={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:Gm({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:Gm({opacity:0})},loadFont:{type:Function,default:function(t,e,i,s){return document.fonts.load([e,i,"1px",t].join(" "),s)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:RF}},XX=Gm(null);function lw(t){if(t){var e=typeof t;return e==="object"||e==="function"}return!1}function uw(t){return typeof t=="string"}var JX={animationOptions:function(){var t,e,i,s=this.animationDuration,n=this.enterAnimation,r=this.leaveAnimation;if(lw(n)&&lw(r)){var o=(t=Object.assign({},n,r),e=XX,i={},Object.entries(t).forEach(function(u){var c=u[0],h=u[1];i[c]=e(h,c,t)}),i),a=function(u){Object.assign(u.style,n)},l=function(u,c){setTimeout(function(){Object.assign(u.style,o),setTimeout(c,s)},1)};return{props:{css:!1},on:{beforeAppear:a,appear:l,beforeEnter:a,enter:l,leave:function(u,c){Object.assign(u.style,r),setTimeout(c,s)}}}}return uw(n)&&uw(r)?{props:{duration:s,appear:!0,appearActiveClass:n,enterActiveClass:n,leaveActiveClass:r}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var e=this.animationDuration,i=this.normalizedAnimationOverlap;return e/Math.min(i,t.length)}return 0}},ZX=Array.isArray;function Fo(t){return LF(t)?t:Gm(t)}var MF=2*Math.PI,eJ=MF/360;function Po(t){return t===void 0}function Il(t,e){return t.postMessage(e),function(i){return new Promise(function(s,n){var r,o=function(l){var u=l.data;r(),s(u)},a=function(l){var u=l.error;r(),n(u)};r=function(){i.removeEventListener("message",o),i.removeEventListener("error",a)},i.addEventListener("message",o),i.addEventListener("error",a)})}(t)}function t_(t,e,i){return Math.ceil(t*Math.abs(Math.sin(i))+e*Math.abs(Math.cos(i)))}function i_(t,e,i){return Math.ceil(t*Math.abs(Math.cos(i))+e*Math.abs(Math.sin(i)))}function dy(t,e,i,s,n){return[t,e,i,s+"px",n].join(" ")}function n_(t,e){return Math.ceil(t/e)*e}function s_(t,e,i){var s=i().getContext("2d");return s.font=e,s.measureText(t).width}var OF=function(t,e,i,s,n,r,o){this.t=t,this.i=e,this.o=i,this.u=s,this.s=n,this.h=r,this.l=o,this.v=1,this.m=0,this.p=0,this.g=0},Bi={M:{configurable:!0},S:{configurable:!0},F:{configurable:!0},j:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},C:{configurable:!0},L:{configurable:!0},_:{configurable:!0},P:{configurable:!0},T:{configurable:!0},N:{configurable:!0},k:{configurable:!0},D:{configurable:!0},H:{configurable:!0},R:{configurable:!0},U:{configurable:!0}};Bi.M.get=function(){return this.v},Bi.M.set=function(t){this.v!==t&&(this.v=t,this.V=void 0)},Bi.S.get=function(){return dy(this.h,this.s,this.u,this.M,this.o)},Bi.F.get=function(){return this.q===void 0&&(this.q=s_(this.t,dy(this.h,this.s,this.u,1,this.o),this.l)),this.q},Bi.j.get=function(){return this.F*this.M},Bi.O.get=function(){return this.p*this.M},Bi.O.set=function(t){this.p=t/this.M},Bi.W.get=function(){return this.g*this.M},Bi.W.set=function(t){this.g=t/this.M},Bi.A.get=function(){return i_(this.j,this.M,this.i)},Bi.B.get=function(){return t_(this.j,this.M,this.i)},Bi.C.get=function(){return this.O-this.A/2},Bi.L.get=function(){return this.W-this.B/2},Bi._.get=function(){return this.m},Bi._.set=function(t){this.m!==t&&(this.m=t,this.V=void 0)},Bi.P.get=function(){return this.V===void 0&&(this.V=function(t,e,i,s,n,r,o,a,l){var u=dy(e,i,s,n*=4,r),c=o*n*2,h=c+s_(t,u,l),A=c+n,f=l(),m=f.getContext("2d"),p=n_(i_(h,A,a),4),x=n_(t_(h,A,a),4);f.width=p,f.height=x,m.translate(p/2,x/2),m.rotate(a),m.font=u,m.textAlign="center",m.textBaseline="middle",m.fillText(t,0,0),c>0&&(m.miterLimit=1,m.lineWidth=c,m.strokeText(t,0,0));for(var C=m.getImageData(0,0,p,x).data,g=[],w=1/0,S=0,I=1/0,O=0,U=p/4,$=x/4,k=0;k<U;++k)for(var P=0;P<$;++P)e:for(var T=0;T<4;++T)for(var R=0;R<4;++R)if(C[4*(p*(4*P+R)+(4*k+T))+3]){g.push([k,P]),w=Math.min(k,w),S=Math.max(k+1,S),I=Math.min(P,I),O=Math.max(P+1,O);break e}return g.length>0?[g.map(function(E){var _=E[0],F=E[1];return[_-w,F-I]}),S-w,O-I,Math.ceil(U/2)-w,Math.ceil($/2)-I]:[g,0,0,0,0]}(this.t,this.h,this.s,this.u,this.M,this.o,this._,this.i,this.l)),this.V},Bi.T.get=function(){return this.P[0]},Bi.N.get=function(){return this.P[1]},Bi.k.get=function(){return this.P[2]},Bi.D.get=function(){return this.P[3]},Bi.H.get=function(){return this.P[4]},Bi.R.get=function(){return Math.ceil(this.O)-this.D},Bi.R.set=function(t){this.O=t+this.D},Bi.U.get=function(){return Math.ceil(this.W)-this.H},Bi.U.set=function(t){this.W=t+this.H},Object.defineProperties(OF.prototype,Bi);var tJ={cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},iJ={updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},r_={name:"VueWordCloud",mixins:[function(t){return{data:function(){var e={};return Object.keys(t).forEach(function(i){e["asyncComputed_trigger_"+i]={}}),e},computed:{},beforeCreate:function(){var e=this,i=new Set;Object.entries(t).forEach(function(s){var n=s[0],r=s[1],o=r.get,a=r.default,l=r.errorHandler;l===void 0&&(l=e_);var u,c=!0;e.$options.computed[n]=function(){return this["asyncComputed_trigger_"+n],this["asyncComputed_promise_"+n],a},e.$options.computed["asyncComputed_promise_"+n]=function(){var h=this;u&&(u.interrupt(),i.delete(u)),c&&(c=!1,LF(a)&&(a=a.call(this)));var A=new bg(a);u=A,i.add(u),new Promise(function(f){f(o.call(h,A))}).then(function(f){A.throwIfInterrupted(),a=f,h["asyncComputed_trigger_"+n]={}}).catch(l)}})}}}({cloudWords:{get:function(t){var e,i=this,s=this,n=s.elementWidth,r=s.elementHeight,o=s.words,a=s.text,l=s.weight,u=s.rotation,c=s.rotationUnit,h=s.fontFamily,A=s.fontWeight,f=s.fontVariant,m=s.fontStyle,p=s.color,x=s.spacing,C=s.fontSizeRatio,g=s.createCanvas,w=s.loadFont,S=s.createWorker;e=C,C=(e=Math.abs(e))>1?1/e:e;var I=function(F){var V=F[0],Q=F[1];return V>Q?[1,Q/V]:Q>V?[V/Q,1]:[1,1]}([n,r]);if(n>0&&r>0){var O=Fo(a),U=Fo(l),$=Fo(u),k=Fo(c),P=Fo(h),T=Fo(A),R=Fo(f),E=Fo(m),_=Fo(p);return o=o.map(function(F,V){var Q,G,Y,ee,W,ge,ce,we,Ce,Oe,de;F&&(uw(F)?Y=F:ZX(F)?(Y=(Q=F)[0],ee=Q[1]):lw(F)&&(Y=(G=F).text,ee=G.weight,W=G.rotation,ge=G.rotationUnit,ce=G.fontFamily,we=G.fontWeight,Ce=G.fontVariant,Oe=G.fontStyle,de=G.color)),Po(Y)&&(Y=O(F,V,o)),Po(ee)&&(ee=U(F,V,o)),Po(W)&&(W=$(F,V,o)),Po(ge)&&(ge=k(F,V,o)),Po(ce)&&(ce=P(F,V,o)),Po(we)&&(we=T(F,V,o)),Po(Ce)&&(Ce=R(F,V,o)),Po(Oe)&&(Oe=E(F,V,o)),Po(de)&&(de=_(F,V,o));var Te=new OF(Y,function(){switch(ge){case"turn":return W*MF;case"deg":return function(xe){return xe*eJ}(W)}return W}(),ce,we,Ce,Oe,g);return Object.assign(Te,{J:F,G:ee,I:de}),Te}),Promise.resolve().then(function(){return Promise.all(o.map(function(F){var V=F.o,Q=F.h,G=F.u,Y=F.t;return w(V,Q,G,Y)}))}).catch(e_).then(function(){if((o=o.filter(function(ge){return ge.j>0}).sort(function(ge,ce){return ce.G-ge.G})).length>0){var F=o[0],V=function(ge){return ge[ce=ge,ce.length-1];var ce}(o),Q=F.G,G=V.G;if(G<Q){var Y=C>0?1/C:G>0?Q/G:Q<0?G/Q:1+Q-G;o.forEach(function(ge){var ce,we,Ce;ge.M=(ce=ge.G,(Ce=1)+(ce-(we=G))*(Y-Ce)/(Q-we))})}o.reduceRight(function(ge,ce){return ce.M<2*ge?ce.M/=ge:(ge=ce.M,ce.M=1),ce.K=ge},1),o.forEach(function(ge){ge.M*=4});var ee=S('!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();\n'),W={completedWords:0,totalWords:o.length};return Promise.resolve().then(function(){return t.throwIfInterrupted(),i.progress=W,Il(ee,I)}).then(function(){t.throwIfInterrupted(),W.completedWords++;var ge=Promise.resolve();return o.reduce(function(ce,we,Ce){return ge=ge.then(function(){return we.K<ce.K?Promise.resolve().then(function(){return Il(ee,{name:"clear"})}).then(function(){var Oe=Promise.resolve(),de=ce.K/we.K;return o.slice(0,Ce).forEach(function(Te){Oe=Oe.then(function(){return Te.M*=de,Il(ee,{name:"put",args:[Te.T,Te.R,Te.U]})})}),Oe}):Il(ee,{name:"put",args:[ce.T,ce.R,ce.U]})}).then(function(){return we._=x,Il(ee,{name:"findFit",args:[we.T,we.R,we.U]})}).then(function(Oe){var de=Oe[0],Te=Oe[1];t.throwIfInterrupted(),W.completedWords++,we.R=de,we.U=Te,we._=0}),we}),ge}).then(function(){return Il(ee,{name:"put",args:[V.T,V.R,V.U]})}).then(function(){return Il(ee,{name:"getBounds"})}).then(function(ge){var ce=ge.left,we=ge.top,Ce=ge.width,Oe=ge.height;if(Ce>0&&Oe>0){var de=Math.min(n/Ce,r/Oe);o.forEach(function(xe){xe.O-=ce,xe.W-=we,xe.M*=de})}var Te=new Set;return o.map(function(xe){for(var He=xe.J,$e=xe.t,oe=xe.G,Ae=xe.i,De=xe.o,Ie=xe.u,Re=xe.s,X=xe.h,ae=xe.S,le=xe.O,ye=xe.W,ke=xe.I,Qe=JSON.stringify([$e,De,Ie,Re,X]);Te.has(Qe);)Qe+="!";return Te.add(Qe),{key:Qe,word:He,text:$e,weight:oe,rotation:Ae,font:ae,color:ke,left:le,top:ye}})}).finally(function(){ee.terminate()}).finally(function(){t.throwIfInterrupted(),i.progress=null})}return[]})}return[]},default:RF}})],props:YX,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:JX,watch:tJ,mounted:function(){var t,e,i=this;t=function(){if(i._isDestroyed)return!1;i.updateElementSize()},e=1e3,function(s){var n=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return s.call.apply(s,[this,n].concat(r))};return n}(function(s){requestAnimationFrame(function(){t()!==!1&&setTimeout(s,e)})})()},methods:iJ,render:function(){var t=this.$slots,e=this.animationEasing,i=this.animationOptions,s=this.cloudWords,n=this.separateAnimationDelay,r=this.separateAnimationDuration;return t=Object.assign({},{default:function(o){return o.text}},t),mr("div",{style:{height:"100%",position:"relative",width:"100%"}},[mr("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},s.map(function(o,a){var l=o.color,u=o.font,c=o.left,h=o.rotation,A=o.text,f=o.top,m=o.weight,p=o.word;return mr("transition",Object.assign({},i),[mr("div",{key:a,style:Object.assign({},{left:c+"px",position:"absolute",top:f+"px"},r>0?{animation:[r+"ms",e,n*a+"ms"].join(" "),transition:["all",r+"ms",e,n*a+"ms"].join(" ")}:{})},[mr("div",{style:Object.assign({},{bottom:"50%",color:l,font:u,position:"absolute",right:"50%",transform:["translate(50%,50%)","rotate("+h+"rad)"].join(" "),whiteSpace:"nowrap"},r>0?{transition:["all",r+"ms",e,n*a+"ms"].join(" ")}:{})},[t.default({color:l,font:u,left:c,text:A,top:f,weight:m,word:p})])])])}))])}},hy={exports:{}},o_;function nJ(){return o_||(o_=1,function(t){(function(){function e(p,x){document.addEventListener?p.addEventListener("scroll",x,!1):p.attachEvent("scroll",x)}function i(p){document.body?p():document.addEventListener?document.addEventListener("DOMContentLoaded",function x(){document.removeEventListener("DOMContentLoaded",x),p()}):document.attachEvent("onreadystatechange",function x(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",x),p())})}function s(p){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(p)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(p,x){p.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+x+";"}function r(p){var x=p.g.offsetWidth,C=x+100;return p.j.style.width=C+"px",p.i.scrollLeft=C,p.h.scrollLeft=p.h.scrollWidth+100,p.l!==x?(p.l=x,!0):!1}function o(p,x){function C(){var w=g;r(w)&&w.g.parentNode!==null&&x(w.l)}var g=p;e(p.h,C),e(p.i,C),r(p)}function a(p,x,C){x=x||{},C=C||window,this.family=p,this.style=x.style||"normal",this.weight=x.weight||"normal",this.stretch=x.stretch||"normal",this.context=C}var l=null,u=null,c=null,h=null;function A(p){return u===null&&(f(p)&&/Apple/.test(window.navigator.vendor)?(p=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!p&&603>parseInt(p[1],10)):u=!1),u}function f(p){return h===null&&(h=!!p.document.fonts),h}function m(p,x){var C=p.style,g=p.weight;if(c===null){var w=document.createElement("div");try{w.style.font="condensed 100px sans-serif"}catch{}c=w.style.font!==""}return[C,g,c?p.stretch:"","100px",x].join(" ")}a.prototype.load=function(p,x){var C=this,g=p||"BESbswy",w=0,S=x||3e3,I=new Date().getTime();return new Promise(function(O,U){if(f(C.context)&&!A(C.context)){var $=new Promise(function(P,T){function R(){new Date().getTime()-I>=S?T(Error(""+S+"ms timeout exceeded")):C.context.document.fonts.load(m(C,'"'+C.family+'"'),g).then(function(E){1<=E.length?P():setTimeout(R,25)},T)}R()}),k=new Promise(function(P,T){w=setTimeout(function(){T(Error(""+S+"ms timeout exceeded"))},S)});Promise.race([k,$]).then(function(){clearTimeout(w),O(C)},U)}else i(function(){function P(){var ge;(ge=F!=-1&&V!=-1||F!=-1&&Q!=-1||V!=-1&&Q!=-1)&&((ge=F!=V&&F!=Q&&V!=Q)||(l===null&&(ge=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!ge&&(536>parseInt(ge[1],10)||parseInt(ge[1],10)===536&&11>=parseInt(ge[2],10))),ge=l&&(F==G&&V==G&&Q==G||F==Y&&V==Y&&Q==Y||F==ee&&V==ee&&Q==ee)),ge=!ge),ge&&(W.parentNode!==null&&W.parentNode.removeChild(W),clearTimeout(w),O(C))}function T(){if(new Date().getTime()-I>=S)W.parentNode!==null&&W.parentNode.removeChild(W),U(Error(""+S+"ms timeout exceeded"));else{var ge=C.context.document.hidden;(ge===!0||ge===void 0)&&(F=R.g.offsetWidth,V=E.g.offsetWidth,Q=_.g.offsetWidth,P()),w=setTimeout(T,50)}}var R=new s(g),E=new s(g),_=new s(g),F=-1,V=-1,Q=-1,G=-1,Y=-1,ee=-1,W=document.createElement("div");W.dir="ltr",n(R,m(C,"sans-serif")),n(E,m(C,"serif")),n(_,m(C,"monospace")),W.appendChild(R.g),W.appendChild(E.g),W.appendChild(_.g),C.context.document.body.appendChild(W),G=R.g.offsetWidth,Y=E.g.offsetWidth,ee=_.g.offsetWidth,T(),o(R,function(ge){F=ge,P()}),n(R,m(C,'"'+C.family+'",sans-serif')),o(E,function(ge){V=ge,P()}),n(E,m(C,'"'+C.family+'",serif')),o(_,function(ge){Q=ge,P()}),n(_,m(C,'"'+C.family+'",monospace'))})})},t.exports=a})()}(hy)),hy.exports}var sJ=nJ();const rJ=nr(sJ),oJ={name:"PNuage",components:{JsPanel:Gt,[r_.name]:r_},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:25,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},mots:[["",1],["",1],["",1],["",1],["",1],["",1],["",1],["",1],["",1],["",1]],nuage:[],modale:!1,liste:"",chargementNuage:!1,progression:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{mots:this.mots,nuage:this.nuage},w:this.w,h:this.h,x:this.x,y:this.y}))},progression:function(t){this.nuage.length>0&&(t===""||t===null)?(this.chargementNuage=!0,setTimeout((function(){this.chargementNuage=!1}).bind(this),200)):setTimeout((function(){this.chargementNuage=!1}).bind(this),200)}},created(){this.definirCaracteristiques("nuageMots"),this.panneau.contenu!==""&&(this.mots=this.panneau.contenu.mots,this.nuage=this.panneau.contenu.nuage,Array.isArray(this.nuage)||(this.nuage=[],this.visualiser())),this.genererOptions("nuage")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0):this.mode==="lecture"&&(this.redimensionnement=!0)},methods:{generer(){this.mots.filter(function(e){return e[0]!==""}).length>this.nuage.length&&this.visualiser(),this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()},visualiser(){this.$nextTick((function(){const t=this.mots.filter(function(n){return n[0]!==""}),e=["Abril Fatface","Baloo Bhaijaan"],i=e[Math.floor(Math.random()*e.length)],s=["#ffd077","#3bc4c7","#3a9eea","#ff4e69","#461e47"];if(t.length>0){const n=[];t.forEach(function(r){const o=s[Math.floor(Math.random()*s.length)];n.push({text:r[0],weight:r[1],number:1,rotation:0,fontFamily:i,color:o})}),this.nuage=n}}).bind(this))},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=80,this.h=59.5,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()},modifierProgression(t){this.progression=t},chargerPolice(t,e,i,s){return new rJ(t,{style:e,weight:i}).load(s)},ajouterMot(){this.mots.push(["",1]),this.$nextTick(function(){const t=document.querySelector("#"+this.id+" .mots");t.scrollTop=t.scrollHeight;const e=document.querySelectorAll("#"+this.id+" .mots .mot");for(let i=0;i<e.length;i++)i===this.mots.length-1&&e[i].querySelector("input").focus()})},ajouterMots(){const t=this.liste.split(",");t.length>0&&t[0]!==""&&(t.forEach((function(e){if(e.trim()!==""){const i=this.mots.filter(function(s){return s[0]!==""});if(i.push([e,1]),this.mots=i,this.mots.length<11){const s=10-this.mots.length;for(let n=0;n<s;n++)this.mots.push(["",1])}this.$nextTick((function(){const s=document.querySelector("#"+this.id+" .mots");s.scrollTop=s.scrollHeight}).bind(this))}}).bind(this)),this.liste="",this.fermerListe())},afficherListe(){this.modale=!0,setTimeout((function(){document.querySelector("#"+this.id+" .liste textarea").focus()}).bind(this),10)},fermerListe(){this.modale=!1,this.$nextTick((function(){document.querySelector("#"+this.id+" .bouton-liste").focus()}).bind(this))}}},aJ={class:"conteneur panneau-nuage"},lJ={key:0,class:"contenu"},uJ={class:"colonne gauche"},cJ={class:"mot"},dJ={class:"taille"},hJ={class:"mots"},AJ=["value","onInput"],fJ=["value","onInput"],pJ=["title"],gJ=["title"],mJ={class:"colonne droite"},bJ={class:"nuage"},vJ={key:0,class:"conteneur-chargement-nuage"},yJ={class:"actions"},wJ={key:0,class:"liste"},CJ={class:"consigne"},EJ=["placeholder"],xJ={class:"actions"},TJ={key:1,class:"nuage lecture"},_J={key:0,class:"conteneur-chargement-nuage"};function SJ(t,e,i,s,n,r){const o=Je("vue-word-cloud"),a=Je("JsPanel");return z(),et(a,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[17]||(e[17]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",aJ,[n.mode==="edition"?(z(),Z("div",lJ,[d("div",uJ,[d("label",cJ,te(t.$t("mots")),1),d("label",dJ,te(t.$t("taille")),1),d("div",hJ,[(z(!0),Z(vt,null,Yt(n.mots,(l,u)=>(z(),Z("div",{class:"mot",key:"mot_"+u},[d("input",{type:"search",value:l[0],onInput:c=>n.mots[u][0]=c.target.value,maxlength:30},null,40,AJ),d("input",{type:"number",value:l[1],onInput:c=>n.mots[u][1]=c.target.value,min:1,max:100},null,40,fJ)]))),128))]),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterMot"),onClick:e[0]||(e[0]=(...l)=>r.ajouterMot&&r.ajouterMot(...l)),onKeydown:e[1]||(e[1]=J((...l)=>r.ajouterMot&&r.ajouterMot(...l),["enter"]))},e[13]||(e[13]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,pJ),d("span",{class:"bouton-secondaire bouton-liste",role:"button",tabindex:"0",title:t.$t("ajouterListe"),onClick:e[2]||(e[2]=(...l)=>r.afficherListe&&r.afficherListe(...l)),onKeydown:e[3]||(e[3]=J((...l)=>r.afficherListe&&r.afficherListe(...l),["enter"]))},e[14]||(e[14]=[d("i",{class:"material-icons"},"list_alt",-1)]),40,gJ)]),d("div",mJ,[d("label",null,te(t.$t("apercu")),1),d("div",bJ,[n.chargementNuage?(z(),Z("div",vJ,e[15]||(e[15]=[d("div",{class:"chargement-nuage"},[d("div",{class:"spinner"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")])],-1)]))):Me("",!0),Vt(o,{"animation-duration":200,"animation-easing":"ease-in-out","animation-overlap":1,color:"#00ced1","font-family":"Baloo Bhaijaan","load-font":r.chargerPolice,spacing:1/2,words:n.nuage,"onUpdate:progress":r.modifierProgression},null,8,["load-font","words","onUpdate:progress"])]),d("div",yJ,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...l)=>r.visualiser&&r.visualiser(...l)),onKeydown:e[5]||(e[5]=J((...l)=>r.visualiser&&r.visualiser(...l),["enter"]))},te(t.$t("apercu")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...l)=>r.generer&&r.generer(...l)),onKeydown:e[7]||(e[7]=J((...l)=>r.generer&&r.generer(...l),["enter"]))},te(t.$t("valider")),33)])]),Vt(H3,{name:"fondu"},{default:Ct(()=>[n.modale?(z(),Z("div",wJ,[d("span",CJ,te(t.$t("consigneListeMots")),1),d("textarea",{onInput:e[8]||(e[8]=l=>n.liste=l.target.value),placeholder:t.$t("exempleListe")},null,40,EJ),d("div",xJ,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[9]||(e[9]=(...l)=>r.fermerListe&&r.fermerListe(...l)),onKeydown:e[10]||(e[10]=J((...l)=>r.fermerListe&&r.fermerListe(...l),["enter"]))},te(t.$t("annuler")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[11]||(e[11]=(...l)=>r.ajouterMots&&r.ajouterMots(...l)),onKeydown:e[12]||(e[12]=J((...l)=>r.ajouterMots&&r.ajouterMots(...l),["enter"]))},te(t.$t("ajouter")),33)])])):Me("",!0)]),_:1})])):(z(),Z("div",TJ,[n.chargementNuage?(z(),Z("div",_J,e[16]||(e[16]=[d("div",{class:"chargement-nuage"},[d("div",{class:"spinner"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")])],-1)]))):Me("",!0),Vt(o,{"animation-duration":200,"animation-easing":"ease-in-out","animation-overlap":1,color:"#00ced1","font-family":"Baloo Bhaijaan","load-font":r.chargerPolice,spacing:1/2,words:n.nuage,"onUpdate:progress":r.modifierProgression},null,8,["load-font","words","onUpdate:progress"])]))]),e[18]||(e[18]=d("div",{class:"conteneur-droite"},null,-1)),e[19]||(e[19]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const BJ=It(oJ,[["render",SJ]]);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function a_(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,s)}return i}function go(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(i),!0).forEach(function(s){kJ(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a_(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function vg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vg=function(e){return typeof e}:vg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function kJ(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function na(){return na=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},na.apply(this,arguments)}function IJ(t,e){if(t==null)return{};var i={},s=Object.keys(t),n,r;for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function DJ(t,e){if(t==null)return{};var i=IJ(t,e),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)s=r[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}var FJ="1.15.6";function Jo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var aa=Jo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),hf=Jo(/Edge/i),l_=Jo(/firefox/i),fA=Jo(/safari/i)&&!Jo(/chrome/i)&&!Jo(/android/i),g2=Jo(/iP(ad|od|hone)/i),UF=Jo(/chrome/i)&&Jo(/android/i),NF={capture:!1,passive:!1};function ui(t,e,i){t.addEventListener(e,i,!aa&&NF)}function li(t,e,i){t.removeEventListener(e,i,!aa&&NF)}function qm(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function HF(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Pr(t,e,i,s){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&qm(t,e):qm(t,e))||s&&t===i)return t;if(t===i)break}while(t=HF(t))}return null}var u_=/\s+/g;function js(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(u_," ").replace(" "+e+" "," ");t.className=(s+(i?" "+e:"")).replace(u_," ")}}function Lt(t,e,i){var s=t&&t.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=i+(typeof i=="string"?"":"px")}}function Tc(t,e){var i="";if(typeof t=="string")i=t;else do{var s=Lt(t,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function QF(t,e,i){if(t){var s=t.getElementsByTagName(e),n=0,r=s.length;if(i)for(;n<r;n++)i(s[n],n);return s}return[]}function co(){var t=document.scrollingElement;return t||document.documentElement}function mn(t,e,i,s,n){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,a,l,u,c,h;if(t!==window&&t.parentNode&&t!==co()?(r=t.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,u=r.right,c=r.height,h=r.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||i)&&t!==window&&(n=n||t.parentNode,!aa))do if(n&&n.getBoundingClientRect&&(Lt(n,"transform")!=="none"||i&&Lt(n,"position")!=="static")){var A=n.getBoundingClientRect();o-=A.top+parseInt(Lt(n,"border-top-width")),a-=A.left+parseInt(Lt(n,"border-left-width")),l=o+r.height,u=a+r.width;break}while(n=n.parentNode);if(s&&t!==window){var f=Tc(n||t),m=f&&f.a,p=f&&f.d;f&&(o/=p,a/=m,h/=m,c/=p,l=o+c,u=a+h)}return{top:o,left:a,bottom:l,right:u,width:h,height:c}}}function c_(t,e,i){for(var s=$a(t,!0),n=mn(t)[e];s;){var r=mn(s)[i],o=void 0;if(o=n>=r,!o)return s;if(s===co())break;s=$a(s,!1)}return!1}function jc(t,e,i,s){for(var n=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==Bt.ghost&&(s||o[r]!==Bt.dragged)&&Pr(o[r],i.draggable,t,!1)){if(n===e)return o[r];n++}r++}return null}function m2(t,e){for(var i=t.lastElementChild;i&&(i===Bt.ghost||Lt(i,"display")==="none"||e&&!qm(i,e));)i=i.previousElementSibling;return i||null}function hr(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Bt.clone&&(!e||qm(t,e))&&i++;return i}function d_(t){var e=0,i=0,s=co();if(t)do{var n=Tc(t),r=n.a,o=n.d;e+=t.scrollLeft*r,i+=t.scrollTop*o}while(t!==s&&(t=t.parentNode));return[e,i]}function PJ(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[i][s])return Number(i)}return-1}function $a(t,e){if(!t||!t.getBoundingClientRect)return co();var i=t,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=Lt(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return co();if(s||e)return i;s=!0}}while(i=i.parentNode);return co()}function LJ(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Ay(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var pA;function VF(t,e){return function(){if(!pA){var i=arguments,s=this;i.length===1?t.call(s,i[0]):t.apply(s,i),pA=setTimeout(function(){pA=void 0},e)}}}function RJ(){clearTimeout(pA),pA=void 0}function $F(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function jF(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function zF(t,e,i){var s={};return Array.from(t.children).forEach(function(n){var r,o,a,l;if(!(!Pr(n,e.draggable,t,!1)||n.animated||n===i)){var u=mn(n);s.left=Math.min((r=s.left)!==null&&r!==void 0?r:1/0,u.left),s.top=Math.min((o=s.top)!==null&&o!==void 0?o:1/0,u.top),s.right=Math.max((a=s.right)!==null&&a!==void 0?a:-1/0,u.right),s.bottom=Math.max((l=s.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var Ds="Sortable"+new Date().getTime();function MJ(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(n){if(!(Lt(n,"display")==="none"||n===Bt.ghost)){t.push({target:n,rect:mn(n)});var r=go({},t[t.length-1].rect);if(n.thisAnimationDuration){var o=Tc(n,!0);o&&(r.top-=o.f,r.left-=o.e)}n.fromRect=r}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(PJ(t,{target:s}),1)},animateAll:function(s){var n=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var r=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,h=mn(u),A=u.prevFromRect,f=u.prevToRect,m=a.rect,p=Tc(u,!0);p&&(h.top-=p.f,h.left-=p.e),u.toRect=h,u.thisAnimationDuration&&Ay(A,h)&&!Ay(c,h)&&(m.top-h.top)/(m.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(l=UJ(m,A,f,n.options)),Ay(h,c)||(u.prevFromRect=c,u.prevToRect=h,l||(l=n.options.animation),n.animate(u,m,h,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),t=[]},animate:function(s,n,r,o){if(o){Lt(s,"transition",""),Lt(s,"transform","");var a=Tc(this.el),l=a&&a.a,u=a&&a.d,c=(n.left-r.left)/(l||1),h=(n.top-r.top)/(u||1);s.animatingX=!!c,s.animatingY=!!h,Lt(s,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=OJ(s),Lt(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Lt(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Lt(s,"transition",""),Lt(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function OJ(t){return t.offsetWidth}function UJ(t,e,i,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*s.animation}var Uu=[],fy={initializeByDefault:!0},Af={mount:function(e){for(var i in fy)fy.hasOwnProperty(i)&&!(i in e)&&(e[i]=fy[i]);Uu.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Uu.push(e)},pluginEvent:function(e,i,s){var n=this;this.eventCanceled=!1,s.cancel=function(){n.eventCanceled=!0};var r=e+"Global";Uu.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][r]&&i[o.pluginName][r](go({sortable:i},s)),i.options[o.pluginName]&&i[o.pluginName][e]&&i[o.pluginName][e](go({sortable:i},s)))})},initializePlugins:function(e,i,s,n){Uu.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,i,e.options);u.sortable=e,u.options=e.options,e[l]=u,na(s,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,i){var s={};return Uu.forEach(function(n){typeof n.eventProperties=="function"&&na(s,n.eventProperties.call(i[n.pluginName],e))}),s},modifyOption:function(e,i,s){var n;return Uu.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[i]=="function"&&(n=r.optionListeners[i].call(e[r.pluginName],s))}),n}};function NJ(t){var e=t.sortable,i=t.rootEl,s=t.name,n=t.targetEl,r=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,h=t.newDraggableIndex,A=t.originalEvent,f=t.putSortable,m=t.extraEventProperties;if(e=e||i&&i[Ds],!!e){var p,x=e.options,C="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!aa&&!hf?p=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(s,!0,!0)),p.to=o||i,p.from=a||i,p.item=n||i,p.clone=r,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=h,p.originalEvent=A,p.pullMode=f?f.lastPutMode:void 0;var g=go(go({},m),Af.getEventProperties(s,e));for(var w in g)p[w]=g[w];i&&i.dispatchEvent(p),x[C]&&x[C].call(e,p)}}var HJ=["evt"],Cs=function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.evt,r=DJ(s,HJ);Af.pluginEvent.bind(Bt)(e,i,go({dragEl:rt,parentEl:Zi,ghostEl:Nt,rootEl:Vi,nextEl:Ul,lastDownEl:yg,cloneEl:Ki,cloneHidden:Ha,dragStarted:Mh,putSortable:Un,activeSortable:Bt.active,originalEvent:n,oldIndex:lc,oldDraggableIndex:gA,newIndex:Ws,newDraggableIndex:Ma,hideGhostForTarget:WF,unhideGhostForTarget:YF,cloneNowHidden:function(){Ha=!0},cloneNowShown:function(){Ha=!1},dispatchSortableEvent:function(a){us({sortable:i,name:a,originalEvent:n})}},r))};function us(t){NJ(go({putSortable:Un,cloneEl:Ki,targetEl:rt,rootEl:Vi,oldIndex:lc,oldDraggableIndex:gA,newIndex:Ws,newDraggableIndex:Ma},t))}var rt,Zi,Nt,Vi,Ul,yg,Ki,Ha,lc,Ws,gA,Ma,Bp,Un,Xu=!1,Wm=!1,Ym=[],Dl,Dr,py,gy,h_,A_,Mh,Nu,mA,bA=!1,kp=!1,wg,Gn,my=[],cw=!1,Xm=[],tb=typeof document<"u",Ip=g2,f_=hf||aa?"cssFloat":"float",QJ=tb&&!UF&&!g2&&"draggable"in document.createElement("div"),KF=function(){if(tb){if(aa)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),GF=function(e,i){var s=Lt(e),n=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),r=jc(e,0,i),o=jc(e,1,i),a=r&&Lt(r),l=o&&Lt(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+mn(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+mn(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=n&&s[f_]==="none"||o&&s[f_]==="none"&&u+c>n)?"vertical":"horizontal"},VJ=function(e,i,s){var n=s?e.left:e.top,r=s?e.right:e.bottom,o=s?e.width:e.height,a=s?i.left:i.top,l=s?i.right:i.bottom,u=s?i.width:i.height;return n===a||r===l||n+o/2===a+u/2},$J=function(e,i){var s;return Ym.some(function(n){var r=n[Ds].options.emptyInsertThreshold;if(!(!r||m2(n))){var o=mn(n),a=e>=o.left-r&&e<=o.right+r,l=i>=o.top-r&&i<=o.bottom+r;if(a&&l)return s=n}}),s},qF=function(e){function i(r,o){return function(a,l,u,c){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||h))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return i(r(a,l,u,c),o)(a,l,u,c);var A=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===A||r.join&&r.indexOf(A)>-1}}var s={},n=e.group;(!n||vg(n)!="object")&&(n={name:n}),s.name=n.name,s.checkPull=i(n.pull,!0),s.checkPut=i(n.put),s.revertClone=n.revertClone,e.group=s},WF=function(){!KF&&Nt&&Lt(Nt,"display","none")},YF=function(){!KF&&Nt&&Lt(Nt,"display","")};tb&&!UF&&document.addEventListener("click",function(t){if(Wm)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Wm=!1,!1},!0);var Fl=function(e){if(rt){e=e.touches?e.touches[0]:e;var i=$J(e.clientX,e.clientY);if(i){var s={};for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[Ds]._onDragOver(s)}}},jJ=function(e){rt&&rt.parentNode[Ds]._isOutsideThisEl(e.target)};function Bt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=na({},e),t[Ds]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return GF(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Bt.supportPointer!==!1&&"PointerEvent"in window&&(!fA||g2),emptyInsertThreshold:5};Af.initializePlugins(this,t,i);for(var s in i)!(s in e)&&(e[s]=i[s]);qF(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:QJ,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ui(t,"pointerdown",this._onTapStart):(ui(t,"mousedown",this._onTapStart),ui(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ui(t,"dragover",this),ui(t,"dragenter",this)),Ym.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),na(this,MJ())}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Nu=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,rt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,s=this.el,n=this.options,r=n.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=n.filter;if(JJ(s),!rt&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||n.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&fA&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Pr(l,n.draggable,s,!1),!(l&&l.animated)&&yg!==l)){if(lc=hr(l),gA=hr(l,n.draggable),typeof c=="function"){if(c.call(this,e,l,this)){us({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:s,fromEl:s}),Cs("filter",i,{evt:e}),r&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=Pr(u,h.trim(),s,!1),h)return us({sortable:i,rootEl:h,name:"filter",targetEl:l,fromEl:s,toEl:s}),Cs("filter",i,{evt:e}),!0}),c)){r&&e.preventDefault();return}n.handle&&!Pr(u,n.handle,s,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,s){var n=this,r=n.el,o=n.options,a=r.ownerDocument,l;if(s&&!rt&&s.parentNode===r){var u=mn(s);if(Vi=r,rt=s,Zi=rt.parentNode,Ul=rt.nextSibling,yg=s,Bp=o.group,Bt.dragged=rt,Dl={target:rt,clientX:(i||e).clientX,clientY:(i||e).clientY},h_=Dl.clientX-u.left,A_=Dl.clientY-u.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,rt.style["will-change"]="all",l=function(){if(Cs("delayEnded",n,{evt:e}),Bt.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!l_&&n.nativeDraggable&&(rt.draggable=!0),n._triggerDragStart(e,i),us({sortable:n,name:"choose",originalEvent:e}),js(rt,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){QF(rt,c.trim(),by)}),ui(a,"dragover",Fl),ui(a,"mousemove",Fl),ui(a,"touchmove",Fl),o.supportPointer?(ui(a,"pointerup",n._onDrop),!this.nativeDraggable&&ui(a,"pointercancel",n._onDrop)):(ui(a,"mouseup",n._onDrop),ui(a,"touchend",n._onDrop),ui(a,"touchcancel",n._onDrop)),l_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,rt.draggable=!0),Cs("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(hf||aa))){if(Bt.eventCanceled){this._onDrop();return}o.supportPointer?(ui(a,"pointerup",n._disableDelayedDrag),ui(a,"pointercancel",n._disableDelayedDrag)):(ui(a,"mouseup",n._disableDelayedDrag),ui(a,"touchend",n._disableDelayedDrag),ui(a,"touchcancel",n._disableDelayedDrag)),ui(a,"mousemove",n._delayedDragTouchMoveHandler),ui(a,"touchmove",n._delayedDragTouchMoveHandler),o.supportPointer&&ui(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){rt&&by(rt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;li(e,"mouseup",this._disableDelayedDrag),li(e,"touchend",this._disableDelayedDrag),li(e,"touchcancel",this._disableDelayedDrag),li(e,"pointerup",this._disableDelayedDrag),li(e,"pointercancel",this._disableDelayedDrag),li(e,"mousemove",this._delayedDragTouchMoveHandler),li(e,"touchmove",this._delayedDragTouchMoveHandler),li(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?ui(document,"pointermove",this._onTouchMove):i?ui(document,"touchmove",this._onTouchMove):ui(document,"mousemove",this._onTouchMove):(ui(rt,"dragend",this),ui(Vi,"dragstart",this._onDragStart));try{document.selection?Cg(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Xu=!1,Vi&&rt){Cs("dragStarted",this,{evt:i}),this.nativeDraggable&&ui(document,"dragover",jJ);var s=this.options;!e&&js(rt,s.dragClass,!1),js(rt,s.ghostClass,!0),Bt.active=this,e&&this._appendGhost(),us({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Dr){this._lastX=Dr.clientX,this._lastY=Dr.clientY,WF();for(var e=document.elementFromPoint(Dr.clientX,Dr.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Dr.clientX,Dr.clientY),e!==i);)i=e;if(rt.parentNode[Ds]._isOutsideThisEl(e),i)do{if(i[Ds]){var s=void 0;if(s=i[Ds]._onDragOver({clientX:Dr.clientX,clientY:Dr.clientY,target:e,rootEl:i}),s&&!this.options.dragoverBubble)break}e=i}while(i=HF(i));YF()}},_onTouchMove:function(e){if(Dl){var i=this.options,s=i.fallbackTolerance,n=i.fallbackOffset,r=e.touches?e.touches[0]:e,o=Nt&&Tc(Nt,!0),a=Nt&&o&&o.a,l=Nt&&o&&o.d,u=Ip&&Gn&&d_(Gn),c=(r.clientX-Dl.clientX+n.x)/(a||1)+(u?u[0]-my[0]:0)/(a||1),h=(r.clientY-Dl.clientY+n.y)/(l||1)+(u?u[1]-my[1]:0)/(l||1);if(!Bt.active&&!Xu){if(s&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(Nt){o?(o.e+=c-(py||0),o.f+=h-(gy||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var A="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Lt(Nt,"webkitTransform",A),Lt(Nt,"mozTransform",A),Lt(Nt,"msTransform",A),Lt(Nt,"transform",A),py=c,gy=h,Dr=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Nt){var e=this.options.fallbackOnBody?document.body:Vi,i=mn(rt,!0,Ip,!0,e),s=this.options;if(Ip){for(Gn=e;Lt(Gn,"position")==="static"&&Lt(Gn,"transform")==="none"&&Gn!==document;)Gn=Gn.parentNode;Gn!==document.body&&Gn!==document.documentElement?(Gn===document&&(Gn=co()),i.top+=Gn.scrollTop,i.left+=Gn.scrollLeft):Gn=co(),my=d_(Gn)}Nt=rt.cloneNode(!0),js(Nt,s.ghostClass,!1),js(Nt,s.fallbackClass,!0),js(Nt,s.dragClass,!0),Lt(Nt,"transition",""),Lt(Nt,"transform",""),Lt(Nt,"box-sizing","border-box"),Lt(Nt,"margin",0),Lt(Nt,"top",i.top),Lt(Nt,"left",i.left),Lt(Nt,"width",i.width),Lt(Nt,"height",i.height),Lt(Nt,"opacity","0.8"),Lt(Nt,"position",Ip?"absolute":"fixed"),Lt(Nt,"zIndex","100000"),Lt(Nt,"pointerEvents","none"),Bt.ghost=Nt,e.appendChild(Nt),Lt(Nt,"transform-origin",h_/parseInt(Nt.style.width)*100+"% "+A_/parseInt(Nt.style.height)*100+"%")}},_onDragStart:function(e,i){var s=this,n=e.dataTransfer,r=s.options;if(Cs("dragStart",this,{evt:e}),Bt.eventCanceled){this._onDrop();return}Cs("setupClone",this),Bt.eventCanceled||(Ki=jF(rt),Ki.removeAttribute("id"),Ki.draggable=!1,Ki.style["will-change"]="",this._hideClone(),js(Ki,this.options.chosenClass,!1),Bt.clone=Ki),s.cloneId=Cg(function(){Cs("clone",s),!Bt.eventCanceled&&(s.options.removeCloneOnHide||Vi.insertBefore(Ki,rt),s._hideClone(),us({sortable:s,name:"clone"}))}),!i&&js(rt,r.dragClass,!0),i?(Wm=!0,s._loopId=setInterval(s._emulateDragOver,50)):(li(document,"mouseup",s._onDrop),li(document,"touchend",s._onDrop),li(document,"touchcancel",s._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(s,n,rt)),ui(document,"drop",s),Lt(rt,"transform","translateZ(0)")),Xu=!0,s._dragStartId=Cg(s._dragStarted.bind(s,i,e)),ui(document,"selectstart",s),Mh=!0,window.getSelection().removeAllRanges(),fA&&Lt(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,s=e.target,n,r,o,a=this.options,l=a.group,u=Bt.active,c=Bp===l,h=a.sort,A=Un||u,f,m=this,p=!1;if(cw)return;function x(G,Y){Cs(G,m,go({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:n,targetRect:r,canSort:h,fromSortable:A,target:s,completed:g,onMove:function(W,ge){return Dp(Vi,i,rt,n,W,mn(W),e,ge)},changed:w},Y))}function C(){x("dragOverAnimationCapture"),m.captureAnimationState(),m!==A&&A.captureAnimationState()}function g(G){return x("dragOverCompleted",{insertion:G}),G&&(c?u._hideClone():u._showClone(m),m!==A&&(js(rt,Un?Un.options.ghostClass:u.options.ghostClass,!1),js(rt,a.ghostClass,!0)),Un!==m&&m!==Bt.active?Un=m:m===Bt.active&&Un&&(Un=null),A===m&&(m._ignoreWhileAnimating=s),m.animateAll(function(){x("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==A&&(A.animateAll(),A._ignoreWhileAnimating=null)),(s===rt&&!rt.animated||s===i&&!s.animated)&&(Nu=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(rt.parentNode[Ds]._isOutsideThisEl(e.target),!G&&Fl(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function w(){Ws=hr(rt),Ma=hr(rt,a.draggable),us({sortable:m,name:"change",toEl:i,newIndex:Ws,newDraggableIndex:Ma,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=Pr(s,a.draggable,i,!0),x("dragOver"),Bt.eventCanceled)return p;if(rt.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||m._ignoreWhileAnimating===s)return g(!1);if(Wm=!1,u&&!a.disabled&&(c?h||(o=Zi!==Vi):Un===this||(this.lastPutMode=Bp.checkPull(this,u,rt,e))&&l.checkPut(this,u,rt,e))){if(f=this._getDirection(e,s)==="vertical",n=mn(rt),x("dragOverValid"),Bt.eventCanceled)return p;if(o)return Zi=Vi,C(),this._hideClone(),x("revert"),Bt.eventCanceled||(Ul?Vi.insertBefore(rt,Ul):Vi.appendChild(rt)),g(!0);var S=m2(i,a.draggable);if(!S||qJ(e,f,this)&&!S.animated){if(S===rt)return g(!1);if(S&&i===e.target&&(s=S),s&&(r=mn(s)),Dp(Vi,i,rt,n,s,r,e,!!s)!==!1)return C(),S&&S.nextSibling?i.insertBefore(rt,S.nextSibling):i.appendChild(rt),Zi=i,w(),g(!0)}else if(S&&GJ(e,f,this)){var I=jc(i,0,a,!0);if(I===rt)return g(!1);if(s=I,r=mn(s),Dp(Vi,i,rt,n,s,r,e,!1)!==!1)return C(),i.insertBefore(rt,I),Zi=i,w(),g(!0)}else if(s.parentNode===i){r=mn(s);var O=0,U,$=rt.parentNode!==i,k=!VJ(rt.animated&&rt.toRect||n,s.animated&&s.toRect||r,f),P=f?"top":"left",T=c_(s,"top","top")||c_(rt,"top","top"),R=T?T.scrollTop:void 0;Nu!==s&&(U=r[P],bA=!1,kp=!k&&a.invertSwap||$),O=WJ(e,s,r,f,k?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,kp,Nu===s);var E;if(O!==0){var _=hr(rt);do _-=O,E=Zi.children[_];while(E&&(Lt(E,"display")==="none"||E===Nt))}if(O===0||E===s)return g(!1);Nu=s,mA=O;var F=s.nextElementSibling,V=!1;V=O===1;var Q=Dp(Vi,i,rt,n,s,r,e,V);if(Q!==!1)return(Q===1||Q===-1)&&(V=Q===1),cw=!0,setTimeout(KJ,30),C(),V&&!F?i.appendChild(rt):s.parentNode.insertBefore(rt,V?F:s),T&&$F(T,0,R-T.scrollTop),Zi=rt.parentNode,U!==void 0&&!kp&&(wg=Math.abs(U-mn(s)[P])),w(),g(!0)}if(i.contains(rt))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){li(document,"mousemove",this._onTouchMove),li(document,"touchmove",this._onTouchMove),li(document,"pointermove",this._onTouchMove),li(document,"dragover",Fl),li(document,"mousemove",Fl),li(document,"touchmove",Fl)},_offUpEvents:function(){var e=this.el.ownerDocument;li(e,"mouseup",this._onDrop),li(e,"touchend",this._onDrop),li(e,"pointerup",this._onDrop),li(e,"pointercancel",this._onDrop),li(e,"touchcancel",this._onDrop),li(document,"selectstart",this)},_onDrop:function(e){var i=this.el,s=this.options;if(Ws=hr(rt),Ma=hr(rt,s.draggable),Cs("drop",this,{evt:e}),Zi=rt&&rt.parentNode,Ws=hr(rt),Ma=hr(rt,s.draggable),Bt.eventCanceled){this._nulling();return}Xu=!1,kp=!1,bA=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),dw(this.cloneId),dw(this._dragStartId),this.nativeDraggable&&(li(document,"drop",this),li(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),fA&&Lt(document.body,"user-select",""),Lt(rt,"transform",""),e&&(Mh&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),Nt&&Nt.parentNode&&Nt.parentNode.removeChild(Nt),(Vi===Zi||Un&&Un.lastPutMode!=="clone")&&Ki&&Ki.parentNode&&Ki.parentNode.removeChild(Ki),rt&&(this.nativeDraggable&&li(rt,"dragend",this),by(rt),rt.style["will-change"]="",Mh&&!Xu&&js(rt,Un?Un.options.ghostClass:this.options.ghostClass,!1),js(rt,this.options.chosenClass,!1),us({sortable:this,name:"unchoose",toEl:Zi,newIndex:null,newDraggableIndex:null,originalEvent:e}),Vi!==Zi?(Ws>=0&&(us({rootEl:Zi,name:"add",toEl:Zi,fromEl:Vi,originalEvent:e}),us({sortable:this,name:"remove",toEl:Zi,originalEvent:e}),us({rootEl:Zi,name:"sort",toEl:Zi,fromEl:Vi,originalEvent:e}),us({sortable:this,name:"sort",toEl:Zi,originalEvent:e})),Un&&Un.save()):Ws!==lc&&Ws>=0&&(us({sortable:this,name:"update",toEl:Zi,originalEvent:e}),us({sortable:this,name:"sort",toEl:Zi,originalEvent:e})),Bt.active&&((Ws==null||Ws===-1)&&(Ws=lc,Ma=gA),us({sortable:this,name:"end",toEl:Zi,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Cs("nulling",this),Vi=rt=Zi=Nt=Ul=Ki=yg=Ha=Dl=Dr=Mh=Ws=Ma=lc=gA=Nu=mA=Un=Bp=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Xm.forEach(function(e){e.checked=!0}),Xm.length=py=gy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":rt&&(this._onDragOver(e),zJ(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,s=this.el.children,n=0,r=s.length,o=this.options;n<r;n++)i=s[n],Pr(i,o.draggable,this.el,!1)&&e.push(i.getAttribute(o.dataIdAttr)||XJ(i));return e},sort:function(e,i){var s={},n=this.el;this.toArray().forEach(function(r,o){var a=n.children[o];Pr(a,this.options.draggable,n,!1)&&(s[r]=a)},this),i&&this.captureAnimationState(),e.forEach(function(r){s[r]&&(n.removeChild(s[r]),n.appendChild(s[r]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return Pr(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var s=this.options;if(i===void 0)return s[e];var n=Af.modifyOption(this,e,i);typeof n<"u"?s[e]=n:s[e]=i,e==="group"&&qF(s)},destroy:function(){Cs("destroy",this);var e=this.el;e[Ds]=null,li(e,"mousedown",this._onTapStart),li(e,"touchstart",this._onTapStart),li(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(li(e,"dragover",this),li(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ym.splice(Ym.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ha){if(Cs("hideClone",this),Bt.eventCanceled)return;Lt(Ki,"display","none"),this.options.removeCloneOnHide&&Ki.parentNode&&Ki.parentNode.removeChild(Ki),Ha=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ha){if(Cs("showClone",this),Bt.eventCanceled)return;rt.parentNode==Vi&&!this.options.group.revertClone?Vi.insertBefore(Ki,rt):Ul?Vi.insertBefore(Ki,Ul):Vi.appendChild(Ki),this.options.group.revertClone&&this.animate(rt,Ki),Lt(Ki,"display",""),Ha=!1}}};function zJ(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Dp(t,e,i,s,n,r,o,a){var l,u=t[Ds],c=u.options.onMove,h;return window.CustomEvent&&!aa&&!hf?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=s,l.related=n||e,l.relatedRect=r||mn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(h=c.call(u,l,o)),h}function by(t){t.draggable=!1}function KJ(){cw=!1}function GJ(t,e,i){var s=mn(jc(i.el,0,i.options,!0)),n=zF(i.el,i.options,Nt),r=10;return e?t.clientX<n.left-r||t.clientY<s.top&&t.clientX<s.right:t.clientY<n.top-r||t.clientY<s.bottom&&t.clientX<s.left}function qJ(t,e,i){var s=mn(m2(i.el,i.options.draggable)),n=zF(i.el,i.options,Nt),r=10;return e?t.clientX>n.right+r||t.clientY>s.bottom&&t.clientX>s.left:t.clientY>n.bottom+r||t.clientX>s.right&&t.clientY>s.top}function WJ(t,e,i,s,n,r,o,a){var l=s?t.clientY:t.clientX,u=s?i.height:i.width,c=s?i.top:i.left,h=s?i.bottom:i.right,A=!1;if(!o){if(a&&wg<u*n){if(!bA&&(mA===1?l>c+u*r/2:l<h-u*r/2)&&(bA=!0),bA)A=!0;else if(mA===1?l<c+wg:l>h-wg)return-mA}else if(l>c+u*(1-n)/2&&l<h-u*(1-n)/2)return YJ(e)}return A=A||o,A&&(l<c+u*r/2||l>h-u*r/2)?l>c+u/2?1:-1:0}function YJ(t){return hr(rt)<hr(t)?1:-1}function XJ(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,s=0;i--;)s+=e.charCodeAt(i);return s.toString(36)}function JJ(t){Xm.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var s=e[i];s.checked&&Xm.push(s)}}function Cg(t){return setTimeout(t,0)}function dw(t){return clearTimeout(t)}tb&&ui(document,"touchmove",function(t){(Bt.active||Xu)&&t.cancelable&&t.preventDefault()});Bt.utils={on:ui,off:li,css:Lt,find:QF,is:function(e,i){return!!Pr(e,i,e,!1)},extend:LJ,throttle:VF,closest:Pr,toggleClass:js,clone:jF,index:hr,nextTick:Cg,cancelNextTick:dw,detectDirection:GF,getChild:jc,expando:Ds};Bt.get=function(t){return t[Ds]};Bt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Bt.utils=go(go({},Bt.utils),s.utils)),Af.mount(s)})};Bt.create=function(t,e){return new Bt(t,e)};Bt.version=FJ;var pn=[],Oh,hw,Aw=!1,vy,yy,Jm,Uh;function ZJ(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?ui(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ui(document,"pointermove",this._handleFallbackAutoScroll):s.touches?ui(document,"touchmove",this._handleFallbackAutoScroll):ui(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?li(document,"dragover",this._handleAutoScroll):(li(document,"pointermove",this._handleFallbackAutoScroll),li(document,"touchmove",this._handleFallbackAutoScroll),li(document,"mousemove",this._handleFallbackAutoScroll)),p_(),Eg(),RJ()},nulling:function(){Jm=hw=Oh=Aw=Uh=vy=yy=null,pn.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var n=this,r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(r,o);if(Jm=i,s||this.options.forceAutoScrollFallback||hf||aa||fA){wy(i,this.options,a,s);var l=$a(a,!0);Aw&&(!Uh||r!==vy||o!==yy)&&(Uh&&p_(),Uh=setInterval(function(){var u=$a(document.elementFromPoint(r,o),!0);u!==l&&(l=u,Eg()),wy(i,n.options,u,s)},10),vy=r,yy=o)}else{if(!this.options.bubbleScroll||$a(a,!0)===co()){Eg();return}wy(i,this.options,$a(a,!1),!1)}}},na(t,{pluginName:"scroll",initializeByDefault:!0})}function Eg(){pn.forEach(function(t){clearInterval(t.pid)}),pn=[]}function p_(){clearInterval(Uh)}var wy=VF(function(t,e,i,s){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=co(),u=!1,c;hw!==i&&(hw=i,Eg(),Oh=e.scroll,c=e.scrollFn,Oh===!0&&(Oh=$a(i,!0)));var h=0,A=Oh;do{var f=A,m=mn(f),p=m.top,x=m.bottom,C=m.left,g=m.right,w=m.width,S=m.height,I=void 0,O=void 0,U=f.scrollWidth,$=f.scrollHeight,k=Lt(f),P=f.scrollLeft,T=f.scrollTop;f===l?(I=w<U&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),O=S<$&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(I=w<U&&(k.overflowX==="auto"||k.overflowX==="scroll"),O=S<$&&(k.overflowY==="auto"||k.overflowY==="scroll"));var R=I&&(Math.abs(g-n)<=o&&P+w<U)-(Math.abs(C-n)<=o&&!!P),E=O&&(Math.abs(x-r)<=o&&T+S<$)-(Math.abs(p-r)<=o&&!!T);if(!pn[h])for(var _=0;_<=h;_++)pn[_]||(pn[_]={});(pn[h].vx!=R||pn[h].vy!=E||pn[h].el!==f)&&(pn[h].el=f,pn[h].vx=R,pn[h].vy=E,clearInterval(pn[h].pid),(R!=0||E!=0)&&(u=!0,pn[h].pid=setInterval((function(){s&&this.layer===0&&Bt.active._onTouchMove(Jm);var F=pn[this.layer].vy?pn[this.layer].vy*a:0,V=pn[this.layer].vx?pn[this.layer].vx*a:0;typeof c=="function"&&c.call(Bt.dragged.parentNode[Ds],V,F,t,Jm,pn[this.layer].el)!=="continue"||$F(pn[this.layer].el,V,F)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&A!==l&&(A=$a(A,!1)));Aw=u}},30),XF=function(e){var i=e.originalEvent,s=e.putSortable,n=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var u=s||r;a();var c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,h=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(h)&&(o("spill"),this.onSpill({dragEl:n,putSortable:s}))}};function b2(){}b2.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var n=jc(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:XF};na(b2,{pluginName:"revertOnSpill"});function v2(){}v2.prototype={onSpill:function(e){var i=e.dragEl,s=e.putSortable,n=s||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:XF};na(v2,{pluginName:"removeOnSpill"});Bt.mount(new ZJ);Bt.mount(v2,b2);const eZ={name:"POrdre",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},type:"horizontale",items:["","","","",""],itemsMelanges:[],resultat:"",sortable:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{items:this.items,type:this.type},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("remiseOrdre"),this.panneau.contenu!==""&&(this.items=this.panneau.contenu.items,this.type=this.panneau.contenu.type,this.itemsMelanges=this.melanger(JSON.parse(JSON.stringify(this.items)))),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("ordre")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"?setTimeout((function(){this.sortable=new Bt(document.querySelector("#"+this.id+" .conteneur .items"),{sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",draggable:".item",filter:".item.correct",preventOnFilter:!0}),this.statut!=="min"&&document.querySelector("#"+this.id).focus()}).bind(this),0):this.mode==="edition"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .items input").focus()}).bind(this),0)},methods:{generer(){this.items.length>1&&this.verifierItems()===!0&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.items.forEach((function(t,e){this.items[e]=t.trim()}).bind(this)),this.items=this.items.filter(function(t){return t!==""}),this.itemsMelanges=this.melanger(JSON.parse(JSON.stringify(this.items))),this.$nextTick((function(){this.sortable=new Bt(document.querySelector("#"+this.id+" .conteneur .items"),{sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",draggable:".item",filter:".item.correct",preventOnFilter:!0}),document.querySelector("#"+this.id).focus()}).bind(this)))},editer(){this.$nextTick((function(){this.sortable.destroy(),this.mode="edition",this.redimensionnement=!1,this.itemsMelanges=[],this.resultat="",this.sortable="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=50.4,this.$nextTick((function(){document.querySelector("#"+this.id+" .items input").focus()}).bind(this)),this.positionner()}).bind(this))},verifier(){const t=[];var e=document.querySelectorAll("#"+this.id+" .items .item");e.forEach(function(i){t.push(i.textContent)}),this.items.toString()===t.toString()?(this.resultat="correct",this.lancerConfettis()):this.resultat="incorrect"},ajouterItem(){this.items.push(""),this.$nextTick((function(){const t=document.querySelector("#"+this.id+" .panneau-ordre");t.scrollTop=t.scrollHeight;const e=document.querySelectorAll("#"+this.id+" .items input");for(let i=0;i<e.length;i++)i===this.items.length-1&&e[i].focus()}).bind(this))},verifierItems(){let t=0;return this.items.forEach(function(e){e.trim()!==""&&t++}),t>1}}},tZ={class:"conteneur panneau-ordre"},iZ={key:0,class:"contenu"},nZ={class:"type"},sZ={class:"horizontale"},rZ=["id","name","checked"],oZ=["for"],aZ={class:"verticale"},lZ=["id","name","checked"],uZ=["for"],cZ={class:"items"},dZ=["value","onInput"],hZ=["title"],AZ={class:"actions"},fZ={key:1,class:"contenu"},pZ={key:0},gZ={class:"bouton correct"},mZ={key:1};function bZ(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[17]||(e[17]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",tZ,[n.mode==="edition"?(z(),Z("div",iZ,[d("label",null,te(t.$t("typeRemiseOrdre")),1),d("div",nZ,[d("span",sZ,[d("input",{id:"horizontale_"+n.id,type:"radio",name:"type_"+n.id,value:"horizontale",checked:n.type==="horizontale",onChange:e[0]||(e[0]=a=>n.type=a.target.value)},null,40,rZ),d("label",{for:"horizontale_"+n.id,tabindex:"0",onKeydown:e[1]||(e[1]=J(a=>t.activerInput("horizontale_"+n.id),["enter"]))},te(t.$t("horizontale")),41,oZ)]),d("span",aZ,[d("input",{id:"verticale_"+n.id,type:"radio",name:"type_"+n.id,value:"verticale",checked:n.type==="verticale",onChange:e[2]||(e[2]=a=>n.type=a.target.value)},null,40,lZ),d("label",{for:"verticale_"+n.id,tabindex:"0",onKeydown:e[3]||(e[3]=J(a=>t.activerInput("verticale_"+n.id),["enter"]))},te(t.$t("verticale")),41,uZ)])]),d("label",null,te(t.$t("itemsOrdre")),1),d("div",cZ,[(z(!0),Z(vt,null,Yt(n.items,(a,l)=>(z(),Z("input",{type:"search",value:a,onInput:u=>n.items[l]=u.target.value,key:"item_"+l},null,40,dZ))),128))]),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterItem"),onClick:e[4]||(e[4]=(...a)=>r.ajouterItem&&r.ajouterItem(...a)),onKeydown:e[5]||(e[5]=J((...a)=>r.ajouterItem&&r.ajouterItem(...a),["enter"]))},e[12]||(e[12]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,hZ),d("div",AZ,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[7]||(e[7]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("div",fZ,[d("div",{class:je(["items",{horizontale:n.type==="horizontale",verticale:n.type==="verticale","plein-ecran":n.statut==="max"}])},[(z(!0),Z(vt,null,Yt(n.itemsMelanges,(a,l)=>(z(),Z("div",{class:je(["item",{correct:n.resultat==="correct"}]),key:"item_"+l},[d("span",null,te(a),1)],2))),128))],2),n.resultat==="correct"?(z(),Z("div",pZ,[e[13]||(e[13]=d("span",{class:"emoticones"},"🎉🥳",-1)),d("span",gZ,te(t.$t("bravoExercice")),1),e[14]||(e[14]=d("span",{class:"emoticones"},"🥳🎉",-1))])):n.resultat==="incorrect"?(z(),Z("div",mZ,[e[15]||(e[15]=d("span",{class:"emoticones"},"🙁🙁",-1)),d("span",{class:"bouton verifier",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.verifier&&r.verifier(...a)),onKeydown:e[9]||(e[9]=J((...a)=>r.verifier&&r.verifier(...a),["enter"]))},te(t.$t("verifier")),33),e[16]||(e[16]=d("span",{class:"emoticones"},"🙁🙁",-1))])):(z(),Z("span",{key:2,class:"bouton verifier",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...a)=>r.verifier&&r.verifier(...a)),onKeydown:e[11]||(e[11]=J((...a)=>r.verifier&&r.verifier(...a),["enter"]))},te(t.$t("verifier")),33))]))]),e[18]||(e[18]=d("div",{class:"conteneur-droite"},null,-1)),e[19]||(e[19]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const vZ=It(eZ,[["render",bZ]]),yZ={name:"PImagesSequentielles",components:{JsPanel:Gt,draggable:Xc},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},images:[],imagesMelangees:[],resultat:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{images:this.images},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("imagesSequentielles"),this.panneau.contenu!==""&&(this.images=this.panneau.contenu.images,this.imagesMelangees=this.melanger(JSON.parse(JSON.stringify(this.images)))),this.mode==="lecture"&&this.images.length>0&&(this.redimensionnement=!0),this.genererOptions("images-sequentielles")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+' label[for="selectionner_images_'+this.id+'"]').focus()}).bind(this),0)},methods:{generer(){this.images.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.imagesMelangees=this.melanger(JSON.parse(JSON.stringify(this.images))),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=74,this.h=54),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=34,this.index=0,this.$nextTick((function(){document.querySelector("#"+this.id+' label[for="selectionner_images_'+this.id+'"]').focus()}).bind(this)),this.positionner()},selectionnerImages(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1e3){const r=document.createElement("canvas"),o=n.width/n.height,a=1e3,l=1e3/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(s.target.result)}).bind(this)}).bind(this)}},glisserImages(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1e3){const r=document.createElement("canvas"),o=n.width/n.height,a=1e3,l=1e3/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(s.target.result)}).bind(this)}).bind(this)}},supprimerImage(t){this.images.splice(t,1)},verifier(){this.images.toString()===this.imagesMelangees.toString()?(this.resultat="correct",this.lancerConfettis()):this.resultat="incorrect"}}},wZ={class:"conteneur panneau-images-sequentielles"},CZ={key:0,class:"contenu"},EZ=["id"],xZ=["for"],TZ=["src","alt"],_Z=["onClick","onKeydown"],SZ={key:1,class:"contenu lecture"},BZ=["src","alt"],kZ={key:0},IZ={class:"bouton correct"},DZ={key:1};function FZ(t,e,i,s,n,r){const o=Je("draggable"),a=Je("JsPanel");return z(),et(a,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[17]||(e[17]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",wZ,[n.mode==="edition"?(z(),Z("div",CZ,[d("label",null,te(t.$t("imagesOrdre")),1),d("div",{class:"zone",onDragover:e[3]||(e[3]=Za(()=>{},["prevent"])),onDrop:e[4]||(e[4]=Za(()=>{},["prevent"]))},[d("input",{id:"selectionner_images_"+n.id,type:"file",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...l)=>r.selectionnerImages&&r.selectionnerImages(...l)),style:{display:"none"}},null,40,EZ),d("label",{for:"selectionner_images_"+n.id,tabindex:"0",onDrop:e[1]||(e[1]=(...l)=>r.glisserImages&&r.glisserImages(...l)),onKeydown:e[2]||(e[2]=J(l=>t.activerInput("selectionner_images_"+n.id),["enter"]))},te(t.$t("selectionnerImages")),41,xZ)],32),Vt(o,{class:"images",modelValue:n.images,"onUpdate:modelValue":e[5]||(e[5]=l=>n.images=l)},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.images,(l,u)=>(z(),Z("div",{class:"image",key:"image_"+u},[d("img",{src:l,alt:"Image"+u},null,8,TZ),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:c=>r.supprimerImage(u),onKeydown:J(c=>r.supprimerImage(u),["enter"])},e[12]||(e[12]=[d("i",{class:"material-icons"},"highlight_off",-1)]),40,_Z)]))),128))]),_:1},8,["modelValue"]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...l)=>r.generer&&r.generer(...l)),onKeydown:e[7]||(e[7]=J((...l)=>r.generer&&r.generer(...l),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",SZ,[Vt(o,{class:je(["images",{"plein-ecran":n.statut==="max"}]),modelValue:n.imagesMelangees,"onUpdate:modelValue":e[8]||(e[8]=l=>n.imagesMelangees=l),filter:".image.correct"},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.imagesMelangees,(l,u)=>(z(),Z("div",{class:je(["image",{correct:n.resultat==="correct"}]),key:"image_"+u},[d("img",{src:l,alt:"Image"+u},null,8,BZ)],2))),128))]),_:1},8,["modelValue","class"]),n.resultat==="correct"?(z(),Z("div",kZ,[e[13]||(e[13]=d("span",{class:"emoticones"},"🎉🥳",-1)),d("span",IZ,te(t.$t("bravoExercice")),1),e[14]||(e[14]=d("span",{class:"emoticones"},"🥳🎉",-1))])):n.resultat==="incorrect"?(z(),Z("div",DZ,[e[15]||(e[15]=d("span",{class:"emoticones"},"🙁🙁",-1)),d("span",{class:"bouton verifier",onClick:e[9]||(e[9]=(...l)=>r.verifier&&r.verifier(...l))},te(t.$t("verifier")),1),e[16]||(e[16]=d("span",{class:"emoticones"},"🙁🙁",-1))])):(z(),Z("span",{key:2,class:"bouton verifier",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...l)=>r.verifier&&r.verifier(...l)),onKeydown:e[11]||(e[11]=J((...l)=>r.verifier&&r.verifier(...l),["enter"]))},te(t.$t("verifier")),33))]))]),e[18]||(e[18]=d("div",{class:"conteneur-droite"},null,-1)),e[19]||(e[19]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const PZ=It(yZ,[["render",FZ]]),LZ={name:"PTrous",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",items:[],itemsMelanges:[],exercice:"",reponse:[],resultat:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:this.texte,w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("texteATrous"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu),this.mode==="lecture"&&(this.redimensionnement=!0,this.creer()),this.genererOptions("trous")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&setTimeout((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this),0)},methods:{generer(){this.texte!==""&&this.texte.split(/[**]/).length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=60,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner(),this.creer())},creer(){const e=this.texte.replace(/(?:\r|\n|\r\n)/g,"<br>").split(/[**]/);this.items=e.filter((n,r)=>r%2===1);const i=JSON.parse(JSON.stringify(this.items));i.forEach((function(n,r){n.split("|").length>1&&(i[r]=this.melanger(n.split("|")))}).bind(this)),this.itemsMelanges=i,this.items.forEach((function(n,r){n.split("|").length>1&&(this.items[r]=n.split("|")[0])}).bind(this));let s=0;e.forEach(function(n,r){if(r%2===1&&n.split("|").length===1)e[r]="input"+s,s++;else if(r%2===1&&n.split("|").length>1)e[r]="select"+s,s++;else if(n.includes("<br>")){const o=n.split("<br>");e[r]=o.map((a,l)=>l<o.length-1?[a,"<br>"]:[a]).reduce((a,l)=>a.concat(l))}}),this.exercice=e;for(let n=0;n<this.items.length;n++)this.reponse.push("")},editer(){this.mode="edition",this.redimensionnement=!1,this.items=[],this.exercice="",this.reponse=[],this.resultat="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=48,this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this)),this.positionner()},verifier(){this.items.toString()===this.reponse.toString()?(this.resultat="correct",this.lancerConfettis()):this.resultat="incorrect"}}},RZ={class:"conteneur panneau-trous"},MZ={key:0,class:"contenu"},OZ=["for"],UZ=["innerHTML"],NZ=["innerHTML"],HZ=["id","value","placeholder"],QZ={key:1,class:"contenu"},VZ=["onChange","size","disabled","value","onInput"],$Z=["disabled","onChange"],jZ=["value"],zZ={key:0},KZ={class:"bouton correct"},GZ={key:1};function qZ(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[12]||(e[12]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",RZ,[n.mode==="edition"?(z(),Z("div",MZ,[d("label",{for:"texte_a_trous_"+n.id},te(t.$t("texteATrous")),9,OZ),d("span",{class:"consigne",innerHTML:t.$t("consigneTrouSimple")},null,8,UZ),d("span",{class:"consigne",innerHTML:t.$t("consigneTrouSelection")},null,8,NZ),d("textarea",{id:"texte_a_trous_"+n.id,class:"texte-a-trous",value:n.texte,onInput:e[0]||(e[0]=a=>n.texte=a.target.value),placeholder:t.$t("exempleTrou")},null,40,HZ),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[2]||(e[2]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",QZ,[d("div",{class:je(["texte-a-trous",{"plein-ecran":n.statut==="max"}])},[(z(!0),Z(vt,null,Yt(n.exercice,(a,l)=>(z(),Z(vt,null,[Array.isArray(a)?(z(!0),Z(vt,{key:0},Yt(a,(u,c)=>(z(),Z(vt,null,[u!=="<br>"&&u!==""?(z(),Z("span",{key:"item_br_"+l+"_"+c},te(u),1)):u==="<br>"&&u!==""?(z(),Z("br",{key:"item_br_"+l+"_"+c})):Me("",!0)],64))),256)):a.substring(0,5)!=="input"&&a.substring(0,6)!=="select"?(z(),Z("span",{key:"item_txt_"+l},te(a),1)):a.substring(0,5)==="input"?(z(),Z("span",{key:"item_input_"+l},[d("input",{type:"text",class:je({correct:n.resultat!==""&&n.reponse[parseInt(a.slice(-1))]===n.items[parseInt(a.slice(-1))]}),onChange:u=>n.reponse[parseInt(a.slice(-1))]=u.target.value,size:n.itemsMelanges[parseInt(a.slice(-1))].length,disabled:n.resultat==="correct",value:n.reponse[parseInt(a.slice(-1))],onInput:u=>n.reponse[parseInt(a.slice(-1))]=u.target.value},null,42,VZ)])):a.substring(0,6)==="select"?(z(),Z("span",{key:"item_select_"+l},[d("select",{class:je({correct:n.resultat!==""&&n.reponse[parseInt(a.slice(-1))]===n.items[parseInt(a.slice(-1))]}),disabled:n.resultat==="correct",onChange:u=>n.reponse[parseInt(a.slice(-1))]=u.target.value},[e[7]||(e[7]=d("option",{value:""},null,-1)),(z(!0),Z(vt,null,Yt(n.itemsMelanges[parseInt(a.slice(-1))],(u,c)=>(z(),Z("option",{value:u,key:"option_"+c},te(u),9,jZ))),128))],42,$Z)])):Me("",!0)],64))),256))],2),n.resultat==="correct"?(z(),Z("div",zZ,[e[8]||(e[8]=d("span",{class:"emoticones"},"🎉🥳",-1)),d("span",KZ,te(t.$t("bravoExercice")),1),e[9]||(e[9]=d("span",{class:"emoticones"},"🥳🎉",-1))])):n.resultat==="incorrect"?(z(),Z("div",GZ,[e[10]||(e[10]=d("span",{class:"emoticones"},"🙁🙁",-1)),d("span",{class:"bouton verifier",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.verifier&&r.verifier(...a)),onKeydown:e[4]||(e[4]=J((...a)=>r.verifier&&r.verifier(...a),["enter"]))},te(t.$t("verifier")),33),e[11]||(e[11]=d("span",{class:"emoticones"},"🙁🙁",-1))])):(z(),Z("span",{key:2,class:"bouton verifier",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...a)=>r.verifier&&r.verifier(...a)),onKeydown:e[6]||(e[6]=J((...a)=>r.verifier&&r.verifier(...a),["enter"]))},te(t.$t("verifier")),33))]))]),e[13]||(e[13]=d("div",{class:"conteneur-droite"},null,-1)),e[14]||(e[14]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const WZ=It(LZ,[["render",qZ]]),YZ={name:"PSurlignage",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",items:[],itemsSurlignes:[],surligneur:"#faff00"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,itemsSurlignes:this.itemsSurlignes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("surlignage"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.itemsSurlignes=this.panneau.contenu.itemsSurlignes),this.mode==="lecture"&&(this.redimensionnement=!0,this.creer()),this.genererOptions("surlignage")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&setTimeout((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this),0)},methods:{generer(){this.texte!==""&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=60,this.h=36),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner(),this.creer())},creer(){const e=this.texte.replace(/(?:\r|\n|\r\n)/g," <br> ").split(" ");this.items=e},editer(){this.mode="edition",this.redimensionnement=!1,this.items=[],this.itemsSurlignes=[],this.surligneur="#faff00",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=36,this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this)),this.positionner()},surligner(t){if(this.itemsSurlignes.map(function(e){return e.index}).includes(t)){const e=this.itemsSurlignes.map(function(i){return i.index}).indexOf(t);this.itemsSurlignes[e].couleur===this.surligneur?this.itemsSurlignes.splice(e,1):this.itemsSurlignes[e].couleur=this.surligneur}else this.itemsSurlignes.push({index:t,couleur:this.surligneur})},definirCouleur(t){let e="";return this.itemsSurlignes.forEach(function(i){i.index===t&&(e=i.couleur)}),e}}},XZ={class:"conteneur panneau-surlignage"},JZ={key:0,class:"contenu"},ZZ=["for"],eee=["id","value"],tee={key:1,class:"contenu"},iee={class:"surligneurs"},nee=["onClick","onKeydown"],see=["onClick","onKeydown"];function ree(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[11]||(e[11]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",XZ,[n.mode==="edition"?(z(),Z("div",JZ,[d("label",{for:"texte_"+n.id},te(t.$t("texte")),9,ZZ),d("textarea",{id:"texte_"+n.id,class:"surlignage",value:n.texte,onInput:e[0]||(e[0]=a=>n.texte=a.target.value)},null,40,eee),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[1]||(e[1]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[2]||(e[2]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",tee,[d("div",iee,[d("span",{class:je(["surligneur jaune",{actif:n.surligneur==="#faff00"}]),role:"button",tabindex:"0",onClick:e[3]||(e[3]=a=>n.surligneur="#faff00"),onKeydown:e[4]||(e[4]=J(a=>n.surligneur="#faff00",["enter"]))},null,34),d("span",{class:je(["surligneur vert",{actif:n.surligneur==="#00ff00"}]),role:"button",tabindex:"0",onClick:e[5]||(e[5]=a=>n.surligneur="#00ff00"),onKeydown:e[6]||(e[6]=J(a=>n.surligneur="#00ff00",["enter"]))},null,34),d("span",{class:je(["surligneur rose",{actif:n.surligneur==="#fb3bc3"}]),role:"button",tabindex:"0",onClick:e[7]||(e[7]=a=>n.surligneur="#fb3bc3"),onKeydown:e[8]||(e[8]=J(a=>n.surligneur="#fb3bc3",["enter"]))},null,34),d("span",{class:je(["surligneur bleu",{actif:n.surligneur==="#04fdff"}]),role:"button",tabindex:"0",onClick:e[9]||(e[9]=a=>n.surligneur="#04fdff"),onKeydown:e[10]||(e[10]=J(a=>n.surligneur="#04fdff",["enter"]))},null,34)]),d("div",{class:je(["surlignage",{"plein-ecran":n.statut==="max"}])},[(z(!0),Z(vt,null,Yt(n.items,(a,l)=>(z(),Z(vt,null,[a!=="<br>"&&a!==""?(z(),Z(vt,{key:0},[n.itemsSurlignes.map(function(u){return u.index}).includes(l)?(z(),Z("span",{tabindex:"0",style:hi({background:r.definirCouleur(l)}),onClick:u=>r.surligner(l),onKeydown:J(u=>r.surligner(l),["enter"]),key:"item_surligne_"+l+"_"+a},te(a),45,nee)):(z(),Z("span",{tabindex:"0",onClick:u=>r.surligner(l),onKeydown:J(u=>r.surligner(l),["enter"]),key:"item_"+l+"_"+a},te(a),41,see))],64)):a==="<br>"?(z(),Z("br",{key:"item_br_"+l+"_"+a})):Me("",!0)],64))),256))],2)]))]),e[12]||(e[12]=d("div",{class:"conteneur-droite"},null,-1)),e[13]||(e[13]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const oee=It(YZ,[["render",ree]]),aee={name:"PPendu",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:50,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},mot:"",lettresTrouvees:[],motTrouve:!1,caracteres:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",tableauCaracteres:[],erreurs:5,erreursRestantes:5,opacite:0,image:"./static/img/pendu/pendu.png",chargementImage:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{mot:this.mot,caracteres:this.caracteres,erreurs:this.erreurs,image:this.image},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("pendu"),this.panneau.contenu!==""&&(this.mot=this.panneau.contenu.mot,this.caracteres=this.panneau.contenu.caracteres,this.erreurs=this.panneau.contenu.erreurs,this.image=this.panneau.contenu.image),this.genererOptions("pendu")},mounted(){if(this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min")setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0);else if(this.mode==="lecture"){this.redimensionnement=!0,this.erreursRestantes=this.erreurs;for(let e=0;e<this.mot.length;e++)this.lettresTrouvees.push("_");const t=this.caracteres.split("");this.tableauCaracteres=t.filter(function(e){return e!==""})}},methods:{generer(){if(this.mot!==""){this.mode="lecture",this.redimensionnement=!0,this.erreursRestantes=this.erreurs;for(let e=0;e<this.mot.length;e++)this.lettresTrouvees.push("_");const t=this.caracteres.split("");this.tableauCaracteres=t.filter(function(e){return e!==""}),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=80,this.h=50),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()}},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.lettresTrouvees=[],this.tableauCaracteres=[],this.opacite=0,this.motTrouve=!1,this.w=40,this.h=64,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()},televerserImage(t){const e=t.target.files[0];if(e){this.chargementImage=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1500){const r=document.createElement("canvas"),o=n.width/n.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.chargementImage=!1,this.image=r.toDataURL("image/jpeg",.85)}else this.chargementImage=!1,this.image=s.target.result}).bind(this)}).bind(this)}},verifierLettre(t){if(this.motTrouve===!1&&this.erreursRestantes>0){const e=this.mot.split("");if(e.forEach(function(i,s){e[s]=i.toUpperCase()}),e.includes(t.toUpperCase())){let i=0;e.forEach((function(s,n){s.toUpperCase()===t.toUpperCase()&&(this.lettresTrouvees[n]=s.toUpperCase())}).bind(this)),this.lettresTrouvees.forEach((function(s){s==="_"&&i++}).bind(this)),i===0&&(this.motTrouve=!0,this.lancerConfettis())}else this.erreursRestantes--,this.erreursRestantes===0?this.opacite=1:this.opacite=this.opacite+1/this.erreurs}}}},lee={key:0,class:"conteneur panneau-pendu"},uee={key:0,class:"contenu"},cee=["for"],dee=["id","value"],hee=["src"],Aee={class:"separateur"},fee=["for"],pee=["id"],gee=["for"],mee=["id","value"],bee=["for"],vee=["id","value"],yee={key:1,class:"contenu"},wee={key:1,class:"conteneur panneau-pendu lecture"},Cee={class:"contenu"},Eee={class:"gauche"},xee=["src"],Tee={class:"erreurs"},_ee={class:"droite"},See={class:"caracteres"},Bee=["onClick","onKeydown"];function kee(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",{class:je(["conteneur-gauche",{masque:n.mode==="lecture"}])},null,2),n.mode==="edition"?(z(),Z("div",lee,[n.chargementImage?(z(),Z("div",yee,e[7]||(e[7]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):(z(),Z("div",uee,[d("label",{for:"mot_"+n.id},te(t.$t("motATrouver")),9,cee),d("input",{id:"mot_"+n.id,type:"search",value:n.mot,onInput:e[0]||(e[0]=a=>n.mot=a.target.value)},null,40,dee),d("label",null,te(t.$t("image")),1),d("img",{class:"pendu",src:n.image,alt:"Pendu"},null,8,hee),d("div",Aee,[d("span",null,te(t.$t("ou")),1)]),d("label",{for:"selectionner_image_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[1]||(e[1]=J(a=>t.activerInput("selectionner_image_"+n.id),["enter"]))},te(t.$t("selectionnerImage")),41,fee),d("input",{id:"selectionner_image_"+n.id,type:"file",onChange:e[2]||(e[2]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,pee),d("label",{for:"nombre_erreurs_"+n.id},te(t.$t("nombreErreurs")),9,gee),d("input",{id:"nombre_erreurs_"+n.id,type:"number",value:n.erreurs,min:1,max:20,onInput:e[3]||(e[3]=a=>n.erreurs=parseInt(a.target.value))},null,40,mee),d("label",{for:"caracteres_"+n.id},te(t.$t("caracteres")),9,bee),d("textarea",{id:"caracteres_"+n.id,class:"caracteres",value:n.caracteres,onInput:e[4]||(e[4]=a=>n.caracteres=a.target.value)},null,40,vee),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[6]||(e[6]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)]))])):(z(),Z("div",wee,[d("div",Cee,[d("div",Eee,[d("img",{src:n.image,style:hi("opacity:"+n.opacite),alt:"Pendu"},null,12,xee),d("div",null,[d("label",null,te(t.$t("erreursRestantes")),1),d("span",Tee,te(n.erreursRestantes),1)])]),d("div",_ee,[d("div",{class:je(["mot",{trouve:n.motTrouve}])},[(z(!0),Z(vt,null,Yt(n.lettresTrouvees,(a,l)=>(z(),Z("span",{class:"lettre",key:"lettre_"+l},te(a.toUpperCase()),1))),128))],2),d("div",See,[(z(!0),Z(vt,null,Yt(n.tableauCaracteres,(a,l)=>(z(),Z("span",{class:je(["caractere",{inactif:n.motTrouve||n.erreursRestantes===0}]),role:"button",tabindex:"0",onClick:u=>r.verifierLettre(a),onKeydown:J(u=>r.verifierLettre(a),["enter"]),key:"caractere_"+l},te(a.toUpperCase()),43,Bee))),128))])])])])),d("div",{class:je(["conteneur-droite",{masque:n.mode==="lecture"}])},null,2),d("div",{class:je(["conteneur-bas",{masque:n.mode==="lecture"}])},null,2)]),_:1},8,["visible","options"])}const Iee=It(aee,[["render",kee]]),Dee={name:"PCartes",components:{JsPanel:Gt,draggable:Xc},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:60,minh:50,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},cartes:[],format:"paysage",texteRecto:"",texteVerso:"",fondRecto:"#001d1d",fondVerso:"#ffffff",imageRecto:"",imageVerso:"",chargementImage:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{cartes:this.cartes,format:this.format},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("cartes"),this.panneau.contenu!==""&&(this.cartes=this.panneau.contenu.cartes,this.format=this.panneau.contenu.format),this.genererOptions("cartes")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector("#"+this.id+' input[type="search"]').focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&(this.redimensionnement=!0,setTimeout((function(){document.querySelector("#"+this.id+" .carte").focus()}).bind(this),0))},methods:{generer(){this.cartes.length>0&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=90,this.h=64),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id+" .carte").focus()}).bind(this)),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.texteRecto="",this.texteVerso="",this.fondRecto="#001d1d",this.fondVerso="#ffffff",this.imageRecto="",this.imageVerso="",this.chargementImage="",this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=50,this.$nextTick((function(){document.querySelector("#"+this.id+' input[type="search"]').focus()}).bind(this)),this.positionner()},ajouterCarte(){if((this.texteRecto!==""||this.fondRecto!=="#001d1d"||this.imageRecto!=="")&&(this.texteVerso!==""||this.fondVerso!=="#ffffff"||this.imageVerso!=="")){const t={recto:{texte:this.texteRecto,fond:this.fondRecto,image:this.imageRecto},verso:{texte:this.texteVerso,fond:this.fondVerso,image:this.imageVerso}};this.cartes.push(t),this.texteRecto="",this.texteVerso="",this.imageRecto="",this.imageVerso="",this.chargementImage=""}},retournerCarte(t){const e=document.querySelector("#"+t);e.classList.contains("flip")?e.classList.remove("flip"):e.classList.add("flip")},supprimerCarte(t){this.cartes.splice(t,1)},televerserImage(t,e){const i=t.target.files[0];if(i){this.chargementImage=e;const s=new FileReader;s.readAsDataURL(i),s.onloadend=(function(n){const r=new Image;r.src=n.target.result,r.onload=(function(){if(r.width>1500){const o=document.createElement("canvas"),a=r.width/r.height,l=1500,u=1500/a;o.width=l,o.height=u,o.getContext("2d").drawImage(r,0,0,l,u),this.chargementImage="",e==="recto"?this.imageRecto=o.toDataURL("image/jpeg",.85):this.imageVerso=o.toDataURL("image/jpeg",.85)}else this.chargementImage="",e==="recto"?this.imageRecto=n.target.result:this.imageVerso=n.target.result}).bind(this)}).bind(this)}},definirCouleurTexte(t){const e=t.charAt(0)==="#"?t.substring(1,7):t,i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16);return i*.299+s*.587+n*.114>186?"#001d1d":"#ffffff"}}},Fee={key:0,class:"conteneur panneau-cartes"},Pee={class:"contenu"},Lee={class:"format"},Ree={class:"paysage"},Mee=["id","name","checked"],Oee=["for"],Uee={class:"portrait"},Nee=["id","name","checked"],Hee=["for"],Qee={class:"carre"},Vee=["id","name","checked"],$ee=["for"],jee={class:"conteneur-recto"},zee=["value"],Kee=["id","value","title"],Gee={key:1,class:"fond-recto"},qee=["for","title"],Wee=["id"],Yee={key:2,class:"fond-recto"},Xee={class:"conteneur-verso"},Jee=["value"],Zee=["id","value","title"],ete={key:1,class:"fond-verso"},tte=["for","title"],ite=["id"],nte={key:2,class:"fond-verso"},ste=["title"],rte=["id","onClick","onKeydown"],ote={key:1},ate={key:1},lte=["onClick","onKeydown"],ute={key:1,class:"conteneur panneau-cartes"},cte={class:"contenu cartes"},dte=["id","onClick","onKeydown"],hte={key:1},Ate={key:1};function fte(t,e,i,s,n,r){const o=Je("draggable"),a=Je("JsPanel");return z(),et(a,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[37]||(e[37]=d("div",{class:"conteneur-gauche"},null,-1)),n.mode==="edition"?(z(),Z("div",Fee,[d("div",Pee,[d("label",null,te(t.$t("formatCartes")),1),d("div",Lee,[d("span",Ree,[d("input",{id:"format_paysage_"+n.id,type:"radio",name:"format_"+n.id,value:"paysage",checked:n.format==="paysage",onChange:e[0]||(e[0]=l=>n.format=l.target.value)},null,40,Mee),d("label",{for:"format_paysage_"+n.id,tabindex:"0",onKeydown:e[1]||(e[1]=J(l=>t.activerInput("format_paysage_"+n.id),["enter"]))},te(t.$t("paysage")),41,Oee)]),d("span",Uee,[d("input",{id:"format_portrait_"+n.id,type:"radio",name:"format_"+n.id,value:"portrait",checked:n.format==="portrait",onChange:e[2]||(e[2]=l=>n.format=l.target.value)},null,40,Nee),d("label",{for:"format_portrait_"+n.id,tabindex:"0",onKeydown:e[3]||(e[3]=J(l=>t.activerInput("format_portrait_"+n.id),["enter"]))},te(t.$t("portrait")),41,Hee)]),d("span",Qee,[d("input",{id:"format_carre_"+n.id,type:"radio",name:"format_"+n.id,value:"carre",checked:n.format==="carre",onChange:e[4]||(e[4]=l=>n.format=l.target.value)},null,40,Vee),d("label",{for:"format_carre_"+n.id,tabindex:"0",onKeydown:e[5]||(e[5]=J(l=>t.activerInput("format_carre_"+n.id),["enter"]))},te(t.$t("carre")),41,$ee)])]),d("label",null,te(t.$t("recto")),1),d("div",jee,[d("input",{type:"search",class:je({"avec-image":n.imageRecto!==""}),value:n.texteRecto,maxlength:50,onInput:e[6]||(e[6]=l=>n.texteRecto=l.target.value)},null,42,zee),n.imageRecto===""&&n.chargementImage===""?(z(),Z("input",{key:0,id:"fond-recto-"+n.id,type:"color",value:n.fondRecto,title:t.$t("selectionnerCouleurFond"),onChange:e[7]||(e[7]=l=>n.fondRecto=l.target.value)},null,40,Kee)):Me("",!0),n.fondRecto==="#001d1d"&&n.imageRecto===""&&n.chargementImage===""?(z(),Z("span",Gee,[d("label",{for:"televerser_image_recto_"+n.id,class:"bouton-secondaire",title:t.$t("selectionnerImage"),role:"button",tabindex:"0",onKeydown:e[8]||(e[8]=J(l=>t.activerInput("televerser_image_recto_"+n.id),["enter"]))},e[27]||(e[27]=[d("i",{class:"material-icons"},"add_photo_alternate",-1)]),40,qee),d("input",{id:"televerser_image_recto_"+n.id,type:"file",onChange:e[9]||(e[9]=l=>r.televerserImage(l,"recto")),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,Wee)])):n.imageRecto===""&&n.chargementImage==="recto"?(z(),Z("span",Yee,e[28]||(e[28]=[d("span",{class:"conteneur-chargement"},[d("span",{class:"chargement"})],-1)]))):n.imageRecto!==""?(z(),Z("span",{key:3,class:"fond-recto image",style:hi("background-image: url("+n.imageRecto+")")},null,4)):Me("",!0),n.imageRecto!==""?(z(),Z("span",{key:4,class:"supprimer-image",role:"button",tabindex:"0",onClick:e[10]||(e[10]=l=>n.imageRecto=""),onKeydown:e[11]||(e[11]=J(l=>n.imageRecto="",["enter"]))},e[29]||(e[29]=[d("i",{class:"material-icons"},"highlight_off",-1)]),32)):Me("",!0),n.fondRecto!=="#001d1d"&&n.imageRecto===""?(z(),Z("span",{key:5,class:"supprimer-fond",role:"button",tabindex:"0",onClick:e[12]||(e[12]=l=>n.fondRecto="#001d1d"),onKeydown:e[13]||(e[13]=J(l=>n.fondRecto="#001d1d",["enter"]))},e[30]||(e[30]=[d("i",{class:"material-icons"},"highlight_off",-1)]),32)):Me("",!0)]),d("label",null,te(t.$t("verso")),1),d("div",Xee,[d("input",{type:"search",class:je({"avec-image":n.imageVerso!==""}),value:n.texteVerso,maxlength:50,onInput:e[14]||(e[14]=l=>n.texteVerso=l.target.value)},null,42,Jee),n.imageVerso===""&&n.chargementImage===""?(z(),Z("input",{key:0,type:"color",id:"fond_verso_"+n.id,value:n.fondVerso,title:t.$t("selectionnerCouleurFond"),onChange:e[15]||(e[15]=l=>n.fondVerso=l.target.value)},null,40,Zee)):Me("",!0),n.fondVerso==="#ffffff"&&n.imageVerso===""&&n.chargementImage===""?(z(),Z("span",ete,[d("label",{for:"televerser_image_verso_"+n.id,class:"bouton-secondaire",title:t.$t("selectionnerImage"),role:"button",tabindex:"0",onKeydown:e[16]||(e[16]=J(l=>t.activerInput("televerser_image_verso_"+n.id),["enter"]))},e[31]||(e[31]=[d("i",{class:"material-icons"},"add_photo_alternate",-1)]),40,tte),d("input",{id:"televerser_image_verso_"+n.id,type:"file",onChange:e[17]||(e[17]=l=>r.televerserImage(l,"verso")),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,ite)])):n.imageVerso===""&&n.chargementImage==="verso"?(z(),Z("span",nte,e[32]||(e[32]=[d("span",{class:"conteneur-chargement"},[d("span",{class:"chargement"})],-1)]))):n.imageVerso!==""?(z(),Z("span",{key:3,class:"fond-verso image",style:hi("background-image: url("+n.imageVerso+")")},null,4)):Me("",!0),n.imageVerso!==""?(z(),Z("span",{key:4,class:"supprimer-image",role:"button",tabindex:"0",onClick:e[18]||(e[18]=l=>n.imageVerso=""),onKeydown:e[19]||(e[19]=J(l=>n.imageVerso="",["enter"]))},e[33]||(e[33]=[d("i",{class:"material-icons"},"highlight_off",-1)]),32)):Me("",!0),n.fondVerso!=="#ffffff"&&n.imageVerso===""?(z(),Z("span",{key:5,class:"supprimer-fond",role:"button",tabindex:"0",onClick:e[20]||(e[20]=l=>n.fondVerso="#ffffff"),onKeydown:e[21]||(e[21]=J(l=>n.fondVerso="#ffffff",["enter"]))},e[34]||(e[34]=[d("i",{class:"material-icons"},"highlight_off",-1)]),32)):Me("",!0)]),d("span",{class:"bouton-secondaire ajouter",role:"button",tabindex:"0",title:t.$t("ajouterCarte"),onClick:e[22]||(e[22]=(...l)=>r.ajouterCarte&&r.ajouterCarte(...l)),onKeydown:e[23]||(e[23]=J((...l)=>r.ajouterCarte&&r.ajouterCarte(...l),["enter"]))},e[35]||(e[35]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,ste),Vt(o,{class:"items",modelValue:n.cartes,"onUpdate:modelValue":e[24]||(e[24]=l=>n.cartes=l)},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.cartes,(l,u)=>(z(),Z("div",{class:je(["item",n.format]),key:"item_"+u},[d("div",{id:"item_"+n.id+"_"+u,class:"carte",role:"button",tabindex:"0",onClick:c=>r.retournerCarte("item_"+n.id+"_"+u),onKeydown:J(c=>r.retournerCarte("item_"+n.id+"_"+u),["enter"])},[d("div",{class:je(["recto",{"avec-image":l.recto.image!==""}]),style:hi("background-color:"+l.recto.fond)},[l.recto.image!==""?(z(),Z("div",{key:0,style:hi("background-image: url("+l.recto.image+")")},[l.recto.texte!==""?(z(),Z("h1",{key:0,style:hi("color:"+r.definirCouleurTexte(l.recto.fond))},te(l.recto.texte),5)):Me("",!0)],4)):(z(),Z("div",ote,[l.recto.texte!==""?(z(),Z("h1",{key:0,style:hi("color:"+r.definirCouleurTexte(l.recto.fond))},te(l.recto.texte),5)):Me("",!0)]))],6),d("div",{class:je(["verso",{"avec-image":l.verso.image!==""}]),style:hi("background-color:"+l.verso.fond)},[l.verso.image!==""?(z(),Z("div",{key:0,style:hi("background-image: url("+l.verso.image+")")},[l.verso.texte!==""?(z(),Z("p",{key:0,style:hi("color:"+r.definirCouleurTexte(l.verso.fond))},te(l.verso.texte),5)):Me("",!0)],4)):(z(),Z("div",ate,[l.verso.texte!==""?(z(),Z("p",{key:0,style:hi("color:"+r.definirCouleurTexte(l.verso.fond))},te(l.verso.texte),5)):Me("",!0)]))],6)],40,rte),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:c=>r.supprimerCarte(u),onKeydown:J(c=>r.supprimerCarte(u),["enter"])},e[36]||(e[36]=[d("i",{class:"material-icons"},"highlight_off",-1)]),40,lte)],2))),128))]),_:1},8,["modelValue"]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[25]||(e[25]=(...l)=>r.generer&&r.generer(...l)),onKeydown:e[26]||(e[26]=J((...l)=>r.generer&&r.generer(...l),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("div",ute,[d("div",cte,[(z(!0),Z(vt,null,Yt(n.cartes,(l,u)=>(z(),Z("div",{id:"carte_"+n.id+"_"+u,class:je(["carte",n.format]),role:"button",tabindex:"0",onClick:c=>r.retournerCarte("carte_"+n.id+"_"+u),onKeydown:J(c=>r.retournerCarte("carte_"+n.id+"_"+u),["enter"]),key:"carte_"+u},[d("div",{class:je(["recto",{"avec-image":l.recto.image!==""}]),style:hi("background-color:"+l.recto.fond)},[l.recto.image!==""?(z(),Z("div",{key:0,style:hi("background-image: url("+l.recto.image+")")},[l.recto.texte!==""?(z(),Z("h1",{key:0,style:hi("color:"+r.definirCouleurTexte(l.recto.fond))},te(l.recto.texte),5)):Me("",!0)],4)):(z(),Z("div",hte,[l.recto.texte!==""?(z(),Z("h1",{key:0,style:hi("color:"+r.definirCouleurTexte(l.recto.fond))},te(l.recto.texte),5)):Me("",!0)]))],6),d("div",{class:je(["verso",{"avec-image":l.verso.image!==""}]),style:hi("background-color:"+l.verso.fond)},[l.verso.image!==""?(z(),Z("div",{key:0,style:hi("background-image: url("+l.verso.image+")")},[l.verso.texte!==""?(z(),Z("p",{key:0,style:hi("color:"+r.definirCouleurTexte(l.verso.fond))},te(l.verso.texte),5)):Me("",!0)],4)):(z(),Z("div",Ate,[l.verso.texte!==""?(z(),Z("p",{key:0,style:hi("color:"+r.definirCouleurTexte(l.verso.fond))},te(l.verso.texte),5)):Me("",!0)]))],6)],42,dte))),128))])])),e[38]||(e[38]=d("div",{class:"conteneur-droite"},null,-1)),e[39]||(e[39]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const pte=It(Dee,[["render",fte]]),gte={name:"PTirageTexte",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",items:[],tirage:"",suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortTexte"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&this.texte!==""&&(this.redimensionnement=!0,this.creer()),this.genererOptions("tirage-texte")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""?setTimeout((function(){document.querySelector("#texte_tirage_"+this.id).focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this),0)},methods:{generer(){this.texte.split(",").map(e=>e.trim()).length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this)),this.positionner(),this.creer())},creer(){let t=this.texte.split(",").map(e=>e.trim());t=t.filter(e=>e!==""),t=t.filter((e,i,s)=>s.indexOf(e)===i),t=this.melanger(t),this.items=t,this.tirage="✨✨✨"},tirer(){this.suppression==="oui"&&this.items.forEach((function(e,i){e===this.tirage&&this.items.splice(i,1)}).bind(this));const t=setInterval((function(){let e=this.items[Math.floor(Math.random()*this.items.length)];this.tirage=e,this.tirageEnCours=!0}).bind(this),5);setTimeout((function(){clearInterval(t),this.tirageEnCours=!1}).bind(this),1200)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=40,this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this)),this.positionner()}}},mte={class:"conteneur panneau-tirage-texte"},bte={key:0,class:"contenu"},vte=["for"],yte=["innerHTML"],wte=["id","value","placeholder"],Cte={class:"choix"},Ete={class:"oui"},xte=["id","name","checked"],Tte=["for"],_te={class:"non"},Ste=["id","name","checked"],Bte=["for"],kte={key:1,class:"contenu"},Ite=["innerHTML"],Dte={class:"actions"};function Fte(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[9]||(e[9]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",mte,[n.mode==="edition"?(z(),Z("div",bte,[d("label",{for:"texte_tirage_"+n.id},te(t.$t("texteTirageTexte")),9,vte),d("span",{class:"consigne",innerHTML:t.$t("consigneTirageTexte")},null,8,yte),d("textarea",{id:"texte_tirage_"+n.id,class:"tirage",value:n.texte,onInput:e[0]||(e[0]=a=>n.texte=a.target.value),placeholder:t.$t("exempleListe")},null,40,wte),d("label",null,te(t.$t("supprimerItemTirage")),1),d("div",Cte,[d("span",Ete,[d("input",{id:"choix_oui_"+n.id,type:"radio",name:"choix_"+n.id,value:"oui",checked:n.suppression==="oui",onChange:e[1]||(e[1]=a=>n.suppression=a.target.value)},null,40,xte),d("label",{for:"choix_oui_"+n.id,tabindex:"0",onKeydown:e[2]||(e[2]=J(a=>t.activerInput("choix_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,Tte)]),d("span",_te,[d("input",{id:"choix_non_"+n.id,type:"radio",name:"choix_"+n.id,value:"non",checked:n.suppression==="non",onChange:e[3]||(e[3]=a=>n.suppression=a.target.value)},null,40,Ste),d("label",{for:"choix_non_"+n.id,tabindex:"0",onKeydown:e[4]||(e[4]=J(a=>t.activerInput("choix_non_"+n.id),["enter"]))},te(t.$t("non")),41,Bte)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[5]||(e[5]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[6]||(e[6]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",kte,[d("div",{class:je(["tirage",{"tirage-en-cours":n.tirageEnCours,"plein-ecran":n.statut==="max"}]),innerHTML:n.tirage},null,10,Ite),d("div",Dte,[n.items.length>1?(z(),Z("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[7]||(e[7]=(...a)=>r.tirer&&r.tirer(...a)),onKeydown:e[8]||(e[8]=J((...a)=>r.tirer&&r.tirer(...a),["enter"]))},te(t.$t("tirer")),33)):Me("",!0)])]))]),e[10]||(e[10]=d("div",{class:"conteneur-droite"},null,-1)),e[11]||(e[11]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Pte=It(gte,[["render",Fte]]),Lte={name:"PTirageNombre",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:15,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},nombreMin:1,nombreMax:100,tirage:"",itemsTires:[],suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{nombreMin:this.nombreMin,nombreMax:this.nombreMax,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortNombre"),this.panneau.contenu!==""&&(this.nombreMin=this.panneau.contenu.nombreMin,this.nombreMax=this.panneau.contenu.nombreMax,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&(this.redimensionnement=!0,this.tirage="✨✨✨"),this.genererOptions("tirage-nombre")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector("#minimum_"+this.id).focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this),0)},methods:{generer(){this.nombreMin>0&&this.nombreMax>this.nombreMin&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=40,this.h=30),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.tirage="✨✨✨",this.$nextTick((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this)),this.positionner())},tirer(){let t;const e=setInterval((function(){let i=Math.floor(Math.random()*(this.nombreMax-this.nombreMin+1)+this.nombreMin);for(;this.itemsTires.includes(i)===!0;)i=Math.floor(Math.random()*(this.nombreMax-this.nombreMin+1)+this.nombreMin);t=i,this.tirage=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),this.tirageEnCours=!0}).bind(this),5);setTimeout((function(){clearInterval(e),this.tirageEnCours=!1,this.suppression==="oui"&&this.itemsTires.push(t)}).bind(this),1200)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=28,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()}}},Rte={class:"conteneur panneau-tirage-nombre"},Mte={key:0,class:"contenu"},Ote={class:"plage-nombre"},Ute={class:"min"},Nte=["for"],Hte=["id","value"],Qte={class:"max"},Vte=["for"],$te=["id","value"],jte={class:"choix"},zte={class:"oui"},Kte=["id","name","checked"],Gte=["for"],qte={class:"non"},Wte=["id","name","checked"],Yte=["for"],Xte={key:1,class:"contenu"},Jte={class:"actions"};function Zte(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[10]||(e[10]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Rte,[n.mode==="edition"?(z(),Z("div",Mte,[d("div",Ote,[d("div",Ute,[d("label",{for:"minimum_"+n.id},te(t.$t("minimum")),9,Nte),d("input",{id:"minimum_"+n.id,type:"number",value:n.nombreMin,min:1,onInput:e[0]||(e[0]=a=>n.nombreMin=a.target.value)},null,40,Hte)]),d("div",Qte,[d("label",{for:"maximum_"+n.id},te(t.$t("maximum")),9,Vte),d("input",{id:"maximum_"+n.id,type:"number",value:n.nombreMax,min:1,onInput:e[1]||(e[1]=a=>n.nombreMax=a.target.value)},null,40,$te)])]),d("label",null,te(t.$t("supprimerItemTirage")),1),d("div",jte,[d("span",zte,[d("input",{id:"choix_oui_"+n.id,type:"radio",name:"choix_"+n.id,value:"oui",checked:n.suppression==="oui",onChange:e[2]||(e[2]=a=>n.suppression=a.target.value)},null,40,Kte),d("label",{for:"choix_oui_"+n.id,tabindex:"0",onKeydown:e[3]||(e[3]=J(a=>t.activerInput("choix_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,Gte)]),d("span",qte,[d("input",{id:"choix_non_"+n.id,type:"radio",name:"choix_"+n.id,value:"non",checked:n.suppression==="non",onChange:e[4]||(e[4]=a=>n.suppression=a.target.value)},null,40,Wte),d("label",{for:"choix_non_"+n.id,tabindex:"0",onKeydown:e[5]||(e[5]=J(a=>t.activerInput("choix_non_"+n.id),["enter"]))},te(t.$t("non")),41,Yte)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[7]||(e[7]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",Xte,[d("div",{class:je(["tirage",{"tirage-en-cours":n.tirageEnCours,"plein-ecran":n.statut==="max"}])},te(n.tirage),3),d("div",Jte,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.tirer&&r.tirer(...a)),onKeydown:e[9]||(e[9]=J((...a)=>r.tirer&&r.tirer(...a),["enter"]))},te(t.$t("tirer")),33)])]))]),e[11]||(e[11]=d("div",{class:"conteneur-droite"},null,-1)),e[12]||(e[12]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const eie=It(Lte,[["render",Zte]]),tie={name:"PTirageImage",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},images:[],items:[],tirage:"",zone:!1,suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{images:this.images,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortImage"),this.panneau.contenu!==""&&(this.images=this.panneau.contenu.images,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&this.images.length>0&&(this.redimensionnement=!0,this.creer()),this.genererOptions("tirage-image")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector('label[for="selectionner_images_'+this.id+'"]').focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this),0)},methods:{generer(){this.images.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this)),this.positionner(),this.creer())},creer(){let t=JSON.parse(JSON.stringify(this.images));t=t.filter((e,i,s)=>s.indexOf(e)===i),t=this.melanger(t),this.items=t,this.tirage="tirage"},tirer(){this.suppression==="oui"&&this.items.forEach((function(e,i){e===this.tirage&&this.items.splice(i,1)}).bind(this));const t=setInterval((function(){let e=this.items[Math.floor(Math.random()*this.items.length)];this.tirage=e,this.tirageEnCours=!0}).bind(this),70);setTimeout((function(){clearInterval(t),this.tirageEnCours=!1}).bind(this),1200)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=40,this.$nextTick((function(){document.querySelector('label[for="selectionner_images_'+this.id+'"]').focus()}).bind(this)),this.positionner()},selectionnerImages(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1200){const r=document.createElement("canvas"),o=n.width/n.height,a=1200,l=1200/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(s.target.result)}).bind(this)}).bind(this)}},glisserImages(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1200){const r=document.createElement("canvas"),o=n.width/n.height,a=1200,l=1200/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.images.push(r.toDataURL("image/jpeg",.85))}else this.images.push(s.target.result)}).bind(this)}).bind(this)}},supprimerImage(t){this.images.splice(t,1)}}},iie={key:0,class:"contenu"},nie=["id"],sie=["for"],rie={class:"images"},oie=["src","alt"],aie=["onClick","onKeydown"],lie={class:"choix"},uie={class:"oui"},cie=["id","name","checked"],die=["for"],hie={class:"non"},Aie=["id","name","checked"],fie=["for"],pie={key:1,class:"contenu lecture"},gie=["src"],mie={class:"actions"};function bie(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[14]||(e[14]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",{class:je(["conteneur panneau-tirage-image",{"tirage-image":n.mode==="lecture"}])},[n.mode==="edition"?(z(),Z("div",iie,[d("label",null,te(t.$t("texteTirageImage")),1),d("div",{class:"zone",onDragover:e[3]||(e[3]=Za(()=>{},["prevent"])),onDrop:e[4]||(e[4]=Za(()=>{},["prevent"]))},[d("input",{id:"selectionner_images_"+n.id,type:"file",multiple:"",accept:"image/*",onChange:e[0]||(e[0]=(...a)=>r.selectionnerImages&&r.selectionnerImages(...a)),style:{display:"none"}},null,40,nie),d("label",{for:"selectionner_images_"+n.id,tabindex:"0",onDrop:e[1]||(e[1]=(...a)=>r.glisserImages&&r.glisserImages(...a)),onKeydown:e[2]||(e[2]=J(a=>t.activerInput("selectionner_images_"+n.id),["enter"]))},te(t.$t("selectionnerImages")),41,sie)],32),d("div",rie,[(z(!0),Z(vt,null,Yt(n.images,(a,l)=>(z(),Z("div",{class:"image",key:"image_"+l},[d("img",{src:a,alt:"Image"+l},null,8,oie),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:u=>r.supprimerImage(l),onKeydown:J(u=>r.supprimerImage(l),["enter"])},e[13]||(e[13]=[d("i",{class:"material-icons"},"highlight_off",-1)]),40,aie)]))),128))]),d("label",null,te(t.$t("supprimerItemTirage")),1),d("div",lie,[d("span",uie,[d("input",{id:"choix_oui_"+n.id,type:"radio",name:"choix_"+n.id,value:"oui",checked:n.suppression==="oui",onChange:e[5]||(e[5]=a=>n.suppression=a.target.value)},null,40,cie),d("label",{for:"choix_oui_"+n.id,tabindex:"0",onKeydown:e[6]||(e[6]=J(a=>t.activerInput("choix_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,die)]),d("span",hie,[d("input",{id:"choix_non_"+n.id,type:"radio",name:"choix_"+n.id,value:"non",checked:n.suppression==="non",onChange:e[7]||(e[7]=a=>n.suppression=a.target.value)},null,40,Aie),d("label",{for:"choix_non_"+n.id,tabindex:"0",onKeydown:e[8]||(e[8]=J(a=>t.activerInput("choix_non_"+n.id),["enter"]))},te(t.$t("non")),41,fie)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[9]||(e[9]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[10]||(e[10]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",pie,[n.tirage!=="tirage"?(z(),Z("div",{key:0,class:je(["tirage",{"tirage-en-cours":n.tirageEnCours}])},[d("img",{src:n.tirage,alt:"Image"},null,8,gie)],2)):(z(),Z("div",{key:1,class:je(["tirage texte",{"plein-ecran":n.statut==="max"}])}," ✨✨✨ ",2)),d("div",mie,[n.items.length>1?(z(),Z("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[11]||(e[11]=(...a)=>r.tirer&&r.tirer(...a)),onKeydown:e[12]||(e[12]=J((...a)=>r.tirer&&r.tirer(...a),["enter"]))},te(t.$t("tirer")),33)):Me("",!0)])]))],2),e[15]||(e[15]=d("div",{class:"conteneur-droite"},null,-1)),e[16]||(e[16]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const vie=It(tie,[["render",bie]]),yie={name:"PTirageAudio",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:30,minh:20,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},audios:[],audio:"",lecture:"",items:[],tirage:"",zone:!1,suppression:"non",tirageEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{audios:this.audios,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("tirageSortAudio"),this.panneau.contenu!==""&&(this.audios=this.panneau.contenu.audios,this.suppression=this.panneau.contenu.suppression),this.mode==="lecture"&&this.audios.length>0&&(this.redimensionnement=!0,this.creer()),this.genererOptions("tirage-audio")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"?setTimeout((function(){document.querySelector('label[for="selectionner_audios_'+this.id+'"]').focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this),0)},methods:{generer(){this.audios.length>1&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=50,this.h=40),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this)),this.positionner(),this.creer())},creer(){let t=JSON.parse(JSON.stringify(this.audios));t=t.filter((e,i,s)=>s.indexOf(e)===i),t=this.melanger(t),this.items=t,this.tirage="tirage"},tirer(){this.suppression==="oui"&&this.items.forEach((function(e,i){e===this.tirage&&this.items.splice(i,1)}).bind(this));const t=setInterval((function(){let e=this.items[Math.floor(Math.random()*this.items.length)];this.tirage=e,this.tirageEnCours=!0}).bind(this),70);setTimeout((function(){clearInterval(t),this.tirageEnCours=!1;const e=this.convertirDataURL(this.tirage.donnees),i=window.URL.createObjectURL(e);this.audio=i,this.$nextTick((function(){const s=document.querySelector(".tirage audio");s.onplay=(function(){this.lecture=this.tirage.id}).bind(this),s.onpause=(function(){this.lecture=""}).bind(this),s.onended=(function(){this.lecture=""}).bind(this),document.querySelector("#"+this.id+" .item").focus()}).bind(this))}).bind(this),1200)},editer(){this.mode="edition",this.redimensionnement=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=40,this.$nextTick((function(){document.querySelector('label[for="selectionner_audios_'+this.id+'"]').focus()}).bind(this)),this.positionner()},selectionnerAudios(t){for(let e=0;e<t.target.files.length;e++){const i=new FileReader;i.readAsDataURL(t.target.files[e]),i.onloadend=(function(s){const n=this.genererId();this.audios.push({id:n,donnees:s.target.result})}).bind(this)}},glisserAudios(t){for(let e=0;e<t.dataTransfer.files.length;e++){const i=new FileReader;i.readAsDataURL(t.dataTransfer.files[e]),i.onloadend=(function(s){const n=this.genererId();this.audios.push({id:n,donnees:s.target.result})}).bind(this)}},lireAudio(t,e){if(this.lecture===e&&this.audio!=="")this.audio.pause(),this.audio.currentTime=0,this.lecture="";else{const i=this.convertirDataURL(t),s=window.URL.createObjectURL(i);this.audio!==""&&(this.audio.pause(),this.audio.currentTime=0,this.lecture=""),this.audio=new Audio(s),this.audio.play(),this.lecture=e,this.audio.onended=function(){this.audio="",this.lecture=""}}},lireAudioTirage(t){const e=document.querySelector(".tirage audio");this.lecture===t?(e.pause(),this.lecture=""):(e.play(),this.lecture=t)},supprimerAudio(t,e){this.audio!==""&&(this.audio.pause(),this.audio.currentTime=0),this.lecture===e&&(this.lecture=""),this.audios.splice(t,1)},genererId(){let t="";const e="abcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*36));return t}}},wie={class:"conteneur panneau-tirage-audio"},Cie={key:0,class:"contenu"},Eie=["id"],xie=["for"],Tie={class:"audios"},_ie=["onClick","onKeydown"],Sie=["onClick","onKeydown"],Bie={class:"choix"},kie={class:"oui"},Iie=["id","name","checked"],Die=["for"],Fie={class:"non"},Pie=["id","name","checked"],Lie=["for"],Rie={key:1,class:"contenu lecture"},Mie={key:0,class:"tirage"},Oie=["src"],Uie={key:1,class:"tirage"},Nie={class:"actions"};function Hie(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[19]||(e[19]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",wie,[n.mode==="edition"?(z(),Z("div",Cie,[d("label",null,te(t.$t("texteTirageAudio")),1),d("div",{class:"zone",onDragover:e[3]||(e[3]=Za(()=>{},["prevent"])),onDrop:e[4]||(e[4]=Za(()=>{},["prevent"]))},[d("input",{id:"selectionner_audios_"+n.id,type:"file",multiple:"",accept:"audio/*",onChange:e[0]||(e[0]=(...a)=>r.selectionnerAudios&&r.selectionnerAudios(...a)),style:{display:"none"}},null,40,Eie),d("label",{for:"selectionner_audios_"+n.id,tabindex:"0",onDrop:e[1]||(e[1]=(...a)=>r.glisserAudios&&r.glisserAudios(...a)),onKeydown:e[2]||(e[2]=J(a=>t.activerInput("selectionner_audios_"+n.id),["enter"]))},te(t.$t("selectionnerAudios")),41,xie)],32),d("div",Tie,[(z(!0),Z(vt,null,Yt(n.audios,(a,l)=>(z(),Z("div",{class:"audio",key:"audio_"+l},[d("span",{class:je(["item",{lecture:n.lecture===a.id}]),role:"button",tabindex:"0",onClick:u=>r.lireAudio(a.donnees,a.id),onKeydown:J(u=>r.lireAudio(a.donnees,a.id),["enter"])},e[15]||(e[15]=[d("i",{class:"material-icons"},"play_arrow",-1)]),42,_ie),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:u=>r.supprimerAudio(l,a.id),onKeydown:J(u=>r.supprimerAudio(l,a.id),["enter"])},e[16]||(e[16]=[d("i",{class:"material-icons"},"highlight_off",-1)]),40,Sie)]))),128))]),d("label",null,te(t.$t("supprimerItemTirage")),1),d("div",Bie,[d("span",kie,[d("input",{id:"choix_oui_"+n.id,type:"radio",name:"choix_"+n.id,value:"oui",checked:n.suppression==="oui",onChange:e[5]||(e[5]=a=>n.suppression=a.target.value)},null,40,Iie),d("label",{for:"choix_oui_"+n.id,tabindex:"0",onKeydown:e[6]||(e[6]=J(a=>t.activerInput("choix_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,Die)]),d("span",Fie,[d("input",{id:"choix_non_"+n.id,type:"radio",name:"choix_"+n.id,value:"non",checked:n.suppression==="non",onChange:e[7]||(e[7]=a=>n.suppression=a.target.value)},null,40,Pie),d("label",{for:"choix_non_"+n.id,tabindex:"0",onKeydown:e[8]||(e[8]=J(a=>t.activerInput("choix_non_"+n.id),["enter"]))},te(t.$t("non")),41,Lie)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[9]||(e[9]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[10]||(e[10]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",Rie,[n.tirage!=="tirage"&&!n.tirageEnCours?(z(),Z("div",Mie,[d("span",{class:je(["item",{lecture:n.lecture===n.tirage.id}]),role:"button",tabindex:"0",onClick:e[11]||(e[11]=a=>r.lireAudioTirage(n.tirage.id)),onKeydown:e[12]||(e[12]=J(a=>r.lireAudioTirage(n.tirage.id),["enter"]))},e[17]||(e[17]=[d("i",{class:"material-icons"},"play_arrow",-1)]),34),d("audio",{controls:"",src:n.audio},null,8,Oie)])):n.tirage!=="tirage"&&n.tirageEnCours?(z(),Z("div",Uie,e[18]||(e[18]=[d("div",{class:"point"},null,-1)]))):(z(),Z("div",{key:2,class:je(["tirage texte",{"plein-ecran":n.statut==="max"}])}," ✨✨✨ ",2)),d("div",Nie,[n.items.length>1?(z(),Z("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[13]||(e[13]=(...a)=>r.tirer&&r.tirer(...a)),onKeydown:e[14]||(e[14]=J((...a)=>r.tirer&&r.tirer(...a),["enter"]))},te(t.$t("tirer")),33)):Me("",!0)])]))]),e[20]||(e[20]=d("div",{class:"conteneur-droite"},null,-1)),e[21]||(e[21]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Qie=It(yie,[["render",Hie]]),Vie={name:"PRoue",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:40,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},items:["","","",""],copieItems:[],suppression:"non",resultat:"",couleurs:["#f84","#8f4","#48f","#f8f"],roues:null,frame:null,tirage:!1,sortable:"",modale:!1,liste:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{items:this.items,suppression:this.suppression},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("roue"),this.panneau.contenu!==""&&(this.items=this.panneau.contenu.items,this.suppression=this.panneau.contenu.suppression),this.genererOptions("roue")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"?setTimeout((function(){this.sortable=new Bt(document.querySelector("#"+this.id+" .conteneur .items"),{sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",draggable:".item",handle:".item span",preventOnFilter:!0}),this.statut!=="min"&&document.querySelector("#"+this.id+" .items input").focus()}).bind(this),0):(this.copieItems=JSON.parse(JSON.stringify(this.items)),setTimeout((function(){this.canvas=document.querySelector("#roue_"+this.id),this.roues=null,this.frame=null,this.angle=0,this.tirage=!1,this.repeindre(this.angle),this.statut!=="min"&&document.querySelector("#roue_"+this.id).focus()}).bind(this),0)),window.addEventListener("resize",(function(){setTimeout((function(){this.repeindre(this.angle)}).bind(this),10)}).bind(this),!1)},methods:{generer(){this.items.length>1&&this.verifierItems()===!0&&(this.mode="lecture",this.w=70,this.h=70,this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.positionner(),this.items.forEach((function(t,e){this.items[e]=t.trim()}).bind(this)),this.items=this.items.filter(function(t){return t!==""}),this.copieItems=JSON.parse(JSON.stringify(this.items)),this.$nextTick((function(){this.sortable.destroy(),this.canvas=document.querySelector("#roue_"+this.id),this.roues=null,this.frame=null,this.angle=0,this.tirage=!1,this.repeindre(this.angle),document.querySelector("#roue_"+this.id).focus()}).bind(this)))},editer(){this.mode="edition",this.resultat="",this.roues=null,this.frame=null,this.tirage=!1,this.donnees.x=this.x,this.donnees.y=this.y,this.w=60,this.h=48,this.positionner(),this.$nextTick((function(){this.sortable=new Bt(document.querySelector("#"+this.id+" .conteneur .items"),{sort:!0,delay:0,delayOnTouchOnly:!1,touchStartThreshold:0,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",draggable:".item",handle:".item span",preventOnFilter:!0}),document.querySelector("#"+this.id+" .bouton").focus()}).bind(this))},ajouterItem(){this.items.push(""),this.$nextTick((function(){const t=document.querySelector("#"+this.id+" .panneau-roue");t.scrollTop=t.scrollHeight;const e=document.querySelectorAll("#"+this.id+" .items .item");for(let i=0;i<e.length;i++)i===this.items.length-1&&e[i].querySelector("input").focus()}).bind(this))},ajouterListe(){const t=this.liste.split(",");if(t.length>0){const e=JSON.parse(JSON.stringify(t));this.items.push(...e),this.items.forEach((function(i,s){i.trim().length>20?this.items[s]=i.trim().substring(0,20):this.items[s]=i.trim()}).bind(this)),this.items=this.items.filter(function(i){return i!==""}),this.copieItems=JSON.parse(JSON.stringify(this.items)),this.$nextTick((function(){const i=document.querySelector("#"+this.id+" .panneau-roue");i.scrollTop=i.scrollHeight;const s=document.querySelectorAll("#"+this.id+" .items .item");for(let n=0;n<s.length;n++)n===this.items.length-1&&s[n].querySelector("input").focus();this.liste="",this.modale=!1}).bind(this))}},afficherListe(){this.modale=!0,setTimeout((function(){document.querySelector("#"+this.id+" .liste textarea").focus()}).bind(this),10)},fermerListe(){this.modale=!1},verifierItems(){let t=0;return this.items.forEach(function(e){e.trim()!==""&&t++}),t>1},lancer(){!this.tirage&&this.copieItems.length>2&&(this.suppression==="oui"&&this.resultat!==""&&(this.copieItems.splice(this.resultat,1),this.roues=null,this.frame=null,this.angle=0,this.repeindre(this.angle)),this.resultat=Math.random()*this.copieItems.length|0,this.tourner(this.resultat,5e3))},repeindre(t){const e=this.convertirRem(this.w-4),i=this.convertirRem(this.h-7);let s=Math.min(e,i)/2.25|0,n,r,o,a;if(this.roues===null){this.roues=[];let u=0;for(let c=0;c<this.copieItems.length;c++){this.copieItems[c].length>u&&(u=this.copieItems[c].length);let h=document.createElement("canvas");h.width=h.height=2*s+10,r=h.getContext("2d"),o=5+s,a=5+s,n=r.createRadialGradient(o,a,0,o,a,s),n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(1,"rgba(0, 0, 0, 0.5)");for(let A=0;A<this.copieItems.length;A++){let f=2*Math.PI*A/this.copieItems.length,m=f+2*Math.PI/(A==0?1:this.copieItems.length),p=2*Math.PI*(A+.5)/this.copieItems.length;r.beginPath(),r.moveTo(o,a),r.arc(o,a,s,f,m,!1),r.fillStyle=this.couleurs[A%4],r.fill(),r.fillStyle=n,r.fill(),r.save(),A==c?(r.fillStyle="#fff",r.shadowColor="#fff",r.shadowBlur=s/20):(r.fillStyle="#aaa",r.shadowColor="#000",r.shadowBlur=s/100),u>10?r.font="bold "+s/this.copieItems.length*(this.copieItems.length/u)+"px serif":u>6?r.font="bold "+s/this.copieItems.length*(this.copieItems.length/1.5/u)+"px serif":r.font="bold "+s/this.copieItems.length*(this.copieItems.length/2/u)+"px serif",r.textAlign="center",r.textBaseline="middle",r.translate(o,a),r.rotate(p),r.fillText(this.copieItems[A],s*.55,0),r.restore()}this.roues.push(h)}}this.frame===null&&(this.frame=document.createElement("canvas"),this.frame.width=this.frame.height=10+2*s*1.25|0,r=this.frame.getContext("2d"),o=this.frame.width/2,a=this.frame.height/2,r.shadowOffsetX=s/80,r.shadowOffsetY=s/80,r.shadowBlur=s/40,r.shadowColor="rgba(0, 0, 0, 0.5)",r.beginPath(),r.arc(o,a,s*1.025,0,2*Math.PI,!0),r.arc(o,a,s*.975,0,2*Math.PI,!1),r.fillStyle="#444",r.fill(),r.shadowOffsetX=s/40,r.shadowOffsetY=s/40,n=r.createRadialGradient(o-s/7,a-s/7,0,o,a,s/3),n.addColorStop(0,"#fff"),n.addColorStop(.2,"#f44"),n.addColorStop(1,"#811"),r.fillStyle=n,r.beginPath(),r.arc(o,a,s/7,0,2*Math.PI,!1),r.fill(),r.translate(o,a),r.rotate(Math.PI-.2),r.beginPath(),r.moveTo(-s*1.1,-s*.05),r.lineTo(-s*.9,0),r.lineTo(-s*1.1,s*.05),r.fillStyle="#f44",r.fill()),this.canvas.width=e,this.canvas.height=i,o=e/2,a=i/2,r=this.canvas.getContext("2d");let l=Math.floor((-.2-t)*this.copieItems.length/(2*Math.PI))%this.copieItems.length;l<0&&(l+=this.copieItems.length),r.save(),r.translate(o,a),r.rotate(t),r.translate(-this.roues[l].width/2,-this.roues[l].height/2),r.drawImage(this.roues[l],0,0),r.restore(),r.drawImage(this.frame,o-this.frame.width/2,a-this.frame.height/2)},tourner(t,e){let i=-.2-(.5+t)*2*Math.PI/this.copieItems.length,s=this.angle-Math.floor(this.angle/(2*Math.PI))*2*Math.PI-5*2*Math.PI,n=performance.now();const r=this;function o(){let a=performance.now(),l=Math.min(1,(a-n)/e);l=3*l*l-2*l*l*l,r.angle=s+l*(i-s),r.repeindre(r.angle),l<1?requestAnimationFrame(o):r.tirage=!1}requestAnimationFrame(o),this.tirage=!0}}},$ie={class:"conteneur panneau-roue"},jie={key:0,class:"contenu"},zie={class:"items"},Kie=["value","onInput"],Gie={class:"boutons"},qie=["title"],Wie=["title"],Yie={class:"choix"},Xie={class:"oui"},Jie=["id","name","checked"],Zie=["for"],ene={class:"non"},tne=["id","name","checked"],ine=["for"],nne={class:"actions"},sne={key:1,class:"contenu"},rne=["id"],one={key:0,class:"liste"},ane={class:"consigne"},lne=["placeholder"],une={class:"actions"};function cne(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[20]||(e[20]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",$ie,[n.mode==="edition"?(z(),Z("div",jie,[d("label",null,te(t.$t("itemsRoue")),1),d("div",zie,[(z(!0),Z(vt,null,Yt(n.items,(a,l)=>(z(),Z("div",{class:"item",key:"item_"+l},[e[17]||(e[17]=d("span",null,[d("i",{class:"material-icons"},"drag_handle")],-1)),d("input",{type:"search",value:a,onInput:u=>n.items[l]=u.target.value,maxlength:20},null,40,Kie)]))),128))]),d("div",Gie,[d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterItem"),onClick:e[0]||(e[0]=(...a)=>r.ajouterItem&&r.ajouterItem(...a)),onKeydown:e[1]||(e[1]=J((...a)=>r.ajouterItem&&r.ajouterItem(...a),["enter"]))},e[18]||(e[18]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),40,qie),d("span",{class:"bouton-secondaire",role:"button",tabindex:"0",title:t.$t("ajouterListe"),onClick:e[2]||(e[2]=(...a)=>r.afficherListe&&r.afficherListe(...a)),onKeydown:e[3]||(e[3]=J((...a)=>r.afficherListe&&r.afficherListe(...a),["enter"]))},e[19]||(e[19]=[d("i",{class:"material-icons"},"list_alt",-1)]),40,Wie)]),d("label",null,te(t.$t("supprimerItemTirage")),1),d("div",Yie,[d("span",Xie,[d("input",{id:"choix_oui_"+n.id,type:"radio",name:"choix_"+n.id,value:"oui",checked:n.suppression==="oui",onChange:e[4]||(e[4]=a=>n.suppression=a.target.value)},null,40,Jie),d("label",{for:"choix_oui_"+n.id,tabindex:"0",onKeydown:e[5]||(e[5]=J(a=>t.activerInput("choix_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,Zie)]),d("span",ene,[d("input",{id:"choix_non_"+n.id,type:"radio",name:"choix_"+n.id,value:"non",checked:n.suppression==="non",onChange:e[6]||(e[6]=a=>n.suppression=a.target.value)},null,40,tne),d("label",{for:"choix_non_"+n.id,tabindex:"0",onKeydown:e[7]||(e[7]=J(a=>t.activerInput("choix_non_"+n.id),["enter"]))},te(t.$t("non")),41,ine)])]),d("div",nne,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[9]||(e[9]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("div",sne,[d("canvas",{id:"roue_"+n.id,tabindex:"0",onClick:e[10]||(e[10]=(...a)=>r.lancer&&r.lancer(...a)),onKeydown:e[11]||(e[11]=J((...a)=>r.lancer&&r.lancer(...a),["enter"]))},null,40,rne)])),Vt(H3,{name:"fondu"},{default:Ct(()=>[n.modale?(z(),Z("div",one,[d("span",ane,te(t.$t("consigneListeMots")),1),d("textarea",{onInput:e[12]||(e[12]=a=>n.liste=a.target.value),placeholder:t.$t("exempleListe")},null,40,lne),d("div",une,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[13]||(e[13]=(...a)=>r.fermerListe&&r.fermerListe(...a)),onKeydown:e[14]||(e[14]=J((...a)=>r.fermerListe&&r.fermerListe(...a),["enter"]))},te(t.$t("annuler")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[15]||(e[15]=(...a)=>r.ajouterListe&&r.ajouterListe(...a)),onKeydown:e[16]||(e[16]=J((...a)=>r.ajouterListe&&r.ajouterListe(...a),["enter"]))},te(t.$t("ajouter")),33)])])):Me("",!0)]),_:1})]),e[21]||(e[21]=d("div",{class:"conteneur-droite"},null,-1)),e[22]||(e[22]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const dne=It(Vie,[["render",cne]]),hne={name:"PHistoire",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:22,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},pictogrammes:["aeroport.png","amour.png","ampoule.png","anniversaire.png","appareil-photo.png","argent.png","autobus.png","automne.png","avalanche.png","baleine.png","ballon-air.png","ballon.png","banque.png","bar.png","bar-restaurant.png","basket-fauteuil.png","bateau-pirate.png","bateau.png","bibliotheque.png","bicyclette.png","big-ben.png","bijoux.png","boite.png","bouee-sauvetage.png","boulangerie.png","bouteille.png","boutique-de-cadeaux.png","buvette.png","cafe.png","camion-de-pompiers.png","camping-car.png","canard-plastique.png","canard.png","capitole.png","carafe.png","carte.png","cartes.png","caserne-de-pompiers.png","casque-de-protection.png","cassette-video.png","chaise.png","champignons.png","chapeau-melon.png","chapiteau.png","charcuterie.png","chateau.png","chat.png","chaussures-de-montagne.png","chaussures-de-sport.png","cheval.png","chien.png","chocolat.png","cinema.png","ciseaux.png","cles.png","coccinelle.png","cocotier.png","coffre-fort.png","coffre.png","colisee.png","commissariat.png","console.png","coquillages.png","courses.png","couverts.png","crevaison.png","crocodile.png","cygne.png","danseurs.png","dinosaure-peluche.png","diplôme.png","disque.png","donut.png","dromadaire.png","eau-gazeuse.png","eau.png","echiquier.png","ecureuil.png","elephant.png","eolienne.png","eruption-volcanique.png","essaim-abeilles.png","ete.png","etoile-de-mer.png","fer-cheval.png","fete.png","feu.png","flan-caramel.png","fleuve.png","foret.png","fromage.png","fruiterie.png","fruits-de-mer.png","fruits.png","fusee.png","galerie-d-art.png","gateau-creme.png","guitare.png","hamburger-frites.png","hiver.png","hopital.png","hotel.png","igloo.png","jo.png","jumelles.png","jus-de-pomme.png","jus-d-orange.png","kangourou.png","kayak.png","lait-amande.png","lait.png","lampe-de-poche.png","lampe.png","legumes.png","lentilles.png","librairie.png","lion.png","lit.png","longue-vue.png","loup.png","machine-a-laver.png","magasin-de-bijoux.png","magasin-de-bonbons.png","magasin-de-fleurs.png","magasin-de-glaces.png","magasin-de-sport.png","magasin-de-vetements.png","maison.png","manette.png","masques.png","mate.png","matin.png","medaille-argent.png","medaille-bronze.png","medaille-or.png","metro.png","monospace.png","montagne.png","montre.png","moto.png","muraille-chine.png","musique.png","noel.png","nuage.png","nuit.png","oeufs-paques.png","oeufs.png","oie.png","opera-sydney.png","orage.png","ordinateur.png","ordinateur-portable.png","ours.png","ovni.png","palmier.png","parapluie.png","parasol.png","parc.png","parfumerie.png","pates.png","patins.png","pendule.png","phare.png","pharmacie.png","pile.png","pingouin.png","piscine.png","pizzeria.png","pluie.png","podium.png","poisson.png","pomme-de-pin.png","portable.png","porte-de-brandebourg.png","poubelle.png","poulet.png","printemps.png","puzzle.png","quilles.png","refrigerateur.png","reveil-matin.png","rose.png","sablier.png","sac-sport.png","sagrada-familia.png","salon-de-coiffure.png","sandwich.png","sapin.png","scooter.png","scorpion.png","serpent.png","serviette-de-bain.png","sifflet.png","soja.png","soleil.png","sphynx.png","sport.png","statue-de-la-liberte.png","supermarche.png","table-de-pique-nique.png","tablette.png","taj-mahal.png","talkies-walkies.png","tarentule.png","tarte.png","taxi.png","tempete.png","tente.png","the-glace.png","the.png","tigre.png","tong.png","tonneau.png","torche.png","tornade.png","tortue.png","tour-eiffel.png","train.png","trottinette.png","tv.png","vache.png","valise.png","viande.png","village.png","ville.png","vin.png","voiture-de-sport.png","voiture.png"],images:5,selection:[]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:this.selection,w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("histoire"),this.panneau.contenu!==""&&(this.selection=this.panneau.contenu,this.selection.length>0&&(this.images=this.selection.length)),this.genererOptions("histoire")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.images===5?setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0):this.mode==="lecture"&&this.generer()},methods:{generer(){if(this.mode="lecture",this.images>2&&this.images<11){switch(this.images){case 3:this.w=52,this.h=32;break;case 4:this.w=69,this.h=32;break;case 5:this.w=86,this.h=32;break;case 6:this.w=103,this.h=32;break;case 7:case 8:this.w=69,this.h=48;break;case 9:case 10:this.w=86,this.h=48;break}this.selection.length===0&&this.selectionner(),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),setTimeout((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this),0),this.positionner()}},editer(){this.mode="edition",this.selection=[],this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=22,this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()},selectionner(){const t=[];for(let e=0;e<this.images;){const i=Math.floor(Math.random()*this.pictogrammes.length);t.includes(this.pictogrammes[i])!==!0&&(t.push(this.pictogrammes[i]),e++)}this.selection=t}}},Ane={class:"conteneur panneau-histoire"},fne={key:0,class:"contenu"},pne=["for"],gne=["id","value"],mne={key:1,class:"contenu"},bne={class:"histoire"},vne=["src","alt"],yne={href:"https://arasaac.org",target:"_blank"};function wne(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[6]||(e[6]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Ane,[n.mode==="edition"?(z(),Z("div",fne,[d("label",{for:"nombre_images_"+n.id},te(t.$t("nombreImages"))+" (3 - 10)",9,pne),d("input",{id:"nombre_images_"+n.id,type:"number",value:n.images,min:3,max:10,onInput:e[0]||(e[0]=a=>n.images=parseInt(a.target.value)),onKeydown:e[1]||(e[1]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},null,40,gne),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[3]||(e[3]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",mne,[d("div",bne,[(z(!0),Z(vt,null,Yt(n.selection,(a,l)=>(z(),Z("img",{src:"./static/img/pictogrammes/"+a,key:"image_"+l,alt:a},null,8,vne))),128))]),d("div",{class:je(["source",{"avec-focus":n.statut==="focus"}])},[d("a",yne,te(t.$t("sourceImages"))+" : ARASAAC. Licence : CC (BY-NC-SA)",1)],2),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.selectionner&&r.selectionner(...a)),onKeydown:e[5]||(e[5]=J((...a)=>r.selectionner&&r.selectionner(...a),["enter"]))},te(t.$t("generer")),33)]))]),e[7]||(e[7]=d("div",{class:"conteneur-droite"},null,-1)),e[8]||(e[8]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Cne=It(hne,[["render",wne]]);var Nh={exports:{}},Ene=Nh.exports,g_;function xne(){return g_||(g_=1,function(t,e){(function(i,s){t.exports=s()})(Ene,function(){function i(y,b){var B=Object.keys(y);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(y);b&&(N=N.filter(function(j){return Object.getOwnPropertyDescriptor(y,j).enumerable})),B.push.apply(B,N)}return B}function s(y){for(var b=1;b<arguments.length;b++){var B=arguments[b]!=null?arguments[b]:{};b%2?i(Object(B),!0).forEach(function(N){l(y,N,B[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(B)):i(Object(B)).forEach(function(N){Object.defineProperty(y,N,Object.getOwnPropertyDescriptor(B,N))})}return y}function n(y){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},n(y)}function r(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function o(y,b){for(var B=0;B<b.length;B++){var N=b[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,p(N.key),N)}}function a(y,b,B){return b&&o(y.prototype,b),Object.defineProperty(y,"prototype",{writable:!1}),y}function l(y,b,B){return(b=p(b))in y?Object.defineProperty(y,b,{value:B,enumerable:!0,configurable:!0,writable:!0}):y[b]=B,y}function u(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),b&&h(y,b)}function c(y){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},c(y)}function h(y,b){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,N){return B.__proto__=N,B},h(y,b)}function A(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function f(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var B,N=c(y);if(b){var j=c(this).constructor;B=Reflect.construct(N,arguments,j)}else B=N.apply(this,arguments);return function(q,ne){if(ne&&(typeof ne=="object"||typeof ne=="function"))return ne;if(ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(q)}(this,B)}}function m(){return m=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(y,b,B){var N=function(q,ne){for(;!Object.prototype.hasOwnProperty.call(q,ne)&&(q=c(q))!==null;);return q}(y,b);if(N){var j=Object.getOwnPropertyDescriptor(N,b);return j.get?j.get.call(arguments.length<3?y:B):j.value}},m.apply(this,arguments)}function p(y){var b=function(B,N){if(typeof B!="object"||B===null)return B;var j=B[Symbol.toPrimitive];if(j!==void 0){var q=j.call(B,N);if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(y,"string");return typeof b=="symbol"?b:b+""}var x=function(y){return!(!y||!y.Window)&&y instanceof y.Window},C=void 0,g=void 0;function w(y){C=y;var b=y.document.createTextNode("");b.ownerDocument!==y.document&&typeof y.wrap=="function"&&y.wrap(b)===b&&(y=y.wrap(y)),g=y}function S(y){return x(y)?y:(y.ownerDocument||y).defaultView||g.window}typeof window<"u"&&window&&w(window);var I=function(y){return!!y&&n(y)==="object"},O=function(y){return typeof y=="function"},U={window:function(y){return y===g||x(y)},docFrag:function(y){return I(y)&&y.nodeType===11},object:I,func:O,number:function(y){return typeof y=="number"},bool:function(y){return typeof y=="boolean"},string:function(y){return typeof y=="string"},element:function(y){if(!y||n(y)!=="object")return!1;var b=S(y)||g;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?y instanceof Element||y instanceof b.Element:y.nodeType===1&&typeof y.nodeName=="string"},plainObject:function(y){return I(y)&&!!y.constructor&&/function Object\b/.test(y.constructor.toString())},array:function(y){return I(y)&&y.length!==void 0&&O(y.splice)}};function $(y){var b=y.interaction;if(b.prepared.name==="drag"){var B=b.prepared.axis;B==="x"?(b.coords.cur.page.y=b.coords.start.page.y,b.coords.cur.client.y=b.coords.start.client.y,b.coords.velocity.client.y=0,b.coords.velocity.page.y=0):B==="y"&&(b.coords.cur.page.x=b.coords.start.page.x,b.coords.cur.client.x=b.coords.start.client.x,b.coords.velocity.client.x=0,b.coords.velocity.page.x=0)}}function k(y){var b=y.iEvent,B=y.interaction;if(B.prepared.name==="drag"){var N=B.prepared.axis;if(N==="x"||N==="y"){var j=N==="x"?"y":"x";b.page[j]=B.coords.start.page[j],b.client[j]=B.coords.start.client[j],b.delta[j]=0}}}var P={id:"actions/drag",install:function(y){var b=y.actions,B=y.Interactable,N=y.defaults;B.prototype.draggable=P.draggable,b.map.drag=P,b.methodDict.drag="draggable",N.actions.drag=P.defaults},listeners:{"interactions:before-action-move":$,"interactions:action-resume":$,"interactions:action-move":k,"auto-start:check":function(y){var b=y.interaction,B=y.interactable,N=y.buttons,j=B.options.drag;if(j&&j.enabled&&(!b.pointerIsDown||!/mouse|pointer/.test(b.pointerType)||(N&B.options.drag.mouseButtons)!=0))return y.action={name:"drag",axis:j.lockAxis==="start"?j.startAxis:j.lockAxis},!1}},draggable:function(y){return U.object(y)?(this.options.drag.enabled=y.enabled!==!1,this.setPerAction("drag",y),this.setOnEvents("drag",y),/^(xy|x|y|start)$/.test(y.lockAxis)&&(this.options.drag.lockAxis=y.lockAxis),/^(xy|x|y)$/.test(y.startAxis)&&(this.options.drag.startAxis=y.startAxis),this):U.bool(y)?(this.options.drag.enabled=y,this):this.options.drag},beforeMove:$,move:k,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(y){return y.search("drag")===0}},T=P,R={init:function(y){var b=y;R.document=b.document,R.DocumentFragment=b.DocumentFragment||E,R.SVGElement=b.SVGElement||E,R.SVGSVGElement=b.SVGSVGElement||E,R.SVGElementInstance=b.SVGElementInstance||E,R.Element=b.Element||E,R.HTMLElement=b.HTMLElement||R.Element,R.Event=b.Event,R.Touch=b.Touch||E,R.PointerEvent=b.PointerEvent||b.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function E(){}var _=R,F={init:function(y){var b=_.Element,B=y.navigator||{};F.supportsTouch="ontouchstart"in y||U.func(y.DocumentTouch)&&_.document instanceof y.DocumentTouch,F.supportsPointerEvent=B.pointerEnabled!==!1&&!!_.PointerEvent,F.isIOS=/iP(hone|od|ad)/.test(B.platform),F.isIOS7=/iP(hone|od|ad)/.test(B.platform)&&/OS 7[^\d]/.test(B.appVersion),F.isIe9=/MSIE 9/.test(B.userAgent),F.isOperaMobile=B.appName==="Opera"&&F.supportsTouch&&/Presto/.test(B.userAgent),F.prefixedMatchesSelector="matches"in b.prototype?"matches":"webkitMatchesSelector"in b.prototype?"webkitMatchesSelector":"mozMatchesSelector"in b.prototype?"mozMatchesSelector":"oMatchesSelector"in b.prototype?"oMatchesSelector":"msMatchesSelector",F.pEventTypes=F.supportsPointerEvent?_.PointerEvent===y.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,F.wheelEvent=_.document&&"onmousewheel"in _.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},V=F;function Q(y,b){if(y.contains)return y.contains(b);for(;b;){if(b===y)return!0;b=b.parentNode}return!1}function G(y,b){for(;U.element(y);){if(ee(y,b))return y;y=Y(y)}return null}function Y(y){var b=y.parentNode;if(U.docFrag(b)){for(;(b=b.host)&&U.docFrag(b););return b}return b}function ee(y,b){return g!==C&&(b=b.replace(/\/deep\//g," ")),y[V.prefixedMatchesSelector](b)}var W=function(y){return y.parentNode||y.host};function ge(y,b){for(var B,N=[],j=y;(B=W(j))&&j!==b&&B!==j.ownerDocument;)N.unshift(j),j=B;return N}function ce(y,b,B){for(;U.element(y);){if(ee(y,b))return!0;if((y=Y(y))===B)return ee(y,b)}return!1}function we(y){return y.correspondingUseElement||y}function Ce(y){var b=y instanceof _.SVGElement?y.getBoundingClientRect():y.getClientRects()[0];return b&&{left:b.left,right:b.right,top:b.top,bottom:b.bottom,width:b.width||b.right-b.left,height:b.height||b.bottom-b.top}}function Oe(y){var b,B=Ce(y);if(!V.isIOS7&&B){var N={x:(b=(b=S(y))||g).scrollX||b.document.documentElement.scrollLeft,y:b.scrollY||b.document.documentElement.scrollTop};B.left+=N.x,B.right+=N.x,B.top+=N.y,B.bottom+=N.y}return B}function de(y){for(var b=[];y;)b.push(y),y=Y(y);return b}function Te(y){return!!U.string(y)&&(_.document.querySelector(y),!0)}function xe(y,b){for(var B in b)y[B]=b[B];return y}function He(y,b,B){return y==="parent"?Y(B):y==="self"?b.getRect(B):G(B,y)}function $e(y,b,B,N){var j=y;return U.string(j)?j=He(j,b,B):U.func(j)&&(j=j.apply(void 0,N)),U.element(j)&&(j=Oe(j)),j}function oe(y){return y&&{x:"x"in y?y.x:y.left,y:"y"in y?y.y:y.top}}function Ae(y){return!y||"x"in y&&"y"in y||((y=xe({},y)).x=y.left||0,y.y=y.top||0,y.width=y.width||(y.right||0)-y.x,y.height=y.height||(y.bottom||0)-y.y),y}function De(y,b,B){y.left&&(b.left+=B.x),y.right&&(b.right+=B.x),y.top&&(b.top+=B.y),y.bottom&&(b.bottom+=B.y),b.width=b.right-b.left,b.height=b.bottom-b.top}function Ie(y,b,B){var N=B&&y.options[B];return oe($e(N&&N.origin||y.options.origin,y,b,[y&&b]))||{x:0,y:0}}function Re(y,b){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(fe){return!0},N=arguments.length>3?arguments[3]:void 0;if(N=N||{},U.string(y)&&y.search(" ")!==-1&&(y=X(y)),U.array(y))return y.forEach(function(fe){return Re(fe,b,B,N)}),N;if(U.object(y)&&(b=y,y=""),U.func(b)&&B(y))N[y]=N[y]||[],N[y].push(b);else if(U.array(b))for(var j=0,q=b;j<q.length;j++){var ne=q[j];Re(y,ne,B,N)}else if(U.object(b))for(var re in b)Re(X(re).map(function(fe){return"".concat(y).concat(fe)}),b[re],B,N);return N}function X(y){return y.trim().split(/ +/)}var ae=function(y,b){return Math.sqrt(y*y+b*b)},le=["webkit","moz"];function ye(y,b){y.__set||(y.__set={});var B=function(j){if(le.some(function(q){return j.indexOf(q)===0}))return 1;typeof y[j]!="function"&&j!=="__set"&&Object.defineProperty(y,j,{get:function(){return j in y.__set?y.__set[j]:y.__set[j]=b[j]},set:function(q){y.__set[j]=q},configurable:!0})};for(var N in b)B(N);return y}function ke(y,b){y.page=y.page||{},y.page.x=b.page.x,y.page.y=b.page.y,y.client=y.client||{},y.client.x=b.client.x,y.client.y=b.client.y,y.timeStamp=b.timeStamp}function Qe(y){y.page.x=0,y.page.y=0,y.client.x=0,y.client.y=0}function Ve(y){return y instanceof _.Event||y instanceof _.Touch}function _e(y,b,B){return y=y||"page",(B=B||{}).x=b[y+"X"],B.y=b[y+"Y"],B}function Pe(y,b){return b=b||{x:0,y:0},V.isOperaMobile&&Ve(y)?(_e("screen",y,b),b.x+=window.scrollX,b.y+=window.scrollY):_e("page",y,b),b}function Ye(y){return U.number(y.pointerId)?y.pointerId:y.identifier}function lt(y,b,B){var N=b.length>1?Dt(b):b[0];Pe(N,y.page),function(j,q){q=q||{},V.isOperaMobile&&Ve(j)?_e("screen",j,q):_e("client",j,q)}(N,y.client),y.timeStamp=B}function ut(y){var b=[];return U.array(y)?(b[0]=y[0],b[1]=y[1]):y.type==="touchend"?y.touches.length===1?(b[0]=y.touches[0],b[1]=y.changedTouches[0]):y.touches.length===0&&(b[0]=y.changedTouches[0],b[1]=y.changedTouches[1]):(b[0]=y.touches[0],b[1]=y.touches[1]),b}function Dt(y){for(var b={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},B=0;B<y.length;B++){var N=y[B];for(var j in b)b[j]+=N[j]}for(var q in b)b[q]/=y.length;return b}function At(y){if(!y.length)return null;var b=ut(y),B=Math.min(b[0].pageX,b[1].pageX),N=Math.min(b[0].pageY,b[1].pageY),j=Math.max(b[0].pageX,b[1].pageX),q=Math.max(b[0].pageY,b[1].pageY);return{x:B,y:N,left:B,top:N,right:j,bottom:q,width:j-B,height:q-N}}function Rt(y,b){var B=b+"X",N=b+"Y",j=ut(y),q=j[0][B]-j[1][B],ne=j[0][N]-j[1][N];return ae(q,ne)}function pt(y,b){var B=b+"X",N=b+"Y",j=ut(y),q=j[1][B]-j[0][B],ne=j[1][N]-j[0][N];return 180*Math.atan2(ne,q)/Math.PI}function yt(y){return U.string(y.pointerType)?y.pointerType:U.number(y.pointerType)?[void 0,void 0,"touch","pen","mouse"][y.pointerType]:/touch/.test(y.type||"")||y instanceof _.Touch?"touch":"mouse"}function jt(y){var b=U.func(y.composedPath)?y.composedPath():y.path;return[we(b?b[0]:y.target),we(y.currentTarget)]}var Tt=function(){function y(b){r(this,y),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=b}return a(y,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),y}();Object.defineProperty(Tt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ni=function(y,b){for(var B=0;B<b.length;B++){var N=b[B];y.push(N)}return y},Pi=function(y){return ni([],y)},hn=function(y,b){for(var B=0;B<y.length;B++)if(b(y[B],B,y))return B;return-1},rn=function(y,b){return y[hn(y,b)]},xn=function(y){u(B,y);var b=f(B);function B(N,j,q){var ne;r(this,B),(ne=b.call(this,j._interaction)).dropzone=void 0,ne.dragEvent=void 0,ne.relatedTarget=void 0,ne.draggable=void 0,ne.propagationStopped=!1,ne.immediatePropagationStopped=!1;var re=q==="dragleave"?N.prev:N.cur,fe=re.element,Se=re.dropzone;return ne.type=q,ne.target=fe,ne.currentTarget=fe,ne.dropzone=Se,ne.dragEvent=j,ne.relatedTarget=j.target,ne.draggable=j.interactable,ne.timeStamp=j.timeStamp,ne}return a(B,[{key:"reject",value:function(){var N=this,j=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&j.cur.dropzone===this.dropzone&&j.cur.element===this.target)if(j.prev.dropzone=this.dropzone,j.prev.element=this.target,j.rejected=!0,j.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var q=j.activeDrops,ne=hn(q,function(fe){var Se=fe.dropzone,pe=fe.element;return Se===N.dropzone&&pe===N.target});j.activeDrops.splice(ne,1);var re=new B(j,this.dragEvent,"dropdeactivate");re.dropzone=this.dropzone,re.target=this.target,this.dropzone.fire(re)}else this.dropzone.fire(new B(j,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),B}(Tt);function ie(y,b){for(var B=0,N=y.slice();B<N.length;B++){var j=N[B],q=j.dropzone,ne=j.element;b.dropzone=q,b.target=ne,q.fire(b),b.propagationStopped=b.immediatePropagationStopped=!1}}function se(y,b){for(var B=function(q,ne){for(var re=[],fe=0,Se=q.interactables.list;fe<Se.length;fe++){var pe=Se[fe];if(pe.options.drop.enabled){var Le=pe.options.drop.accept;if(!(U.element(Le)&&Le!==ne||U.string(Le)&&!ee(ne,Le)||U.func(Le)&&!Le({dropzone:pe,draggableElement:ne})))for(var ze=0,We=pe.getAllElements();ze<We.length;ze++){var Ze=We[ze];Ze!==ne&&re.push({dropzone:pe,element:Ze,rect:pe.getRect(Ze)})}}}return re}(y,b),N=0;N<B.length;N++){var j=B[N];j.rect=j.dropzone.getRect(j.element)}return B}function Ee(y,b,B){for(var N=y.dropState,j=y.interactable,q=y.element,ne=[],re=0,fe=N.activeDrops;re<fe.length;re++){var Se=fe[re],pe=Se.dropzone,Le=Se.element,ze=Se.rect,We=pe.dropCheck(b,B,j,q,Le,ze);ne.push(We?Le:null)}var Ze=function(it){for(var mt,dt,wt,Ot=[],Xt=0;Xt<it.length;Xt++){var St=it[Xt],Ut=it[mt];if(St&&Xt!==mt)if(Ut){var Tn=W(St),_i=W(Ut);if(Tn!==St.ownerDocument)if(_i!==St.ownerDocument)if(Tn!==_i){Ot=Ot.length?Ot:ge(Ut);var Mn=void 0;if(Ut instanceof _.HTMLElement&&St instanceof _.SVGElement&&!(St instanceof _.SVGSVGElement)){if(St===_i)continue;Mn=St.ownerSVGElement}else Mn=St;for(var ys=ge(Mn,Ut.ownerDocument),Us=0;ys[Us]&&ys[Us]===Ot[Us];)Us++;var Iu=[ys[Us-1],ys[Us],Ot[Us]];if(Iu[0])for(var Br=Iu[0].lastChild;Br;){if(Br===Iu[1]){mt=Xt,Ot=ys;break}if(Br===Iu[2])break;Br=Br.previousSibling}}else wt=Ut,(parseInt(S(dt=St).getComputedStyle(dt).zIndex,10)||0)>=(parseInt(S(wt).getComputedStyle(wt).zIndex,10)||0)&&(mt=Xt);else mt=Xt}else mt=Xt}return mt}(ne);return N.activeDrops[Ze]||null}function Be(y,b,B){var N=y.dropState,j={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return B.type==="dragstart"&&(j.activate=new xn(N,B,"dropactivate"),j.activate.target=null,j.activate.dropzone=null),B.type==="dragend"&&(j.deactivate=new xn(N,B,"dropdeactivate"),j.deactivate.target=null,j.deactivate.dropzone=null),N.rejected||(N.cur.element!==N.prev.element&&(N.prev.dropzone&&(j.leave=new xn(N,B,"dragleave"),B.dragLeave=j.leave.target=N.prev.element,B.prevDropzone=j.leave.dropzone=N.prev.dropzone),N.cur.dropzone&&(j.enter=new xn(N,B,"dragenter"),B.dragEnter=N.cur.element,B.dropzone=N.cur.dropzone)),B.type==="dragend"&&N.cur.dropzone&&(j.drop=new xn(N,B,"drop"),B.dropzone=N.cur.dropzone,B.relatedTarget=N.cur.element),B.type==="dragmove"&&N.cur.dropzone&&(j.move=new xn(N,B,"dropmove"),B.dropzone=N.cur.dropzone)),j}function Xe(y,b){var B=y.dropState,N=B.activeDrops,j=B.cur,q=B.prev;b.leave&&q.dropzone.fire(b.leave),b.enter&&j.dropzone.fire(b.enter),b.move&&j.dropzone.fire(b.move),b.drop&&j.dropzone.fire(b.drop),b.deactivate&&ie(N,b.deactivate),B.prev.dropzone=j.dropzone,B.prev.element=j.element}function tt(y,b){var B=y.interaction,N=y.iEvent,j=y.event;if(N.type==="dragmove"||N.type==="dragend"){var q=B.dropState;b.dynamicDrop&&(q.activeDrops=se(b,B.element));var ne=N,re=Ee(B,ne,j);q.rejected=q.rejected&&!!re&&re.dropzone===q.cur.dropzone&&re.element===q.cur.element,q.cur.dropzone=re&&re.dropzone,q.cur.element=re&&re.element,q.events=Be(B,0,ne)}}var _t={id:"actions/drop",install:function(y){var b=y.actions,B=y.interactStatic,N=y.Interactable,j=y.defaults;y.usePlugin(T),N.prototype.dropzone=function(q){return function(ne,re){if(U.object(re)){if(ne.options.drop.enabled=re.enabled!==!1,re.listeners){var fe=Re(re.listeners),Se=Object.keys(fe).reduce(function(Le,ze){return Le[/^(enter|leave)/.test(ze)?"drag".concat(ze):/^(activate|deactivate|move)/.test(ze)?"drop".concat(ze):ze]=fe[ze],Le},{}),pe=ne.options.drop.listeners;pe&&ne.off(pe),ne.on(Se),ne.options.drop.listeners=Se}return U.func(re.ondrop)&&ne.on("drop",re.ondrop),U.func(re.ondropactivate)&&ne.on("dropactivate",re.ondropactivate),U.func(re.ondropdeactivate)&&ne.on("dropdeactivate",re.ondropdeactivate),U.func(re.ondragenter)&&ne.on("dragenter",re.ondragenter),U.func(re.ondragleave)&&ne.on("dragleave",re.ondragleave),U.func(re.ondropmove)&&ne.on("dropmove",re.ondropmove),/^(pointer|center)$/.test(re.overlap)?ne.options.drop.overlap=re.overlap:U.number(re.overlap)&&(ne.options.drop.overlap=Math.max(Math.min(1,re.overlap),0)),"accept"in re&&(ne.options.drop.accept=re.accept),"checker"in re&&(ne.options.drop.checker=re.checker),ne}return U.bool(re)?(ne.options.drop.enabled=re,ne):ne.options.drop}(this,q)},N.prototype.dropCheck=function(q,ne,re,fe,Se,pe){return function(Le,ze,We,Ze,it,mt,dt){var wt=!1;if(!(dt=dt||Le.getRect(mt)))return!!Le.options.drop.checker&&Le.options.drop.checker(ze,We,wt,Le,mt,Ze,it);var Ot=Le.options.drop.overlap;if(Ot==="pointer"){var Xt=Ie(Ze,it,"drag"),St=Pe(ze);St.x+=Xt.x,St.y+=Xt.y;var Ut=St.x>dt.left&&St.x<dt.right,Tn=St.y>dt.top&&St.y<dt.bottom;wt=Ut&&Tn}var _i=Ze.getRect(it);if(_i&&Ot==="center"){var Mn=_i.left+_i.width/2,ys=_i.top+_i.height/2;wt=Mn>=dt.left&&Mn<=dt.right&&ys>=dt.top&&ys<=dt.bottom}return _i&&U.number(Ot)&&(wt=Math.max(0,Math.min(dt.right,_i.right)-Math.max(dt.left,_i.left))*Math.max(0,Math.min(dt.bottom,_i.bottom)-Math.max(dt.top,_i.top))/(_i.width*_i.height)>=Ot),Le.options.drop.checker&&(wt=Le.options.drop.checker(ze,We,wt,Le,mt,Ze,it)),wt}(this,q,ne,re,fe,Se,pe)},B.dynamicDrop=function(q){return U.bool(q)?(y.dynamicDrop=q,B):y.dynamicDrop},xe(b.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),b.methodDict.drop="dropzone",y.dynamicDrop=!1,j.actions.drop=_t.defaults},listeners:{"interactions:before-action-start":function(y){var b=y.interaction;b.prepared.name==="drag"&&(b.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(y,b){var B=y.interaction,N=(y.event,y.iEvent);if(B.prepared.name==="drag"){var j=B.dropState;j.activeDrops=[],j.events={},j.activeDrops=se(b,B.element),j.events=Be(B,0,N),j.events.activate&&(ie(j.activeDrops,j.events.activate),b.fire("actions/drop:start",{interaction:B,dragEvent:N}))}},"interactions:action-move":tt,"interactions:after-action-move":function(y,b){var B=y.interaction,N=y.iEvent;if(B.prepared.name==="drag"){var j=B.dropState;Xe(B,j.events),b.fire("actions/drop:move",{interaction:B,dragEvent:N}),j.events={}}},"interactions:action-end":function(y,b){if(y.interaction.prepared.name==="drag"){var B=y.interaction,N=y.iEvent;tt(y,b),Xe(B,B.dropState.events),b.fire("actions/drop:end",{interaction:B,dragEvent:N})}},"interactions:stop":function(y){var b=y.interaction;if(b.prepared.name==="drag"){var B=b.dropState;B&&(B.activeDrops=null,B.events=null,B.cur.dropzone=null,B.cur.element=null,B.prev.dropzone=null,B.prev.element=null,B.rejected=!1)}}},getActiveDrops:se,getDrop:Ee,getDropEvents:Be,fireDropEvents:Xe,filterEventType:function(y){return y.search("drag")===0||y.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},si=_t;function Wi(y){var b=y.interaction,B=y.iEvent,N=y.phase;if(b.prepared.name==="gesture"){var j=b.pointers.map(function(Se){return Se.pointer}),q=N==="start",ne=N==="end",re=b.interactable.options.deltaSource;if(B.touches=[j[0],j[1]],q)B.distance=Rt(j,re),B.box=At(j),B.scale=1,B.ds=0,B.angle=pt(j,re),B.da=0,b.gesture.startDistance=B.distance,b.gesture.startAngle=B.angle;else if(ne||b.pointers.length<2){var fe=b.prevEvent;B.distance=fe.distance,B.box=fe.box,B.scale=fe.scale,B.ds=0,B.angle=fe.angle,B.da=0}else B.distance=Rt(j,re),B.box=At(j),B.scale=B.distance/b.gesture.startDistance,B.angle=pt(j,re),B.ds=B.scale-b.gesture.scale,B.da=B.angle-b.gesture.angle;b.gesture.distance=B.distance,b.gesture.angle=B.angle,U.number(B.scale)&&B.scale!==1/0&&!isNaN(B.scale)&&(b.gesture.scale=B.scale)}}var jn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(y){var b=y.actions,B=y.Interactable,N=y.defaults;B.prototype.gesturable=function(j){return U.object(j)?(this.options.gesture.enabled=j.enabled!==!1,this.setPerAction("gesture",j),this.setOnEvents("gesture",j),this):U.bool(j)?(this.options.gesture.enabled=j,this):this.options.gesture},b.map.gesture=jn,b.methodDict.gesture="gesturable",N.actions.gesture=jn.defaults},listeners:{"interactions:action-start":Wi,"interactions:action-move":Wi,"interactions:action-end":Wi,"interactions:new":function(y){y.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(y){if(!(y.interaction.pointers.length<2)){var b=y.interactable.options.gesture;if(b&&b.enabled)return y.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(y){return y.search("gesture")===0}},Ls=jn;function sr(y,b,B,N,j,q,ne){if(!b)return!1;if(b===!0){var re=U.number(q.width)?q.width:q.right-q.left,fe=U.number(q.height)?q.height:q.bottom-q.top;if(ne=Math.min(ne,Math.abs((y==="left"||y==="right"?re:fe)/2)),re<0&&(y==="left"?y="right":y==="right"&&(y="left")),fe<0&&(y==="top"?y="bottom":y==="bottom"&&(y="top")),y==="left"){var Se=re>=0?q.left:q.right;return B.x<Se+ne}if(y==="top"){var pe=fe>=0?q.top:q.bottom;return B.y<pe+ne}if(y==="right")return B.x>(re>=0?q.right:q.left)-ne;if(y==="bottom")return B.y>(fe>=0?q.bottom:q.top)-ne}return!!U.element(N)&&(U.element(b)?b===N:ce(N,b,j))}function vs(y){var b=y.iEvent,B=y.interaction;if(B.prepared.name==="resize"&&B.resizeAxes){var N=b;B.interactable.options.resize.square?(B.resizeAxes==="y"?N.delta.x=N.delta.y:N.delta.y=N.delta.x,N.axes="xy"):(N.axes=B.resizeAxes,B.resizeAxes==="x"?N.delta.y=0:B.resizeAxes==="y"&&(N.delta.x=0))}}var Yi,ci,vn={id:"actions/resize",before:["actions/drag"],install:function(y){var b=y.actions,B=y.browser,N=y.Interactable,j=y.defaults;vn.cursors=function(q){return q.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(B),vn.defaultMargin=B.supportsTouch||B.supportsPointerEvent?20:10,N.prototype.resizable=function(q){return function(ne,re,fe){return U.object(re)?(ne.options.resize.enabled=re.enabled!==!1,ne.setPerAction("resize",re),ne.setOnEvents("resize",re),U.string(re.axis)&&/^x$|^y$|^xy$/.test(re.axis)?ne.options.resize.axis=re.axis:re.axis===null&&(ne.options.resize.axis=fe.defaults.actions.resize.axis),U.bool(re.preserveAspectRatio)?ne.options.resize.preserveAspectRatio=re.preserveAspectRatio:U.bool(re.square)&&(ne.options.resize.square=re.square),ne):U.bool(re)?(ne.options.resize.enabled=re,ne):ne.options.resize}(this,q,y)},b.map.resize=vn,b.methodDict.resize="resizable",j.actions.resize=vn.defaults},listeners:{"interactions:new":function(y){y.interaction.resizeAxes="xy"},"interactions:action-start":function(y){(function(b){var B=b.iEvent,N=b.interaction;if(N.prepared.name==="resize"&&N.prepared.edges){var j=B,q=N.rect;N._rects={start:xe({},q),corrected:xe({},q),previous:xe({},q),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},j.edges=N.prepared.edges,j.rect=N._rects.corrected,j.deltaRect=N._rects.delta}})(y),vs(y)},"interactions:action-move":function(y){(function(b){var B=b.iEvent,N=b.interaction;if(N.prepared.name==="resize"&&N.prepared.edges){var j=B,q=N.interactable.options.resize.invert,ne=q==="reposition"||q==="negate",re=N.rect,fe=N._rects,Se=fe.start,pe=fe.corrected,Le=fe.delta,ze=fe.previous;if(xe(ze,pe),ne){if(xe(pe,re),q==="reposition"){if(pe.top>pe.bottom){var We=pe.top;pe.top=pe.bottom,pe.bottom=We}if(pe.left>pe.right){var Ze=pe.left;pe.left=pe.right,pe.right=Ze}}}else pe.top=Math.min(re.top,Se.bottom),pe.bottom=Math.max(re.bottom,Se.top),pe.left=Math.min(re.left,Se.right),pe.right=Math.max(re.right,Se.left);for(var it in pe.width=pe.right-pe.left,pe.height=pe.bottom-pe.top,pe)Le[it]=pe[it]-ze[it];j.edges=N.prepared.edges,j.rect=pe,j.deltaRect=Le}})(y),vs(y)},"interactions:action-end":function(y){var b=y.iEvent,B=y.interaction;if(B.prepared.name==="resize"&&B.prepared.edges){var N=b;N.edges=B.prepared.edges,N.rect=B._rects.corrected,N.deltaRect=B._rects.delta}},"auto-start:check":function(y){var b=y.interaction,B=y.interactable,N=y.element,j=y.rect,q=y.buttons;if(j){var ne=xe({},b.coords.cur.page),re=B.options.resize;if(re&&re.enabled&&(!b.pointerIsDown||!/mouse|pointer/.test(b.pointerType)||(q&re.mouseButtons)!=0)){if(U.object(re.edges)){var fe={left:!1,right:!1,top:!1,bottom:!1};for(var Se in fe)fe[Se]=sr(Se,re.edges[Se],ne,b._latestPointer.eventTarget,N,j,re.margin||vn.defaultMargin);fe.left=fe.left&&!fe.right,fe.top=fe.top&&!fe.bottom,(fe.left||fe.right||fe.top||fe.bottom)&&(y.action={name:"resize",edges:fe})}else{var pe=re.axis!=="y"&&ne.x>j.right-vn.defaultMargin,Le=re.axis!=="x"&&ne.y>j.bottom-vn.defaultMargin;(pe||Le)&&(y.action={name:"resize",axes:(pe?"x":"")+(Le?"y":"")})}return!y.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(y){var b=y.edges,B=y.axis,N=y.name,j=vn.cursors,q=null;if(B)q=j[N+B];else if(b){for(var ne="",re=0,fe=["top","bottom","left","right"];re<fe.length;re++){var Se=fe[re];b[Se]&&(ne+=Se)}q=j[ne]}return q},filterEventType:function(y){return y.search("resize")===0},defaultMargin:null},yo=vn,zi={id:"actions",install:function(y){y.usePlugin(Ls),y.usePlugin(yo),y.usePlugin(T),y.usePlugin(si)}},is=0,An={request:function(y){return Yi(y)},cancel:function(y){return ci(y)},init:function(y){if(Yi=y.requestAnimationFrame,ci=y.cancelAnimationFrame,!Yi)for(var b=["ms","moz","webkit","o"],B=0;B<b.length;B++){var N=b[B];Yi=y["".concat(N,"RequestAnimationFrame")],ci=y["".concat(N,"CancelAnimationFrame")]||y["".concat(N,"CancelRequestAnimationFrame")]}Yi=Yi&&Yi.bind(y),ci=ci&&ci.bind(y),Yi||(Yi=function(j){var q=Date.now(),ne=Math.max(0,16-(q-is)),re=y.setTimeout(function(){j(q+ne)},ne);return is=q+ne,re},ci=function(j){return clearTimeout(j)})}},ct={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(y){ct.isScrolling=!0,An.cancel(ct.i),y.autoScroll=ct,ct.interaction=y,ct.prevTime=ct.now(),ct.i=An.request(ct.scroll)},stop:function(){ct.isScrolling=!1,ct.interaction&&(ct.interaction.autoScroll=null),An.cancel(ct.i)},scroll:function(){var y=ct.interaction,b=y.interactable,B=y.element,N=y.prepared.name,j=b.options[N].autoScroll,q=mf(j.container,b,B),ne=ct.now(),re=(ne-ct.prevTime)/1e3,fe=j.speed*re;if(fe>=1){var Se={x:ct.x*fe,y:ct.y*fe};if(Se.x||Se.y){var pe=dl(q);U.window(q)?q.scrollBy(Se.x,Se.y):q&&(q.scrollLeft+=Se.x,q.scrollTop+=Se.y);var Le=dl(q),ze={x:Le.x-pe.x,y:Le.y-pe.y};(ze.x||ze.y)&&b.fire({type:"autoscroll",target:B,interactable:b,delta:ze,interaction:y,container:q})}ct.prevTime=ne}ct.isScrolling&&(An.cancel(ct.i),ct.i=An.request(ct.scroll))},check:function(y,b){var B;return(B=y.options[b].autoScroll)==null?void 0:B.enabled},onInteractionMove:function(y){var b=y.interaction,B=y.pointer;if(b.interacting()&&ct.check(b.interactable,b.prepared.name))if(b.simulation)ct.x=ct.y=0;else{var N,j,q,ne,re=b.interactable,fe=b.element,Se=b.prepared.name,pe=re.options[Se].autoScroll,Le=mf(pe.container,re,fe);if(U.window(Le))ne=B.clientX<ct.margin,N=B.clientY<ct.margin,j=B.clientX>Le.innerWidth-ct.margin,q=B.clientY>Le.innerHeight-ct.margin;else{var ze=Ce(Le);ne=B.clientX<ze.left+ct.margin,N=B.clientY<ze.top+ct.margin,j=B.clientX>ze.right-ct.margin,q=B.clientY>ze.bottom-ct.margin}ct.x=j?1:ne?-1:0,ct.y=q?1:N?-1:0,ct.isScrolling||(ct.margin=pe.margin,ct.speed=pe.speed,ct.start(b))}}};function mf(y,b,B){return(U.string(y)?He(y,b,B):y)||S(B)}function dl(y){return U.window(y)&&(y=window.document.body),{x:y.scrollLeft,y:y.scrollTop}}var hu={id:"auto-scroll",install:function(y){var b=y.defaults,B=y.actions;y.autoScroll=ct,ct.now=function(){return y.now()},B.phaselessTypes.autoscroll=!0,b.perAction.autoScroll=ct.defaults},listeners:{"interactions:new":function(y){y.interaction.autoScroll=null},"interactions:destroy":function(y){y.interaction.autoScroll=null,ct.stop(),ct.interaction&&(ct.interaction=null)},"interactions:stop":ct.stop,"interactions:action-move":function(y){return ct.onInteractionMove(y)}}},bb=hu;function Rs(y,b){var B=!1;return function(){return B||(g.console.warn(b),B=!0),y.apply(this,arguments)}}function Ci(y,b){return y.name=b.name,y.axis=b.axis,y.edges=b.edges,y}function bf(y){return U.bool(y)?(this.options.styleCursor=y,this):y===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Au(y){return U.func(y)?(this.options.actionChecker=y,this):y===null?(delete this.options.actionChecker,this):this.options.actionChecker}var vb={id:"auto-start/interactableMethods",install:function(y){var b=y.Interactable;b.prototype.getAction=function(B,N,j,q){var ne=function(re,fe,Se,pe,Le){var ze=re.getRect(pe),We=fe.buttons||{0:1,1:4,3:8,4:16}[fe.button],Ze={action:null,interactable:re,interaction:Se,element:pe,rect:ze,buttons:We};return Le.fire("auto-start:check",Ze),Ze.action}(this,N,j,q,y);return this.options.actionChecker?this.options.actionChecker(B,N,ne,this,q,j):ne},b.prototype.ignoreFrom=Rs(function(B){return this._backCompatOption("ignoreFrom",B)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),b.prototype.allowFrom=Rs(function(B){return this._backCompatOption("allowFrom",B)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),b.prototype.actionChecker=Au,b.prototype.styleCursor=bf}};function vf(y,b,B,N,j){return b.testIgnoreAllow(b.options[y.name],B,N)&&b.options[y.name].enabled&&la(b,B,y,j)?y:null}function yb(y,b,B,N,j,q,ne){for(var re=0,fe=N.length;re<fe;re++){var Se=N[re],pe=j[re],Le=Se.getAction(b,B,y,pe);if(Le){var ze=vf(Le,Se,pe,q,ne);if(ze)return{action:ze,interactable:Se,element:pe}}}return{action:null,interactable:null,element:null}}function ad(y,b,B,N,j){var q=[],ne=[],re=N;function fe(pe){q.push(pe),ne.push(re)}for(;U.element(re);){q=[],ne=[],j.interactables.forEachMatch(re,fe);var Se=yb(y,b,B,q,ne,N,j);if(Se.action&&!Se.interactable.options[Se.action.name].manualStart)return Se;re=Y(re)}return{action:null,interactable:null,element:null}}function fu(y,b,B){var N=b.action,j=b.interactable,q=b.element;N=N||{name:null},y.interactable=j,y.element=q,Ci(y.prepared,N),y.rect=j&&N.name?j.getRect(q):null,yf(y,B),B.fire("autoStart:prepared",{interaction:y})}function la(y,b,B,N){var j=y.options,q=j[B.name].max,ne=j[B.name].maxPerElement,re=N.autoStart.maxInteractions,fe=0,Se=0,pe=0;if(!(q&&ne&&re))return!1;for(var Le=0,ze=N.interactions.list;Le<ze.length;Le++){var We=ze[Le],Ze=We.prepared.name;if(We.interacting()&&(++fe>=re||We.interactable===y&&((Se+=Ze===B.name?1:0)>=q||We.element===b&&(pe++,Ze===B.name&&pe>=ne))))return!1}return re>0}function ld(y,b){return U.number(y)?(b.autoStart.maxInteractions=y,this):b.autoStart.maxInteractions}function ud(y,b,B){var N=B.autoStart.cursorElement;N&&N!==y&&(N.style.cursor=""),y.ownerDocument.documentElement.style.cursor=b,y.style.cursor=b,B.autoStart.cursorElement=b?y:null}function yf(y,b){var B=y.interactable,N=y.element,j=y.prepared;if(y.pointerType==="mouse"&&B&&B.options.styleCursor){var q="";if(j.name){var ne=B.options[j.name].cursorChecker;q=U.func(ne)?ne(j,B,N,y._interacting):b.actions.map[j.name].getCursor(j)}ud(y.element,q||"",b)}else b.autoStart.cursorElement&&ud(b.autoStart.cursorElement,"",b)}var pu={id:"auto-start/base",before:["actions"],install:function(y){var b=y.interactStatic,B=y.defaults;y.usePlugin(vb),B.base.actionChecker=null,B.base.styleCursor=!0,xe(B.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),b.maxInteractions=function(N){return ld(N,y)},y.autoStart={maxInteractions:1/0,withinInteractionLimit:la,cursorElement:null}},listeners:{"interactions:down":function(y,b){var B=y.interaction,N=y.pointer,j=y.event,q=y.eventTarget;B.interacting()||fu(B,ad(B,N,j,q,b),b)},"interactions:move":function(y,b){(function(B,N){var j=B.interaction,q=B.pointer,ne=B.event,re=B.eventTarget;j.pointerType!=="mouse"||j.pointerIsDown||j.interacting()||fu(j,ad(j,q,ne,re,N),N)})(y,b),function(B,N){var j=B.interaction;if(j.pointerIsDown&&!j.interacting()&&j.pointerWasMoved&&j.prepared.name){N.fire("autoStart:before-start",B);var q=j.interactable,ne=j.prepared.name;ne&&q&&(q.options[ne].manualStart||!la(q,j.element,j.prepared,N)?j.stop():(j.start(j.prepared,q,j.element),yf(j,N)))}}(y,b)},"interactions:stop":function(y,b){var B=y.interaction,N=B.interactable;N&&N.options.styleCursor&&ud(B.element,"",b)}},maxInteractions:ld,withinInteractionLimit:la,validateAction:vf},ua=pu,wf={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(y,b){var B=y.interaction,N=y.eventTarget,j=y.dx,q=y.dy;if(B.prepared.name==="drag"){var ne=Math.abs(j),re=Math.abs(q),fe=B.interactable.options.drag,Se=fe.startAxis,pe=ne>re?"x":ne<re?"y":"xy";if(B.prepared.axis=fe.lockAxis==="start"?pe[0]:fe.lockAxis,pe!=="xy"&&Se!=="xy"&&Se!==pe){B.prepared.name=null;for(var Le=N,ze=function(Ze){if(Ze!==B.interactable){var it=B.interactable.options.drag;if(!it.manualStart&&Ze.testIgnoreAllow(it,Le,N)){var mt=Ze.getAction(B.downPointer,B.downEvent,B,Le);if(mt&&mt.name==="drag"&&function(dt,wt){if(!wt)return!1;var Ot=wt.options.drag.startAxis;return dt==="xy"||Ot==="xy"||Ot===dt}(pe,Ze)&&ua.validateAction(mt,Ze,Le,N,b))return Ze}}};U.element(Le);){var We=b.interactables.forEachMatch(Le,ze);if(We){B.prepared.name="drag",B.interactable=We,B.element=Le;break}Le=Y(Le)}}}}}};function wo(y){var b=y.prepared&&y.prepared.name;if(!b)return null;var B=y.interactable.options;return B[b].hold||B[b].delay}var hl={id:"auto-start/hold",install:function(y){var b=y.defaults;y.usePlugin(ua),b.perAction.hold=0,b.perAction.delay=0},listeners:{"interactions:new":function(y){y.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(y){var b=y.interaction,B=wo(b);B>0&&(b.autoStartHoldTimer=setTimeout(function(){b.start(b.prepared,b.interactable,b.element)},B))},"interactions:move":function(y){var b=y.interaction,B=y.duplicate;b.autoStartHoldTimer&&b.pointerWasMoved&&!B&&(clearTimeout(b.autoStartHoldTimer),b.autoStartHoldTimer=null)},"autoStart:before-start":function(y){var b=y.interaction;wo(b)>0&&(b.prepared.name=null)}},getHoldDuration:wo},Al=hl,fl={id:"auto-start",install:function(y){y.usePlugin(ua),y.usePlugin(Al),y.usePlugin(wf)}},wb=function(y){return/^(always|never|auto)$/.test(y)?(this.options.preventDefault=y,this):U.bool(y)?(this.options.preventDefault=y?"always":"never",this):this.options.preventDefault};function Cf(y){var b=y.interaction,B=y.event;b.interactable&&b.interactable.checkAndPreventDefault(B)}var Ef={id:"core/interactablePreventDefault",install:function(y){var b=y.Interactable;b.prototype.preventDefault=wb,b.prototype.checkAndPreventDefault=function(B){return function(N,j,q){var ne=N.options.preventDefault;if(ne!=="never")if(ne!=="always"){if(j.events.supportsPassive&&/^touch(start|move)$/.test(q.type)){var re=S(q.target).document,fe=j.getDocOptions(re);if(!fe||!fe.events||fe.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(q.type)||U.element(q.target)&&ee(q.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||q.preventDefault()}else q.preventDefault()}(this,y,B)},y.interactions.docEvents.push({type:"dragstart",listener:function(B){for(var N=0,j=y.interactions.list;N<j.length;N++){var q=j[N];if(q.element&&(q.element===B.target||Q(q.element,B.target)))return void q.interactable.checkAndPreventDefault(B)}}})},listeners:["down","move","up","cancel"].reduce(function(y,b){return y["interactions:".concat(b)]=Cf,y},{})};function gu(y,b){if(b.phaselessTypes[y])return!0;for(var B in b.map)if(y.indexOf(B)===0&&y.substr(B.length)in b.phases)return!0;return!1}function ns(y){var b={};for(var B in y){var N=y[B];U.plainObject(N)?b[B]=ns(N):U.array(N)?b[B]=Pi(N):b[B]=N}return b}var ca=function(){function y(b){r(this,y),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=b,this.result=mu(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return a(y,[{key:"start",value:function(b,B){var N,j,q=b.phase,ne=this.interaction,re=function(Se){var pe=Se.interactable.options[Se.prepared.name],Le=pe.modifiers;return Le&&Le.length?Le:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(ze){var We=pe[ze];return We&&We.enabled&&{options:We,methods:We._methods}}).filter(function(ze){return!!ze})}(ne);this.prepareStates(re),this.startEdges=xe({},ne.edges),this.edges=xe({},this.startEdges),this.startOffset=(N=ne.rect,j=B,N?{left:j.x-N.left,top:j.y-N.top,right:N.right-j.x,bottom:N.bottom-j.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var fe=this.fillArg({phase:q,pageCoords:B,preEnd:!1});return this.result=mu(),this.startAll(fe),this.result=this.setAll(fe)}},{key:"fillArg",value:function(b){var B=this.interaction;return b.interaction=B,b.interactable=B.interactable,b.element=B.element,b.rect||(b.rect=B.rect),b.edges||(b.edges=this.startEdges),b.startOffset=this.startOffset,b}},{key:"startAll",value:function(b){for(var B=0,N=this.states;B<N.length;B++){var j=N[B];j.methods.start&&(b.state=j,j.methods.start(b))}}},{key:"setAll",value:function(b){var B=b.phase,N=b.preEnd,j=b.skipModifiers,q=b.rect,ne=b.edges;b.coords=xe({},b.pageCoords),b.rect=xe({},q),b.edges=xe({},ne);for(var re=j?this.states.slice(j):this.states,fe=mu(b.coords,b.rect),Se=0;Se<re.length;Se++){var pe,Le=re[Se],ze=Le.options,We=xe({},b.coords),Ze=null;(pe=Le.methods)!=null&&pe.set&&this.shouldDo(ze,N,B)&&(b.state=Le,Ze=Le.methods.set(b),De(b.edges,b.rect,{x:b.coords.x-We.x,y:b.coords.y-We.y})),fe.eventProps.push(Ze)}xe(this.edges,b.edges),fe.delta.x=b.coords.x-b.pageCoords.x,fe.delta.y=b.coords.y-b.pageCoords.y,fe.rectDelta.left=b.rect.left-q.left,fe.rectDelta.right=b.rect.right-q.right,fe.rectDelta.top=b.rect.top-q.top,fe.rectDelta.bottom=b.rect.bottom-q.bottom;var it=this.result.coords,mt=this.result.rect;if(it&&mt){var dt=fe.rect.left!==mt.left||fe.rect.right!==mt.right||fe.rect.top!==mt.top||fe.rect.bottom!==mt.bottom;fe.changed=dt||it.x!==fe.coords.x||it.y!==fe.coords.y}return fe}},{key:"applyToInteraction",value:function(b){var B=this.interaction,N=b.phase,j=B.coords.cur,q=B.coords.start,ne=this.result,re=this.startDelta,fe=ne.delta;N==="start"&&xe(this.startDelta,ne.delta);for(var Se=0,pe=[[q,re],[j,fe]];Se<pe.length;Se++){var Le=pe[Se],ze=Le[0],We=Le[1];ze.page.x+=We.x,ze.page.y+=We.y,ze.client.x+=We.x,ze.client.y+=We.y}var Ze=this.result.rectDelta,it=b.rect||B.rect;it.left+=Ze.left,it.right+=Ze.right,it.top+=Ze.top,it.bottom+=Ze.bottom,it.width=it.right-it.left,it.height=it.bottom-it.top}},{key:"setAndApply",value:function(b){var B=this.interaction,N=b.phase,j=b.preEnd,q=b.skipModifiers,ne=this.setAll(this.fillArg({preEnd:j,phase:N,pageCoords:b.modifiedCoords||B.coords.cur.page}));if(this.result=ne,!ne.changed&&(!q||q<this.states.length)&&B.interacting())return!1;if(b.modifiedCoords){var re=B.coords.cur.page,fe={x:b.modifiedCoords.x-re.x,y:b.modifiedCoords.y-re.y};ne.coords.x+=fe.x,ne.coords.y+=fe.y,ne.delta.x+=fe.x,ne.delta.y+=fe.y}this.applyToInteraction(b)}},{key:"beforeEnd",value:function(b){var B=b.interaction,N=b.event,j=this.states;if(j&&j.length){for(var q=!1,ne=0;ne<j.length;ne++){var re=j[ne];b.state=re;var fe=re.options,Se=re.methods,pe=Se.beforeEnd&&Se.beforeEnd(b);if(pe)return this.endResult=pe,!1;q=q||!q&&this.shouldDo(fe,!0,b.phase,!0)}q&&B.move({event:N,preEnd:!0})}}},{key:"stop",value:function(b){var B=b.interaction;if(this.states&&this.states.length){var N=xe({states:this.states,interactable:B.interactable,element:B.element,rect:null},b);this.fillArg(N);for(var j=0,q=this.states;j<q.length;j++){var ne=q[j];N.state=ne,ne.methods.stop&&ne.methods.stop(N)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(b){this.states=[];for(var B=0;B<b.length;B++){var N=b[B],j=N.options,q=N.methods,ne=N.name;this.states.push({options:j,methods:q,index:B,name:ne})}return this.states}},{key:"restoreInteractionCoords",value:function(b){var B=b.interaction,N=B.coords,j=B.rect,q=B.modification;if(q.result){for(var ne=q.startDelta,re=q.result,fe=re.delta,Se=re.rectDelta,pe=0,Le=[[N.start,ne],[N.cur,fe]];pe<Le.length;pe++){var ze=Le[pe],We=ze[0],Ze=ze[1];We.page.x-=Ze.x,We.page.y-=Ze.y,We.client.x-=Ze.x,We.client.y-=Ze.y}j.left-=Se.left,j.right-=Se.right,j.top-=Se.top,j.bottom-=Se.bottom}}},{key:"shouldDo",value:function(b,B,N,j){return!(!b||b.enabled===!1||j&&!b.endOnly||b.endOnly&&!B||N==="start"&&!b.setStart)}},{key:"copyFrom",value:function(b){this.startOffset=b.startOffset,this.startDelta=b.startDelta,this.startEdges=b.startEdges,this.edges=b.edges,this.states=b.states.map(function(B){return ns(B)}),this.result=mu(xe({},b.result.coords),xe({},b.result.rect))}},{key:"destroy",value:function(){for(var b in this)this[b]=null}}]),y}();function mu(y,b){return{rect:b,coords:y,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function rr(y,b){var B=y.defaults,N={start:y.start,set:y.set,beforeEnd:y.beforeEnd,stop:y.stop},j=function(q){var ne=q||{};for(var re in ne.enabled=ne.enabled!==!1,B)re in ne||(ne[re]=B[re]);var fe={options:ne,methods:N,name:b,enable:function(){return ne.enabled=!0,fe},disable:function(){return ne.enabled=!1,fe}};return fe};return b&&typeof b=="string"&&(j._defaults=B,j._methods=N),j}function Co(y){var b=y.iEvent,B=y.interaction.modification.result;B&&(b.modifiers=B.eventProps)}var Ms={id:"modifiers/base",before:["actions"],install:function(y){y.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(y){var b=y.interaction;b.modification=new ca(b)},"interactions:before-action-start":function(y){var b=y.interaction,B=y.interaction.modification;B.start(y,b.coords.start.page),b.edges=B.edges,B.applyToInteraction(y)},"interactions:before-action-move":function(y){var b=y.interaction,B=b.modification,N=B.setAndApply(y);return b.edges=B.edges,N},"interactions:before-action-end":function(y){var b=y.interaction,B=b.modification,N=B.beforeEnd(y);return b.edges=B.startEdges,N},"interactions:action-start":Co,"interactions:action-move":Co,"interactions:action-end":Co,"interactions:after-action-start":function(y){return y.interaction.modification.restoreInteractionCoords(y)},"interactions:after-action-move":function(y){return y.interaction.modification.restoreInteractionCoords(y)},"interactions:stop":function(y){return y.interaction.modification.stop(y)}}},xf=Ms,pl={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Eo=function(y){u(B,y);var b=f(B);function B(N,j,q,ne,re,fe,Se){var pe;r(this,B),(pe=b.call(this,N)).relatedTarget=null,pe.screenX=void 0,pe.screenY=void 0,pe.button=void 0,pe.buttons=void 0,pe.ctrlKey=void 0,pe.shiftKey=void 0,pe.altKey=void 0,pe.metaKey=void 0,pe.page=void 0,pe.client=void 0,pe.delta=void 0,pe.rect=void 0,pe.x0=void 0,pe.y0=void 0,pe.t0=void 0,pe.dt=void 0,pe.duration=void 0,pe.clientX0=void 0,pe.clientY0=void 0,pe.velocity=void 0,pe.speed=void 0,pe.swipe=void 0,pe.axes=void 0,pe.preEnd=void 0,re=re||N.element;var Le=N.interactable,ze=(Le&&Le.options||pl).deltaSource,We=Ie(Le,re,q),Ze=ne==="start",it=ne==="end",mt=Ze?A(pe):N.prevEvent,dt=Ze?N.coords.start:it?{page:mt.page,client:mt.client,timeStamp:N.coords.cur.timeStamp}:N.coords.cur;return pe.page=xe({},dt.page),pe.client=xe({},dt.client),pe.rect=xe({},N.rect),pe.timeStamp=dt.timeStamp,it||(pe.page.x-=We.x,pe.page.y-=We.y,pe.client.x-=We.x,pe.client.y-=We.y),pe.ctrlKey=j.ctrlKey,pe.altKey=j.altKey,pe.shiftKey=j.shiftKey,pe.metaKey=j.metaKey,pe.button=j.button,pe.buttons=j.buttons,pe.target=re,pe.currentTarget=re,pe.preEnd=fe,pe.type=Se||q+(ne||""),pe.interactable=Le,pe.t0=Ze?N.pointers[N.pointers.length-1].downTime:mt.t0,pe.x0=N.coords.start.page.x-We.x,pe.y0=N.coords.start.page.y-We.y,pe.clientX0=N.coords.start.client.x-We.x,pe.clientY0=N.coords.start.client.y-We.y,pe.delta=Ze||it?{x:0,y:0}:{x:pe[ze].x-mt[ze].x,y:pe[ze].y-mt[ze].y},pe.dt=N.coords.delta.timeStamp,pe.duration=pe.timeStamp-pe.t0,pe.velocity=xe({},N.coords.velocity[ze]),pe.speed=ae(pe.velocity.x,pe.velocity.y),pe.swipe=it||ne==="inertiastart"?pe.getSwipe():null,pe}return a(B,[{key:"getSwipe",value:function(){var N=this._interaction;if(N.prevEvent.speed<600||this.timeStamp-N.prevEvent.timeStamp>150)return null;var j=180*Math.atan2(N.prevEvent.velocityY,N.prevEvent.velocityX)/Math.PI;j<0&&(j+=360);var q=112.5<=j&&j<247.5,ne=202.5<=j&&j<337.5;return{up:ne,down:!ne&&22.5<=j&&j<157.5,left:q,right:!q&&(292.5<=j||j<67.5),angle:j,speed:N.prevEvent.speed,velocity:{x:N.prevEvent.velocityX,y:N.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),B}(Tt);Object.defineProperties(Eo.prototype,{pageX:{get:function(){return this.page.x},set:function(y){this.page.x=y}},pageY:{get:function(){return this.page.y},set:function(y){this.page.y=y}},clientX:{get:function(){return this.client.x},set:function(y){this.client.x=y}},clientY:{get:function(){return this.client.y},set:function(y){this.client.y=y}},dx:{get:function(){return this.delta.x},set:function(y){this.delta.x=y}},dy:{get:function(){return this.delta.y},set:function(y){this.delta.y=y}},velocityX:{get:function(){return this.velocity.x},set:function(y){this.velocity.x=y}},velocityY:{get:function(){return this.velocity.y},set:function(y){this.velocity.y=y}}});var bu=a(function y(b,B,N,j,q){r(this,y),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=b,this.pointer=B,this.event=N,this.downTime=j,this.downTarget=q}),da=function(y){return y.interactable="",y.element="",y.prepared="",y.pointerIsDown="",y.pointerWasMoved="",y._proxy="",y}({}),vu=function(y){return y.start="",y.move="",y.end="",y.stop="",y.interacting="",y}({}),Tf=0,cd=function(){function y(b){var B=this,N=b.pointerType,j=b.scopeFire;r(this,y),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Rs(function(pe){this.move(pe)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Tf++,this._scopeFire=j,this.pointerType=N;var q=this;this._proxy={};var ne=function(pe){Object.defineProperty(B._proxy,pe,{get:function(){return q[pe]}})};for(var re in da)ne(re);var fe=function(pe){Object.defineProperty(B._proxy,pe,{value:function(){return q[pe].apply(q,arguments)}})};for(var Se in vu)fe(Se);this._scopeFire("interactions:new",{interaction:this})}return a(y,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(b,B,N){var j=this.updatePointer(b,B,N,!0),q=this.pointers[j];this._scopeFire("interactions:down",{pointer:b,event:B,eventTarget:N,pointerIndex:j,pointerInfo:q,type:"down",interaction:this})}},{key:"start",value:function(b,B,N){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(b.name==="gesture"?2:1)||!B.options[b.name].enabled)&&(Ci(this.prepared,b),this.interactable=B,this.element=N,this.rect=B.getRect(N),this.edges=this.prepared.edges?xe({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(b,B,N){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(b,B,N,!1);var j,q,ne=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(j=this.coords.cur.client.x-this.coords.start.client.x,q=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ae(j,q)>this.pointerMoveTolerance);var re,fe,Se,pe=this.getPointerIndex(b),Le={pointer:b,pointerIndex:pe,pointerInfo:this.pointers[pe],event:B,type:"move",eventTarget:N,dx:j,dy:q,duplicate:ne,interaction:this};ne||(re=this.coords.velocity,fe=this.coords.delta,Se=Math.max(fe.timeStamp/1e3,.001),re.page.x=fe.page.x/Se,re.page.y=fe.page.y/Se,re.client.x=fe.client.x/Se,re.client.y=fe.client.y/Se,re.timeStamp=Se),this._scopeFire("interactions:move",Le),ne||this.simulation||(this.interacting()&&(Le.type=null,this.move(Le)),this.pointerWasMoved&&ke(this.coords.prev,this.coords.cur))}},{key:"move",value:function(b){b&&b.event||Qe(this.coords.delta),(b=xe({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},b||{})).phase="move",this._doPhase(b)}},{key:"pointerUp",value:function(b,B,N,j){var q=this.getPointerIndex(b);q===-1&&(q=this.updatePointer(b,B,N,!1));var ne=/cancel$/i.test(B.type)?"cancel":"up";this._scopeFire("interactions:".concat(ne),{pointer:b,pointerIndex:q,pointerInfo:this.pointers[q],event:B,eventTarget:N,type:ne,curEventTarget:j,interaction:this}),this.simulation||this.end(B),this.removePointer(b,B)}},{key:"documentBlur",value:function(b){this.end(b),this._scopeFire("interactions:blur",{event:b,type:"blur",interaction:this})}},{key:"end",value:function(b){var B;this._ending=!0,b=b||this._latestPointer.event,this.interacting()&&(B=this._doPhase({event:b,interaction:this,phase:"end"})),this._ending=!1,B===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(b){var B=Ye(b);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:hn(this.pointers,function(N){return N.id===B})}},{key:"getPointerInfo",value:function(b){return this.pointers[this.getPointerIndex(b)]}},{key:"updatePointer",value:function(b,B,N,j){var q,ne,re,fe=Ye(b),Se=this.getPointerIndex(b),pe=this.pointers[Se];return j=j!==!1&&(j||/(down|start)$/i.test(B.type)),pe?pe.pointer=b:(pe=new bu(fe,b,B,null,null),Se=this.pointers.length,this.pointers.push(pe)),lt(this.coords.cur,this.pointers.map(function(Le){return Le.pointer}),this._now()),q=this.coords.delta,ne=this.coords.prev,re=this.coords.cur,q.page.x=re.page.x-ne.page.x,q.page.y=re.page.y-ne.page.y,q.client.x=re.client.x-ne.client.x,q.client.y=re.client.y-ne.client.y,q.timeStamp=re.timeStamp-ne.timeStamp,j&&(this.pointerIsDown=!0,pe.downTime=this.coords.cur.timeStamp,pe.downTarget=N,ye(this.downPointer,b),this.interacting()||(ke(this.coords.start,this.coords.cur),ke(this.coords.prev,this.coords.cur),this.downEvent=B,this.pointerWasMoved=!1)),this._updateLatestPointer(b,B,N),this._scopeFire("interactions:update-pointer",{pointer:b,event:B,eventTarget:N,down:j,pointerInfo:pe,pointerIndex:Se,interaction:this}),Se}},{key:"removePointer",value:function(b,B){var N=this.getPointerIndex(b);if(N!==-1){var j=this.pointers[N];this._scopeFire("interactions:remove-pointer",{pointer:b,event:B,eventTarget:null,pointerIndex:N,pointerInfo:j,interaction:this}),this.pointers.splice(N,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(b,B,N){this._latestPointer.pointer=b,this._latestPointer.event=B,this._latestPointer.eventTarget=N}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(b,B,N,j){return new Eo(this,b,this.prepared.name,B,this.element,N,j)}},{key:"_fireEvent",value:function(b){var B;(B=this.interactable)==null||B.fire(b),(!this.prevEvent||b.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=b)}},{key:"_doPhase",value:function(b){var B=b.event,N=b.phase,j=b.preEnd,q=b.type,ne=this.rect;if(ne&&N==="move"&&(De(this.edges,ne,this.coords.delta[this.interactable.options.deltaSource]),ne.width=ne.right-ne.left,ne.height=ne.bottom-ne.top),this._scopeFire("interactions:before-action-".concat(N),b)===!1)return!1;var re=b.iEvent=this._createPreparedEvent(B,N,j,q);return this._scopeFire("interactions:action-".concat(N),b),N==="start"&&(this.prevEvent=re),this._fireEvent(re),this._scopeFire("interactions:after-action-".concat(N),b),!0}},{key:"_now",value:function(){return Date.now()}}]),y}();function _f(y){Sf(y.interaction)}function Sf(y){if(!function(B){return!(!B.offset.pending.x&&!B.offset.pending.y)}(y))return!1;var b=y.offset.pending;return ha(y.coords.cur,b),ha(y.coords.delta,b),De(y.edges,y.rect,b),b.x=0,b.y=0,!0}function Cb(y){var b=y.x,B=y.y;this.offset.pending.x+=b,this.offset.pending.y+=B,this.offset.total.x+=b,this.offset.total.y+=B}function ha(y,b){var B=y.page,N=y.client,j=b.x,q=b.y;B.x+=j,B.y+=q,N.x+=j,N.y+=q}vu.offsetBy="";var Bf={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(y){y.Interaction.prototype.offsetBy=Cb},listeners:{"interactions:new":function(y){y.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(y){return function(b){b.pointerIsDown&&(ha(b.coords.cur,b.offset.total),b.offset.pending.x=0,b.offset.pending.y=0)}(y.interaction)},"interactions:before-action-start":_f,"interactions:before-action-move":_f,"interactions:before-action-end":function(y){var b=y.interaction;if(Sf(b))return b.move({offset:!0}),b.end(),!1},"interactions:stop":function(y){var b=y.interaction;b.offset.total.x=0,b.offset.total.y=0,b.offset.pending.x=0,b.offset.pending.y=0}}},kf=Bf,If=function(){function y(b){r(this,y),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=b}return a(y,[{key:"start",value:function(b){var B=this.interaction,N=yu(B);if(!N||!N.enabled)return!1;var j=B.coords.velocity.client,q=ae(j.x,j.y),ne=this.modification||(this.modification=new ca(B));if(ne.copyFrom(B.modification),this.t0=B._now(),this.allowResume=N.allowResume,this.v0=q,this.currentOffset={x:0,y:0},this.startCoords=B.coords.cur.page,this.modifierArg=ne.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-B.coords.cur.timeStamp<50&&q>N.minSpeed&&q>N.endSpeed)this.startInertia();else{if(ne.result=ne.setAll(this.modifierArg),!ne.result.changed)return!1;this.startSmoothEnd()}return B.modification.result.rect=null,B.offsetBy(this.targetOffset),B._doPhase({interaction:B,event:b,phase:"inertiastart"}),B.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),B.modification.result.rect=null,this.active=!0,B.simulation=this,!0}},{key:"startInertia",value:function(){var b=this,B=this.interaction.coords.velocity.client,N=yu(this.interaction),j=N.resistance,q=-Math.log(N.endSpeed/this.v0)/j;this.targetOffset={x:(B.x-q)/j,y:(B.y-q)/j},this.te=q,this.lambda_v0=j/this.v0,this.one_ve_v0=1-N.endSpeed/this.v0;var ne=this.modification,re=this.modifierArg;re.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ne.result=ne.setAll(re),ne.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ne.result.delta.x,y:this.targetOffset.y+ne.result.delta.y}),this.onNextFrame(function(){return b.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var b=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return b.smoothEndTick()})}},{key:"onNextFrame",value:function(b){var B=this;this.timeout=An.request(function(){B.active&&b()})}},{key:"inertiaTick",value:function(){var b,B,N,j,q,ne,re,fe=this,Se=this.interaction,pe=yu(Se).resistance,Le=(Se._now()-this.t0)/1e3;if(Le<this.te){var ze,We=1-(Math.exp(-pe*Le)-this.lambda_v0)/this.one_ve_v0;this.isModified?(b=0,B=0,N=this.targetOffset.x,j=this.targetOffset.y,q=this.modifiedOffset.x,ne=this.modifiedOffset.y,ze={x:Ff(re=We,b,N,q),y:Ff(re,B,j,ne)}):ze={x:this.targetOffset.x*We,y:this.targetOffset.y*We};var Ze={x:ze.x-this.currentOffset.x,y:ze.y-this.currentOffset.y};this.currentOffset.x+=Ze.x,this.currentOffset.y+=Ze.y,Se.offsetBy(Ze),Se.move(),this.onNextFrame(function(){return fe.inertiaTick()})}else Se.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var b=this,B=this.interaction,N=B._now()-this.t0,j=yu(B).smoothEndDuration;if(N<j){var q={x:gl(N,0,this.targetOffset.x,j),y:gl(N,0,this.targetOffset.y,j)},ne={x:q.x-this.currentOffset.x,y:q.y-this.currentOffset.y};this.currentOffset.x+=ne.x,this.currentOffset.y+=ne.y,B.offsetBy(ne),B.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return b.smoothEndTick()})}else B.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(b){var B=b.pointer,N=b.event,j=b.eventTarget,q=this.interaction;q.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),q.updatePointer(B,N,j,!0),q._doPhase({interaction:q,event:N,phase:"resume"}),ke(q.coords.prev,q.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,An.cancel(this.timeout)}}]),y}();function yu(y){var b=y.interactable,B=y.prepared;return b&&b.options&&B.name&&b.options[B.name].inertia}var Df={id:"inertia",before:["modifiers","actions"],install:function(y){var b=y.defaults;y.usePlugin(kf),y.usePlugin(xf),y.actions.phases.inertiastart=!0,y.actions.phases.resume=!0,b.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(y){var b=y.interaction;b.inertia=new If(b)},"interactions:before-action-end":function(y){var b=y.interaction,B=y.event;return(!b._interacting||b.simulation||!b.inertia.start(B))&&null},"interactions:down":function(y){var b=y.interaction,B=y.eventTarget,N=b.inertia;if(N.active)for(var j=B;U.element(j);){if(j===b.element){N.resume(y);break}j=Y(j)}},"interactions:stop":function(y){var b=y.interaction.inertia;b.active&&b.stop()},"interactions:before-action-resume":function(y){var b=y.interaction.modification;b.stop(y),b.start(y,y.interaction.coords.cur.page),b.applyToInteraction(y)},"interactions:before-action-inertiastart":function(y){return y.interaction.modification.setAndApply(y)},"interactions:action-resume":Co,"interactions:action-inertiastart":Co,"interactions:after-action-inertiastart":function(y){return y.interaction.modification.restoreInteractionCoords(y)},"interactions:after-action-resume":function(y){return y.interaction.modification.restoreInteractionCoords(y)}}};function Ff(y,b,B,N){var j=1-y;return j*j*b+2*j*y*B+y*y*N}function gl(y,b,B,N){return-B*(y/=N)*(y-2)+b}var wu=Df;function dd(y,b){for(var B=0;B<b.length;B++){var N=b[B];if(y.immediatePropagationStopped)break;N(y)}}var Pf=function(){function y(b){r(this,y),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=xe({},b||{})}return a(y,[{key:"fire",value:function(b){var B,N=this.global;(B=this.types[b.type])&&dd(b,B),!b.propagationStopped&&N&&(B=N[b.type])&&dd(b,B)}},{key:"on",value:function(b,B){var N=Re(b,B);for(b in N)this.types[b]=ni(this.types[b]||[],N[b])}},{key:"off",value:function(b,B){var N=Re(b,B);for(b in N){var j=this.types[b];if(j&&j.length)for(var q=0,ne=N[b];q<ne.length;q++){var re=ne[q],fe=j.indexOf(re);fe!==-1&&j.splice(fe,1)}}}},{key:"getRect",value:function(b){return null}}]),y}(),Eb=function(){function y(b){r(this,y),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=b,ye(this,b)}return a(y,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),y}();function Aa(y){return U.object(y)?{capture:!!y.capture,passive:!!y.passive}:{capture:!!y,passive:!1}}function ml(y,b){return y===b||(typeof y=="boolean"?!!b.capture===y&&!b.passive:!!y.capture==!!b.capture&&!!y.passive==!!b.passive)}var xb={id:"events",install:function(y){var b,B=[],N={},j=[],q={add:ne,remove:re,addDelegate:function(pe,Le,ze,We,Ze){var it=Aa(Ze);if(!N[ze]){N[ze]=[];for(var mt=0;mt<j.length;mt++){var dt=j[mt];ne(dt,ze,fe),ne(dt,ze,Se,!0)}}var wt=N[ze],Ot=rn(wt,function(Xt){return Xt.selector===pe&&Xt.context===Le});Ot||(Ot={selector:pe,context:Le,listeners:[]},wt.push(Ot)),Ot.listeners.push({func:We,options:it})},removeDelegate:function(pe,Le,ze,We,Ze){var it,mt=Aa(Ze),dt=N[ze],wt=!1;if(dt)for(it=dt.length-1;it>=0;it--){var Ot=dt[it];if(Ot.selector===pe&&Ot.context===Le){for(var Xt=Ot.listeners,St=Xt.length-1;St>=0;St--){var Ut=Xt[St];if(Ut.func===We&&ml(Ut.options,mt)){Xt.splice(St,1),Xt.length||(dt.splice(it,1),re(Le,ze,fe),re(Le,ze,Se,!0)),wt=!0;break}}if(wt)break}}},delegateListener:fe,delegateUseCapture:Se,delegatedEvents:N,documents:j,targets:B,supportsOptions:!1,supportsPassive:!1};function ne(pe,Le,ze,We){if(pe.addEventListener){var Ze=Aa(We),it=rn(B,function(mt){return mt.eventTarget===pe});it||(it={eventTarget:pe,events:{}},B.push(it)),it.events[Le]||(it.events[Le]=[]),rn(it.events[Le],function(mt){return mt.func===ze&&ml(mt.options,Ze)})||(pe.addEventListener(Le,ze,q.supportsOptions?Ze:Ze.capture),it.events[Le].push({func:ze,options:Ze}))}}function re(pe,Le,ze,We){if(pe.addEventListener&&pe.removeEventListener){var Ze=hn(B,function(Tn){return Tn.eventTarget===pe}),it=B[Ze];if(it&&it.events)if(Le!=="all"){var mt=!1,dt=it.events[Le];if(dt){if(ze==="all"){for(var wt=dt.length-1;wt>=0;wt--){var Ot=dt[wt];re(pe,Le,Ot.func,Ot.options)}return}for(var Xt=Aa(We),St=0;St<dt.length;St++){var Ut=dt[St];if(Ut.func===ze&&ml(Ut.options,Xt)){pe.removeEventListener(Le,ze,q.supportsOptions?Xt:Xt.capture),dt.splice(St,1),dt.length===0&&(delete it.events[Le],mt=!0);break}}}mt&&!Object.keys(it.events).length&&B.splice(Ze,1)}else for(Le in it.events)it.events.hasOwnProperty(Le)&&re(pe,Le,"all")}}function fe(pe,Le){for(var ze=Aa(Le),We=new Eb(pe),Ze=N[pe.type],it=jt(pe)[0],mt=it;U.element(mt);){for(var dt=0;dt<Ze.length;dt++){var wt=Ze[dt],Ot=wt.selector,Xt=wt.context;if(ee(mt,Ot)&&Q(Xt,it)&&Q(Xt,mt)){var St=wt.listeners;We.currentTarget=mt;for(var Ut=0;Ut<St.length;Ut++){var Tn=St[Ut];ml(Tn.options,ze)&&Tn.func(We)}}}mt=Y(mt)}}function Se(pe){return fe(pe,!0)}return(b=y.document)==null||b.createElement("div").addEventListener("test",null,{get capture(){return q.supportsOptions=!0},get passive(){return q.supportsPassive=!0}}),y.events=q,q}},Cu={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(y){for(var b=0,B=Cu.methodOrder;b<B.length;b++){var N=B[b],j=Cu[N](y);if(j)return j}return null},simulationResume:function(y){var b=y.pointerType,B=y.eventType,N=y.eventTarget,j=y.scope;if(!/down|start/i.test(B))return null;for(var q=0,ne=j.interactions.list;q<ne.length;q++){var re=ne[q],fe=N;if(re.simulation&&re.simulation.allowResume&&re.pointerType===b)for(;fe;){if(fe===re.element)return re;fe=Y(fe)}}return null},mouseOrPen:function(y){var b,B=y.pointerId,N=y.pointerType,j=y.eventType,q=y.scope;if(N!=="mouse"&&N!=="pen")return null;for(var ne=0,re=q.interactions.list;ne<re.length;ne++){var fe=re[ne];if(fe.pointerType===N){if(fe.simulation&&!Lf(fe,B))continue;if(fe.interacting())return fe;b||(b=fe)}}if(b)return b;for(var Se=0,pe=q.interactions.list;Se<pe.length;Se++){var Le=pe[Se];if(!(Le.pointerType!==N||/down/i.test(j)&&Le.simulation))return Le}return null},hasPointer:function(y){for(var b=y.pointerId,B=0,N=y.scope.interactions.list;B<N.length;B++){var j=N[B];if(Lf(j,b))return j}return null},idle:function(y){for(var b=y.pointerType,B=0,N=y.scope.interactions.list;B<N.length;B++){var j=N[B];if(j.pointers.length===1){var q=j.interactable;if(q&&(!q.options.gesture||!q.options.gesture.enabled))continue}else if(j.pointers.length>=2)continue;if(!j.interacting()&&b===j.pointerType)return j}return null}};function Lf(y,b){return y.pointers.some(function(B){return B.id===b})}var Tb=Cu,hd=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Rf(y,b){return function(B){var N=b.interactions.list,j=yt(B),q=jt(B),ne=q[0],re=q[1],fe=[];if(/^touch/.test(B.type)){b.prevTouchTime=b.now();for(var Se=0,pe=B.changedTouches;Se<pe.length;Se++){var Le=pe[Se],ze={pointer:Le,pointerId:Ye(Le),pointerType:j,eventType:B.type,eventTarget:ne,curEventTarget:re,scope:b},We=Mf(ze);fe.push([ze.pointer,ze.eventTarget,ze.curEventTarget,We])}}else{var Ze=!1;if(!V.supportsPointerEvent&&/mouse/.test(B.type)){for(var it=0;it<N.length&&!Ze;it++)Ze=N[it].pointerType!=="mouse"&&N[it].pointerIsDown;Ze=Ze||b.now()-b.prevTouchTime<500||B.timeStamp===0}if(!Ze){var mt={pointer:B,pointerId:Ye(B),pointerType:j,eventType:B.type,curEventTarget:re,eventTarget:ne,scope:b},dt=Mf(mt);fe.push([mt.pointer,mt.eventTarget,mt.curEventTarget,dt])}}for(var wt=0;wt<fe.length;wt++){var Ot=fe[wt],Xt=Ot[0],St=Ot[1],Ut=Ot[2];Ot[3][y](Xt,B,St,Ut)}}}function Mf(y){var b=y.pointerType,B=y.scope,N={interaction:Tb.search(y),searchDetails:y};return B.fire("interactions:find",N),N.interaction||B.interactions.new({pointerType:b})}function Ad(y,b){var B=y.doc,N=y.scope,j=y.options,q=N.interactions.docEvents,ne=N.events,re=ne[b];for(var fe in N.browser.isIOS&&!j.events&&(j.events={passive:!1}),ne.delegatedEvents)re(B,fe,ne.delegateListener),re(B,fe,ne.delegateUseCapture,!0);for(var Se=j&&j.events,pe=0;pe<q.length;pe++){var Le=q[pe];re(B,Le.type,Le.listener,Se)}}var fd={id:"core/interactions",install:function(y){for(var b={},B=0;B<hd.length;B++){var N=hd[B];b[N]=Rf(N,y)}var j,q=V.pEventTypes;function ne(){for(var re=0,fe=y.interactions.list;re<fe.length;re++){var Se=fe[re];if(Se.pointerIsDown&&Se.pointerType==="touch"&&!Se._interacting)for(var pe=function(){var We=ze[Le];y.documents.some(function(Ze){return Q(Ze.doc,We.downTarget)})||Se.removePointer(We.pointer,We.event)},Le=0,ze=Se.pointers;Le<ze.length;Le++)pe()}}(j=_.PointerEvent?[{type:q.down,listener:ne},{type:q.down,listener:b.pointerDown},{type:q.move,listener:b.pointerMove},{type:q.up,listener:b.pointerUp},{type:q.cancel,listener:b.pointerUp}]:[{type:"mousedown",listener:b.pointerDown},{type:"mousemove",listener:b.pointerMove},{type:"mouseup",listener:b.pointerUp},{type:"touchstart",listener:ne},{type:"touchstart",listener:b.pointerDown},{type:"touchmove",listener:b.pointerMove},{type:"touchend",listener:b.pointerUp},{type:"touchcancel",listener:b.pointerUp}]).push({type:"blur",listener:function(re){for(var fe=0,Se=y.interactions.list;fe<Se.length;fe++)Se[fe].documentBlur(re)}}),y.prevTouchTime=0,y.Interaction=function(re){u(Se,re);var fe=f(Se);function Se(){return r(this,Se),fe.apply(this,arguments)}return a(Se,[{key:"pointerMoveTolerance",get:function(){return y.interactions.pointerMoveTolerance},set:function(pe){y.interactions.pointerMoveTolerance=pe}},{key:"_now",value:function(){return y.now()}}]),Se}(cd),y.interactions={list:[],new:function(re){re.scopeFire=function(Se,pe){return y.fire(Se,pe)};var fe=new y.Interaction(re);return y.interactions.list.push(fe),fe},listeners:b,docEvents:j,pointerMoveTolerance:1},y.usePlugin(Ef)},listeners:{"scope:add-document":function(y){return Ad(y,"add")},"scope:remove-document":function(y){return Ad(y,"remove")},"interactable:unset":function(y,b){for(var B=y.interactable,N=b.interactions.list.length-1;N>=0;N--){var j=b.interactions.list[N];j.interactable===B&&(j.stop(),b.fire("interactions:destroy",{interaction:j}),j.destroy(),b.interactions.list.length>2&&b.interactions.list.splice(N,1))}}},onDocSignal:Ad,doOnInteractions:Rf,methodNames:hd},_b=fd,_r=function(y){return y[y.On=0]="On",y[y.Off=1]="Off",y}(_r||{}),Eu=function(){function y(b,B,N,j){r(this,y),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Pf,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=B.actions,this.target=b,this._context=B.context||N,this._win=S(Te(b)?this._context:b),this._doc=this._win.document,this._scopeEvents=j,this.set(B)}return a(y,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(b,B){return U.func(B.onstart)&&this.on("".concat(b,"start"),B.onstart),U.func(B.onmove)&&this.on("".concat(b,"move"),B.onmove),U.func(B.onend)&&this.on("".concat(b,"end"),B.onend),U.func(B.oninertiastart)&&this.on("".concat(b,"inertiastart"),B.oninertiastart),this}},{key:"updatePerActionListeners",value:function(b,B,N){var j,q=this,ne=(j=this._actions.map[b])==null?void 0:j.filterEventType,re=function(fe){return(ne==null||ne(fe))&&gu(fe,q._actions)};(U.array(B)||U.object(B))&&this._onOff(_r.Off,b,B,void 0,re),(U.array(N)||U.object(N))&&this._onOff(_r.On,b,N,void 0,re)}},{key:"setPerAction",value:function(b,B){var N=this._defaults;for(var j in B){var q=j,ne=this.options[b],re=B[q];q==="listeners"&&this.updatePerActionListeners(b,ne.listeners,re),U.array(re)?ne[q]=Pi(re):U.plainObject(re)?(ne[q]=xe(ne[q]||{},ns(re)),U.object(N.perAction[q])&&"enabled"in N.perAction[q]&&(ne[q].enabled=re.enabled!==!1)):U.bool(re)&&U.object(N.perAction[q])?ne[q].enabled=re:ne[q]=re}}},{key:"getRect",value:function(b){return b=b||(U.element(this.target)?this.target:null),U.string(this.target)&&(b=b||this._context.querySelector(this.target)),Oe(b)}},{key:"rectChecker",value:function(b){var B=this;return U.func(b)?(this.getRect=function(N){var j=xe({},b.apply(B,N));return"width"in j||(j.width=j.right-j.left,j.height=j.bottom-j.top),j},this):b===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(b,B){if(Te(B)||U.object(B)){for(var N in this.options[b]=B,this._actions.map)this.options[N][b]=B;return this}return this.options[b]}},{key:"origin",value:function(b){return this._backCompatOption("origin",b)}},{key:"deltaSource",value:function(b){return b==="page"||b==="client"?(this.options.deltaSource=b,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var b=this.target;return U.string(b)?Array.from(this._context.querySelectorAll(b)):U.func(b)&&b.getAllElements?b.getAllElements():U.element(b)?[b]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(b){return this._context===b.ownerDocument||Q(this._context,b)}},{key:"testIgnoreAllow",value:function(b,B,N){return!this.testIgnore(b.ignoreFrom,B,N)&&this.testAllow(b.allowFrom,B,N)}},{key:"testAllow",value:function(b,B,N){return!b||!!U.element(N)&&(U.string(b)?ce(N,b,B):!!U.element(b)&&Q(b,N))}},{key:"testIgnore",value:function(b,B,N){return!(!b||!U.element(N))&&(U.string(b)?ce(N,b,B):!!U.element(b)&&Q(b,N))}},{key:"fire",value:function(b){return this.events.fire(b),this}},{key:"_onOff",value:function(b,B,N,j,q){U.object(B)&&!U.array(B)&&(j=N,N=null);var ne=Re(B,N,q);for(var re in ne){re==="wheel"&&(re=V.wheelEvent);for(var fe=0,Se=ne[re];fe<Se.length;fe++){var pe=Se[fe];gu(re,this._actions)?this.events[b===_r.On?"on":"off"](re,pe):U.string(this.target)?this._scopeEvents[b===_r.On?"addDelegate":"removeDelegate"](this.target,this._context,re,pe,j):this._scopeEvents[b===_r.On?"add":"remove"](this.target,re,pe,j)}}return this}},{key:"on",value:function(b,B,N){return this._onOff(_r.On,b,B,N)}},{key:"off",value:function(b,B,N){return this._onOff(_r.Off,b,B,N)}},{key:"set",value:function(b){var B=this._defaults;for(var N in U.object(b)||(b={}),this.options=ns(B.base),this._actions.methodDict){var j=N,q=this._actions.methodDict[j];this.options[j]={},this.setPerAction(j,xe(xe({},B.perAction),B.actions[j])),this[q](b[j])}for(var ne in b)ne!=="getRect"?U.func(this[ne])&&this[ne](b[ne]):this.rectChecker(b.getRect);return this}},{key:"unset",value:function(){if(U.string(this.target))for(var b in this._scopeEvents.delegatedEvents)for(var B=this._scopeEvents.delegatedEvents[b],N=B.length-1;N>=0;N--){var j=B[N],q=j.selector,ne=j.context,re=j.listeners;q===this.target&&ne===this._context&&B.splice(N,1);for(var fe=re.length-1;fe>=0;fe--)this._scopeEvents.removeDelegate(this.target,this._context,b,re[fe][0],re[fe][1])}else this._scopeEvents.remove(this.target,"all")}}]),y}(),Sb=function(){function y(b){var B=this;r(this,y),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=b,b.addListeners({"interactable:unset":function(N){var j=N.interactable,q=j.target,ne=U.string(q)?B.selectorMap[q]:q[B.scope.id],re=hn(ne,function(fe){return fe===j});ne.splice(re,1)}})}return a(y,[{key:"new",value:function(b,B){B=xe(B||{},{actions:this.scope.actions});var N=new this.scope.Interactable(b,B,this.scope.document,this.scope.events);return this.scope.addDocument(N._doc),this.list.push(N),U.string(b)?(this.selectorMap[b]||(this.selectorMap[b]=[]),this.selectorMap[b].push(N)):(N.target[this.scope.id]||Object.defineProperty(b,this.scope.id,{value:[],configurable:!0}),b[this.scope.id].push(N)),this.scope.fire("interactable:new",{target:b,options:B,interactable:N,win:this.scope._win}),N}},{key:"getExisting",value:function(b,B){var N=B&&B.context||this.scope.document,j=U.string(b),q=j?this.selectorMap[b]:b[this.scope.id];if(q)return rn(q,function(ne){return ne._context===N&&(j||ne.inContext(b))})}},{key:"forEachMatch",value:function(b,B){for(var N=0,j=this.list;N<j.length;N++){var q=j[N],ne=void 0;if((U.string(q.target)?U.element(b)&&ee(b,q.target):b===q.target)&&q.inContext(b)&&(ne=B(q)),ne!==void 0)return ne}}}]),y}(),Bb=function(){function y(){var b=this;r(this,y),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=V,this.defaults=ns(pl),this.Eventable=Pf,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(N){var j=function q(ne,re){var fe=N.interactables.getExisting(ne,re);return fe||((fe=N.interactables.new(ne,re)).events.global=q.globalEvents),fe};return j.getPointerAverage=Dt,j.getTouchBBox=At,j.getTouchDistance=Rt,j.getTouchAngle=pt,j.getElementRect=Oe,j.getElementClientRect=Ce,j.matchesSelector=ee,j.closest=G,j.globalEvents={},j.version="1.10.27",j.scope=N,j.use=function(q,ne){return this.scope.usePlugin(q,ne),this},j.isSet=function(q,ne){return!!this.scope.interactables.get(q,ne&&ne.context)},j.on=Rs(function(q,ne,re){if(U.string(q)&&q.search(" ")!==-1&&(q=q.trim().split(/ +/)),U.array(q)){for(var fe=0,Se=q;fe<Se.length;fe++){var pe=Se[fe];this.on(pe,ne,re)}return this}if(U.object(q)){for(var Le in q)this.on(Le,q[Le],ne);return this}return gu(q,this.scope.actions)?this.globalEvents[q]?this.globalEvents[q].push(ne):this.globalEvents[q]=[ne]:this.scope.events.add(this.scope.document,q,ne,{options:re}),this},"The interact.on() method is being deprecated"),j.off=Rs(function(q,ne,re){if(U.string(q)&&q.search(" ")!==-1&&(q=q.trim().split(/ +/)),U.array(q)){for(var fe=0,Se=q;fe<Se.length;fe++){var pe=Se[fe];this.off(pe,ne,re)}return this}if(U.object(q)){for(var Le in q)this.off(Le,q[Le],ne);return this}var ze;return gu(q,this.scope.actions)?q in this.globalEvents&&(ze=this.globalEvents[q].indexOf(ne))!==-1&&this.globalEvents[q].splice(ze,1):this.scope.events.remove(this.scope.document,q,ne,re),this},"The interact.off() method is being deprecated"),j.debug=function(){return this.scope},j.supportsTouch=function(){return V.supportsTouch},j.supportsPointerEvent=function(){return V.supportsPointerEvent},j.stop=function(){for(var q=0,ne=this.scope.interactions.list;q<ne.length;q++)ne[q].stop();return this},j.pointerMoveTolerance=function(q){return U.number(q)?(this.scope.interactions.pointerMoveTolerance=q,this):this.scope.interactions.pointerMoveTolerance},j.addDocument=function(q,ne){this.scope.addDocument(q,ne)},j.removeDocument=function(q){this.scope.removeDocument(q)},j}(this),this.InteractEvent=Eo,this.Interactable=void 0,this.interactables=new Sb(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(N){return b.removeDocument(N.target)};var B=this;this.Interactable=function(N){u(q,N);var j=f(q);function q(){return r(this,q),j.apply(this,arguments)}return a(q,[{key:"_defaults",get:function(){return B.defaults}},{key:"set",value:function(ne){return m(c(q.prototype),"set",this).call(this,ne),B.fire("interactable:set",{options:ne,interactable:this}),this}},{key:"unset",value:function(){m(c(q.prototype),"unset",this).call(this);var ne=B.interactables.list.indexOf(this);ne<0||(B.interactables.list.splice(ne,1),B.fire("interactable:unset",{interactable:this}))}}]),q}(Eu)}return a(y,[{key:"addListeners",value:function(b,B){this.listenerMaps.push({id:B,map:b})}},{key:"fire",value:function(b,B){for(var N=0,j=this.listenerMaps;N<j.length;N++){var q=j[N].map[b];if(q&&q(B,this,b)===!1)return!1}}},{key:"init",value:function(b){return this.isInitialized?this:function(B,N){return B.isInitialized=!0,U.window(N)&&w(N),_.init(N),V.init(N),An.init(N),B.window=N,B.document=N.document,B.usePlugin(_b),B.usePlugin(xb),B}(this,b)}},{key:"pluginIsInstalled",value:function(b){var B=b.id;return B?!!this._plugins.map[B]:this._plugins.list.indexOf(b)!==-1}},{key:"usePlugin",value:function(b,B){if(!this.isInitialized)return this;if(this.pluginIsInstalled(b))return this;if(b.id&&(this._plugins.map[b.id]=b),this._plugins.list.push(b),b.install&&b.install(this,B),b.listeners&&b.before){for(var N=0,j=this.listenerMaps.length,q=b.before.reduce(function(re,fe){return re[fe]=!0,re[Of(fe)]=!0,re},{});N<j;N++){var ne=this.listenerMaps[N].id;if(ne&&(q[ne]||q[Of(ne)]))break}this.listenerMaps.splice(N,0,{id:b.id,map:b.listeners})}else b.listeners&&this.listenerMaps.push({id:b.id,map:b.listeners});return this}},{key:"addDocument",value:function(b,B){if(this.getDocIndex(b)!==-1)return!1;var N=S(b);B=B?xe({},B):{},this.documents.push({doc:b,options:B}),this.events.documents.push(b),b!==this.document&&this.events.add(N,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:b,window:N,scope:this,options:B})}},{key:"removeDocument",value:function(b){var B=this.getDocIndex(b),N=S(b),j=this.documents[B].options;this.events.remove(N,"unload",this.onWindowUnload),this.documents.splice(B,1),this.events.documents.splice(B,1),this.fire("scope:remove-document",{doc:b,window:N,scope:this,options:j})}},{key:"getDocIndex",value:function(b){for(var B=0;B<this.documents.length;B++)if(this.documents[B].doc===b)return B;return-1}},{key:"getDocOptions",value:function(b){var B=this.getDocIndex(b);return B===-1?null:this.documents[B].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),y}();function Of(y){return y&&y.replace(/\/.*$/,"")}var Uf=new Bb,Rn=Uf.interactStatic,xu=typeof globalThis<"u"?globalThis:window;Uf.init(xu);var bl=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(y){var b=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(N){var j=N[0],q=N[1];return j in y||q in y}),B=function(N,j){for(var q=y.range,ne=y.limits,re=ne===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:ne,fe=y.offset,Se=fe===void 0?{x:0,y:0}:fe,pe={range:q,grid:y,x:null,y:null},Le=0;Le<b.length;Le++){var ze=b[Le],We=ze[0],Ze=ze[1],it=Math.round((N-Se.x)/y[We]),mt=Math.round((j-Se.y)/y[Ze]);pe[We]=Math.max(re.left,Math.min(re.right,it*y[We]+Se.x)),pe[Ze]=Math.max(re.top,Math.min(re.bottom,mt*y[Ze]+Se.y))}return pe};return B.grid=y,B.coordFields=b,B}}),vl={id:"snappers",install:function(y){var b=y.interactStatic;b.snappers=xe(b.snappers||{},bl),b.createSnapGrid=b.snappers.grid}},Tu=vl,Os={start:function(y){var b=y.state,B=y.rect,N=y.edges,j=y.pageCoords,q=b.options,ne=q.ratio,re=q.enabled,fe=b.options,Se=fe.equalDelta,pe=fe.modifiers;ne==="preserve"&&(ne=B.width/B.height),b.startCoords=xe({},j),b.startRect=xe({},B),b.ratio=ne,b.equalDelta=Se;var Le=b.linkedEdges={top:N.top||N.left&&!N.bottom,left:N.left||N.top&&!N.right,bottom:N.bottom||N.right&&!N.top,right:N.right||N.bottom&&!N.left};if(b.xIsPrimaryAxis=!(!N.left&&!N.right),b.equalDelta){var ze=(Le.left?1:-1)*(Le.top?1:-1);b.edgeSign={x:ze,y:ze}}else b.edgeSign={x:Le.left?-1:1,y:Le.top?-1:1};if(re!==!1&&xe(N,Le),pe!=null&&pe.length){var We=new ca(y.interaction);We.copyFrom(y.interaction.modification),We.prepareStates(pe),b.subModification=We,We.startAll(s({},y))}},set:function(y){var b=y.state,B=y.rect,N=y.coords,j=b.linkedEdges,q=xe({},N),ne=b.equalDelta?Sr:_u;if(xe(y.edges,j),ne(b,b.xIsPrimaryAxis,N,B),!b.subModification)return null;var re=xe({},B);De(j,re,{x:N.x-q.x,y:N.y-q.y});var fe=b.subModification.setAll(s(s({},y),{},{rect:re,edges:j,pageCoords:N,prevCoords:N,prevRect:re})),Se=fe.delta;return fe.changed&&(ne(b,Math.abs(Se.x)>Math.abs(Se.y),fe.coords,fe.rect),xe(N,fe.coords)),fe.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Sr(y,b,B){var N=y.startCoords,j=y.edgeSign;b?B.y=N.y+(B.x-N.x)*j.y:B.x=N.x+(B.y-N.y)*j.x}function _u(y,b,B,N){var j=y.startRect,q=y.startCoords,ne=y.ratio,re=y.edgeSign;if(b){var fe=N.width/ne;B.y=q.y+(fe-j.height)*re.y}else{var Se=N.height*ne;B.x=q.x+(Se-j.width)*re.x}}var Nf=rr(Os,"aspectRatio"),Hf=function(){};Hf._defaults={};var Su=Hf;function xo(y,b,B){return U.func(y)?$e(y,b.interactable,b.element,[B.x,B.y,b]):$e(y,b.interactable,b.element)}var Bu={start:function(y){var b=y.rect,B=y.startOffset,N=y.state,j=y.interaction,q=y.pageCoords,ne=N.options,re=ne.elementRect,fe=xe({left:0,top:0,right:0,bottom:0},ne.offset||{});if(b&&re){var Se=xo(ne.restriction,j,q);if(Se){var pe=Se.right-Se.left-b.width,Le=Se.bottom-Se.top-b.height;pe<0&&(fe.left+=pe,fe.right+=pe),Le<0&&(fe.top+=Le,fe.bottom+=Le)}fe.left+=B.left-b.width*re.left,fe.top+=B.top-b.height*re.top,fe.right+=B.right-b.width*(1-re.right),fe.bottom+=B.bottom-b.height*(1-re.bottom)}N.offset=fe},set:function(y){var b=y.coords,B=y.interaction,N=y.state,j=N.options,q=N.offset,ne=xo(j.restriction,B,b);if(ne){var re=function(fe){return!fe||"left"in fe&&"top"in fe||((fe=xe({},fe)).left=fe.x||0,fe.top=fe.y||0,fe.right=fe.right||fe.left+fe.width,fe.bottom=fe.bottom||fe.top+fe.height),fe}(ne);b.x=Math.max(Math.min(re.right-q.right,b.x),re.left+q.left),b.y=Math.max(Math.min(re.bottom-q.bottom,b.y),re.top+q.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Qf=rr(Bu,"restrict"),pd={top:1/0,left:1/0,bottom:-1/0,right:-1/0},yl={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function fa(y,b){for(var B=0,N=["top","left","bottom","right"];B<N.length;B++){var j=N[B];j in y||(y[j]=b[j])}return y}var Vr={noInner:pd,noOuter:yl,start:function(y){var b,B=y.interaction,N=y.startOffset,j=y.state,q=j.options;q&&(b=oe(xo(q.offset,B,B.coords.start.page))),b=b||{x:0,y:0},j.offset={top:b.y+N.top,left:b.x+N.left,bottom:b.y-N.bottom,right:b.x-N.right}},set:function(y){var b=y.coords,B=y.edges,N=y.interaction,j=y.state,q=j.offset,ne=j.options;if(B){var re=xe({},b),fe=xo(ne.inner,N,re)||{},Se=xo(ne.outer,N,re)||{};fa(fe,pd),fa(Se,yl),B.top?b.y=Math.min(Math.max(Se.top+q.top,re.y),fe.top+q.top):B.bottom&&(b.y=Math.max(Math.min(Se.bottom+q.bottom,re.y),fe.bottom+q.bottom)),B.left?b.x=Math.min(Math.max(Se.left+q.left,re.x),fe.left+q.left):B.right&&(b.x=Math.max(Math.min(Se.right+q.right,re.x),fe.right+q.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},To=rr(Vr,"restrictEdges"),kb=xe({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(y){}},Bu.defaults),Vf=rr({start:Bu.start,set:Bu.set,defaults:kb},"restrictRect"),$f={width:-1/0,height:-1/0},jf={width:1/0,height:1/0},Ib=rr({start:function(y){return Vr.start(y)},set:function(y){var b=y.interaction,B=y.state,N=y.rect,j=y.edges,q=B.options;if(j){var ne=Ae(xo(q.min,b,y.coords))||$f,re=Ae(xo(q.max,b,y.coords))||jf;B.options={endOnly:q.endOnly,inner:xe({},Vr.noInner),outer:xe({},Vr.noOuter)},j.top?(B.options.inner.top=N.bottom-ne.height,B.options.outer.top=N.bottom-re.height):j.bottom&&(B.options.inner.bottom=N.top+ne.height,B.options.outer.bottom=N.top+re.height),j.left?(B.options.inner.left=N.right-ne.width,B.options.outer.left=N.right-re.width):j.right&&(B.options.inner.right=N.left+ne.width,B.options.outer.right=N.left+re.width),Vr.set(y),B.options=q}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),gd={start:function(y){var b,B=y.interaction,N=y.interactable,j=y.element,q=y.rect,ne=y.state,re=y.startOffset,fe=ne.options,Se=fe.offsetWithOrigin?function(ze){var We=ze.interaction.element,Ze=oe($e(ze.state.options.origin,null,null,[We])),it=Ze||Ie(ze.interactable,We,ze.interaction.prepared.name);return it}(y):{x:0,y:0};if(fe.offset==="startCoords")b={x:B.coords.start.page.x,y:B.coords.start.page.y};else{var pe=$e(fe.offset,N,j,[B]);(b=oe(pe)||{x:0,y:0}).x+=Se.x,b.y+=Se.y}var Le=fe.relativePoints;ne.offsets=q&&Le&&Le.length?Le.map(function(ze,We){return{index:We,relativePoint:ze,x:re.left-q.width*ze.x+b.x,y:re.top-q.height*ze.y+b.y}}):[{index:0,relativePoint:null,x:b.x,y:b.y}]},set:function(y){var b=y.interaction,B=y.coords,N=y.state,j=N.options,q=N.offsets,ne=Ie(b.interactable,b.element,b.prepared.name),re=xe({},B),fe=[];j.offsetWithOrigin||(re.x-=ne.x,re.y-=ne.y);for(var Se=0,pe=q;Se<pe.length;Se++)for(var Le=pe[Se],ze=re.x-Le.x,We=re.y-Le.y,Ze=0,it=j.targets.length;Ze<it;Ze++){var mt=j.targets[Ze],dt=void 0;(dt=U.func(mt)?mt(ze,We,b._proxy,Le,Ze):mt)&&fe.push({x:(U.number(dt.x)?dt.x:ze)+Le.x,y:(U.number(dt.y)?dt.y:We)+Le.y,range:U.number(dt.range)?dt.range:j.range,source:mt,index:Ze,offset:Le})}for(var wt={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ot=0;Ot<fe.length;Ot++){var Xt=fe[Ot],St=Xt.range,Ut=Xt.x-re.x,Tn=Xt.y-re.y,_i=ae(Ut,Tn),Mn=_i<=St;St===1/0&&wt.inRange&&wt.range!==1/0&&(Mn=!1),wt.target&&!(Mn?wt.inRange&&St!==1/0?_i/St<wt.distance/wt.range:St===1/0&&wt.range!==1/0||_i<wt.distance:!wt.inRange&&_i<wt.distance)||(wt.target=Xt,wt.distance=_i,wt.range=St,wt.inRange=Mn,wt.delta.x=Ut,wt.delta.y=Tn)}return wt.inRange&&(B.x=wt.target.x,B.y=wt.target.y),N.closest=wt,wt},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Db=rr(gd,"snap"),_o={start:function(y){var b=y.state,B=y.edges,N=b.options;if(!B)return null;y.state={options:{targets:null,relativePoints:[{x:B.left?0:1,y:B.top?0:1}],offset:N.offset||"self",origin:{x:0,y:0},range:N.range}},b.targetFields=b.targetFields||[["width","height"],["x","y"]],gd.start(y),b.offsets=y.state.offsets,y.state=b},set:function(y){var b=y.interaction,B=y.state,N=y.coords,j=B.options,q=B.offsets,ne={x:N.x-q[0].x,y:N.y-q[0].y};B.options=xe({},j),B.options.targets=[];for(var re=0,fe=j.targets||[];re<fe.length;re++){var Se=fe[re],pe=void 0;if(pe=U.func(Se)?Se(ne.x,ne.y,b):Se){for(var Le=0,ze=B.targetFields;Le<ze.length;Le++){var We=ze[Le],Ze=We[0],it=We[1];if(Ze in pe||it in pe){pe.x=pe[Ze],pe.y=pe[it];break}}B.options.targets.push(pe)}}var mt=gd.set(y);return B.options=j,mt},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Fb=rr(_o,"snapSize"),ku={aspectRatio:Nf,restrictEdges:To,restrict:Qf,restrictRect:Vf,restrictSize:Ib,snapEdges:rr({start:function(y){var b=y.edges;return b?(y.state.targetFields=y.state.targetFields||[[b.left?"left":"right",b.top?"top":"bottom"]],_o.start(y)):null},set:_o.set,defaults:xe(ns(_o.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Db,snapSize:Fb,spring:Su,avoid:Su,transform:Su,rubberband:Su},Pb={id:"modifiers",install:function(y){var b=y.interactStatic;for(var B in y.usePlugin(xf),y.usePlugin(Tu),b.modifiers=ku,ku){var N=ku[B],j=N._defaults,q=N._methods;j._methods=q,y.defaults.perAction[B]=j}}},Lb=Pb,md=function(y){u(B,y);var b=f(B);function B(N,j,q,ne,re,fe){var Se;if(r(this,B),ye(A(Se=b.call(this,re)),q),q!==j&&ye(A(Se),j),Se.timeStamp=fe,Se.originalEvent=q,Se.type=N,Se.pointerId=Ye(j),Se.pointerType=yt(j),Se.target=ne,Se.currentTarget=null,N==="tap"){var pe=re.getPointerIndex(j);Se.dt=Se.timeStamp-re.pointers[pe].downTime;var Le=Se.timeStamp-re.tapTime;Se.double=!!re.prevTap&&re.prevTap.type!=="doubletap"&&re.prevTap.target===Se.target&&Le<500}else N==="doubletap"&&(Se.dt=j.timeStamp-re.tapTime,Se.double=!0);return Se}return a(B,[{key:"_subtractOrigin",value:function(N){var j=N.x,q=N.y;return this.pageX-=j,this.pageY-=q,this.clientX-=j,this.clientY-=q,this}},{key:"_addOrigin",value:function(N){var j=N.x,q=N.y;return this.pageX+=j,this.pageY+=q,this.clientX+=j,this.clientY+=q,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),B}(Tt),So={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(y){y.pointerEvents=So,y.defaults.actions.pointerEvents=So.defaults,xe(y.actions.phaselessTypes,So.types)},listeners:{"interactions:new":function(y){var b=y.interaction;b.prevTap=null,b.tapTime=0},"interactions:update-pointer":function(y){var b=y.down,B=y.pointerInfo;!b&&B.hold||(B.hold={duration:1/0,timeout:null})},"interactions:move":function(y,b){var B=y.interaction,N=y.pointer,j=y.event,q=y.eventTarget;y.duplicate||B.pointerIsDown&&!B.pointerWasMoved||(B.pointerIsDown&&bd(y),$r({interaction:B,pointer:N,event:j,eventTarget:q,type:"move"},b))},"interactions:down":function(y,b){(function(B,N){for(var j=B.interaction,q=B.pointer,ne=B.event,re=B.eventTarget,fe=B.pointerIndex,Se=j.pointers[fe].hold,pe=de(re),Le={interaction:j,pointer:q,event:ne,eventTarget:re,type:"hold",targets:[],path:pe,node:null},ze=0;ze<pe.length;ze++){var We=pe[ze];Le.node=We,N.fire("pointerEvents:collect-targets",Le)}if(Le.targets.length){for(var Ze=1/0,it=0,mt=Le.targets;it<mt.length;it++){var dt=mt[it].eventable.options.holdDuration;dt<Ze&&(Ze=dt)}Se.duration=Ze,Se.timeout=setTimeout(function(){$r({interaction:j,eventTarget:re,pointer:q,event:ne,type:"hold"},N)},Ze)}})(y,b),$r(y,b)},"interactions:up":function(y,b){bd(y),$r(y,b),function(B,N){var j=B.interaction,q=B.pointer,ne=B.event,re=B.eventTarget;j.pointerWasMoved||$r({interaction:j,eventTarget:re,pointer:q,event:ne,type:"tap"},N)}(y,b)},"interactions:cancel":function(y,b){bd(y),$r(y,b)}},PointerEvent:md,fire:$r,collectEventTargets:zf,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function $r(y,b){var B=y.interaction,N=y.pointer,j=y.event,q=y.eventTarget,ne=y.type,re=y.targets,fe=re===void 0?zf(y,b):re,Se=new md(ne,N,j,q,B,b.now());b.fire("pointerEvents:new",{pointerEvent:Se});for(var pe={interaction:B,pointer:N,event:j,eventTarget:q,targets:fe,type:ne,pointerEvent:Se},Le=0;Le<fe.length;Le++){var ze=fe[Le];for(var We in ze.props||{})Se[We]=ze.props[We];var Ze=Ie(ze.eventable,ze.node);if(Se._subtractOrigin(Ze),Se.eventable=ze.eventable,Se.currentTarget=ze.node,ze.eventable.fire(Se),Se._addOrigin(Ze),Se.immediatePropagationStopped||Se.propagationStopped&&Le+1<fe.length&&fe[Le+1].node!==Se.currentTarget)break}if(b.fire("pointerEvents:fired",pe),ne==="tap"){var it=Se.double?$r({interaction:B,pointer:N,event:j,eventTarget:q,type:"doubletap"},b):Se;B.prevTap=it,B.tapTime=it.timeStamp}return Se}function zf(y,b){var B=y.interaction,N=y.pointer,j=y.event,q=y.eventTarget,ne=y.type,re=B.getPointerIndex(N),fe=B.pointers[re];if(ne==="tap"&&(B.pointerWasMoved||!fe||fe.downTarget!==q))return[];for(var Se=de(q),pe={interaction:B,pointer:N,event:j,eventTarget:q,type:ne,path:Se,targets:[],node:null},Le=0;Le<Se.length;Le++){var ze=Se[Le];pe.node=ze,b.fire("pointerEvents:collect-targets",pe)}return ne==="hold"&&(pe.targets=pe.targets.filter(function(We){var Ze,it;return We.eventable.options.holdDuration===((Ze=B.pointers[re])==null||(it=Ze.hold)==null?void 0:it.duration)})),pe.targets}function bd(y){var b=y.interaction,B=y.pointerIndex,N=b.pointers[B].hold;N&&N.timeout&&(clearTimeout(N.timeout),N.timeout=null)}var vd=Object.freeze({__proto__:null,default:So});function Rb(y){var b=y.interaction;b.holdIntervalHandle&&(clearInterval(b.holdIntervalHandle),b.holdIntervalHandle=null)}var Kf={id:"pointer-events/holdRepeat",install:function(y){y.usePlugin(So);var b=y.pointerEvents;b.defaults.holdRepeatInterval=0,b.types.holdrepeat=y.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(y,b){return y["pointerEvents:".concat(b)]=Rb,y},{"pointerEvents:new":function(y){var b=y.pointerEvent;b.type==="hold"&&(b.count=(b.count||0)+1)},"pointerEvents:fired":function(y,b){var B=y.interaction,N=y.pointerEvent,j=y.eventTarget,q=y.targets;if(N.type==="hold"&&q.length){var ne=q[0].eventable.options.holdRepeatInterval;ne<=0||(B.holdIntervalHandle=setTimeout(function(){b.pointerEvents.fire({interaction:B,eventTarget:j,type:"hold",pointer:N,event:N},b)},ne))}}})},Mb=Kf,Ob={id:"pointer-events/interactableTargets",install:function(y){var b=y.Interactable;b.prototype.pointerEvents=function(N){return xe(this.events.options,N),this};var B=b.prototype._backCompatOption;b.prototype._backCompatOption=function(N,j){var q=B.call(this,N,j);return q===this&&(this.events.options[N]=j),q}},listeners:{"pointerEvents:collect-targets":function(y,b){var B=y.targets,N=y.node,j=y.type,q=y.eventTarget;b.interactables.forEachMatch(N,function(ne){var re=ne.events,fe=re.options;re.types[j]&&re.types[j].length&&ne.testIgnoreAllow(fe,N,q)&&B.push({node:N,eventable:re,props:{interactable:ne}})})},"interactable:new":function(y){var b=y.interactable;b.events.getRect=function(B){return b.getRect(B)}},"interactable:set":function(y,b){var B=y.interactable,N=y.options;xe(B.events.options,b.pointerEvents.defaults),xe(B.events.options,N.pointerEvents||{})}}},Gf=Ob,Ub={id:"pointer-events",install:function(y){y.usePlugin(vd),y.usePlugin(Mb),y.usePlugin(Gf)}},qf=Ub,Wf={id:"reflow",install:function(y){var b=y.Interactable;y.actions.phases.reflow=!0,b.prototype.reflow=function(B){return function(N,j,q){for(var ne=N.getAllElements(),re=q.window.Promise,fe=re?[]:null,Se=function(){var Le=ne[pe],ze=N.getRect(Le);if(!ze)return 1;var We,Ze=rn(q.interactions.list,function(dt){return dt.interacting()&&dt.interactable===N&&dt.element===Le&&dt.prepared.name===j.name});if(Ze)Ze.move(),fe&&(We=Ze._reflowPromise||new re(function(dt){Ze._reflowResolve=dt}));else{var it=Ae(ze),mt=function(dt){return{coords:dt,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:it.x,y:it.y},client:{x:it.x,y:it.y},timeStamp:q.now()});We=function(dt,wt,Ot,Xt,St){var Ut=dt.interactions.new({pointerType:"reflow"}),Tn={interaction:Ut,event:St,pointer:St,eventTarget:Ot,phase:"reflow"};Ut.interactable=wt,Ut.element=Ot,Ut.prevEvent=St,Ut.updatePointer(St,St,Ot,!0),Qe(Ut.coords.delta),Ci(Ut.prepared,Xt),Ut._doPhase(Tn);var _i=dt.window,Mn=_i.Promise,ys=Mn?new Mn(function(Us){Ut._reflowResolve=Us}):void 0;return Ut._reflowPromise=ys,Ut.start(Xt,wt,Ot),Ut._interacting?(Ut.move(Tn),Ut.end(St)):(Ut.stop(),Ut._reflowResolve()),Ut.removePointer(St,St),ys}(q,N,Le,j,mt)}fe&&fe.push(We)},pe=0;pe<ne.length&&!Se();pe++);return fe&&re.all(fe).then(function(){return N})}(this,B,y)}},listeners:{"interactions:stop":function(y,b){var B=y.interaction;B.pointerType==="reflow"&&(B._reflowResolve&&B._reflowResolve(),function(N,j){N.splice(N.indexOf(j),1)}(b.interactions.list,B))}}},Yf=Wf;if(Rn.use(Ef),Rn.use(kf),Rn.use(qf),Rn.use(wu),Rn.use(Lb),Rn.use(fl),Rn.use(zi),Rn.use(bb),Rn.use(Yf),Rn.default=Rn,n(t)==="object"&&t)try{t.exports=Rn}catch{}return Rn.default=Rn,Rn})}(Nh,Nh.exports)),Nh.exports}var Tne=xne();const Cy=nr(Tne),_ne={name:"PPlateau",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:50,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},image:"./static/img/plateau/plateau.png",pions:2,chargementImage:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{image:this.image,pions:this.pions},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("plateauJeu"),this.panneau.contenu!==""&&(this.image=this.panneau.contenu.image,this.pions=this.panneau.contenu.pions),this.genererOptions("plateau")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="lecture"&&(this.redimensionnement=!0,this.activerPions(),this.positionner())},methods:{generer(){this.image!==""&&this.pions>1&&this.pions<13&&(this.mode="lecture",this.redimensionnement=!0,this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=88,this.h=60),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.activerPions(),this.positionner())},editer(){this.mode="edition",this.redimensionnement=!1,this.chargementImage=!1,this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=40,this.h=50,this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner(),this.desactiverPions()},televerserImage(t){const e=t.target.files[0];if(e){this.chargementImage=!0;const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1500){const r=document.createElement("canvas"),o=n.width/n.height,a=1500,l=1500/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.chargementImage=!1,this.image=r.toDataURL("image/jpeg",.85)}else this.chargementImage=!1,this.image=s.target.result}).bind(this)}).bind(this)}},activerPions(){Cy("#"+this.id+" .pion").draggable({modifiers:[Cy.modifiers.restrictRect({restriction:"#"+this.id+" .conteneur-plateau",endOnly:!1})],listeners:{move:function(t){const e=t.target,i=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,s=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.transform="translate("+i+"px, "+s+"px)",e.setAttribute("data-x",i),e.setAttribute("data-y",s)}}})},desactiverPions(){Cy("#"+this.id+" .pion").unset()}}},Sne={key:0,class:"conteneur panneau-plateau"},Bne={key:0,class:"contenu"},kne=["src"],Ine={class:"separateur"},Dne=["for"],Fne=["id"],Pne=["for"],Lne=["id","value"],Rne={key:1,class:"contenu"},Mne={key:1,class:"conteneur panneau-plateau"},One={class:"conteneur-plateau"},Une={class:"pions"},Nne=["id","src","alt"];function Hne(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[6]||(e[6]=d("div",{class:"conteneur-gauche"},null,-1)),n.mode==="edition"?(z(),Z("div",Sne,[n.chargementImage?(z(),Z("div",Rne,e[5]||(e[5]=[d("div",{class:"conteneur-chargement"},[d("div",{class:"chargement"})],-1)]))):(z(),Z("div",Bne,[d("label",null,te(t.$t("plateauJeu")),1),d("img",{class:"plateau",src:n.image,alt:"Plateau"},null,8,kne),d("div",Ine,[d("span",null,te(t.$t("ou")),1)]),d("label",{for:"selectionner_plateau_"+n.id,class:"bouton",role:"button",tabindex:"0",onKeydown:e[0]||(e[0]=J(a=>t.activerInput("selectionner_plateau_"+n.id),["enter"]))},te(t.$t("selectionnerImage")),41,Dne),d("input",{id:"selectionner_plateau_"+n.id,type:"file",onChange:e[1]||(e[1]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,Fne),d("label",{for:"nombre_pions_"+n.id},te(t.$t("nombrePions")),9,Pne),d("input",{id:"nombre_pions_"+n.id,type:"number",value:n.pions,min:2,max:12,onInput:e[2]||(e[2]=a=>n.pions=parseInt(a.target.value))},null,40,Lne),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[3]||(e[3]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[4]||(e[4]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)]))])):(z(),Z("div",Mne,[d("div",One,[d("div",{class:"plateau",style:hi("background-image: url("+n.image+")")},null,4),d("div",Une,[(z(!0),Z(vt,null,Yt(n.pions,a=>(z(),Z("img",{id:"pion_"+a+"_"+n.id,class:"pion",src:"./static/img/plateau/pion"+a+".png",key:"pion_"+a+"_"+n.id,alt:"pion_"+a},null,8,Nne))),128))])])])),e[7]||(e[7]=d("div",{class:"conteneur-droite"},null,-1)),e[8]||(e[8]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Qne=It(_ne,[["render",Hne]]),Vne={name:"PDes",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:20,minh:22,statut:"",dimensions:{},position:{},donnees:{x:0,y:0},des:1,type:"classique",nombreMin:1,nombreMax:99,alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],resultats:[]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{des:this.des,type:this.type,nombreMin:this.nombreMin,nombreMax:this.nombreMax},w:this.w,h:this.h,x:this.x,y:this.y}))},type:function(t){t==="nombre"?(this.w=40,this.h=34):(this.w=40,this.h=25.4),this.$nextTick((function(){this.positionner()}).bind(this))}},created(){if(this.definirCaracteristiques("des"),typeof this.panneau.contenu=="object"&&this.panneau.contenu.constructor===Object){this.des=this.panneau.contenu.des,this.type=this.panneau.contenu.type,this.nombreMin=this.panneau.contenu.nombreMin,this.nombreMax=this.panneau.contenu.nombreMax;for(let t=0;t<this.des;t++)this.type==="classique"?this.resultats.push(1):this.type==="nombre"?this.resultats.push(this.nombreMin):this.type==="lettre"&&this.resultats.push("A")}else if(this.panneau.contenu!==""){this.des=this.panneau.contenu;for(let t=0;t<this.des;t++)this.resultats.push(1)}this.genererOptions("des")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.des===1?setTimeout((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this),0)},methods:{generer(){this.mode="lecture",this.des===1?(this.w=20,this.h=24):this.des===2?(this.w=30,this.h=24):this.des===3?(this.w=40,this.h=24):this.des>3&&this.des<7?(this.w=40,this.h=36):this.des>6&&this.des<10?(this.w=40,this.h=48):this.des>9&&(this.w=40,this.h=60),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y);for(let t=0;t<this.des;t++)this.type==="classique"?this.resultats.push(1):this.type==="nombre"?this.resultats.push(this.nombreMin):this.type==="lettre"&&this.resultats.push("A");this.$nextTick((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this)),this.positionner()},editer(){this.mode="edition",this.resultats=[],this.donnees.x=this.x,this.donnees.y=this.y,this.type==="nombre"?(this.w=40,this.h=34):(this.w=40,this.h=25.4),this.$nextTick((function(){document.querySelector("#"+this.id+" input").focus()}).bind(this)),this.positionner()},jeter(){this.resultats=[];for(let t=0;t<this.des;t++){let e;this.type==="classique"?e=Math.floor(Math.random()*6)+1:this.type==="nombre"?e=Math.floor(Math.random()*(parseInt(this.nombreMax)-parseInt(this.nombreMin)+1))+parseInt(this.nombreMin):this.type==="lettre"&&(e=this.alphabet[Math.floor(Math.random()*this.alphabet.length)]),this.resultats.push(e)}this.$parent.audio.src="./static/audio/des.mp3",this.$parent.audio.play()}}},$ne={class:"conteneur panneau-des"},jne={key:0,class:"contenu"},zne=["for"],Kne=["id","value"],Gne={class:"choix"},qne={class:"classique"},Wne=["id","name","checked"],Yne=["for"],Xne={class:"nombre"},Jne=["id","name","checked"],Zne=["for"],ese={class:"lettre"},tse=["id","name","checked"],ise=["for"],nse={key:0,class:"plage-nombre"},sse={class:"min"},rse=["for"],ose=["id","value"],ase={class:"max"},lse=["for"],use=["id","value"],cse={key:1,class:"contenu"},dse={class:"des"};function hse(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[13]||(e[13]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",$ne,[n.mode==="edition"?(z(),Z("div",jne,[d("label",{for:"nombre_des__"+n.id},te(t.$t("nombreDes")),9,zne),d("input",{id:"nombre_des__"+n.id,type:"number",value:n.des,min:1,max:6,onInput:e[0]||(e[0]=a=>n.des=parseInt(a.target.value))},null,40,Kne),d("label",null,te(t.$t("typeDe")),1),d("div",Gne,[d("span",qne,[d("input",{id:"classique_"+n.id,type:"radio",name:"type_"+n.id,value:"classique",checked:n.type==="classique",onChange:e[1]||(e[1]=a=>n.type=a.target.value)},null,40,Wne),d("label",{for:"classique_"+n.id,tabindex:"0",onKeydown:e[2]||(e[2]=J(a=>t.activerInput("classique_"+n.id),["enter"]))},te(t.$t("classique")),41,Yne)]),d("span",Xne,[d("input",{id:"nombre_"+n.id,type:"radio",name:"type_"+n.id,value:"nombre",checked:n.type==="nombre",onChange:e[3]||(e[3]=a=>n.type=a.target.value)},null,40,Jne),d("label",{for:"nombre_"+n.id,tabindex:"0",onKeydown:e[4]||(e[4]=J(a=>t.activerInput("nombre_"+n.id),["enter"]))},te(t.$t("nombre")),41,Zne)]),d("span",ese,[d("input",{id:"lettre_"+n.id,type:"radio",name:"type_"+n.id,value:"lettre",checked:n.type==="lettre",onChange:e[5]||(e[5]=a=>n.type=a.target.value)},null,40,tse),d("label",{for:"lettre_"+n.id,tabindex:"0",onKeydown:e[6]||(e[6]=J(a=>t.activerInput("lettre_"+n.id),["enter"]))},te(t.$t("lettre")),41,ise)])]),n.type==="nombre"?(z(),Z("div",nse,[d("div",sse,[d("label",{for:"minimum_"+n.id},te(t.$t("minimum")),9,rse),d("input",{id:"minimum_"+n.id,type:"number",value:n.nombreMin,min:1,max:99,onInput:e[7]||(e[7]=a=>n.nombreMin=a.target.value)},null,40,ose)]),d("div",ase,[d("label",{for:"maximum_"+n.id},te(t.$t("maximum")),9,lse),d("input",{id:"maximum_"+n.id,type:"number",value:n.nombreMax,min:1,max:99,onInput:e[8]||(e[8]=a=>n.nombreMax=a.target.value)},null,40,use)])])):Me("",!0),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[9]||(e[9]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[10]||(e[10]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",cse,[d("div",dse,[(z(!0),Z(vt,null,Yt(n.resultats,(a,l)=>(z(),Z(vt,null,[n.type==="classique"?(z(),Z("span",{class:je("de de-"+a),key:"de_classique_"+l},null,2)):n.type==="nombre"?(z(),Z("span",{class:"de-autre",key:"de_nombre_"+l},te(a),1)):n.type==="lettre"?(z(),Z("span",{class:"de-autre",key:"de_lettre_"+l},te(a),1)):Me("",!0)],64))),256))]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[11]||(e[11]=(...a)=>r.jeter&&r.jeter(...a)),onKeydown:e[12]||(e[12]=J((...a)=>r.jeter&&r.jeter(...a),["enter"]))},te(t.$t("jeter")),33)]))]),e[14]||(e[14]=d("div",{class:"conteneur-droite"},null,-1)),e[15]||(e[15]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Ase=It(Vne,[["render",hse]]),fse={name:"PClassement",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:32,minh:28,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",points:100,classement:[],personneId:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,points:this.points,classement:this.classement},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("classement"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.points=this.panneau.contenu.points,this.classement=this.panneau.contenu.classement),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("classement")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&setTimeout((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this),0)},methods:{generer(){if(this.texte!==""){this.mode="lecture",this.redimensionnement=!0;let t=this.texte.split(",").map(e=>e.trim());t=t.filter(e=>e!==""),t.forEach((function(e){const i="personne-"+new Date().getTime()+Math.random().toString(16).slice(12);this.classement.push({id:i,personne:e,score:0})}).bind(this)),this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=64,this.h=48),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()}},editer(){this.mode="edition",this.redimensionnement=!1,this.classement=[],this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=45,this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this)),this.positionner()},ajouterPoints(t){this.classement.forEach((function(e){if(e.id===t){const i=e.score+parseInt(this.points);e.score=i}}).bind(this))},retirerPoints(t){this.classement.forEach((function(e){if(e.id===t){const i=e.score-parseInt(this.points);e.score=i}}).bind(this))},modifierScore(t){this.classement.forEach((function(e){if(e.id===t){const i=window.prompt(this.$t("modifierScore"),e.score);i!==null&&isNaN(i)===!1&&(e.score=parseInt(i))}}).bind(this))},classer(){this.classement.sort(function(t,e){const i=t.score,s=e.score;return i<s?1:-1})},afficherRenommerPersonne(t,e){const i=document.createElement("div");i.id="conteneur-modale-panneau",i.className="conteneur-modale",i.innerHTML='<div id="modale-panneau" class="modale" role="dialog"><div class="conteneur"><div class="contenu"><label>'+this.$t("nouveauNom")+'</label><input type="text" value="'+t+'"><div class="actions"><span id="annuler" class="bouton" role="button" tabindex="0">'+this.$t("annuler")+'</span><span id="valider" class="bouton" role="button" tabindex="0">'+this.$t("valider")+"</span></div></div></div></div>",document.body.appendChild(i),this.personneId=e,this.$nextTick((function(){document.querySelector("#annuler").addEventListener("click",(function(){this.personneId="",document.querySelector("#conteneur-modale-panneau").remove()}).bind(this)),document.querySelector("#annuler").addEventListener("keydown",(function(s){s.key==="Enter"&&(this.personneId="",document.querySelector("#conteneur-modale-panneau").remove())}).bind(this)),document.querySelector("#valider").addEventListener("click",(function(){this.renommerPersonne()}).bind(this)),document.querySelector("#valider").addEventListener("keydown",(function(s){s.key==="Enter"&&this.renommerPersonne()}).bind(this))}).bind(this))},renommerPersonne(){const t=document.querySelector("#modale-panneau input").value;t!==null&&(this.classement.forEach((function(e,i){e.id===this.personneId&&(this.texte=this.texte.replace(e.personne,t),this.classement[i].personne=t)}).bind(this)),this.personneId="",document.querySelector("#conteneur-modale-panneau").remove())}}},pse={class:"conteneur panneau-classement"},gse={key:0,class:"contenu"},mse=["for"],bse=["innerHTML"],vse=["id","value","placeholder"],yse=["for"],wse=["id","value"],Cse={key:1,class:"contenu"},Ese={class:"classement"},xse=["onDblclick","onKeydown"],Tse={class:"score"},_se=["onClick","onKeydown"],Sse=["onClick","onKeydown"],Bse=["onClick","onKeydown"],kse={class:"actions"};function Ise(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[8]||(e[8]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",pse,[n.mode==="edition"?(z(),Z("div",gse,[d("label",{for:"liste_personnes_"+n.id},te(t.$t("listePersonnes")),9,mse),d("span",{class:"consigne",innerHTML:t.$t("consigneClassement")},null,8,bse),d("textarea",{id:"liste_personnes_"+n.id,class:"classement",value:n.texte,onInput:e[0]||(e[0]=a=>n.texte=a.target.value),placeholder:t.$t("exempleGroupe")},null,40,vse),d("label",{for:"nombre_points_"+n.id},te(t.$t("nombrePoints")),9,yse),d("input",{id:"nombre_points_"+n.id,type:"number",value:n.points,min:1,onInput:e[1]||(e[1]=a=>n.points=a.target.value)},null,40,wse),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[3]||(e[3]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",Cse,[d("div",Ese,[(z(!0),Z(vt,null,Yt(n.classement,(a,l)=>(z(),Z("div",{class:"personne",key:"personne_"+l},[d("div",{class:"titre",tabindex:"0",onDblclick:u=>r.afficherRenommerPersonne(a.personne,a.id),onKeydown:J(u=>r.afficherRenommerPersonne(a.personne,a.id),["enter"])},te(a.personne),41,xse),d("div",Tse,[d("span",{class:"moins",role:"button",tabindex:"0",onClick:u=>r.retirerPoints(a.id),onKeydown:J(u=>r.retirerPoints(a.id),["enter"])},e[6]||(e[6]=[d("i",{class:"material-icons"},"remove",-1)]),40,_se),d("span",{class:"points",role:"button",tabindex:"0",onClick:u=>r.modifierScore(a.id),onKeydown:J(u=>r.modifierScore(a.id),["enter"])},te(a.score),41,Sse),d("span",{class:"plus",role:"button",tabindex:"0",onClick:u=>r.ajouterPoints(a.id),onKeydown:J(u=>r.ajouterPoints(a.id),["enter"])},e[7]||(e[7]=[d("i",{class:"material-icons"},"add",-1)]),40,Bse)])]))),128))]),d("div",kse,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...a)=>r.classer&&r.classer(...a)),onKeydown:e[5]||(e[5]=J((...a)=>r.classer&&r.classer(...a),["enter"]))},te(t.$t("classer")),33)])]))]),e[9]||(e[9]=d("div",{class:"conteneur-droite"},null,-1)),e[10]||(e[10]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Dse=It(fse,[["render",Ise]]),Fse={name:"PFeu",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:28,minh:57,statut:"",dimensions:{},position:{},couleur:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{couleur:this.couleur},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("feuQuadricolore"),this.panneau.contenu!==""&&(this.couleur=this.panneau.contenu.couleur),this.genererOptions("feu")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .feu").focus()}).bind(this),0)},methods:{modifier(t){this.couleur!==t?this.couleur=t:this.couleur=""}}},Pse={class:"conteneur panneau-feu"},Lse={class:"contenu"},Rse={class:"feux"};function Mse(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[8]||(e[8]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Pse,[d("div",Lse,[d("div",Rse,[d("div",{class:je(["feu rouge",{allume:n.couleur==="rouge"}]),role:"button",tabindex:"0",onClick:e[0]||(e[0]=a=>r.modifier("rouge")),onKeydown:e[1]||(e[1]=J(a=>r.modifier("rouge"),["enter"]))},null,34),d("div",{class:je(["feu jaune",{allume:n.couleur==="jaune"}]),role:"button",tabindex:"0",onClick:e[2]||(e[2]=a=>r.modifier("jaune")),onKeydown:e[3]||(e[3]=J(a=>r.modifier("jaune"),["enter"]))},null,34),d("div",{class:je(["feu vert",{allume:n.couleur==="vert"}]),role:"button",tabindex:"0",onClick:e[4]||(e[4]=a=>r.modifier("vert")),onKeydown:e[5]||(e[5]=J(a=>r.modifier("vert"),["enter"]))},null,34),d("div",{class:je(["feu blanc",{allume:n.couleur==="blanc"}]),role:"button",tabindex:"0",onClick:e[6]||(e[6]=a=>r.modifier("blanc")),onKeydown:e[7]||(e[7]=J(a=>r.modifier("blanc"),["enter"]))},null,34)])])]),e[9]||(e[9]=d("div",{class:"conteneur-droite"},null,-1)),e[10]||(e[10]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Ose=It(Fse,[["render",Mse]]),Use={name:"PModalites",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:38,minh:56,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},modalite:"silence"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{modalite:this.modalite},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("modalites"),this.panneau.contenu!==""&&(this.modalite=this.panneau.contenu.modalite),this.genererOptions("modalites")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+' span[role="button"]').focus()}).bind(this),0)}},Nse={class:"conteneur panneau-modalites"},Hse={class:"contenu"},Qse={class:"modalites"},Vse={class:"modalite"},$se=["src","alt"],jse={class:"legende"},zse={class:"source"},Kse={href:"https://arasaac.org",target:"_blank"};function Gse(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[10]||(e[10]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Nse,[d("div",Hse,[d("div",Qse,[d("span",{role:"button",tabindex:"0",onClick:e[0]||(e[0]=a=>n.modalite="silence"),onKeydown:e[1]||(e[1]=J(a=>n.modalite="silence",["enter"])),style:{"background-image":"url('./static/img/modalites/silence.png')"}},null,32),d("span",{role:"button",tabindex:"0",onClick:e[2]||(e[2]=a=>n.modalite="ecoutez"),onKeydown:e[3]||(e[3]=J(a=>n.modalite="ecoutez",["enter"])),style:{"background-image":"url('./static/img/modalites/ecoutez.png')"}},null,32),d("span",{role:"button",tabindex:"0",onClick:e[4]||(e[4]=a=>n.modalite="chuchotez"),onKeydown:e[5]||(e[5]=J(a=>n.modalite="chuchotez",["enter"])),style:{"background-image":"url('./static/img/modalites/chuchotez.png')"}},null,32),d("span",{role:"button",tabindex:"0",onClick:e[6]||(e[6]=a=>n.modalite="parlez"),onKeydown:e[7]||(e[7]=J(a=>n.modalite="parlez",["enter"])),style:{"background-image":"url('./static/img/modalites/parlez.png')"}},null,32),d("span",{role:"button",tabindex:"0",onClick:e[8]||(e[8]=a=>n.modalite="communiquez"),onKeydown:e[9]||(e[9]=J(a=>n.modalite="communiquez",["enter"])),style:{"background-image":"url('./static/img/modalites/communiquez.png')"}},null,32)]),d("div",Vse,[d("img",{src:"./static/img/modalites/"+n.modalite+".png",alt:t.$t(n.modalite)},null,8,$se),d("div",jse,te(t.$t(n.modalite)),1),d("div",zse,[d("a",Kse,te(t.$t("sourceImages"))+" : ARASAAC. Licence : CC (BY-NC-SA)",1)])])])]),e[11]||(e[11]=d("div",{class:"conteneur-droite"},null,-1)),e[12]||(e[12]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const qse=It(Use,[["render",Gse]]),Wse={name:"PGroupes",components:{JsPanel:Gt,draggable:Xc},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:32,minh:28,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},texte:"",personnes:1,groupes:[]}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{texte:this.texte,personnes:this.personnes,groupes:this.groupes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("groupes"),this.panneau.contenu!==""&&(this.texte=this.panneau.contenu.texte,this.personnes=this.panneau.contenu.personnes,this.groupes=this.panneau.contenu.groupes),this.mode==="lecture"&&(this.redimensionnement=!0),this.genererOptions("groupes")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.texte===""&&setTimeout((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this),0)},methods:{generer(){if(this.texte!==""){this.mode="lecture",this.redimensionnement=!0;let t=this.texte.split(",").map(i=>i.trim());t=t.filter(i=>i!==""),t=this.melanger(t);const e=parseInt(this.personnes);if(t.length>0&&e>0){let i=Math.ceil(t.length/e),s=0;for(;i>0;){const n=[];let r;if(i<1)for(;s<t.length;)n[n.length]=t[s],s++;else for(r=e;r>0;r--)n[n.length]=t[s],s++;this.groupes[this.groupes.length]=n,i--}}this.donnees.w>0&&this.donnees.h>0?(this.w=this.donnees.w,this.h=this.donnees.h):(this.w=64,this.h=48),this.donnees.x>0&&this.donnees.y>0&&(this.x=this.donnees.x,this.y=this.donnees.y),this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()}},editer(){this.mode="edition",this.redimensionnement=!1,this.groupes=[],this.donnees.w=this.w,this.donnees.h=this.h,this.donnees.x=this.x,this.donnees.y=this.y,this.w=46,this.h=42,this.$nextTick((function(){document.querySelector("#"+this.id+" textarea").focus()}).bind(this)),this.positionner()}}},Yse={class:"conteneur panneau-groupes"},Xse={key:0,class:"contenu"},Jse=["for"],Zse=["innerHTML"],ere=["id","value","placeholder"],tre=["for"],ire=["id","value"],nre={key:1,class:"contenu"},sre={class:"groupes"};function rre(t,e,i,s,n,r){const o=Je("draggable"),a=Je("JsPanel");return z(),et(a,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[4]||(e[4]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Yse,[n.mode==="edition"?(z(),Z("div",Xse,[d("label",{for:"liste_personnes_"+n.id},te(t.$t("listePersonnes")),9,Jse),d("span",{class:"consigne",innerHTML:t.$t("consigneGroupe")},null,8,Zse),d("textarea",{id:"liste_personnes_"+n.id,class:"groupes",value:n.texte,onInput:e[0]||(e[0]=l=>n.texte=l.target.value),placeholder:t.$t("exempleGroupe")},null,40,ere),d("label",{for:"nombre_personnes_"+n.id},te(t.$t("nombrePersonnesGroupe")),9,tre),d("input",{id:"nombre_personnes_"+n.id,type:"number",value:n.personnes,min:1,onInput:e[1]||(e[1]=l=>n.personnes=l.target.value)},null,40,ire),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...l)=>r.generer&&r.generer(...l)),onKeydown:e[3]||(e[3]=J((...l)=>r.generer&&r.generer(...l),["enter"]))},te(t.$t("valider")),33)])):(z(),Z("div",nre,[d("div",sre,[(z(!0),Z(vt,null,Yt(n.groupes,(l,u)=>(z(),Z("div",{class:"groupe",key:"groupe_"+u},[d("div",null,te(t.$t("groupe"))+" "+te(u+1),1),Vt(o,{modelValue:n.groupes[u],"onUpdate:modelValue":c=>n.groupes[u]=c,group:"groupe",tag:"ul"},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(l,(c,h)=>(z(),Z("li",{key:c+"_"+h},te(c),1))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))])]))]),e[5]||(e[5]=d("div",{class:"conteneur-droite"},null,-1)),e[6]||(e[6]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const ore=It(Wse,[["render",rre]]),are={name:"PChrono",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"stop",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:48,minh:22.2,statut:"",dimensions:{},position:{},chrono:"",millisecondesPause:0,millisecondesEcoulees:0,heures:0,minutes:0,secondes:0,millisecondes:0,texteHeures:"00",texteMinutes:"00",texteSecondes:"00",texteMillisecondes:"000",affichageHeures:"non",affichageMillisecondes:"oui"}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{affichageHeures:this.affichageHeures,affichageMillisecondes:this.affichageMillisecondes},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("chronometre"),this.panneau.contenu!==""&&(this.affichageHeures=this.panneau.contenu.affichageHeures,this.panneau.contenu.hasOwnProperty("affichageMillisecondes")&&(this.affichageMillisecondes=this.panneau.contenu.affichageMillisecondes)),this.genererOptions("chrono")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this),0)},methods:{demarrer(){this.chrono=this.arreterTempsMillisecondes(this.chrono);const t=this.demarrerTempsMillisecondes(this.millisecondesPause);this.millisecondesPause=0,this.chrono=setInterval((function(){this.millisecondesEcoulees=this.recupererTempsMillisecondes(t),this.millisecondes<10?this.texteMillisecondes="00"+this.millisecondes:this.millisecondes<100?this.texteMillisecondes="0"+this.millisecondes:this.texteMillisecondes=this.millisecondes,this.secondes<10?this.texteSecondes="0"+this.secondes:this.texteSecondes=this.secondes,this.minutes<10?this.texteMinutes="0"+this.minutes:this.texteMinutes=this.minutes,this.heures<10?this.texteHeures="0"+this.heures:this.texteHeures=this.heures,this.millisecondes=this.millisecondesEcoulees,this.minutes===59&&this.secondes===59&&this.millisecondes>999&&(this.secondes=0,this.minutes=0,this.heures++),this.secondes===59&&this.millisecondes>999&&(this.secondes=0,this.minutes++),this.millisecondes>999&&(this.millisecondes=0,this.secondes++,this.demarrer())}).bind(this),1),this.h=22.2,this.positionner(),this.mode!=="lecture"&&(this.mode="lecture",this.$nextTick((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this)))},pause(){this.millisecondesPause=this.millisecondesEcoulees,this.chrono=this.arreterTempsMillisecondes(this.chrono),this.mode="pause",this.$nextTick((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this))},stop(){this.chrono=this.arreterTempsMillisecondes(this.chrono),this.minutes=0,this.secondes=0,this.millisecondes=0,this.texteMinutes="00",this.texteSecondes="00",this.texteMillisecondes="000",this.mode="stop",this.h=28.4,this.$nextTick((function(){document.querySelector("#"+this.id).focus()}).bind(this)),this.positionner()},arreterTempsMillisecondes(t){return t&&clearInterval(t),t},demarrerTempsMillisecondes(t){return new Date().getTime()-t},recupererTempsMillisecondes(t){return t>0?new Date().getTime()-t:0},modifierAffichageHeures(t){this.affichageHeures=t,t==="oui"&&this.affichageMillisecondes==="oui"?this.w=59:t==="non"&&this.affichageMillisecondes==="non"?this.w=40:this.w=48,this.positionner()},modifierAffichageMillisecondes(t){this.affichageMillisecondes=t,t==="oui"&&this.affichageHeures==="oui"?this.w=59:t==="non"&&this.affichageHeures==="non"?this.w=40:this.w=48,this.positionner()}}},lre={class:"conteneur panneau-chrono"},ure={class:"contenu"},cre={class:"chrono"},dre={key:0,class:"heures"},hre={key:1,class:"separateur"},Are={class:"minutes"},fre={class:"secondes"},pre={key:2,class:"separateur"},gre={key:3,class:"millisecondes"},mre={key:0,class:"options"},bre={class:"conteneur-affichage-heures"},vre={class:"affichage-heures"},yre={class:"oui"},wre=["id","name","checked"],Cre=["for"],Ere={class:"non"},xre=["id","name","checked"],Tre=["for"],_re={class:"conteneur-affichage-millisecondes"},Sre={class:"affichage-millisecondes"},Bre={class:"oui"},kre=["id","name","checked"],Ire=["for"],Dre={class:"non"},Fre=["id","name","checked"],Pre=["for"],Lre={class:"actions"};function Rre(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[20]||(e[20]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",lre,[d("div",ure,[d("div",cre,[n.affichageHeures==="oui"?(z(),Z("span",dre,te(n.texteHeures),1)):Me("",!0),n.affichageHeures==="oui"?(z(),Z("span",hre,":")):Me("",!0),d("span",Are,te(n.texteMinutes),1),e[16]||(e[16]=d("span",{class:"separateur"},":",-1)),d("span",fre,te(n.texteSecondes),1),n.affichageMillisecondes==="oui"?(z(),Z("span",pre,".")):Me("",!0),n.affichageMillisecondes==="oui"?(z(),Z("span",gre,te(n.texteMillisecondes),1)):Me("",!0)]),n.mode==="stop"?(z(),Z("div",mre,[d("div",bre,[d("label",null,te(t.$t("afficherHeures")),1),d("div",vre,[d("span",yre,[d("input",{id:"heures_oui_"+n.id,type:"radio",name:"heures_oui_"+n.id,value:"oui",checked:n.affichageHeures==="oui",onChange:e[0]||(e[0]=a=>r.modifierAffichageHeures(a.target.value))},null,40,wre),d("label",{for:"heures_oui_"+n.id,tabindex:"0",onKeydown:e[1]||(e[1]=J(a=>t.activerInput("heures_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,Cre)]),d("span",Ere,[d("input",{id:"heures_non_"+n.id,type:"radio",name:"heures_oui_"+n.id,value:"non",checked:n.affichageHeures==="non",onChange:e[2]||(e[2]=a=>r.modifierAffichageHeures(a.target.value))},null,40,xre),d("label",{for:"heures_non_"+n.id,tabindex:"0",onKeydown:e[3]||(e[3]=J(a=>t.activerInput("heures_non_"+n.id),["enter"]))},te(t.$t("non")),41,Tre)])])]),d("div",_re,[d("label",null,te(t.$t("afficherMillisecondes")),1),d("div",Sre,[d("span",Bre,[d("input",{id:"millisecondes_oui_"+n.id,type:"radio",name:"millisecondes_oui_"+n.id,value:"oui",checked:n.affichageMillisecondes==="oui",onChange:e[4]||(e[4]=a=>r.modifierAffichageMillisecondes(a.target.value))},null,40,kre),d("label",{for:"millisecondes_oui_"+n.id,tabindex:"0",onKeydown:e[5]||(e[5]=J(a=>t.activerInput("millisecondes_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,Ire)]),d("span",Dre,[d("input",{id:"millisecondes_non_"+n.id,type:"radio",name:"millisecondes_oui_"+n.id,value:"non",checked:n.affichageMillisecondes==="non",onChange:e[6]||(e[6]=a=>r.modifierAffichageMillisecondes(a.target.value))},null,40,Fre),d("label",{for:"millisecondes_non_"+n.id,tabindex:"0",onKeydown:e[7]||(e[7]=J(a=>t.activerInput("millisecondes_non_"+n.id),["enter"]))},te(t.$t("non")),41,Pre)])])])])):Me("",!0),d("div",Lre,[n.mode==="stop"?(z(),Z("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=(...a)=>r.demarrer&&r.demarrer(...a)),onKeydown:e[9]||(e[9]=J((...a)=>r.demarrer&&r.demarrer(...a),["enter"]))},te(t.$t("demarrer")),33)):n.mode==="pause"?(z(),Z("span",{key:1,class:"bouton",role:"button",tabindex:"0",onClick:e[10]||(e[10]=(...a)=>r.demarrer&&r.demarrer(...a)),onKeydown:e[11]||(e[11]=J((...a)=>r.demarrer&&r.demarrer(...a),["enter"]))},e[17]||(e[17]=[d("i",{class:"material-icons"},"play_arrow",-1)]),32)):n.mode==="lecture"?(z(),Z("span",{key:2,class:"bouton",role:"button",tabindex:"0",onClick:e[12]||(e[12]=(...a)=>r.pause&&r.pause(...a)),onKeydown:e[13]||(e[13]=J((...a)=>r.pause&&r.pause(...a),["enter"]))},e[18]||(e[18]=[d("i",{class:"material-icons"},"pause",-1)]),32)):Me("",!0),n.mode!=="stop"?(z(),Z("span",{key:3,class:"bouton",role:"button",tabindex:"0",onClick:e[14]||(e[14]=(...a)=>r.stop&&r.stop(...a)),onKeydown:e[15]||(e[15]=J((...a)=>r.stop&&r.stop(...a),["enter"]))},e[19]||(e[19]=[d("i",{class:"material-icons"},"autorenew",-1)]),32)):Me("",!0)])])]),e[21]||(e[21]=d("div",{class:"conteneur-droite"},null,-1)),e[22]||(e[22]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Mre=It(are,[["render",Rre]]),Ore={name:"PRebours",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"edition",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:38,minh:22.2,statut:"",dimensions:{},position:{},heures:0,minutes:0,secondes:0,texteHeures:"",texteMinutes:"",texteSecondes:"",duree:"",dureeMs:0,decompte:"",tempsRestant:"",tempsEcoule:!1,affichageHeures:"non",affichageCercle:"oui",effetsSonores:"oui",son:"bip",redimensionnementEnCours:!1}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{heures:this.heures,minutes:this.minutes,secondes:this.secondes,affichageHeures:this.affichageHeures,affichageCercle:this.affichageCercle,effetsSonores:this.effetsSonores,son:this.son},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("compteRebours"),this.panneau.contenu!==""&&(this.panneau.contenu.hasOwnProperty("heures")&&(this.heures=this.panneau.contenu.heures),this.minutes=this.panneau.contenu.minutes,this.secondes=this.panneau.contenu.secondes,this.panneau.contenu.hasOwnProperty("affichageHeures")&&(this.affichageHeures=this.panneau.contenu.affichageHeures),this.panneau.contenu.hasOwnProperty("affichageCercle")&&(this.affichageCercle=this.panneau.contenu.affichageCercle),this.panneau.contenu.hasOwnProperty("effetsSonores")&&(this.effetsSonores=this.panneau.contenu.effetsSonores),this.panneau.contenu.hasOwnProperty("son")&&(this.son=this.panneau.contenu.son)),(this.mode==="lecture"||this.mode==="decompte")&&this.generer(),this.genererOptions("rebours")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.mode==="edition"&&this.statut!=="min"&&this.minutes===0&&this.affichageHeures==="oui"?setTimeout((function(){document.querySelector("#"+this.id+" .heures input").focus()}).bind(this),0):this.mode==="edition"&&this.statut!=="min"&&this.minutes===0&&this.affichageHeures==="non"?setTimeout((function(){document.querySelector("#"+this.id+" .minutes input").focus()}).bind(this),0):this.mode==="lecture"&&this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this),0),window.addEventListener("resize",(function(){this.redimensionnementEnCours=!0,setTimeout((function(){this.redimensionnementEnCours=!1}).bind(this),10)}).bind(this),!1)},methods:{generer(){(this.heures>=1||this.minutes>=1||this.secondes>=1)&&(this.mode="lecture",this.secondes<10?this.texteSecondes="0"+this.secondes:this.texteSecondes=this.secondes,this.minutes<10?this.texteMinutes="0"+this.minutes:this.texteMinutes=this.minutes,this.heures<10?this.texteHeures="0"+this.heures:this.texteHeures=this.heures,this.dureeMs=(parseInt(this.heures)*3600+parseInt(this.minutes)*60+parseInt(this.secondes))*1e3-1e3,this.affichageCercle==="oui"&&this.affichageHeures==="oui"?(this.w=46,this.h=55):this.affichageCercle==="oui"&&this.affichageHeures==="non"?(this.w=38,this.h=45):this.affichageCercle==="non"&&this.affichageHeures==="oui"?(this.w=46,this.h=22.2):this.affichageCercle==="non"&&this.affichageHeures==="non"&&(this.w=38,this.h=22.2),this.$nextTick((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this)),this.positionner())},editer(){this.mode="edition",this.texteHeures="",this.texteMinutes="",this.texteSecondes="",this.duree="",this.dureeMs=0,this.tempsRestant="",this.tempsEcoule=!1,this.decompte!==""&&(clearInterval(this.decompte),this.decompte=""),this.w=42,this.h=32,this.$nextTick((function(){this.affichageHeures==="oui"?document.querySelector("#"+this.id+" .heures input").focus():document.querySelector("#"+this.id+" .minutes input").focus()}).bind(this)),this.positionner()},demarrer(t){if(t===0){const e=Date.parse(new Date);this.duree=new Date(e+(parseInt(this.texteHeures)*3600+parseInt(this.texteMinutes)*60+(parseInt(this.texteSecondes)-1))*1e3)}else this.duree=t;this.decompter(),this.decompte=setInterval(this.decompter,1e3),this.mode="decompte",this.$nextTick((function(){document.querySelector("#"+this.id+" .bouton.pause").focus()}).bind(this))},redemarrer(){this.decompte!==""&&clearInterval(this.decompte),this.tempsEcoule=!1,this.mode="decompte",this.secondes<10?this.texteSecondes="0"+this.secondes:this.texteSecondes=this.secondes,this.minutes<10?this.texteMinutes="0"+this.minutes:this.texteMinutes=this.minutes,this.heures<10?this.texteHeures="0"+this.heures:this.texteHeures=this.heures,this.dureeMs=(parseInt(this.heures)*3600+parseInt(this.minutes)*60+parseInt(this.secondes))*1e3,this.$nextTick((function(){this.affichageCercle==="oui"&&document.querySelector("#"+this.id+" svg")&&(document.querySelector("#"+this.id+" svg").removeAttribute("style"),setTimeout((function(){document.querySelector("#"+this.id+" svg").style.animation="rebours "+this.dureeMs+"ms linear forwards",this.affichageHeures==="oui"?(document.querySelector("#"+this.id+" svg").style.strokeDasharray=Math.PI*2*this.convertirRem(20.2),document.querySelector("#"+this.id+" svg").style.strokeDashoffset=Math.PI*2*this.convertirRem(20.2)):(document.querySelector("#"+this.id+" svg").style.strokeDasharray=Math.PI*2*this.convertirRem(15.2),document.querySelector("#"+this.id+" svg").style.strokeDashoffset=Math.PI*2*this.convertirRem(15.2))}).bind(this),10))}).bind(this)),setTimeout((function(){this.demarrer(0)}).bind(this),1e3)},decompter(){const t=this.calculerTempsRestant(this.duree);t.secondes<10?this.texteSecondes="0"+t.secondes:this.texteSecondes=t.secondes,t.minutes<10?this.texteMinutes="0"+t.minutes:this.texteMinutes=t.minutes,t.heures<10?this.texteHeures="0"+t.heures:this.texteHeures=t.heures,this.affichageCercle==="oui"&&t.total<=1e4&&document.querySelector("#"+this.id+" svg")&&document.querySelector("#"+this.id+" svg").classList.add("rouge"),t.total<=1e4&&t.total>=0&&this.effetsSonores==="oui"&&document.querySelector("#audio-"+this.son).play(),t.total<=0&&(clearInterval(this.decompte),this.tempsEcoule=!0,this.mode="lecture",this.dureeMs=0)},pause(){clearInterval(this.decompte),this.tempsRestant=this.calculerTempsRestant(this.duree).total,this.mode="pause",this.affichageCercle==="oui"&&this.tempsRestant<=1e4&&document.querySelector("#"+this.id+" svg")&&this.$nextTick((function(){document.querySelector("#"+this.id+" svg").classList.add("rouge")}).bind(this)),this.$nextTick((function(){document.querySelector("#"+this.id+" .bouton.continuer").focus()}).bind(this))},continuer(){this.duree=new Date(Date.parse(new Date)+this.tempsRestant),this.demarrer(this.duree),this.mode="decompte",this.affichageCercle==="oui"&&this.tempsRestant<=1e4&&document.querySelector("#"+this.id+" svg")&&this.$nextTick((function(){document.querySelector("#"+this.id+" svg").classList.add("rouge")}).bind(this)),this.$nextTick((function(){document.querySelector("#"+this.id+" .bouton.pause").focus()}).bind(this))},ajouter(){this.decompte!==""&&clearInterval(this.decompte);const e=this.calculerTempsRestant(this.duree).total+6e4;parseInt(this.texteMinutes)<59?this.texteMinutes=parseInt(this.texteMinutes)+1:parseInt(this.texteMinutes)===59&&this.affichageHeures==="oui"&&(this.texteMinutes="00",this.texteHeures=parseInt(this.texteHeures)+1),parseInt(this.texteSecondes)<10?this.texteSecondes="0"+parseInt(this.texteSecondes):this.texteSecondes=parseInt(this.texteSecondes),parseInt(this.texteMinutes)<10?this.texteMinutes="0"+parseInt(this.texteMinutes):this.texteMinutes=parseInt(this.texteMinutes),parseInt(this.texteHeures)<10?this.texteHeures="0"+parseInt(this.texteHeures):this.texteHeures=parseInt(this.texteHeures),this.duree=new Date(Date.parse(new Date)+e),this.dureeMs=this.dureeMs+6e4,this.affichageCercle==="oui"&&this.dureeMs>1e4&&document.querySelector("#"+this.id+" svg")&&document.querySelector("#"+this.id+" svg").classList.remove("rouge"),this.decompter(),this.decompte=setInterval(this.decompter,1e3)},supprimer(){const t=this.calculerTempsRestant(this.duree).total;if(t>6e4){this.decompte!==""&&clearInterval(this.decompte);const e=t-6e4;parseInt(this.texteMinutes)>0?this.texteMinutes=parseInt(this.texteMinutes)-1:parseInt(this.texteMinutes)===0&&this.affichageHeures==="oui"&&(this.texteMinutes="00",this.texteHeures=parseInt(this.texteHeures)-1),parseInt(this.texteSecondes)<10?this.texteSecondes="0"+parseInt(this.texteSecondes):this.texteSecondes=parseInt(this.texteSecondes),parseInt(this.texteMinutes)<10?this.texteMinutes="0"+parseInt(this.texteMinutes):this.texteMinutes=parseInt(this.texteMinutes),parseInt(this.texteHeures)<10?this.texteHeures="0"+parseInt(this.texteHeures):this.texteHeures=parseInt(this.texteHeures),this.duree=new Date(Date.parse(new Date)+e),this.dureeMs=this.dureeMs-6e4,this.affichageCercle==="oui"&&this.dureeMs>1e4&&document.querySelector("#"+this.id+" svg")&&document.querySelector("#"+this.id+" svg").classList.remove("rouge"),this.decompter(),this.decompte=setInterval(this.decompter,1e3)}},calculerTempsRestant(t){const e=Date.parse(t)-Date.parse(new Date),i=Math.floor(e/1e3%60),s=Math.floor(e/1e3/60%60),n=Math.floor(e/1e3/3600%60);return{total:e,heures:n,minutes:s,secondes:i}},modifierAffichageHeures(t){this.affichageHeures=t},modifierAffichageCercle(t){this.affichageCercle=t}}},Ure={class:"conteneur panneau-rebours"},Nre={key:0,class:"contenu"},Hre={class:"rebours edition"},Qre={key:0,class:"heures"},Vre=["for"],$re=["id","value"],jre={class:"minutes"},zre=["for"],Kre=["id","value"],Gre={class:"secondes"},qre=["for"],Wre=["id","value"],Yre={class:"options"},Xre={class:"conteneur-affichage-heures"},Jre={class:"affichage-heures"},Zre={class:"oui"},eoe=["id","name","checked"],toe=["for"],ioe={class:"non"},noe=["id","name","checked"],soe=["for"],roe={class:"conteneur-affichage-cercle"},ooe={class:"affichage-cercle"},aoe={class:"oui"},loe=["id","name","checked"],uoe=["for"],coe={class:"non"},doe=["id","name","checked"],hoe=["for"],Aoe={class:"conteneur-activation-effets-sonores"},foe={class:"effets-sonores"},poe={class:"oui"},goe=["id","name","checked"],moe=["for"],boe={class:"non"},voe=["id","name","checked"],yoe=["for"],woe={key:0,class:"conteneur-sons"},Coe=["for"],Eoe=["id"],xoe=["selected"],Toe=["selected"],_oe=["selected"],Soe=["selected"],Boe=["selected"],koe=["selected"],Ioe=["selected"],Doe=["selected"],Foe=["selected"],Poe={class:"actions"},Loe={key:1,class:"contenu"},Roe=["height","width"],Moe=["cx","cy","r","stroke-width"],Ooe=["height","width"],Uoe=["cx","cy","r","stroke-width"],Noe={class:"decompte"},Hoe={key:0,class:"heures"},Qoe={key:1,class:"separateur"},Voe={class:"minutes"},$oe={class:"secondes"},joe={class:"actions"},zoe={key:1,class:"bouton danger"};function Koe(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[36]||(e[36]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Ure,[n.mode==="edition"?(z(),Z("div",Nre,[d("div",Hre,[n.affichageHeures==="oui"?(z(),Z("div",Qre,[d("label",{for:"heures_"+n.id},te(t.$t("heures")),9,Vre),d("input",{id:"heures_"+n.id,type:"number",value:n.heures,min:0,max:23,onInput:e[0]||(e[0]=a=>n.heures=a.target.value)},null,40,$re)])):Me("",!0),d("div",jre,[d("label",{for:"minutes_"+n.id},te(t.$t("minutes")),9,zre),d("input",{id:"minutes_"+n.id,type:"number",value:n.minutes,min:0,onInput:e[1]||(e[1]=a=>n.minutes=a.target.value)},null,40,Kre)]),d("div",Gre,[d("label",{for:"secondes_"+n.id},te(t.$t("secondes")),9,qre),d("input",{id:"secondes_"+n.id,type:"number",value:n.secondes,min:0,max:59,onInput:e[2]||(e[2]=a=>n.secondes=a.target.value)},null,40,Wre)])]),d("div",Yre,[d("div",Xre,[d("label",null,te(t.$t("afficherHeures")),1),d("div",Jre,[d("span",Zre,[d("input",{id:"heures_oui_"+n.id,type:"radio",name:"heures_oui_"+n.id,value:"oui",checked:n.affichageHeures==="oui",onChange:e[3]||(e[3]=a=>r.modifierAffichageHeures(a.target.value))},null,40,eoe),d("label",{for:"heures_oui_"+n.id,tabindex:"0",onKeydown:e[4]||(e[4]=J(a=>t.activerInput("heures_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,toe)]),d("span",ioe,[d("input",{id:"heures_non_"+n.id,type:"radio",name:"heures_oui_"+n.id,value:"non",checked:n.affichageHeures==="non",onChange:e[5]||(e[5]=a=>r.modifierAffichageHeures(a.target.value))},null,40,noe),d("label",{for:"heures_non_"+n.id,tabindex:"0",onKeydown:e[6]||(e[6]=J(a=>t.activerInput("heures_non_"+n.id),["enter"]))},te(t.$t("non")),41,soe)])])]),d("div",roe,[d("label",null,te(t.$t("afficherDecompteVisuel")),1),d("div",ooe,[d("span",aoe,[d("input",{id:"cercle_oui_"+n.id,type:"radio",name:"cercle_oui_"+n.id,value:"oui",checked:n.affichageCercle==="oui",onChange:e[7]||(e[7]=a=>r.modifierAffichageCercle(a.target.value))},null,40,loe),d("label",{for:"cercle_oui_"+n.id,tabindex:"0",onKeydown:e[8]||(e[8]=J(a=>t.activerInput("cercle_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,uoe)]),d("span",coe,[d("input",{id:"cercle_non_"+n.id,type:"radio",name:"cercle_oui_"+n.id,value:"non",checked:n.affichageCercle==="non",onChange:e[9]||(e[9]=a=>r.modifierAffichageCercle(a.target.value))},null,40,doe),d("label",{for:"cercle_non_"+n.id,tabindex:"0",onKeydown:e[10]||(e[10]=J(a=>t.activerInput("cercle_non_"+n.id),["enter"]))},te(t.$t("non")),41,hoe)])])]),d("div",Aoe,[d("label",null,te(t.$t("activerEffetsSonores")),1),d("div",foe,[d("span",poe,[d("input",{id:"son_oui_"+n.id,type:"radio",name:"son_"+n.id,value:"oui",checked:n.effetsSonores==="oui",onChange:e[11]||(e[11]=a=>n.effetsSonores=a.target.value)},null,40,goe),d("label",{for:"son_oui_"+n.id,tabindex:"0",onKeydown:e[12]||(e[12]=J(a=>t.activerInput("son_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,moe)]),d("span",boe,[d("input",{id:"son_non_"+n.id,type:"radio",name:"son_"+n.id,value:"non",checked:n.effetsSonores==="non",onChange:e[13]||(e[13]=a=>n.effetsSonores=a.target.value)},null,40,voe),d("label",{for:"son_non_"+n.id,tabindex:"0",onKeydown:e[14]||(e[14]=J(a=>t.activerInput("son_non_"+n.id),["enter"]))},te(t.$t("non")),41,yoe)])])]),n.effetsSonores==="oui"?(z(),Z("div",woe,[d("label",{for:"son_"+n.id},te(t.$t("son")),9,Coe),d("select",{id:"son_"+n.id,onChange:e[15]||(e[15]=a=>n.son=a.target.value)},[d("option",{selected:n.son==="bip",value:"bip"},te(t.$t("bip")),9,xoe),d("option",{selected:n.son==="cartoon",value:"cartoon"},te(t.$t("cartoon")),9,Toe),d("option",{selected:n.son==="clave",value:"clave"},te(t.$t("clave")),9,_oe),d("option",{selected:n.son==="djembe",value:"djembe"},te(t.$t("djembe")),9,Soe),d("option",{selected:n.son==="goutte",value:"goutte"},te(t.$t("gouttes")),9,Boe),d("option",{selected:n.son==="maraca",value:"maraca"},te(t.$t("maraca")),9,koe),d("option",{selected:n.son==="mbira",value:"mbira"},te(t.$t("mbira")),9,Ioe),d("option",{selected:n.son==="metronome",value:"metronome"},te(t.$t("metronome")),9,Doe),d("option",{selected:n.son==="triangle",value:"triangle"},te(t.$t("triangle")),9,Foe)],40,Eoe)])):Me("",!0)]),d("div",Poe,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[16]||(e[16]=(...a)=>r.generer&&r.generer(...a)),onKeydown:e[17]||(e[17]=J((...a)=>r.generer&&r.generer(...a),["enter"]))},te(t.$t("valider")),33)])])):(z(),Z("div",Loe,[d("div",{class:je(["rebours",{"avec-cercle":n.affichageCercle==="oui","sans-cercle":n.affichageCercle==="non"}])},[n.affichageCercle==="oui"&&n.affichageHeures==="oui"&&!n.redimensionnementEnCours?(z(),Z("svg",{key:0,height:t.convertirRem(42),width:t.convertirRem(42),class:je({actif:n.mode==="decompte",rouge:n.tempsEcoule}),style:hi({animation:"rebours "+n.dureeMs+"ms linear forwards","stroke-dasharray":Math.PI*2*t.convertirRem(20.2),"stroke-dashoffset":Math.PI*2*t.convertirRem(20.2)})},[d("circle",{cx:t.convertirRem(21),cy:t.convertirRem(21),r:t.convertirRem(20.2),stroke:"#00ced1","stroke-width":t.convertirRem(1.6),fill:"#f9f9f9"},null,8,Moe)],14,Roe)):n.affichageCercle==="oui"&&n.affichageHeures==="non"&&!n.redimensionnementEnCours?(z(),Z("svg",{key:1,height:t.convertirRem(32),width:t.convertirRem(32),class:je({actif:n.mode==="decompte",rouge:n.tempsEcoule}),style:hi({animation:"rebours "+n.dureeMs+"ms linear forwards","stroke-dasharray":Math.PI*2*t.convertirRem(15.2),"stroke-dashoffset":Math.PI*2*t.convertirRem(15.2)})},[d("circle",{cx:t.convertirRem(16),cy:t.convertirRem(16),r:t.convertirRem(15.2),stroke:"#00ced1","stroke-width":t.convertirRem(1.6),fill:"#f9f9f9"},null,8,Uoe)],14,Ooe)):Me("",!0),d("div",Noe,[n.affichageHeures==="oui"?(z(),Z("span",Hoe,te(n.texteHeures),1)):Me("",!0),n.affichageHeures==="oui"?(z(),Z("span",Qoe,":")):Me("",!0),d("span",Voe,te(n.texteMinutes),1),e[32]||(e[32]=d("span",{class:"separateur"},":",-1)),d("span",$oe,te(n.texteSecondes),1)])],2),d("div",joe,[!n.tempsEcoule&&(n.mode==="decompte"||n.mode==="pause")?(z(),Z("span",{key:0,class:je(["supprimer",{"avec-focus":n.statut==="focus"}]),role:"button",tabindex:"0",onClick:e[18]||(e[18]=(...a)=>r.supprimer&&r.supprimer(...a)),onKeydown:e[19]||(e[19]=J((...a)=>r.supprimer&&r.supprimer(...a),["enter"]))},te(t.$t("moins1Min")),35)):Me("",!0),n.tempsEcoule?(z(),Z("span",zoe,te(t.$t("tempsEcoule")),1)):Me("",!0),n.tempsEcoule&&n.mode==="lecture"?(z(),Z("span",{key:2,class:"bouton redemarrer",role:"button",tabindex:"0",onClick:e[20]||(e[20]=(...a)=>r.redemarrer&&r.redemarrer(...a)),onKeydown:e[21]||(e[21]=J((...a)=>r.redemarrer&&r.redemarrer(...a),["enter"]))},te(t.$t("redemarrer")),33)):!n.tempsEcoule&&n.mode==="lecture"?(z(),Z("span",{key:3,class:"bouton demarrer",role:"button",tabindex:"0",onClick:e[22]||(e[22]=a=>r.demarrer(0)),onKeydown:e[23]||(e[23]=J(a=>r.demarrer(0),["enter"]))},te(t.$t("demarrer")),33)):!n.tempsEcoule&&n.mode==="decompte"?(z(),Z("span",{key:4,class:"bouton pause",role:"button",tabindex:"0",onClick:e[24]||(e[24]=(...a)=>r.pause&&r.pause(...a)),onKeydown:e[25]||(e[25]=J((...a)=>r.pause&&r.pause(...a),["enter"]))},e[33]||(e[33]=[d("i",{class:"material-icons"},"pause",-1)]),32)):!n.tempsEcoule&&n.mode==="pause"?(z(),Z("span",{key:5,class:"bouton continuer",role:"button",tabindex:"0",onClick:e[26]||(e[26]=(...a)=>r.continuer&&r.continuer(...a)),onKeydown:e[27]||(e[27]=J((...a)=>r.continuer&&r.continuer(...a),["enter"]))},e[34]||(e[34]=[d("i",{class:"material-icons"},"play_arrow",-1)]),32)):Me("",!0),!n.tempsEcoule&&(n.mode==="decompte"||n.mode==="pause")?(z(),Z("span",{key:6,class:"bouton",role:"button",tabindex:"0",onClick:e[28]||(e[28]=(...a)=>r.redemarrer&&r.redemarrer(...a)),onKeydown:e[29]||(e[29]=J((...a)=>r.redemarrer&&r.redemarrer(...a),["enter"]))},e[35]||(e[35]=[d("i",{class:"material-icons"},"autorenew",-1)]),32)):Me("",!0),!n.tempsEcoule&&(n.mode==="decompte"||n.mode==="pause")?(z(),Z("span",{key:7,class:je(["ajouter",{"avec-focus":n.statut==="focus"}]),role:"button",tabindex:"0",onClick:e[30]||(e[30]=(...a)=>r.ajouter&&r.ajouter(...a)),onKeydown:e[31]||(e[31]=J((...a)=>r.ajouter&&r.ajouter(...a),["enter"]))},te(t.$t("plus1Min")),35)):Me("",!0)])]))]),e[37]||(e[37]=d("div",{class:"conteneur-droite"},null,-1)),e[38]||(e[38]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Goe=It(Ore,[["render",Koe]]),qoe={name:"PHorlogeModulable",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:43.6,statut:"",dimensions:{},position:{},degresH:"",degresM:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{degresH:this.degresH,degresM:this.degresM},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("horlogeModulable"),this.panneau.contenu!==""&&(this.degresH=this.panneau.contenu.degresH,this.degresM=this.panneau.contenu.degresM),this.genererOptions("horloge-modulable")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.$nextTick((function(){this.afficherHorloge()}).bind(this))},methods:{afficherHorloge(){const t=document.querySelector("#h_"+this.id),e=document.querySelector("#m_"+this.id);if(this.degresH===""&&this.degresM===""){const i=new Date,s=i.getHours(),n=i.getMinutes(),r=30*s+n/2,o=6*n;t.style.transform="rotate(".concat(r,"deg)"),e.style.transform="rotate(".concat(o,"deg)")}else t.style.transform="rotate(".concat(this.degresH,"deg)"),e.style.transform="rotate(".concat(this.degresM,"deg)");t.addEventListener("mousedown",this.tourner),e.addEventListener("mousedown",this.tourner)},tourner(t){const e=t.target;e.parentNode.style.cursor="grabbing";let i=!0;const s=document.querySelector("#"+this.id+" .horloge"),n=s.getBoundingClientRect(),r=n.width/2,o=l=>{let c=Math.atan2(l.pageX-(n.x+r),l.pageY-(n.y+r))*(180/Math.PI)*-1-180;i&&(e.parentNode.classList.contains("un")?this.degresH=c:e.parentNode.classList.contains("deux")&&(this.degresM=c),e.parentNode.style.transform="rotate(".concat(c,"deg)"))};s.addEventListener("mousemove",o);const a=()=>{e.parentNode.style.cursor="grab",i=!i,s.removeEventListener("mousemove",o),s.removeEventListener("mouseup",a)};s.addEventListener("mouseup",a)}}},Woe={class:"conteneur panneau-horloge-modulable"},Yoe={class:"contenu"},Xoe={class:"horloge"},Joe=["id"],Zoe=["id"];function eae(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",Woe,[d("div",Yoe,[d("div",Xoe,[d("div",{id:"h_"+n.id,class:"aiguille un"},e[0]||(e[0]=[d("i",null,null,-1)]),8,Joe),d("div",{id:"m_"+n.id,class:"aiguille deux"},e[1]||(e[1]=[d("i",null,null,-1)]),8,Zoe),e[2]||(e[2]=d("span",{style:{"--i":"1"}},[d("b",null,"1")],-1)),e[3]||(e[3]=d("span",{style:{"--i":"2"}},[d("b",null,"2")],-1)),e[4]||(e[4]=d("span",{style:{"--i":"3"}},[d("b",null,"3")],-1)),e[5]||(e[5]=d("span",{style:{"--i":"4"}},[d("b",null,"4")],-1)),e[6]||(e[6]=d("span",{style:{"--i":"5"}},[d("b",null,"5")],-1)),e[7]||(e[7]=d("span",{style:{"--i":"6"}},[d("b",null,"6")],-1)),e[8]||(e[8]=d("span",{style:{"--i":"7"}},[d("b",null,"7")],-1)),e[9]||(e[9]=d("span",{style:{"--i":"8"}},[d("b",null,"8")],-1)),e[10]||(e[10]=d("span",{style:{"--i":"9"}},[d("b",null,"9")],-1)),e[11]||(e[11]=d("span",{style:{"--i":"10"}},[d("b",null,"10")],-1)),e[12]||(e[12]=d("span",{style:{"--i":"11"}},[d("b",null,"11")],-1)),e[13]||(e[13]=d("span",{style:{"--i":"12"}},[d("b",null,"12")],-1)),e[14]||(e[14]=d("span",{class:"trait large",style:{transform:"rotate(90deg)",left:"100%",top:"50%"}},null,-1)),e[15]||(e[15]=d("span",{class:"trait",style:{transform:"rotate(96deg)",left:"99.7261%",top:"55.2264%"}},null,-1)),e[16]||(e[16]=d("span",{class:"trait",style:{transform:"rotate(102deg)",left:"98.9074%",top:"60.3956%"}},null,-1)),e[17]||(e[17]=d("span",{class:"trait",style:{transform:"rotate(108deg)",left:"97.5528%",top:"65.4508%"}},null,-1)),e[18]||(e[18]=d("span",{class:"trait",style:{transform:"rotate(114deg)",left:"95.6773%",top:"70.3368%"}},null,-1)),e[19]||(e[19]=d("span",{class:"trait large",style:{transform:"rotate(120deg)",left:"93.3013%",top:"75%"}},null,-1)),e[20]||(e[20]=d("span",{class:"trait",style:{transform:"rotate(126deg)",left:"90.4508%",top:"79.3893%"}},null,-1)),e[21]||(e[21]=d("span",{class:"trait",style:{transform:"rotate(132deg)",left:"87.1572%",top:"83.4565%"}},null,-1)),e[22]||(e[22]=d("span",{class:"trait",style:{transform:"rotate(138deg)",left:"83.4565%",top:"87.1572%"}},null,-1)),e[23]||(e[23]=d("span",{class:"trait",style:{transform:"rotate(144deg)",left:"79.3893%",top:"90.4508%"}},null,-1)),e[24]||(e[24]=d("span",{class:"trait large",style:{transform:"rotate(150deg)",left:"75%",top:"93.3013%"}},null,-1)),e[25]||(e[25]=d("span",{class:"trait",style:{transform:"rotate(156deg)",left:"70.3368%",top:"95.6773%"}},null,-1)),e[26]||(e[26]=d("span",{class:"trait",style:{transform:"rotate(162deg)",left:"65.4508%",top:"97.5528%"}},null,-1)),e[27]||(e[27]=d("span",{class:"trait",style:{transform:"rotate(168deg)",left:"60.3956%",top:"98.9074%"}},null,-1)),e[28]||(e[28]=d("span",{class:"trait",style:{transform:"rotate(174deg)",left:"55.2264%",top:"99.7261%"}},null,-1)),e[29]||(e[29]=d("span",{class:"trait large",style:{transform:"rotate(180deg)",left:"50%",top:"100%"}},null,-1)),e[30]||(e[30]=d("span",{class:"trait",style:{transform:"rotate(186deg)",left:"44.7736%",top:"99.7261%"}},null,-1)),e[31]||(e[31]=d("span",{class:"trait",style:{transform:"rotate(192deg)",left:"39.6044%",top:"98.9074%"}},null,-1)),e[32]||(e[32]=d("span",{class:"trait",style:{transform:"rotate(198deg)",left:"34.5492%",top:"97.5528%"}},null,-1)),e[33]||(e[33]=d("span",{class:"trait",style:{transform:"rotate(204deg)",left:"29.6632%",top:"95.6773%"}},null,-1)),e[34]||(e[34]=d("span",{class:"trait large",style:{transform:"rotate(210deg)",left:"25%",top:"93.3013%"}},null,-1)),e[35]||(e[35]=d("span",{class:"trait",style:{transform:"rotate(216deg)",left:"20.6107%",top:"90.4508%"}},null,-1)),e[36]||(e[36]=d("span",{class:"trait",style:{transform:"rotate(222deg)",left:"16.5435%",top:"87.1572%"}},null,-1)),e[37]||(e[37]=d("span",{class:"trait",style:{transform:"rotate(228deg)",left:"12.8428%",top:"83.4565%"}},null,-1)),e[38]||(e[38]=d("span",{class:"trait",style:{transform:"rotate(234deg)",left:"9.54915%",top:"79.3893%"}},null,-1)),e[39]||(e[39]=d("span",{class:"trait large",style:{transform:"rotate(240deg)",left:"6.69873%",top:"75%"}},null,-1)),e[40]||(e[40]=d("span",{class:"trait",style:{transform:"rotate(246deg)",left:"4.32273%",top:"70.3368%"}},null,-1)),e[41]||(e[41]=d("span",{class:"trait",style:{transform:"rotate(252deg)",left:"2.44717%",top:"65.4508%"}},null,-1)),e[42]||(e[42]=d("span",{class:"trait",style:{transform:"rotate(258deg)",left:"1.09262%",top:"60.3956%"}},null,-1)),e[43]||(e[43]=d("span",{class:"trait",style:{transform:"rotate(264deg)",left:"0.273905%",top:"55.2264%"}},null,-1)),e[44]||(e[44]=d("span",{class:"trait large",style:{transform:"rotate(270deg)",left:"0%",top:"50%"}},null,-1)),e[45]||(e[45]=d("span",{class:"trait",style:{transform:"rotate(276deg)",left:"0.273905%",top:"44.7736%"}},null,-1)),e[46]||(e[46]=d("span",{class:"trait",style:{transform:"rotate(282deg)",left:"1.09262%",top:"39.6044%"}},null,-1)),e[47]||(e[47]=d("span",{class:"trait",style:{transform:"rotate(288deg)",left:"2.44717%",top:"34.5492%"}},null,-1)),e[48]||(e[48]=d("span",{class:"trait",style:{transform:"rotate(294deg)",left:"4.32273%",top:"29.6632%"}},null,-1)),e[49]||(e[49]=d("span",{class:"trait large",style:{transform:"rotate(300deg)",left:"6.69873%",top:"25%"}},null,-1)),e[50]||(e[50]=d("span",{class:"trait",style:{transform:"rotate(306deg)",left:"9.54915%",top:"20.6107%"}},null,-1)),e[51]||(e[51]=d("span",{class:"trait",style:{transform:"rotate(312deg)",left:"12.8428%",top:"16.5435%"}},null,-1)),e[52]||(e[52]=d("span",{class:"trait",style:{transform:"rotate(318deg)",left:"16.5435%",top:"12.8428%"}},null,-1)),e[53]||(e[53]=d("span",{class:"trait",style:{transform:"rotate(324deg)",left:"20.6107%",top:"9.54915%"}},null,-1)),e[54]||(e[54]=d("span",{class:"trait large",style:{transform:"rotate(330deg)",left:"25%",top:"6.69873%"}},null,-1)),e[55]||(e[55]=d("span",{class:"trait",style:{transform:"rotate(336deg)",left:"29.6632%",top:"4.32273%"}},null,-1)),e[56]||(e[56]=d("span",{class:"trait",style:{transform:"rotate(342deg)",left:"34.5492%",top:"2.44717%"}},null,-1)),e[57]||(e[57]=d("span",{class:"trait",style:{transform:"rotate(348deg)",left:"39.6044%",top:"1.09262%"}},null,-1)),e[58]||(e[58]=d("span",{class:"trait",style:{transform:"rotate(354deg)",left:"44.7736%",top:"0.273905%"}},null,-1)),e[59]||(e[59]=d("span",{class:"trait large",style:{transform:"rotate(360deg)",left:"50%",top:"0%"}},null,-1)),e[60]||(e[60]=d("span",{class:"trait",style:{transform:"rotate(366deg)",left:"55.2264%",top:"0.273905%"}},null,-1)),e[61]||(e[61]=d("span",{class:"trait",style:{transform:"rotate(372deg)",left:"60.3956%",top:"1.09262%"}},null,-1)),e[62]||(e[62]=d("span",{class:"trait",style:{transform:"rotate(378deg)",left:"65.4508%",top:"2.44717%"}},null,-1)),e[63]||(e[63]=d("span",{class:"trait",style:{transform:"rotate(384deg)",left:"70.3368%",top:"4.32273%"}},null,-1)),e[64]||(e[64]=d("span",{class:"trait large",style:{transform:"rotate(390deg)",left:"75%",top:"6.69873%"}},null,-1)),e[65]||(e[65]=d("span",{class:"trait",style:{transform:"rotate(396deg)",left:"79.3893%",top:"9.54915%"}},null,-1)),e[66]||(e[66]=d("span",{class:"trait",style:{transform:"rotate(402deg)",left:"83.4565%",top:"12.8428%"}},null,-1)),e[67]||(e[67]=d("span",{class:"trait",style:{transform:"rotate(408deg)",left:"87.1572%",top:"16.5435%"}},null,-1)),e[68]||(e[68]=d("span",{class:"trait",style:{transform:"rotate(414deg)",left:"90.4508%",top:"20.6107%"}},null,-1)),e[69]||(e[69]=d("span",{class:"trait large",style:{transform:"rotate(420deg)",left:"93.3013%",top:"25%"}},null,-1)),e[70]||(e[70]=d("span",{class:"trait",style:{transform:"rotate(426deg)",left:"95.6773%",top:"29.6632%"}},null,-1)),e[71]||(e[71]=d("span",{class:"trait",style:{transform:"rotate(432deg)",left:"97.5528%",top:"34.5492%"}},null,-1)),e[72]||(e[72]=d("span",{class:"trait",style:{transform:"rotate(438deg)",left:"98.9074%",top:"39.6044%"}},null,-1)),e[73]||(e[73]=d("span",{class:"trait",style:{transform:"rotate(444deg)",left:"99.7261%",top:"44.7736%"}},null,-1))])])])]),_:1},8,["visible","options"])}const tae=It(qoe,[["render",eae]]);var xg={exports:{}},iae=xg.exports,m_;function du(){return m_||(m_=1,function(t,e){(function(i,s){t.exports=s()})(iae,function(){var i=1e3,s=6e4,n=36e5,r="millisecond",o="second",a="minute",l="hour",u="day",c="week",h="month",A="quarter",f="year",m="date",p="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var F=["th","st","nd","rd"],V=_%100;return"["+_+(F[(V-20)%10]||F[V]||F[0])+"]"}},w=function(_,F,V){var Q=String(_);return!Q||Q.length>=F?_:""+Array(F+1-Q.length).join(V)+_},S={s:w,z:function(_){var F=-_.utcOffset(),V=Math.abs(F),Q=Math.floor(V/60),G=V%60;return(F<=0?"+":"-")+w(Q,2,"0")+":"+w(G,2,"0")},m:function _(F,V){if(F.date()<V.date())return-_(V,F);var Q=12*(V.year()-F.year())+(V.month()-F.month()),G=F.clone().add(Q,h),Y=V-G<0,ee=F.clone().add(Q+(Y?-1:1),h);return+(-(Q+(V-G)/(Y?G-ee:ee-G))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:h,y:f,w:c,d:u,D:m,h:l,m:a,s:o,ms:r,Q:A}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},I="en",O={};O[I]=g;var U="$isDayjsObject",$=function(_){return _ instanceof R||!(!_||!_[U])},k=function _(F,V,Q){var G;if(!F)return I;if(typeof F=="string"){var Y=F.toLowerCase();O[Y]&&(G=Y),V&&(O[Y]=V,G=Y);var ee=F.split("-");if(!G&&ee.length>1)return _(ee[0])}else{var W=F.name;O[W]=F,G=W}return!Q&&G&&(I=G),G||!Q&&I},P=function(_,F){if($(_))return _.clone();var V=typeof F=="object"?F:{};return V.date=_,V.args=arguments,new R(V)},T=S;T.l=k,T.i=$,T.w=function(_,F){return P(_,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var R=function(){function _(V){this.$L=k(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[U]=!0}var F=_.prototype;return F.parse=function(V){this.$d=function(Q){var G=Q.date,Y=Q.utc;if(G===null)return new Date(NaN);if(T.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var ee=G.match(x);if(ee){var W=ee[2]-1||0,ge=(ee[7]||"0").substring(0,3);return Y?new Date(Date.UTC(ee[1],W,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,ge)):new Date(ee[1],W,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,ge)}}return new Date(G)}(V),this.init()},F.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},F.$utils=function(){return T},F.isValid=function(){return this.$d.toString()!==p},F.isSame=function(V,Q){var G=P(V);return this.startOf(Q)<=G&&G<=this.endOf(Q)},F.isAfter=function(V,Q){return P(V)<this.startOf(Q)},F.isBefore=function(V,Q){return this.endOf(Q)<P(V)},F.$g=function(V,Q,G){return T.u(V)?this[Q]:this.set(G,V)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(V,Q){var G=this,Y=!!T.u(Q)||Q,ee=T.p(V),W=function(xe,He){var $e=T.w(G.$u?Date.UTC(G.$y,He,xe):new Date(G.$y,He,xe),G);return Y?$e:$e.endOf(u)},ge=function(xe,He){return T.w(G.toDate()[xe].apply(G.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(He)),G)},ce=this.$W,we=this.$M,Ce=this.$D,Oe="set"+(this.$u?"UTC":"");switch(ee){case f:return Y?W(1,0):W(31,11);case h:return Y?W(1,we):W(0,we+1);case c:var de=this.$locale().weekStart||0,Te=(ce<de?ce+7:ce)-de;return W(Y?Ce-Te:Ce+(6-Te),we);case u:case m:return ge(Oe+"Hours",0);case l:return ge(Oe+"Minutes",1);case a:return ge(Oe+"Seconds",2);case o:return ge(Oe+"Milliseconds",3);default:return this.clone()}},F.endOf=function(V){return this.startOf(V,!1)},F.$set=function(V,Q){var G,Y=T.p(V),ee="set"+(this.$u?"UTC":""),W=(G={},G[u]=ee+"Date",G[m]=ee+"Date",G[h]=ee+"Month",G[f]=ee+"FullYear",G[l]=ee+"Hours",G[a]=ee+"Minutes",G[o]=ee+"Seconds",G[r]=ee+"Milliseconds",G)[Y],ge=Y===u?this.$D+(Q-this.$W):Q;if(Y===h||Y===f){var ce=this.clone().set(m,1);ce.$d[W](ge),ce.init(),this.$d=ce.set(m,Math.min(this.$D,ce.daysInMonth())).$d}else W&&this.$d[W](ge);return this.init(),this},F.set=function(V,Q){return this.clone().$set(V,Q)},F.get=function(V){return this[T.p(V)]()},F.add=function(V,Q){var G,Y=this;V=Number(V);var ee=T.p(Q),W=function(we){var Ce=P(Y);return T.w(Ce.date(Ce.date()+Math.round(we*V)),Y)};if(ee===h)return this.set(h,this.$M+V);if(ee===f)return this.set(f,this.$y+V);if(ee===u)return W(1);if(ee===c)return W(7);var ge=(G={},G[a]=s,G[l]=n,G[o]=i,G)[ee]||1,ce=this.$d.getTime()+V*ge;return T.w(ce,this)},F.subtract=function(V,Q){return this.add(-1*V,Q)},F.format=function(V){var Q=this,G=this.$locale();if(!this.isValid())return G.invalidDate||p;var Y=V||"YYYY-MM-DDTHH:mm:ssZ",ee=T.z(this),W=this.$H,ge=this.$m,ce=this.$M,we=G.weekdays,Ce=G.months,Oe=G.meridiem,de=function(He,$e,oe,Ae){return He&&(He[$e]||He(Q,Y))||oe[$e].slice(0,Ae)},Te=function(He){return T.s(W%12||12,He,"0")},xe=Oe||function(He,$e,oe){var Ae=He<12?"AM":"PM";return oe?Ae.toLowerCase():Ae};return Y.replace(C,function(He,$e){return $e||function(oe){switch(oe){case"YY":return String(Q.$y).slice(-2);case"YYYY":return T.s(Q.$y,4,"0");case"M":return ce+1;case"MM":return T.s(ce+1,2,"0");case"MMM":return de(G.monthsShort,ce,Ce,3);case"MMMM":return de(Ce,ce);case"D":return Q.$D;case"DD":return T.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return de(G.weekdaysMin,Q.$W,we,2);case"ddd":return de(G.weekdaysShort,Q.$W,we,3);case"dddd":return we[Q.$W];case"H":return String(W);case"HH":return T.s(W,2,"0");case"h":return Te(1);case"hh":return Te(2);case"a":return xe(W,ge,!0);case"A":return xe(W,ge,!1);case"m":return String(ge);case"mm":return T.s(ge,2,"0");case"s":return String(Q.$s);case"ss":return T.s(Q.$s,2,"0");case"SSS":return T.s(Q.$ms,3,"0");case"Z":return ee}return null}(He)||ee.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(V,Q,G){var Y,ee=this,W=T.p(Q),ge=P(V),ce=(ge.utcOffset()-this.utcOffset())*s,we=this-ge,Ce=function(){return T.m(ee,ge)};switch(W){case f:Y=Ce()/12;break;case h:Y=Ce();break;case A:Y=Ce()/3;break;case c:Y=(we-ce)/6048e5;break;case u:Y=(we-ce)/864e5;break;case l:Y=we/n;break;case a:Y=we/s;break;case o:Y=we/i;break;default:Y=we}return G?Y:T.a(Y)},F.daysInMonth=function(){return this.endOf(h).$D},F.$locale=function(){return O[this.$L]},F.locale=function(V,Q){if(!V)return this.$L;var G=this.clone(),Y=k(V,Q,!0);return Y&&(G.$L=Y),G},F.clone=function(){return T.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},_}(),E=R.prototype;return P.prototype=E,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",u],["$M",h],["$y",f],["$D",m]].forEach(function(_){E[_[1]]=function(F){return this.$g(F,_[0],_[1])}}),P.extend=function(_,F){return _.$i||(_(F,R,P),_.$i=!0),P},P.locale=k,P.isDayjs=$,P.unix=function(_){return P(1e3*_)},P.en=O[I],P.Ls=O,P.p={},P})}(xg)),xg.exports}var nae=du();const fw=nr(nae);var Tg={exports:{}},sae=Tg.exports,b_;function rae(){return b_||(b_=1,function(t,e){(function(i,s){t.exports=s(du())})(sae,function(i){function s(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var n=s(i),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(l,u,c){var h=r[c];return Array.isArray(h)&&(h=h[u?0:1]),h.replace("%d",l)}var a={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return n.default.locale(a,null,!0),a})}(Tg)),Tg.exports}rae();var _g={exports:{}},oae=_g.exports,v_;function aae(){return v_||(v_=1,function(t,e){(function(i,s){t.exports=s(du())})(oae,function(i){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var n=s(i),r={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(o){return o+"º"}};return n.default.locale(r,null,!0),r})}(_g)),_g.exports}aae();var Sg={exports:{}},lae=Sg.exports,y_;function uae(){return y_||(y_=1,function(t,e){(function(i,s){t.exports=s(du())})(lae,function(i){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var n=s(i),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return n.default.locale(r,null,!0),r})}(Sg)),Sg.exports}uae();var Bg={exports:{}},cae=Bg.exports,w_;function dae(){return w_||(w_=1,function(t,e){(function(i,s){t.exports=s(du())})(cae,function(i){function s(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var n=s(i),r="siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),o="siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,l=function(c,h){return a.test(h)?r[c.month()]:o[c.month()]};l.s=o,l.f=r;var u={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),months:l,monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(c){return c+"."}};return n.default.locale(u,null,!0),u})}(Bg)),Bg.exports}dae();var kg={exports:{}},hae=kg.exports,C_;function Aae(){return C_||(C_=1,function(t,e){(function(i,s){t.exports=s(du())})(hae,function(i){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var n=s(i),r={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(o){return o+"º"}};return n.default.locale(r,null,!0),r})}(kg)),kg.exports}Aae();var Ig={exports:{}},fae=Ig.exports,E_;function pae(){return E_||(E_=1,function(t,e){(function(i,s){t.exports=s(du())})(fae,function(i){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var n=s(i),r={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(o){return"["+o+(o===1||o===8||o>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(r,null,!0),r})}(Ig)),Ig.exports}pae();var Dg={exports:{}},gae=Dg.exports,x_;function mae(){return x_||(x_=1,function(t,e){(function(i,s){t.exports=s()})(gae,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,n,r){var o=n.prototype,a=o.format;r.en.formats=i,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(h,A){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,m,p){var x=p&&p.toUpperCase();return m||A[p]||i[p]||A[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,g,w){return g||w.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})}(Dg)),Dg.exports}var bae=mae();const vae=nr(bae);fw.extend(vae);const yae={name:"PHorloge",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object,langue:String},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:43.6,statut:"",dimensions:{},position:{},date:"",heure:"",minute:"",horloge:"",temps:""}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:"",w:this.w,h:this.h,x:this.x,y:this.y}))},langue:function(t){this.date=fw(new Date).locale(t).format("dddd LL")}},created(){this.definirCaracteristiques("horloge"),this.genererOptions("horloge")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.date=fw(new Date).locale(this.langue).format("dddd LL"),this.$nextTick((function(){this.afficherHorloge(),this.definirHeure(),this.horloge=setInterval(this.afficherHorloge,1e3),this.temps=setInterval(this.definirHeure,1e3)}).bind(this))},methods:{definirHeure(){const t=new Date;let e=t.getHours(),i=t.getMinutes();i<10&&(i="0"+i),this.heure=e,this.minute=i},afficherHorloge(){const t=document.querySelector("#h_"+this.id),e=document.querySelector("#m_"+this.id),i=document.querySelector("#s_"+this.id),s=new Date,n=s.getHours(),r=s.getMinutes(),o=s.getSeconds(),a=30*n+r/2,l=6*r,u=6*o;t.style.transform="rotate(".concat(a,"deg)"),e.style.transform="rotate(".concat(l,"deg)"),i.style.transform="rotate(".concat(u,"deg)")}}},wae={class:"conteneur panneau-horloge"},Cae={class:"contenu"},Eae={class:"date"},xae={class:"temps"},Tae={class:"heures"},_ae={class:"minutes"},Sae={class:"horloge"},Bae=["id"],kae=["id"],Iae=["id"];function Dae(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[d("div",wae,[d("div",Cae,[d("div",Eae,[d("span",null,te(n.date),1)]),d("div",xae,[d("span",Tae,te(n.heure),1),e[0]||(e[0]=d("span",{class:"separateur"},":",-1)),d("span",_ae,te(n.minute),1)]),d("div",Sae,[d("div",{id:"h_"+n.id,class:"aiguille un"},e[1]||(e[1]=[d("i",null,null,-1)]),8,Bae),d("div",{id:"m_"+n.id,class:"aiguille deux"},e[2]||(e[2]=[d("i",null,null,-1)]),8,kae),d("div",{id:"s_"+n.id,class:"aiguille trois"},e[3]||(e[3]=[d("i",null,null,-1)]),8,Iae),e[4]||(e[4]=d("span",{style:{"--i":"1"}},[d("b",null,"1")],-1)),e[5]||(e[5]=d("span",{style:{"--i":"2"}},[d("b",null,"2")],-1)),e[6]||(e[6]=d("span",{style:{"--i":"3"}},[d("b",null,"3")],-1)),e[7]||(e[7]=d("span",{style:{"--i":"4"}},[d("b",null,"4")],-1)),e[8]||(e[8]=d("span",{style:{"--i":"5"}},[d("b",null,"5")],-1)),e[9]||(e[9]=d("span",{style:{"--i":"6"}},[d("b",null,"6")],-1)),e[10]||(e[10]=d("span",{style:{"--i":"7"}},[d("b",null,"7")],-1)),e[11]||(e[11]=d("span",{style:{"--i":"8"}},[d("b",null,"8")],-1)),e[12]||(e[12]=d("span",{style:{"--i":"9"}},[d("b",null,"9")],-1)),e[13]||(e[13]=d("span",{style:{"--i":"10"}},[d("b",null,"10")],-1)),e[14]||(e[14]=d("span",{style:{"--i":"11"}},[d("b",null,"11")],-1)),e[15]||(e[15]=d("span",{style:{"--i":"12"}},[d("b",null,"12")],-1)),e[16]||(e[16]=d("span",{class:"trait large",style:{transform:"rotate(90deg)",left:"100%",top:"50%"}},null,-1)),e[17]||(e[17]=d("span",{class:"trait",style:{transform:"rotate(96deg)",left:"99.7261%",top:"55.2264%"}},null,-1)),e[18]||(e[18]=d("span",{class:"trait",style:{transform:"rotate(102deg)",left:"98.9074%",top:"60.3956%"}},null,-1)),e[19]||(e[19]=d("span",{class:"trait",style:{transform:"rotate(108deg)",left:"97.5528%",top:"65.4508%"}},null,-1)),e[20]||(e[20]=d("span",{class:"trait",style:{transform:"rotate(114deg)",left:"95.6773%",top:"70.3368%"}},null,-1)),e[21]||(e[21]=d("span",{class:"trait large",style:{transform:"rotate(120deg)",left:"93.3013%",top:"75%"}},null,-1)),e[22]||(e[22]=d("span",{class:"trait",style:{transform:"rotate(126deg)",left:"90.4508%",top:"79.3893%"}},null,-1)),e[23]||(e[23]=d("span",{class:"trait",style:{transform:"rotate(132deg)",left:"87.1572%",top:"83.4565%"}},null,-1)),e[24]||(e[24]=d("span",{class:"trait",style:{transform:"rotate(138deg)",left:"83.4565%",top:"87.1572%"}},null,-1)),e[25]||(e[25]=d("span",{class:"trait",style:{transform:"rotate(144deg)",left:"79.3893%",top:"90.4508%"}},null,-1)),e[26]||(e[26]=d("span",{class:"trait large",style:{transform:"rotate(150deg)",left:"75%",top:"93.3013%"}},null,-1)),e[27]||(e[27]=d("span",{class:"trait",style:{transform:"rotate(156deg)",left:"70.3368%",top:"95.6773%"}},null,-1)),e[28]||(e[28]=d("span",{class:"trait",style:{transform:"rotate(162deg)",left:"65.4508%",top:"97.5528%"}},null,-1)),e[29]||(e[29]=d("span",{class:"trait",style:{transform:"rotate(168deg)",left:"60.3956%",top:"98.9074%"}},null,-1)),e[30]||(e[30]=d("span",{class:"trait",style:{transform:"rotate(174deg)",left:"55.2264%",top:"99.7261%"}},null,-1)),e[31]||(e[31]=d("span",{class:"trait large",style:{transform:"rotate(180deg)",left:"50%",top:"100%"}},null,-1)),e[32]||(e[32]=d("span",{class:"trait",style:{transform:"rotate(186deg)",left:"44.7736%",top:"99.7261%"}},null,-1)),e[33]||(e[33]=d("span",{class:"trait",style:{transform:"rotate(192deg)",left:"39.6044%",top:"98.9074%"}},null,-1)),e[34]||(e[34]=d("span",{class:"trait",style:{transform:"rotate(198deg)",left:"34.5492%",top:"97.5528%"}},null,-1)),e[35]||(e[35]=d("span",{class:"trait",style:{transform:"rotate(204deg)",left:"29.6632%",top:"95.6773%"}},null,-1)),e[36]||(e[36]=d("span",{class:"trait large",style:{transform:"rotate(210deg)",left:"25%",top:"93.3013%"}},null,-1)),e[37]||(e[37]=d("span",{class:"trait",style:{transform:"rotate(216deg)",left:"20.6107%",top:"90.4508%"}},null,-1)),e[38]||(e[38]=d("span",{class:"trait",style:{transform:"rotate(222deg)",left:"16.5435%",top:"87.1572%"}},null,-1)),e[39]||(e[39]=d("span",{class:"trait",style:{transform:"rotate(228deg)",left:"12.8428%",top:"83.4565%"}},null,-1)),e[40]||(e[40]=d("span",{class:"trait",style:{transform:"rotate(234deg)",left:"9.54915%",top:"79.3893%"}},null,-1)),e[41]||(e[41]=d("span",{class:"trait large",style:{transform:"rotate(240deg)",left:"6.69873%",top:"75%"}},null,-1)),e[42]||(e[42]=d("span",{class:"trait",style:{transform:"rotate(246deg)",left:"4.32273%",top:"70.3368%"}},null,-1)),e[43]||(e[43]=d("span",{class:"trait",style:{transform:"rotate(252deg)",left:"2.44717%",top:"65.4508%"}},null,-1)),e[44]||(e[44]=d("span",{class:"trait",style:{transform:"rotate(258deg)",left:"1.09262%",top:"60.3956%"}},null,-1)),e[45]||(e[45]=d("span",{class:"trait",style:{transform:"rotate(264deg)",left:"0.273905%",top:"55.2264%"}},null,-1)),e[46]||(e[46]=d("span",{class:"trait large",style:{transform:"rotate(270deg)",left:"0%",top:"50%"}},null,-1)),e[47]||(e[47]=d("span",{class:"trait",style:{transform:"rotate(276deg)",left:"0.273905%",top:"44.7736%"}},null,-1)),e[48]||(e[48]=d("span",{class:"trait",style:{transform:"rotate(282deg)",left:"1.09262%",top:"39.6044%"}},null,-1)),e[49]||(e[49]=d("span",{class:"trait",style:{transform:"rotate(288deg)",left:"2.44717%",top:"34.5492%"}},null,-1)),e[50]||(e[50]=d("span",{class:"trait",style:{transform:"rotate(294deg)",left:"4.32273%",top:"29.6632%"}},null,-1)),e[51]||(e[51]=d("span",{class:"trait large",style:{transform:"rotate(300deg)",left:"6.69873%",top:"25%"}},null,-1)),e[52]||(e[52]=d("span",{class:"trait",style:{transform:"rotate(306deg)",left:"9.54915%",top:"20.6107%"}},null,-1)),e[53]||(e[53]=d("span",{class:"trait",style:{transform:"rotate(312deg)",left:"12.8428%",top:"16.5435%"}},null,-1)),e[54]||(e[54]=d("span",{class:"trait",style:{transform:"rotate(318deg)",left:"16.5435%",top:"12.8428%"}},null,-1)),e[55]||(e[55]=d("span",{class:"trait",style:{transform:"rotate(324deg)",left:"20.6107%",top:"9.54915%"}},null,-1)),e[56]||(e[56]=d("span",{class:"trait large",style:{transform:"rotate(330deg)",left:"25%",top:"6.69873%"}},null,-1)),e[57]||(e[57]=d("span",{class:"trait",style:{transform:"rotate(336deg)",left:"29.6632%",top:"4.32273%"}},null,-1)),e[58]||(e[58]=d("span",{class:"trait",style:{transform:"rotate(342deg)",left:"34.5492%",top:"2.44717%"}},null,-1)),e[59]||(e[59]=d("span",{class:"trait",style:{transform:"rotate(348deg)",left:"39.6044%",top:"1.09262%"}},null,-1)),e[60]||(e[60]=d("span",{class:"trait",style:{transform:"rotate(354deg)",left:"44.7736%",top:"0.273905%"}},null,-1)),e[61]||(e[61]=d("span",{class:"trait large",style:{transform:"rotate(360deg)",left:"50%",top:"0%"}},null,-1)),e[62]||(e[62]=d("span",{class:"trait",style:{transform:"rotate(366deg)",left:"55.2264%",top:"0.273905%"}},null,-1)),e[63]||(e[63]=d("span",{class:"trait",style:{transform:"rotate(372deg)",left:"60.3956%",top:"1.09262%"}},null,-1)),e[64]||(e[64]=d("span",{class:"trait",style:{transform:"rotate(378deg)",left:"65.4508%",top:"2.44717%"}},null,-1)),e[65]||(e[65]=d("span",{class:"trait",style:{transform:"rotate(384deg)",left:"70.3368%",top:"4.32273%"}},null,-1)),e[66]||(e[66]=d("span",{class:"trait large",style:{transform:"rotate(390deg)",left:"75%",top:"6.69873%"}},null,-1)),e[67]||(e[67]=d("span",{class:"trait",style:{transform:"rotate(396deg)",left:"79.3893%",top:"9.54915%"}},null,-1)),e[68]||(e[68]=d("span",{class:"trait",style:{transform:"rotate(402deg)",left:"83.4565%",top:"12.8428%"}},null,-1)),e[69]||(e[69]=d("span",{class:"trait",style:{transform:"rotate(408deg)",left:"87.1572%",top:"16.5435%"}},null,-1)),e[70]||(e[70]=d("span",{class:"trait",style:{transform:"rotate(414deg)",left:"90.4508%",top:"20.6107%"}},null,-1)),e[71]||(e[71]=d("span",{class:"trait large",style:{transform:"rotate(420deg)",left:"93.3013%",top:"25%"}},null,-1)),e[72]||(e[72]=d("span",{class:"trait",style:{transform:"rotate(426deg)",left:"95.6773%",top:"29.6632%"}},null,-1)),e[73]||(e[73]=d("span",{class:"trait",style:{transform:"rotate(432deg)",left:"97.5528%",top:"34.5492%"}},null,-1)),e[74]||(e[74]=d("span",{class:"trait",style:{transform:"rotate(438deg)",left:"98.9074%",top:"39.6044%"}},null,-1)),e[75]||(e[75]=d("span",{class:"trait",style:{transform:"rotate(444deg)",left:"99.7261%",top:"44.7736%"}},null,-1))])])])]),_:1},8,["visible","options"])}const Fae=It(yae,[["render",Dae]]);/*! name: vanilla-calendar-pro v2.9.10 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro */var Pae=Object.defineProperty,T_=Object.getOwnPropertySymbols,Lae=Object.prototype.hasOwnProperty,Rae=Object.prototype.propertyIsEnumerable,pw=(t,e,i)=>e in t?Pae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,JF=(t,e)=>{for(var i in e||(e={}))Lae.call(e,i)&&pw(t,i,e[i]);if(T_)for(var i of T_(e))Rae.call(e,i)&&pw(t,i,e[i]);return t},Kt=(t,e,i)=>(pw(t,typeof e!="symbol"?e+"":e,i),i);const Mae={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"},Oae=t=>'<div class="'.concat(t.controls,'"><#ArrowPrev /><#ArrowNext /></div><div class="').concat(t.grid,'"><#Multiple><div class="').concat(t.column,'"><div class="').concat(t.header,'"><div class="').concat(t.headerContent,'"><#Month /><#Year /></div></div><div class="').concat(t.wrapper,'"><#WeekNumbers /><div class="').concat(t.content,'"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />'),Uae=t=>'<div class="'.concat(t.header,'"><div class="').concat(t.headerContent,'"><#Month /><#Year /></div></div><div class="').concat(t.wrapper,'"><div class="').concat(t.content,'"><#Months /></div></div>'),Nae=t=>'<div class="'.concat(t.header,'"><#ArrowPrev /><div class="').concat(t.headerContent,'"><#Month /><#Year /></div><#ArrowNext /></div><div class="').concat(t.wrapper,'"><div class="').concat(t.content,'"><#Years /></div></div>');class Hae{constructor(){var e;Kt(this,"isInit",!1),Kt(this,"isInputInit",!1),Kt(this,"input",!1),Kt(this,"type","default"),Kt(this,"months",2),Kt(this,"jumpMonths",1),Kt(this,"jumpToSelectedDate",!1),Kt(this,"toggleSelected",!0),Kt(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),Kt(this,"settings",{lang:"en",iso8601:!0,range:{min:void 0,max:void 0,disablePast:!1,disableGaps:!1,edgesOnly:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),Kt(this,"locale",{months:[],weekday:[]}),Kt(this,"sanitizer",i=>i),Kt(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,initCalendar:null,updateCalendar:null,destroyCalendar:null,showCalendar:null,hideCalendar:null}),Kt(this,"popups",{}),Kt(this,"CSSClasses",JF({},Mae)),Kt(this,"DOMTemplates",{default:(e=this.CSSClasses,'<div class="'.concat(e.header,'"><#ArrowPrev /><div class="').concat(e.headerContent,'"><#Month /><#Year /></div><#ArrowNext /></div><div class="').concat(e.wrapper,'"><#WeekNumbers /><div class="').concat(e.content,'"><#Week /><#Days /></div></div><#ControlTime />')),multiple:Oae(this.CSSClasses),month:Uae(this.CSSClasses),year:Nae(this.CSSClasses)}),Kt(this,"HTMLElement"),Kt(this,"HTMLOriginalElement"),Kt(this,"HTMLInputElement"),Kt(this,"rangeMin"),Kt(this,"rangeMax"),Kt(this,"rangeDisabled"),Kt(this,"rangeEnabled"),Kt(this,"selectedDates"),Kt(this,"selectedHolidays"),Kt(this,"selectedMonth"),Kt(this,"selectedYear"),Kt(this,"selectedHours"),Kt(this,"selectedMinutes"),Kt(this,"selectedKeeping"),Kt(this,"selectedTime"),Kt(this,"currentType"),Kt(this,"correctMonths"),Kt(this,"viewYear"),Kt(this,"dateMin"),Kt(this,"dateMax")}}const mo=t=>"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")),Fi=t=>new Date("".concat(t,"T00:00:00")),zc=t=>t.reduce((e,i)=>{if(i instanceof Date||typeof i=="number"){const s=i instanceof Date?i:new Date(i);e.push(s.toISOString().substring(0,10))}else i.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(i):i.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(s,n,r)=>{const o=Fi(n),a=Fi(r),l=new Date(o.getTime());for(;l<=a;l.setDate(l.getDate()+1))e.push(mo(l));return s});return e},[]),Fp=()=>{const t=new Date;return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substring(0,10)},UA=t=>t?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(t)]||String(t):"",rd={notFoundSelector:t=>"".concat(t," is not found, check the first argument passed to new VanillaCalendar."),notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},Qae=t=>{var e;if(t.jumpToSelectedDate&&((e=t.settings.selected.dates)!=null&&e.length)&&t.settings.selected.month===void 0&&t.settings.selected.year===void 0){const n=Fi(zc(t.settings.selected.dates)[0]);t.settings.selected.month=n.getMonth(),t.settings.selected.year=n.getFullYear()}const i=t.settings.selected.month!==void 0&&Number(t.settings.selected.month)>=0&&Number(t.settings.selected.month)<12,s=t.settings.selected.year!==void 0&&Number(t.settings.selected.year)>=0&&Number(t.settings.selected.year)<=9999;t.selectedMonth=i?Number(t.settings.selected.month):t.date.today.getMonth(),t.selectedYear=s?Number(t.settings.selected.year):t.date.today.getFullYear(),t.viewYear=t.selectedYear},Vae=t=>{var e,i,s;t.date.min==="today"&&(t.date.min=Fp()),t.date.max==="today"&&(t.date.max=Fp()),t.settings.range.min==="today"&&(t.settings.range.min=Fp()),t.settings.range.max==="today"&&(t.settings.range.max=Fp()),t.settings.range.min=t.settings.range.min?Fi(t.date.min)>=Fi(t.settings.range.min)?t.date.min:t.settings.range.min:t.date.min,t.settings.range.max=t.settings.range.max?Fi(t.date.max)<=Fi(t.settings.range.max)?t.date.max:t.settings.range.max:t.date.max;const n=t.settings.range.disablePast&&!t.settings.range.disableAllDays&&Fi(t.settings.range.min)<t.date.today;t.rangeMin=n||t.settings.range.disableAllDays?mo(t.date.today):t.settings.range.min,t.rangeMax=t.settings.range.disableAllDays?mo(t.date.today):t.settings.range.max,t.rangeDisabled=t.settings.range.disabled&&!t.settings.range.disableAllDays?zc(t.settings.range.disabled):t.settings.range.disableAllDays?[t.rangeMin]:[],t.rangeDisabled.length>1&&t.rangeDisabled.sort((r,o)=>+new Date(r)-+new Date(o)),t.rangeEnabled=t.settings.range.enabled?zc(t.settings.range.enabled):[],(e=t.rangeEnabled)!=null&&e[0]&&((i=t.rangeDisabled)!=null&&i[0])&&(t.rangeDisabled=t.rangeDisabled.filter(r=>!t.rangeEnabled.includes(r))),t.rangeEnabled.length>1&&t.rangeEnabled.sort((r,o)=>+new Date(r)-+new Date(o)),(s=t.rangeEnabled)!=null&&s[0]&&t.settings.range.disableAllDays&&(t.rangeMin=t.rangeEnabled[0],t.rangeMax=t.rangeEnabled[t.rangeEnabled.length-1])},$ae=t=>{var e,i;t.selectedDates=(e=t.settings.selected.dates)!=null&&e[0]?zc(t.settings.selected.dates):[],t.selectedHolidays=(i=t.settings.selected.holidays)!=null&&i[0]?zc(t.settings.selected.holidays):[]},jae=t=>{t.dateMin=t.settings.visibility.disabled?Fi(t.date.min):Fi(t.rangeMin),t.dateMax=t.settings.visibility.disabled?Fi(t.date.max):Fi(t.rangeMax)},zae=t=>{const e=t.settings.selection.time===!0||t.settings.selection.time===12;if(e||t.settings.selection.time===24){let i=!1;if(typeof t.settings.selected.time=="string"){const s=e?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;t.settings.selected.time.replace(s,(n,r,o,a)=>(r&&o&&(i=!0,t.selectedHours=r,t.selectedMinutes=o),a&&e?t.selectedKeeping=a:e&&(t.selectedKeeping="AM"),""))}!i&&e?(t.selectedHours=UA(String(t.date.today.getHours())),t.selectedMinutes=String(t.date.today.getMinutes()),t.selectedKeeping=Number(t.date.today.getHours())>=12?"PM":"AM"):i||(t.selectedHours=String(t.date.today.getHours()),t.selectedMinutes=String(t.date.today.getMinutes())),t.selectedHours=Number(t.selectedHours)<10?"0".concat(Number(t.selectedHours)):"".concat(t.selectedHours),t.selectedMinutes=Number(t.selectedMinutes)<10?"0".concat(Number(t.selectedMinutes)):"".concat(t.selectedMinutes),t.selectedTime="".concat(t.selectedHours,":").concat(t.selectedMinutes).concat(t.selectedKeeping?" ".concat(t.selectedKeeping):"")}else if(t.settings.selection.time)throw new Error(rd.incorrectTime)},Kae=t=>{t.correctMonths=t.type==="multiple"?t.months===1?2:t.months>12?12:t.months:1},ZF=t=>{t.currentType=t.type,Qae(t),Vae(t),$ae(t),jae(t),zae(t),Kae(t)},__=({arrowPrev:t,arrowNext:e,isPrevHidden:i,isNextHidden:s})=>{t.style.visibility=i?"hidden":"",e.style.visibility=s?"hidden":""},y2=t=>{var e,i;if(t.currentType==="month")return;const s=(e=t.HTMLElement)==null?void 0:e.querySelector(".".concat(t.CSSClasses.arrowPrev)),n=(i=t.HTMLElement)==null?void 0:i.querySelector(".".concat(t.CSSClasses.arrowNext));!s||!n||{default:()=>{const r=Fi(mo(new Date(t.selectedYear,t.selectedMonth,1))),o=new Date(r.getTime()),a=new Date(r.getTime());o.setMonth(o.getMonth()-t.jumpMonths),a.setMonth(a.getMonth()+t.jumpMonths),t.settings.selection.year||(t.dateMin.setFullYear(r.getFullYear()),t.dateMax.setFullYear(r.getFullYear()));const l=!t.settings.selection.month||o.getFullYear()<t.dateMin.getFullYear()||o.getFullYear()===t.dateMin.getFullYear()&&o.getMonth()<t.dateMin.getMonth(),u=!t.settings.selection.month||a.getFullYear()>t.dateMax.getFullYear()||a.getFullYear()===t.dateMax.getFullYear()&&a.getMonth()>t.dateMax.getMonth();__({arrowPrev:s,arrowNext:n,isPrevHidden:l,isNextHidden:u})},year:()=>{__({arrowPrev:s,arrowNext:n,isPrevHidden:t.dateMin.getFullYear()&&t.viewYear-7<=t.dateMin.getFullYear(),isNextHidden:t.dateMax.getFullYear()&&t.viewYear+7>=t.dateMax.getFullYear()})}}[t.currentType==="multiple"?"default":t.currentType]()},e5=(t,e)=>{if(!t)return null;const i=Fi(t),s=e?i.getDay()||7:i.getDay();i.setDate(i.getDate()+4-s);const n=new Date(i.getFullYear(),0,1),r=Math.ceil(((+i-+n)/864e5+1)/7);return{year:i.getFullYear(),week:r}};function w2(t){if(!t||!t.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const e=t.getBoundingClientRect(),i=document.documentElement;return{bottom:e.bottom,right:e.right,top:e.top+window.scrollY-i.clientTop,left:e.left+window.scrollX-i.clientLeft}}function Gae(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function C2(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function qae(t){const{top:e,left:i}=Gae(),{top:s,left:n}=w2(t),{vh:r,vw:o}=C2(),a=s-e,l=n-i;return{top:a,bottom:r-(a+t.clientHeight),left:l,right:o-(l+t.clientWidth)}}function t5(t,e,i=5){const s={top:!0,bottom:!0,left:!0,right:!0},n=[];if(!e||!t)return{canShow:s,parentPositions:n};const{bottom:r,top:o}=qae(t),{top:a,left:l}=w2(t),{height:u,width:c}=e.getBoundingClientRect(),{vh:h,vw:A}=C2(),f=A/2,m=h/2;return[{condition:a<m,position:"top"},{condition:a>m,position:"bottom"},{condition:l<f,position:"left"},{condition:l>f,position:"right"}].forEach(({condition:p,position:x})=>{p&&n.push(x)}),Object.assign(s,{top:u<=o-i,bottom:u<=r-i,left:c<=l,right:c<=A-l}),{canShow:s,parentPositions:n}}function Wae(t,e){const i="left";if(!e||!t)return i;const{canShow:s,parentPositions:n}=t5(t,e),r=s.left&&s.right;return(r&&s.bottom?"center":r&&s.top?["top","center"]:Array.isArray(n)?[n[0]==="bottom"?"top":"bottom",...n.slice(1)]:n)||i}const gw=(t,e,i,s)=>{if(t){const n=i==="auto"?Wae(t,e):i,r={top:-e.offsetHeight,bottom:t.offsetHeight,left:0,center:t.offsetWidth/2-e.offsetWidth/2,right:t.offsetWidth-e.offsetWidth},o=Array.isArray(n)?n[0]:"bottom",a=Array.isArray(n)?n[1]:n;o==="bottom"?(e.classList.remove(s.calendarToInputTop),e.classList.add(s.calendarToInputBottom)):(e.classList.remove(s.calendarToInputBottom),e.classList.add(s.calendarToInputTop));const{top:l,left:u}=w2(t),c=l+r[o];let h=u+r[a];const{vw:A}=C2();if(h+e.clientWidth>A){const f=window.innerWidth-document.body.clientWidth;h=A-e.clientWidth-f}else h<0&&(h=0);Object.assign(e.style,{left:"".concat(h,"px"),top:"".concat(c,"px")})}},Yae=(t,e,i,s)=>{const n=t.CSSClasses.dayPopup,r=s.querySelector('[data-calendar-day="'.concat(e,'"]'));if(r&&(i!=null&&i.modifier&&r.classList.add(...i.modifier.trim().split(" ")),i==null?void 0:i.html)){const o=r.parentElement,a=document.createElement("div");a.className=n,a.innerHTML=t.sanitizer(i.html),o.appendChild(a),setTimeout(()=>{if(a){const{canShow:l}=t5(o,a),u=5;let c=o.offsetHeight,h=0;l.bottom||(c=-a.offsetHeight-u),l.left&&!l.right&&(h=o.offsetWidth-a.offsetWidth/2),!l.left&&l.right&&(h=a.offsetWidth/2),Object.assign(a.style,{left:"".concat(h,"px"),top:"".concat(c,"px")})}})}},Xae=(t,e)=>{var i;t.popups&&((i=Object.entries(t.popups))==null||i.forEach(([s,n])=>Yae(t,s,n,e)))},Jae=(t,e,i,s,n)=>{const r=e[i].querySelector(".".concat(t.CSSClasses.dayBtn)),o=e5(r==null?void 0:r.dataset.calendarDay,t.settings.iso8601);if(!o)return;const a=s.cloneNode(!0);a.innerText=String(o.week),a.dataset.calendarYearWeek=String(o.year),n.appendChild(a)},Zae=(t,e,i,s,n)=>{if(!t.settings.visibility.weekNumbers)return;s.textContent="";const r=document.createElement("b");r.className=t.CSSClasses.weekNumbersTitle,r.innerText="#",s.appendChild(r);const o=document.createElement("div");o.className=t.CSSClasses.weekNumbersContent,s.appendChild(o);const a=document.createElement("button");a.type="button",a.className=t.CSSClasses.weekNumber;const l=n.querySelectorAll(".".concat(t.CSSClasses.day)),u=Math.ceil((e+i)/7);for(let c=0;c<u;c++)Jae(t,l,c===0?6:7*c,a,o)},ele=(t,e,i)=>{var s,n,r,o,a;const l=(s=t.settings.range.disableWeekday)==null?void 0:s.includes(i),u=t.settings.range.disableAllDays&&!!((n=t.rangeEnabled)!=null&&n[0]);!l&&!u||(r=t.rangeEnabled)!=null&&r.includes(e)||(o=t.rangeDisabled)!=null&&o.includes(e)||(t.rangeDisabled.push(e),(a=t.rangeDisabled)==null||a.sort((c,h)=>+new Date(c)-+new Date(h)))},tle=(t,e,i,s,n,r,o)=>{var a,l,u;if((Fi(t.rangeMin)>Fi(r)||Fi(t.rangeMax)<Fi(r)||(a=t.rangeDisabled)!=null&&a.includes(r)||!t.settings.selection.month&&o||!t.settings.selection.year&&Fi(r).getFullYear()!==e)&&(s.classList.add(t.CSSClasses.dayBtnDisabled),s.tabIndex=-1),t.settings.visibility.today&&mo(t.date.today)===r&&s.classList.add(t.CSSClasses.dayBtnToday),!t.settings.visibility.weekend||n!==0&&n!==6||s.classList.add(t.CSSClasses.dayBtnWeekend),(l=t.selectedHolidays)!=null&&l.includes(r)&&s.classList.add(t.CSSClasses.dayBtnHoliday),(u=t.selectedDates)!=null&&u.includes(r)&&(s.classList.add(t.CSSClasses.dayBtnSelected),t.selectedDates.length>1&&t.settings.selection.day==="multiple-ranged"&&(t.selectedDates[0]===r&&i.classList.add(t.CSSClasses.daySelectedFirst),t.selectedDates[t.selectedDates.length-1]===r&&i.classList.add(t.CSSClasses.daySelectedLast),t.selectedDates[0]!==r&&t.selectedDates[t.selectedDates.length-1]!==r&&i.classList.add(t.CSSClasses.daySelectedIntermediate))),t.settings.range.edgesOnly&&t.selectedDates.length>1&&t.settings.selection.day==="multiple-ranged"){const c=+new Date(t.selectedDates[0]),h=+new Date(t.selectedDates[t.selectedDates.length-1]),A=+new Date(r);A>c&&A<h&&(s.classList.add(t.CSSClasses.dayBtnSelected),i.classList.add(t.CSSClasses.daySelectedIntermediate))}},E2=(t,e,i,s,n,r,o,a)=>{const l=document.createElement("div");l.className=t.CSSClasses.day;const u=document.createElement("button");u.className="".concat(t.CSSClasses.dayBtn).concat(a?" ".concat(a):""),u.type="button",u.innerText=String(s),u.dataset.calendarDay=r,t.settings.visibility.weekNumbers&&(()=>{const c=e5(r,t.settings.iso8601);c&&(u.dataset.calendarWeekNumber=String(c.week))})(),o?t.settings.visibility.daysOutside&&l.appendChild(u):l.appendChild(u),ele(t,r,n),tle(t,e,l,u,n,r,o),i.appendChild(l),t.actions.getDays&&t.actions.getDays(s,r,l,u,t)},ile=(t,e,i,s,n)=>{let r=new Date(i,s,0).getDate()-(n-1);const o=s===0?i-1:i,a=s===0?12:s<10?"0".concat(s):s;for(let l=n;l>0;l--,r++){const u="".concat(o,"-").concat(a,"-").concat(r),c=Fi(u).getDay();E2(t,i,e,r,c,u,!0,t.CSSClasses.dayBtnPrev)}},nle=(t,e,i,s,n)=>{for(let r=1;r<=i;r++){const o=new Date(s,n,r),a=mo(o),l=o.getDay();E2(t,s,e,r,l,a,!1,null)}},sle=(t,e,i,s,n,r)=>{const o=r+i,a=7*Math.ceil(o/7)-o,l=n+1===12?s+1:s,u=n+1===12?"01":n+2<10?"0".concat(n+2):n+2;for(let c=1;c<=a;c++){const h="".concat(l,"-").concat(u,"-").concat(c<10?"0".concat(c):String(c)),A=Fi(h).getDay();E2(t,s,e,c,A,h,!0,t.CSSClasses.dayBtnNext)}},Zm=t=>{const e=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.days)),i=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.weekNumbers)),s=new Date(t.selectedYear,t.selectedMonth,1);e.forEach((n,r)=>{const o=new Date(s);o.setMonth(o.getMonth()+r);const a=o.getMonth(),l=o.getFullYear(),u=new Date(l,a,1),c=new Date(l,a+1,0).getDate(),h=t.settings.iso8601?(u.getDay()!==0?u.getDay():7)-1:u.getDay();t.settings.selection.day&&n.classList.add(t.CSSClasses.daysSelecting),n.textContent="",ile(t,n,l,a,h),nle(t,n,c,l,a),sle(t,n,c,l,a,h),Zae(t,h,c,i[r],n),Xae(t,n)})},rle=(t,e,i,s)=>{const n=new Date(s.setMonth(t.selectedMonth+i)).getMonth(),r=t.settings.selection.month===!1||t.settings.selection.month==="only-arrows";e.tabIndex=r?-1:0,e.classList.toggle(t.CSSClasses.monthDisabled,r),e.setAttribute("data-calendar-selected-month",String(n)),e.innerText=t.locale.months[n]},ole=(t,e,i,s)=>{const n=new Date(s.setFullYear(t.selectedYear,t.selectedMonth+i)).getFullYear(),r=t.settings.selection.year===!1||t.settings.selection.year==="only-arrows";e.tabIndex=r?-1:0,e.classList.toggle(t.CSSClasses.yearDisabled,r),e.setAttribute("data-calendar-selected-year",String(n)),e.innerText=String(n)},ib=t=>{var e,i;const s=(e=t.HTMLElement)==null?void 0:e.querySelectorAll("[data-calendar-selected-month]"),n=(i=t.HTMLElement)==null?void 0:i.querySelectorAll("[data-calendar-selected-year]");if(!(s!=null&&s[0])&&(n!=null&&n[0]))return;const r=new Date(t.selectedYear,t.selectedMonth,1);s==null||s.forEach((o,a)=>rle(t,o,a,r)),n==null||n.forEach((o,a)=>ole(t,o,a,r))},mw=(t,e)=>{const i=Fi(mo(new Date(t.selectedYear,t.selectedMonth,1)));({prev:()=>i.setMonth(i.getMonth()-t.jumpMonths),next:()=>i.setMonth(i.getMonth()+t.jumpMonths)})[e](),[t.selectedMonth,t.selectedYear]=[i.getMonth(),i.getFullYear()],ib(t),y2(t),Zm(t)},ale=t=>'<button type="button"class="'.concat(t.CSSClasses.arrow," ").concat(t.CSSClasses.arrowPrev,'"data-calendar-arrow="prev"></button>'),lle=t=>'<button type="button"class="'.concat(t.CSSClasses.arrow," ").concat(t.CSSClasses.arrowNext,'"data-calendar-arrow="next"></button>'),ule=t=>'<button type="button"class="'.concat(t.CSSClasses.month,'"data-calendar-selected-month></button>'),cle=t=>'<button type="button"class="'.concat(t.CSSClasses.year,'"data-calendar-selected-year></button>'),dle=t=>'<div class="'.concat(t.CSSClasses.week,'"></div>'),hle=t=>'<div class="'.concat(t.CSSClasses.days,'"></div>'),Ale=t=>'<div class="'.concat(t.CSSClasses.months,'"></div>'),fle=t=>'<div class="'.concat(t.CSSClasses.years,'"></div>'),ple=t=>t.settings.visibility.weekNumbers?'<div class="'.concat(t.CSSClasses.weekNumbers,'"></div>'):"",gle=t=>t.settings.selection.time?'<div class="'.concat(t.CSSClasses.time,'"></div>'):"",mle=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:lle,ArrowPrev:ale,ControlTime:gle,Days:hle,Month:ule,Months:Ale,Week:dle,WeekNumbers:ple,Year:cle,Years:fle},Symbol.toStringTag,{value:"Module"})),Ld=(t,e)=>e.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(i,s)=>{const n=(r=s.replace(/[/\s\n\t]/g,""),mle[r]);var r;const o=n?n(t):"";return t.sanitizer(o)}).replace(/[\n\t]/g,""),ble=(t,e)=>e.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(i,s)=>{let n="";for(let r=0;r<t.correctMonths;r++)n+=s;return t.sanitizer(n)}).replace(/[\n\t]/g,""),x2=(t,e)=>{const{HTMLElement:i,CSSClasses:s,DOMTemplates:n,type:r,currentType:o,correctMonths:a}=t,l=(c,h)=>{if(!e)return;const A=i.querySelector(".".concat(s.controls));A&&i.removeChild(A),i.querySelector(".".concat(s.grid)).classList.add(s.gridDisabled);const f=e.closest(".".concat(s.column));f.classList.add(c),f.innerHTML=Ld(t,h)},u={default:()=>{i.classList.add(s.calendarDefault),i.classList.remove(s.calendarMonth,s.calendarYear),i.innerHTML=Ld(t,n.default)},multiple:()=>{a&&(i.classList.add(s.calendarMultiple),i.classList.remove(s.calendarMonth,s.calendarYear),i.innerHTML=ble(t,Ld(t,n.multiple)))},month:()=>{r!=="multiple"?(i.classList.add(s.calendarMonth),i.classList.remove(s.calendarDefault,s.calendarYear),i.innerHTML=Ld(t,n.month)):l(s.columnMonth,n.month)},year:()=>{r!=="multiple"?(i.classList.add(s.calendarYear),i.classList.remove(s.calendarDefault,s.calendarMonth),i.innerHTML=Ld(t,n.year)):l(s.columnYear,n.year)}};i.classList.add(s.calendar),u[o]()},vle=(t,e,i,s,n)=>{const r=e.cloneNode(!1);return r.className="".concat(t.CSSClasses.yearsYear).concat(i===n?" ".concat(t.CSSClasses.yearsYearSelected):s?" ".concat(t.CSSClasses.yearsYearDisabled):""),r.dataset.calendarYear=String(n),r.title=String(n),r.innerText=String(n),s&&(r.tabIndex=-1),r},T2=(t,e)=>{const i=e!=null&&e.dataset.calendarSelectedYear?Number(e==null?void 0:e.dataset.calendarSelectedYear):t.selectedYear;t.currentType="year",x2(t,e),ib(t),y2(t);const s=t.HTMLElement.querySelector(".".concat(t.CSSClasses.years));if(!t.settings.selection.year||!s)return;s.classList.add(t.CSSClasses.yearsSelecting);const n=t.type!=="multiple"||t.selectedYear===i?0:1,r=document.createElement("button");r.type="button";for(let o=t.viewYear-7;o<t.viewYear+8;o++){const a=o<t.dateMin.getFullYear()+n||o>t.dateMax.getFullYear(),l=vle(t,r,i,a,o);s.appendChild(l),t.actions.getYears&&t.actions.getYears(o,l,t)}},yle=(t,e)=>{const i=e.target.closest(".".concat(t.CSSClasses.arrow));i&&(["default","multiple"].includes(t.currentType)?mw(t,i.dataset.calendarArrow):t.currentType==="year"&&t.viewYear!==void 0&&(t.viewYear+={prev:-15,next:15}[i.dataset.calendarArrow],T2(t,e.target)),t.actions.clickArrow&&t.actions.clickArrow(e,t))},wle=(t,e)=>{var i;if(!t.settings.visibility.weekNumbers||!t.actions.clickWeekNumber)return;const s=e.target.closest(".".concat(t.CSSClasses.weekNumber)),n=(i=t.HTMLElement)==null?void 0:i.querySelectorAll("[data-calendar-week-number]");if(!s||!n)return;const r=Number(s.innerText),o=Number(s.dataset.calendarYearWeek),a=Array.from(n).filter(l=>Number(l.dataset.calendarWeekNumber)===r);t.actions.clickWeekNumber(e,r,a,o,t)},i5=t=>"".concat(t.charAt(0).toUpperCase()).concat(t.substring(1,t.length)).replace(/\./,""),Cle=(t,e)=>{const i=new Date("1978-01-0".concat(e+1,"T00:00:00.000Z")).toLocaleString(t.settings.lang,{weekday:"short",timeZone:"UTC"});t.locale.weekday.push(i5(i))},Ele=(t,e)=>{const i=new Date("1978-".concat(e+1<=9?"0".concat(e+1):e+1,"-01T00:00:00.000Z")).toLocaleString(t.settings.lang,{month:"long",timeZone:"UTC"});t.locale.months.push(i5(i))},xle=t=>{if(t.settings.lang!=="define"||!t.locale.weekday[6]||!t.locale.months[11]){if(t.settings.lang==="define")throw new Error(rd.notLocale);t.locale.weekday=[],t.locale.months=[];for(let e=0;e<7;e++)Cle(t,e);for(let e=0;e<12;e++)Ele(t,e)}},S_=t=>{if(t.type!=="multiple")return 0;const e=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.column)),i=Array.from(e).findIndex(s=>s.classList.contains("".concat(t.CSSClasses.columnMonth)));return i>0?i:0},Tle=(t,e,i,s,n,r)=>{const o=e.cloneNode(!1);return o.className="".concat(t.CSSClasses.monthsMonth).concat(i===r?" ".concat(t.CSSClasses.monthsMonthSelected):n?" ".concat(t.CSSClasses.monthsMonthDisabled):""),o.title=s,o.innerText="".concat(t.settings.visibility.monthShort?s.substring(0,3):s),o.dataset.calendarMonth=String(r),n&&(o.tabIndex=-1),o},n5=(t,e)=>{var i,s;const n=e!=null&&e.dataset.calendarSelectedMonth?Number(e.dataset.calendarSelectedMonth):t.selectedMonth,r=(i=e==null?void 0:e.closest(".".concat(t.CSSClasses.column)))==null?void 0:i.querySelector(".".concat(t.CSSClasses.year)),o=r?Number(r.dataset.calendarSelectedYear):t.selectedYear;t.currentType="month",x2(t,e),ib(t);const a=(s=t.HTMLElement)==null?void 0:s.querySelector(".".concat(t.CSSClasses.months));if(!t.settings.selection.month||!a)return;a.classList.add(t.CSSClasses.monthsSelecting);const l=t.jumpMonths>1?t.locale.months.map((c,h)=>n-t.jumpMonths*h).concat(t.locale.months.map((c,h)=>n+t.jumpMonths*h)).filter(c=>c>=0&&c<=12):Array.from(Array(12).keys()),u=document.createElement("button");u.type="button";for(let c=0;c<12;c++){const h=t.locale.months[c],A=c<t.dateMin.getMonth()+S_(t)&&o<=t.dateMin.getFullYear()||c>t.dateMax.getMonth()+S_(t)&&o>=t.dateMax.getFullYear()||c!==n&&!l.includes(c),f=Tle(t,u,n,h,A,c);a.appendChild(f),t.actions.getMonths&&t.actions.getMonths(c,f,t)}},_2=(t,e)=>t&&e?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(t)][e]:"",Pp=(t,e,i)=>t.querySelector(".".concat(e).concat(i?' input[name="'.concat(i,'"]'):"")),B_=(t,e,i)=>{t.addEventListener("mouseover",()=>e.classList.add(i)),t.addEventListener("mouseout",()=>e.classList.remove(i))},tu=(t,e,i,s)=>{({hours:()=>{t.selectedHours=i},minutes:()=>{t.selectedMinutes=i}})[s](),t.selectedTime="".concat(t.selectedHours,":").concat(t.selectedMinutes).concat(t.selectedKeeping?" ".concat(t.selectedKeeping):""),t.actions.changeTime&&t.actions.changeTime(e,t),t.input&&t.HTMLInputElement&&t.actions.changeToInput&&t.actions.changeToInput(e,t)},k_=(t,e,i,s,n,r)=>{e.addEventListener("input",o=>{const a=o.target,l=Number(a.value),u=l<10?"0".concat(l):"".concat(l);if(n!=="hours"||r!==12)return i.value=u,void tu(t,o,u,n);l<r&&l>0?(i.value=u,t.selectedKeeping="AM",s.innerText=t.selectedKeeping,tu(t,o,u,n)):(l===0?(t.selectedKeeping="AM",s.innerText="AM"):(t.selectedKeeping="PM",s.innerText="PM"),i.value=UA(a.value),tu(t,o,UA(a.value),n))})},I_=(t,e,i,s,n,r)=>{i.addEventListener("change",o=>{const a=o.target,l=Number(a.value),u=l<10?"0".concat(l):"".concat(l);n==="hours"&&r===12?a.value&&l<=r&&l>0?(a.value=u,e.value=_2(u,t.selectedKeeping),tu(t,o,u,n)):a.value&&l<24&&(l>r||l===0)?(l===0?(t.selectedKeeping="AM",s.innerText="AM"):(t.selectedKeeping="PM",s.innerText="PM"),a.value=UA(a.value),e.value=u,tu(t,o,UA(a.value),n)):a.value=t.selectedHours:a.value&&l<=r&&l>=0?(a.value=u,e.value=u,tu(t,o,u,n)):n==="hours"?a.value=t.selectedHours:n==="minutes"&&(a.value=t.selectedMinutes)})},_le=(t,e,i)=>{e.addEventListener("click",s=>{t.selectedKeeping=e.innerText.includes("AM")?"PM":"AM",e.innerText=t.selectedKeeping,i.value=_2(t.selectedHours,t.selectedKeeping),tu(t,s,t.selectedHours,"hours")})},Sle=(t,e,i)=>{const s=i===24?23:i||12,n=Pp(e,t.CSSClasses.timeRange,"hours"),r=Pp(e,t.CSSClasses.timeRange,"minutes"),o=Pp(e,t.CSSClasses.timeHours,"hours"),a=Pp(e,t.CSSClasses.timeMinutes,"minutes"),l=e.querySelector(".".concat(t.CSSClasses.timeKeeping));B_(n,o,t.CSSClasses.isFocus),B_(r,a,t.CSSClasses.isFocus),k_(t,n,o,l,"hours",s),k_(t,r,a,l,"minutes",0),I_(t,n,o,l,"hours",s),I_(t,r,a,l,"minutes",59),l&&_le(t,l,n)},D_=(t,e,i,s)=>'<label class="'.concat(e,'"><input type="text"name="').concat(t,'"maxlength="2"value="').concat(i,'"').concat(s?"disabled":"","></label>"),F_=(t,e,i,s,n,r)=>'<label class="'.concat(e,'"><input type="range"name="').concat(t,'"min="').concat(i,'"max="').concat(s,'"step="').concat(n,'"value="').concat(r,'"></label>'),Ble=t=>{const e=t.HTMLElement.querySelector(".".concat(t.CSSClasses.time));if(!e)return;const i=t.settings.selection.time===!0?12:t.settings.selection.time,s=t.settings.selection.controlTime==="range",[n,r]=[0,23],[o,a]=[0,59];e.innerHTML=t.sanitizer('<div class="'.concat(t.CSSClasses.timeContent,'">').concat(D_("hours",t.CSSClasses.timeHours,t.selectedHours,s)).concat(D_("minutes",t.CSSClasses.timeMinutes,t.selectedMinutes,s)).concat(i===12?'<button type="button" class="'.concat(t.CSSClasses.timeKeeping,'"').concat(s?"disabled":"",">").concat(t.selectedKeeping,"</button>"):"",'</div><div class="').concat(t.CSSClasses.timeRanges,'">').concat(F_("hours",t.CSSClasses.timeRange,n,r,t.settings.selection.stepHours,t.selectedKeeping?_2(t.selectedHours,t.selectedKeeping):t.selectedHours)).concat(F_("minutes",t.CSSClasses.timeRange,o,a,t.settings.selection.stepMinutes,t.selectedMinutes),"</div>")),Sle(t,e,i)},kle=(t,e,i)=>{const s=document.createElement("b");e.textContent="";for(let n=0;n<i.length;n++){const r=i[n],o=s.cloneNode(!0);o.className="".concat(t.CSSClasses.weekDay),o.className="".concat(t.CSSClasses.weekDay).concat(t.settings.visibility.weekend&&t.settings.iso8601?n===5||n===6?" ".concat(t.CSSClasses.weekDayWeekend):"":t.settings.visibility.weekend&&!t.settings.iso8601&&(n===0||n===6)?" ".concat(t.CSSClasses.weekDayWeekend):""),o.innerText="".concat(r),e.appendChild(o)}},P_=t=>{const e=[...t.locale.weekday];e[0]&&(t.settings.iso8601&&e.push(e.shift()),t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.week)).forEach(i=>kle(t,i,e)))},s5=["light","dark","system"],e0={value:!1,set:()=>{e0.value=!0},check:()=>e0.value},r5=(t,e)=>s5.find(i=>{var s;return i!=="system"&&((s=t.getAttribute(e))==null?void 0:s.includes(i))}),iu=(t,e)=>{t.dataset.calendarTheme=e},L_=(t,e)=>{var i;if(i=e,iu(t.HTMLElement,i.matches?"dark":"light"),t.settings.visibility.theme!=="system"||e0.check())return;const s=n=>{const r=document.querySelectorAll(".".concat(t.CSSClasses.calendar));r==null||r.forEach(o=>iu(o,n.matches?"dark":"light"))};e.addEventListener?e.addEventListener("change",s):e.addListener(s),e0.set()},Ile=(t,e,i)=>{new MutationObserver(s=>{for(let n=0;n<s.length;n++)if(s[n].attributeName===i){const r=r5(e,i);r&&iu(t.HTMLElement,r);break}}).observe(e,{attributes:!0})},Dle=(t,e)=>{const i=t.settings.visibility.themeDetect?document.querySelector(t.settings.visibility.themeDetect):null;if(!i)return void L_(t,e);const s=t.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(r,o)=>o),n=r5(i,s);n?(iu(t.HTMLElement,n),Ile(t,i,s)):L_(t,e)},Fle=t=>{if(!s5.includes(t.settings.visibility.theme))throw new Error(rd.incorrectTheme);if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void iu(t.HTMLElement,"light");({light:()=>iu(t.HTMLElement,"light"),dark:()=>iu(t.HTMLElement,"dark"),system:()=>Dle(t,window.matchMedia("(prefers-color-scheme: dark)"))})[t.settings.visibility.theme]()},ff=t=>{const e={default:()=>{P_(t),Zm(t)},multiple:()=>{P_(t),Zm(t)},month:()=>n5(t),year:()=>T2(t)};Fle(t),xle(t),x2(t),ib(t),y2(t),Ble(t),e[t.currentType]()},ri={self:null,rangeMin:void 0,rangeMax:void 0},R_=()=>{var t;if(!((t=ri.self)!=null&&t.HTMLElement))return;const{CSSClasses:e}=ri.self;ri.self.HTMLElement.querySelectorAll(".".concat(ri.self.CSSClasses.dayBtnHover)).forEach(i=>{var s;i.classList.remove(ri.self.CSSClasses.dayBtnHover),(s=i.parentElement)==null||s.classList.remove(e.dayHoverIntermediate,e.dayHoverFirst,e.dayHoverLast)})},Ple=(t,e,i)=>{var s,n,r;if(!((s=ri.self)!=null&&s.selectedDates))return;const o=mo(t),{CSSClasses:a}=ri.self;if((n=ri.self.rangeDisabled)!=null&&n.includes(o))return;const l=(r=ri.self.HTMLElement)==null?void 0:r.querySelectorAll('[data-calendar-day="'.concat(o,'"]'));l==null||l.forEach(u=>{var c;u.classList.add(a.dayBtnHover),(c=u.parentElement)==null||c.classList.add(a.dayHoverIntermediate)}),e==null||e.forEach(u=>{var c;return(c=u.parentElement)==null?void 0:c.classList.add(a.dayHoverFirst)}),i==null||i.forEach(u=>{var c;return(c=u.parentElement)==null?void 0:c.classList.add(a.dayHoverLast)})},bw=t=>{var e;if(!t.target||!((e=ri.self)!=null&&e.selectedDates))return;if(!t.target.closest(".".concat(ri.self.CSSClasses.days)))return void R_();const i=t.target.closest("[data-calendar-day]");if(!i)return;const s=i.dataset.calendarDay,n=Fi(ri.self.selectedDates[0]),r=Fi(s),o=ri.self.HTMLElement.querySelectorAll('[data-calendar-day="'.concat(ri.self.selectedDates[0],'"]')),a=ri.self.HTMLElement.querySelectorAll('[data-calendar-day="'.concat(s,'"]')),[l,u]=n<r?[o,a]:[a,o],[c,h]=n<r?[n,r]:[r,n];R_();for(let A=new Date(c);A<=h;A.setDate(A.getDate()+1))Ple(A,l,u)},vw=t=>{ri.self&&t.key==="Escape"&&(ri.self.selectedDates=[],ri.self.HTMLElement.removeEventListener("mousemove",bw),document.removeEventListener("keydown",vw),ff(ri.self))},Lle=()=>{var t,e,i;if(!((e=(t=ri.self)==null?void 0:t.selectedDates)!=null&&e[0])||!((i=ri.self.rangeDisabled)!=null&&i[0]))return;const s=Fi(ri.self.selectedDates[0]),[n,r]=ri.self.rangeDisabled.map(o=>Fi(o)).reduce(([o,a],l)=>[s>=l?l:o,s<l&&a===null?l:a],[null,null]);n&&(ri.self.rangeMin=mo(new Date(n.setDate(n.getDate()+1)))),r&&(ri.self.rangeMax=mo(new Date(r.setDate(r.getDate()-1))))},o5=(t,e)=>{var i;if(e){const s=t.selectedDates.length===1&&t.selectedDates[0].includes(e);t.selectedDates=s&&!t.settings.selection.cancelableDay?[e,e]:s&&t.settings.selection.cancelableDay?[]:t.selectedDates.length>1?[e]:[...t.selectedDates,e],(i=t.selectedDates)==null||i.sort((n,r)=>+new Date(n)-+new Date(r))}t.settings.range.disableGaps&&(ri.rangeMin=ri.rangeMin?ri.rangeMin:t.rangeMin,ri.rangeMax=ri.rangeMax?ri.rangeMax:t.rangeMax),ri.self=t,{set:()=>{t.HTMLElement.addEventListener("mousemove",bw),document.addEventListener("keydown",vw),t.settings.range.disableGaps&&Lle()},reset:()=>{const[s,n]=[t.selectedDates[0],t.selectedDates[t.selectedDates.length-1]];t.selectedDates=t.selectedDates[0]!==t.selectedDates[t.selectedDates.length-1]?t.settings.range.edgesOnly?[s,n]:zc(["".concat(s,":").concat(n)]):[t.selectedDates[0],t.selectedDates[0]],t.HTMLElement.removeEventListener("mousemove",bw),document.removeEventListener("keydown",vw),t.settings.range.disableGaps&&ri.self&&(ri.self.rangeMin=ri.rangeMin,ri.self.rangeMax=ri.rangeMax)}}[t.selectedDates.length===1?"set":"reset"]()},M_=(t,e,i)=>{if(!e.dataset.calendarDay)return;const s=e.dataset.calendarDay,n=e.classList.contains(t.CSSClasses.dayBtnSelected);if(n&&!t.settings.selection.cancelableDay)return;let r=!0;t.toggleSelected!==void 0&&(r=typeof t.toggleSelected=="function"?t.toggleSelected(t):t.toggleSelected),n&&!r||(t.selectedDates=n?t.selectedDates.filter(o=>o!==s):i?[...t.selectedDates,s]:[s])},Rle=(t,e)=>{var i;const s=e.target,n=l=>s.closest(".".concat(l)),r=n(t.CSSClasses.dayBtn);if(!t.settings.selection.day||!["single","multiple","multiple-ranged"].includes(t.settings.selection.day)||!r)return;({single:()=>M_(t,r,!1),multiple:()=>M_(t,r,!0),"multiple-ranged":()=>o5(t,r.dataset.calendarDay)})[t.settings.selection.day](),(i=t.selectedDates)==null||i.sort((l,u)=>+new Date(l)-+new Date(u)),t.actions.clickDay&&t.actions.clickDay(e,t),t.input&&t.HTMLInputElement&&t.HTMLElement&&t.actions.changeToInput&&t.actions.changeToInput(e,t);const o=n(t.CSSClasses.dayBtnPrev),a=n(t.CSSClasses.dayBtnNext);({prev:()=>mw(t,"prev"),next:()=>mw(t,"next"),default:()=>Zm(t)})[o?"prev":a?"next":"default"]()},O_=(t,e,i,s,n)=>{const r=t.HTMLElement.querySelectorAll(".".concat(t.CSSClasses.column)),o=Array.from(r).findIndex(l=>l.classList.contains(e)),a=Number(r[o].querySelector(".".concat(i)).getAttribute(n));return t.currentType==="month"&&o>=0?s-o:t.currentType==="year"&&t.selectedYear!==a?s-1:s},Mle=(t,e,i,s,n)=>{const r={year:()=>{var o,a;return(a=(o=t.actions).clickYear)==null?void 0:a.call(o,e,t)},month:()=>{var o,a;return(a=(o=t.actions).clickMonth)==null?void 0:a.call(o,e,t)}};({year:()=>{if(t.type==="multiple"){const o=O_(t,t.CSSClasses.columnYear,t.CSSClasses.year,Number(n.dataset.calendarYear),"data-calendar-selected-year"),a=t.selectedMonth<t.dateMin.getMonth()&&o<=t.dateMin.getFullYear(),l=t.selectedMonth>t.dateMax.getMonth()&&o>=t.dateMax.getFullYear(),u=o<t.dateMin.getFullYear(),c=o>t.dateMax.getFullYear();a||u?(t.selectedYear=t.dateMin.getFullYear(),t.selectedMonth=t.dateMin.getMonth()):l||c?(t.selectedYear=t.dateMax.getFullYear(),t.selectedMonth=t.dateMax.getMonth()):t.selectedYear=o}else t.selectedYear=Number(n.dataset.calendarYear)},month:()=>{if(t.type==="multiple"){const o=O_(t,t.CSSClasses.columnMonth,t.CSSClasses.month,Number(n.dataset.calendarMonth),"data-calendar-selected-month"),a=n.closest(".".concat(s.column)).querySelector(".".concat(t.CSSClasses.year));t.selectedYear=Number(a.dataset.calendarSelectedYear);const l=o<t.dateMin.getMonth()&&t.selectedYear<=t.dateMin.getFullYear(),u=o>t.dateMax.getMonth()&&t.selectedYear>=t.dateMax.getFullYear();t.selectedMonth=l?t.dateMin.getMonth():u?t.dateMax.getMonth():o}else t.selectedMonth=Number(n.dataset.calendarMonth)}})[i](),r[i](),t.currentType=t.type,ff(t)},U_=(t,e,i,s)=>{if(!t.settings.selection[i])return;const n=e.target,r=c=>n.closest(".".concat(c)),o=r(s.header),a=r(s.item),l=r(t.CSSClasses.grid),u=r(t.CSSClasses.column);t.currentType!==i&&o?{year:()=>T2(t,n),month:()=>n5(t,n)}[i]():a?Mle(t,e,i,s,a):(t.currentType===i&&o||t.type==="multiple"&&t.currentType===i&&l&&!u)&&(t.currentType=t.type,ff(t))},a5=t=>{const e=i=>{yle(t,i),wle(t,i),Rle(t,i),U_(t,i,"month",{header:t.CSSClasses.month,item:t.CSSClasses.monthsMonth,column:t.CSSClasses.columnMonth}),U_(t,i,"year",{header:t.CSSClasses.year,item:t.CSSClasses.yearsYear,column:t.CSSClasses.columnYear})};return t.HTMLElement.addEventListener("click",e),()=>t.HTMLElement.removeEventListener("click",e)},l5=(t,{year:e,month:i,dates:s,holidays:n,time:r}={})=>{var o;const a=JF({},t.settings.selected);t.settings.selected.year=e?a.year:t.selectedYear,t.settings.selected.month=i?a.month:t.selectedMonth,t.settings.selected.holidays=n?a.holidays:t.selectedHolidays,t.settings.selected.time=r?a.time:t.selectedTime,t.settings.selected.dates=s==="only-first"&&((o=t.selectedDates)!=null&&o[0])?[t.selectedDates[0]]:s===!0?a.dates:t.selectedDates,ZF(t),ff(t),t.settings.selected=a,t.settings.selection.day==="multiple-ranged"&&s&&o5(t)},u5=(t,e=!0)=>{t.isInputInit=!0;const i=document.createElement("div");return i.className="".concat(t.CSSClasses.calendar," ").concat(t.CSSClasses.calendarToInput," ").concat(t.CSSClasses.calendarHidden),t.HTMLElement=i,document.body.appendChild(t.HTMLElement),t.HTMLElement.style.visibility="hidden",e&&queueMicrotask(()=>{gw(t.HTMLInputElement,i,t.settings.visibility.positionToInput,t.CSSClasses),t.HTMLElement.style.visibility="visible",t.show()}),l5(t,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),t.actions.initCalendar&&t.actions.initCalendar(t),a5(t)},Ole=t=>{const e=[];t.HTMLInputElement=t.HTMLElement;const i=()=>gw(t.HTMLInputElement,t.HTMLElement,t.settings.visibility.positionToInput,t.CSSClasses),s=o=>{o.key==="Escape"&&(t!=null&&t.HTMLInputElement&&(t!=null&&t.HTMLElement)&&t.hide(),document.removeEventListener("keydown",s))},n=o=>{var a;t&&o.target!==t.HTMLInputElement&&!((a=t.HTMLElement)!=null&&a.contains(o.target))&&(t.HTMLInputElement&&t.HTMLElement&&t.hide(),window.removeEventListener("resize",i),document.removeEventListener("click",n,{capture:!0}))},r=()=>{t.isInputInit?(gw(t.HTMLInputElement,t.HTMLElement,t.settings.visibility.positionToInput,t.CSSClasses),t.HTMLElement.style.visibility="visible",t.show()):e.push(u5(t)),window.addEventListener("resize",i),document.addEventListener("click",n,{capture:!0}),document.addEventListener("keydown",s)};return t.HTMLInputElement.addEventListener("click",r),t.HTMLInputElement.addEventListener("focus",r),()=>{e.forEach(o=>o())}},Ule=(t,{year:e,month:i,dates:s,holidays:n,time:r}={})=>{if(!t.isInit)throw new Error(rd.notInit);t.input&&!t.isInputInit&&u5(t,!1),l5(t,{year:e,month:i,dates:s,holidays:n,time:r}),t.actions.updateCalendar&&t.actions.updateCalendar(t)},Nle=t=>{var e,i,s,n,r,o;if(!t.isInit)throw new Error(rd.notInit);t.input?((i=(e=t.HTMLElement)==null?void 0:e.parentElement)==null||i.removeChild(t.HTMLElement),(n=(s=t.HTMLInputElement)==null?void 0:s.replaceWith)==null||n.call(s,t.HTMLOriginalElement),t.HTMLInputElement=void 0):(o=(r=t.HTMLElement)==null?void 0:r.replaceWith)==null||o.call(r,t.HTMLOriginalElement),t.HTMLElement=t.HTMLOriginalElement,t.actions.destroyCalendar&&t.actions.destroyCalendar(t)};class Hle extends Hae{constructor(e,i){if(super(),Kt(this,"init",()=>{return(n=this).HTMLOriginalElement=n.HTMLElement.cloneNode(!0),n.isInit=!0,n.input?Ole(n):(ZF(n),ff(n),n.actions.initCalendar&&n.actions.initCalendar(n),a5(n));var n}),Kt(this,"update",n=>Ule(this,n)),Kt(this,"destroy",()=>Nle(this)),Kt(this,"show",()=>{var n;(n=this).currentType?(n.HTMLElement.classList.remove(n.CSSClasses.calendarHidden),n.actions.showCalendar&&n.actions.showCalendar(n)):n.HTMLElement.click()}),Kt(this,"hide",()=>{var n;(n=this).currentType&&(n.HTMLElement.classList.add(n.CSSClasses.calendarHidden),n.actions.hideCalendar&&n.actions.hideCalendar(n))}),this.HTMLElement=typeof e=="string"?document.querySelector(e):e,!this.HTMLElement)throw new Error(rd.notFoundSelector(e));if(!i)return;const s=(n,r)=>{Object.keys(r).forEach(o=>{typeof n[o]!="object"||typeof r[o]!="object"||r[o]instanceof Date?n[o]=r[o]:s(n[o],r[o])})};s(this,i)}}const Qle={name:"PCalendrier",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:34,statut:"",dimensions:{},position:{}}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:"",w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("calendrier"),this.genererOptions("calendrier")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.$nextTick((function(){const t={settings:{lang:this.$parent.langue,visibility:{weekNumbers:!0,theme:"light"}}};new Hle("#calendrier_"+this.id,t).init()}).bind(this))}},Vle={class:"conteneur panneau-calendrier"},$le={class:"contenu"},jle=["id"];function zle(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[0]||(e[0]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Vle,[d("div",$le,[d("div",{id:"calendrier_"+n.id},null,8,jle)])]),e[1]||(e[1]=d("div",{class:"conteneur-droite"},null,-1)),e[2]||(e[2]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Kle=It(Qle,[["render",zle]]),Gle="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'%3e%3cpolygon%20fill='%23F1B31C'%20stroke='none'%20points='26.1808,20.1808%2038.75,32.75%2051.3192,45.3192%2029.7894,54.2798%208.2597,63.2403%2017.2202,41.7106'/%3e%3cpolygon%20fill='%23FCEA2B'%20stroke='none'%20points='40,35%2025.6924,20.6692%2016.3914,42.5394%207.0905,64.4095'/%3e%3cpolygon%20fill='%23EA5A47'%20stroke='none'%20points='15.2238,45.2849%2026.2858,56.3469%2020.7548,58.5984%2012.9576,50.8012'/%3e%3cpolygon%20fill='%23D22F27'%20stroke='none'%20points='17.3429,55.2475%2020.7548,58.5984%2026.2858,56.3469%2021.4849,51.546'/%3e%3cpolygon%20fill='%23EA5A47'%20stroke='none'%20points='20.8045,32.1625%2027.5011,38.8591%2039.2002,50.5583%2032.9273,53.4217%2024.7555,45.2498%2018.1504,38.6447'/%3e%3cpolygon%20fill='%23D22F27'%20stroke='none'%20points='26.5369,47.0312%2032.9273,53.4216%2039.2003,50.5582%2031.3616,42.7197'/%3e%3cellipse%20cx='30.2951'%20cy='14.4579'%20rx='2'%20ry='1.9708'%20fill='%238967aa'%20stroke='none'/%3e%3cellipse%20cx='60.2951'%20cy='18.4579'%20rx='2'%20ry='1.9708'%20fill='%23f1b31c'%20stroke='none'/%3e%3cellipse%20cx='57.2951'%20cy='39.4579'%20rx='2'%20ry='1.9708'%20fill='%23d22f27'%20stroke='none'/%3e%3c/g%3e%3cg%20id='hair'/%3e%3cg%20id='skin'/%3e%3cg%20id='skin-shadow'/%3e%3cg%20id='line'%3e%3cpolyline%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20points='50.6626,45.6395%2050.8308,45.8076%2028.9606,55.1086%207.0904,64.4096%2016.3914,42.5394%2025.6923,20.6692'/%3e%3cpolyline%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20points='25.801,20.7779%2038.2616,33.2384%2050.6626,45.6395'/%3e%3cline%20x1='25.6923'%20x2='25.801'%20y1='20.6692'%20y2='20.7779'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M46.4905,7.3671c0.2347,0.4487,0.4027,0.943,0.4897,1.473c0.451,2.7473-1.447,5.4141-4.2392,5.9565'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M42.9327,14.7763c-0.5049,0.0384-1.0133,0.1573-1.509,0.364c-2.5697,1.0713-3.828,4.093-2.8105,6.7492'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M61.7928,26.7168c-0.0987,0.4967-0.2778,0.987-0.5425,1.4544c-1.372,2.4225-4.5229,3.309-7.0378,1.98'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M54.3745,30.2558c-0.4173-0.2868-0.8878-0.513-1.4036-0.663c-2.6733-0.7775-5.5486,0.7867-6.4223,3.4936'/%3e%3c/g%3e%3c/svg%3e",qle=""+new URL("applaudissements-BpNZFsAr.svg",import.meta.url).href,Wle="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'%3e%3cpath%20fill='%23fcea2b'%20stroke='none'%20d='M41.5853,12.831h-20.795c0.072,0.333,0.152,0.72,0.246,1.168c0.476,2.287,1.392,6.775,3.152,15.579%20c0.112,0.562,0.239,1.1,0.373,1.616c0.04,0.154,0.084,0.3,0.126,0.451c0.1,0.365,0.207,0.721,0.32,1.064%20c0.051,0.154,0.1,0.3,0.156,0.453c0.1213,0.3413,0.249,0.6713,0.383,0.99c0.049,0.117,0.1,0.236,0.147,0.35%20c0.183,0.413,0.376,0.81,0.582,1.183l0.01,0.019c0.2198,0.3981,0.4604,0.7843,0.721,1.157l0.025,0.034%20c0.2309,0.3262,0.4792,0.6397,0.744,0.939c0.042,0.047,0.085,0.093,0.128,0.139c0.2358,0.258,0.4852,0.5034,0.747,0.735%20c0.042,0.037,0.084,0.076,0.127,0.112c2.0451,1.6637,4.6303,2.5178,7.264,2.4c0.9852,0.0032,1.968-0.1,2.931-0.308%20C41.3121,31.7469,42.1939,22.2705,41.5853,12.831z'/%3e%3cpath%20fill='%23f1b31c'%20stroke='none'%20d='M41.5853,12.831c0.6086,9.4384-0.2729,18.9138-2.612,28.078c4.706-1.027,7.576-4.732,8.922-11.46%20c1.457-7.282,2.511-12.474,3.134-15.431c0.1-0.456,0.18-0.849,0.255-1.187H41.5853z'/%3e%3cpath%20fill='%23fcea2b'%20stroke='none'%20d='M31.4213,51.333h-3.871V58.5h10.958v-7.167L31.4213,51.333z'/%3e%3cpath%20fill='%23f1b31c'%20stroke='none'%20d='M43.8833,51.333h-5.375V58.5h5.375V51.333z'/%3e%3ccircle%20cx='36.0373'%20cy='24.581'%20r='4'%20fill='%23f1b31c'%20stroke='none'/%3e%3c/g%3e%3cg%20id='hair'/%3e%3cg%20id='skin'/%3e%3cg%20id='skin-shadow'/%3e%3cg%20id='line'%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M52.5373,11.832%20c0,0,0-0.519-3.667,17.814c-1.588,7.942-5.5,12.572-12.833,12.572s-11.245-4.5-12.833-12.443%20c-3.667-18.333-3.667-17.943-3.667-17.943L52.5373,11.832z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M23.0443,31.479%20c0,0,0.079-0.261-5.421-3.928c-2.528-1.683-5.459-3.9-5.459-6.943s2.5-5.11,5.539-5.11h1.513'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M48.7113,31.766%20c0,0,0.079-0.261,5.579-3.928c2.528-1.683,5.541-3.9,5.541-6.943c-0.0146-2.842-2.3303-5.1341-5.1723-5.1196%20c-0.0963,0.0005-0.1926,0.0037-0.2887,0.0096h-2.154'/%3e%3crect%20x='26.5503'%20y='50.332'%20width='18.333'%20height='9.167'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3ccircle%20cx='36.0373'%20cy='24.581'%20r='5'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3cline%20x1='36.0373'%20x2='36.0373'%20y1='50.332'%20y2='42.218'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/svg%3e",Yle="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'%3e%3cpath%20fill='%23FCEA2B'%20d='M36,13c-12.6823,0-23,10.3177-23,23c0,12.6822,10.3177,23,23,23c12.6822,0,23-10.3178,23-23%20C59,23.3177,48.6822,13,36,13z'/%3e%3c/g%3e%3cg%20id='hair'/%3e%3cg%20id='skin'/%3e%3cg%20id='skin-shadow'/%3e%3cg%20id='line'%3e%3ccircle%20cx='36'%20cy='36'%20r='23'%20fill='none'%20stroke='%23000000'%20stroke-miterlimit='10'%20stroke-width='2'/%3e%3cpath%20d='M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31'/%3e%3cpath%20d='M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M28,46c1.5805-2.5575,4.9043-4.1349,8.4211-4.0038C39.6499,42.1166,42.5622,43.6595,44,46'/%3e%3c/g%3e%3c/svg%3e",Xle="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'%3e%3cpath%20fill='%23b1cc33'%20d='m61.5%2023.3-8.013-8.013-25.71%2025.71-9.26-9.26-8.013%208.013%2017.42%2017.44z'/%3e%3c/g%3e%3cg%20id='line'%3e%3cpath%20fill='none'%20stroke='%23000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='m10.5%2039.76%2017.42%2017.44%2033.58-33.89-8.013-8.013-25.71%2025.71-9.26-9.26z'/%3e%3c/g%3e%3c/svg%3e",Jle="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'%3e%3cpath%20fill='%23ea5a47'%20d='m58.14%2021.78-7.76-8.013-14.29%2014.22-14.22-14.22-8.013%208.013%2014.36%2014.22-14.36%2014.22%208.014%208.013%2014.22-14.22%2014.29%2014.22%207.76-8.013-14.22-14.22z'/%3e%3c/g%3e%3cg%20id='hair'/%3e%3cg%20id='skin'/%3e%3cg%20id='skin-shadow'/%3e%3cg%20id='line'%3e%3cpath%20fill='none'%20stroke='%23000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='10'%20stroke-width='2'%20d='m58.14%2021.78-7.76-8.013-14.29%2014.22-14.22-14.22-8.013%208.013%2014.35%2014.22-14.35%2014.22%208.014%208.013%2014.22-14.22%2014.29%2014.22%207.76-8.013-14.22-14.22z'/%3e%3c/g%3e%3c/svg%3e",Zle="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'/%3e%3cg%20id='hair'/%3e%3cg%20id='skin'%3e%3cpolygon%20fill='%23fcea2b'%20stroke='none'%20points='37.088,11.2316%2034.166,11.8766%2019,29.2096%2011.667,42.2686%2013.666,53.5426%2026.604,60.6126%2036.229,60.5716%2050.271,60.7796%2052.666,59.2096%2053.416,55.3766%2052.666,53.7926%2056.25,53.7096%2057.583,52.0426%2058.416,49.7096%2056.833,46.7096%2058.416,46.0426%2060.333,43.3766%2059.416,40.6266%2056.916,39.4596%2058.083,37.2926%2058.25,33.8766%2055.666,32.3766%2042.5,31.8766%2041.666,31.2096%2040.812,30.6126%2031.687,30.6126%2031.75,28.8766%2035.666,19.2926%2037.333,14.7096'/%3e%3c/g%3e%3cg%20id='skin-shadow'/%3e%3cg%20id='line'%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M35.236,59.6006h-9%20c-8.321,0-14-6.681-14-15c0.0204-4.7991,1.7993-9.4241,5-13'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M34.625,31.6006h-4.389%20l7-18c0.811-2.084-2.79-3.8-5-1l-15,19'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M37.448,35.1006%20c0.1527,2.0638,1.9342,3.6226,4,3.5h13c1.933,0.2578,3.709-1.1001,3.9669-3.0331s-1.1001-3.709-3.0331-3.9669%20c-0.3099-0.0413-0.6238-0.0413-0.9337,0h-13C39.3822,31.478,37.6007,33.0368,37.448,35.1006z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M38.305,56.4366%20c0.1527,2.0638,1.9342,3.6226,4,3.5h7c1.933,0.2578,3.709-1.1001,3.9669-3.0331s-1.1001-3.709-3.0331-3.9669%20c-0.3099-0.0413-0.6238-0.0413-0.9337,0h-7C40.2392,52.814,38.4577,54.3728,38.305,56.4366z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M33.236,42.4366%20c0.1527,2.0638,1.9342,3.6226,4,3.5h19c1.933,0.2578,3.709-1.1001,3.9669-3.0331s-1.1001-3.709-3.0331-3.9669%20c-0.3099-0.0413-0.6238-0.0413-0.9337,0h-19C35.1702,38.814,33.3887,40.3728,33.236,42.4366z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M35.236,49.4366%20c0.1527,2.0638,1.9342,3.6226,4,3.5h15c1.933,0.2578,3.709-1.1001,3.9669-3.0331s-1.1001-3.709-3.0331-3.9669%20c-0.3099-0.0413-0.6238-0.0413-0.9337,0h-15C37.1702,45.814,35.3887,47.3728,35.236,49.4366z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M14.136,36.2626%20c-1.176,2.4511-1.8253,5.1215-1.906,7.839c0,8.56,4.625,15.5,15.125,15.5'/%3e%3c/g%3e%3c/svg%3e",eue="data:image/svg+xml,%3csvg%20id='emoji'%20viewBox='0%200%2072%2072'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='color'/%3e%3cg%20id='hair'/%3e%3cg%20id='skin'%3e%3cpolygon%20fill='%23fcea2b'%20stroke='none'%20points='37.333,57.2071%2035.666,52.6241%2031.75,43.0401%2031.687,41.3041%2040.812,41.3041%2041.666,40.7071%2042.5,40.0401%2055.666,39.5401%2058.25,38.0401%2058.083,34.6241%2056.916,32.4571%2059.416,31.2901%2060.333,28.5401%2058.416,25.8741%2056.833,25.2071%2058.416,22.2071%2057.583,19.8741%2056.25,18.2071%2052.666,18.1241%2053.416,16.5401%2052.666,12.7071%2050.271,11.1371%2036.229,11.3451%2026.604,11.3041%2013.666,18.3741%2011.667,29.6481%2019,42.7071%2034.166,60.0401%2037.088,60.6851'/%3e%3c/g%3e%3cg%20id='skin-shadow'/%3e%3cg%20id='line'%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M17.236,40.3161%20c-3.2007-3.5759-4.9796-8.2009-5-13c0-8.319,5.679-15,14-15h9'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M17.236,40.3161l15,19%20c2.21,2.8,5.811,1.084,5-1l-7-18h4.389'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M41.448,40.3161h13%20c0.3099,0.0413,0.6238,0.0413,0.9337,0c1.933-0.2578,3.291-2.0339,3.0331-3.9669s-2.0339-3.291-3.9669-3.0331h-13%20c-2.0658-0.1226-3.8473,1.4362-4,3.5C37.6007,38.8799,39.3822,40.4387,41.448,40.3161z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M42.305,18.9801h7%20c0.3099,0.0413,0.6238,0.0413,0.9337,0c1.933-0.2578,3.291-2.0339,3.0331-3.9669s-2.0339-3.291-3.9669-3.0331h-7%20c-2.0658-0.1226-3.8473,1.4362-4,3.5C38.4577,17.5439,40.2392,19.1027,42.305,18.9801z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M37.236,32.9801h19%20c0.3099,0.0413,0.6238,0.0413,0.9337,0c1.933-0.2578,3.291-2.0339,3.0331-3.9669s-2.0339-3.291-3.9669-3.0331h-19%20c-2.0658-0.1226-3.8473,1.4362-4,3.5C33.3887,31.5439,35.1702,33.1027,37.236,32.9801z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M39.236,25.9801h15%20c0.3099,0.0413,0.6238,0.0413,0.9337,0c1.933-0.2578,3.291-2.0339,3.0331-3.9669s-2.0339-3.291-3.9669-3.0331h-15%20c-2.0658-0.1226-3.8473,1.4362-4,3.5C35.3887,24.5439,37.1702,26.1027,39.236,25.9801z'/%3e%3cpath%20fill='none'%20stroke='%23000000'%20stroke-miterlimit='10'%20stroke-width='2'%20d='M27.355,12.315c-10.5,0-15.125,6.94-15.125,15.5%20c0.0807,2.7175,0.73,5.3879,1.906,7.839'/%3e%3c/g%3e%3c/svg%3e",tue={name:"PRetroaction",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},emits:{afficher:null,fermer:null,export:null},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:36,minh:31,statut:"",dimensions:{},position:{},donnees:{w:0,h:0,x:0,y:0},carte:"",son:"oui",elementPrecedent:null}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,mode:this.mode,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:{son:this.son},w:this.w,h:this.h,x:this.x,y:this.y}))}},created(){this.definirCaracteristiques("retroaction"),this.panneau.contenu!==""&&(this.son=this.panneau.contenu.son),this.genererOptions("retroaction")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .bouton").focus()}).bind(this),0)},methods:{ouvrirCarte(t,e){this.carte=e,this.elementPrecedent=document.querySelector("#"+e),this.son==="oui"&&(this.$parent.audio.src!==""&&(this.$parent.audio.pause(),this.$parent.audio.currentTime=0),this.$parent.audio.src="./static/audio/"+t+".mp3",this.$parent.audio.play()),(e==="confettis"||e==="applaudissements"||e==="victoire")&&this.lancerConfettis(),setTimeout((function(){document.querySelector("#carte-"+e+" img").focus()}).bind(this),20)},fermerCarte(){this.carte="",this.$parent.audio.src!==""&&(this.$parent.audio.pause(),this.$parent.audio.currentTime=0),this.gererFocus()},gererFocus(){this.elementPrecedent&&(this.elementPrecedent.focus(),this.elementPrecedent=null)}}},iue={class:"conteneur panneau-retroaction"},nue={class:"contenu"},sue={class:"retroactions"},rue={class:"choix"},oue={class:"oui"},aue=["id","name","checked"],lue=["for"],uue={class:"non"},cue=["id","name","checked"],due=["for"],hue={class:"carte"},Aue={class:"carte"},fue={class:"carte"},pue={class:"carte"},gue={class:"carte"},mue={class:"carte"},bue={class:"carte"},vue={class:"carte"};function yue(t,e,i,s,n,r){const o=Je("JsPanel");return z(),Z(vt,null,[Vt(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[36]||(e[36]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",iue,[d("div",nue,[d("div",sue,[d("span",{id:"confettis",class:"bouton",role:"button",tabindex:"0",onClick:e[0]||(e[0]=a=>r.ouvrirCarte("applaudissements","confettis")),onKeydown:e[1]||(e[1]=J(a=>r.ouvrirCarte("applaudissements","confettis"),["enter"])),style:{"background-image":"url(./static/img/retroactions/confettis.svg)"}},null,32),d("span",{id:"applaudissements",class:"bouton",role:"button",tabindex:"0",onClick:e[2]||(e[2]=a=>r.ouvrirCarte("applaudissements","applaudissements")),onKeydown:e[3]||(e[3]=J(a=>r.ouvrirCarte("applaudissements","applaudissements"),["enter"])),style:{"background-image":"url(./static/img/retroactions/applaudissements.svg)"}},null,32),d("span",{id:"victoire",class:"bouton",role:"button",tabindex:"0",onClick:e[4]||(e[4]=a=>r.ouvrirCarte("victoire","victoire")),onKeydown:e[5]||(e[5]=J(a=>r.ouvrirCarte("victoire","victoire"),["enter"])),style:{"background-image":"url(./static/img/retroactions/victoire.svg)"}},null,32),d("span",{id:"dommage",class:"bouton",role:"button",tabindex:"0",onClick:e[6]||(e[6]=a=>r.ouvrirCarte("dommage","dommage")),onKeydown:e[7]||(e[7]=J(a=>r.ouvrirCarte("dommage","dommage"),["enter"])),style:{"background-image":"url(./static/img/retroactions/dommage.svg)"}},null,32),d("span",{id:"vrai",class:"bouton",role:"button",tabindex:"0",onClick:e[8]||(e[8]=a=>r.ouvrirCarte("vrai","vrai")),onKeydown:e[9]||(e[9]=J(a=>r.ouvrirCarte("vrai","vrai"),["enter"])),style:{"background-image":"url(./static/img/retroactions/vrai.svg)"}},null,32),d("span",{id:"faux",class:"bouton",role:"button",tabindex:"0",onClick:e[10]||(e[10]=a=>r.ouvrirCarte("faux","faux")),onKeydown:e[11]||(e[11]=J(a=>r.ouvrirCarte("faux","faux"),["enter"])),style:{"background-image":"url(./static/img/retroactions/faux.svg)"}},null,32),d("span",{id:"pouce-haut",class:"bouton",role:"button",tabindex:"0",onClick:e[12]||(e[12]=a=>r.ouvrirCarte("vrai","pouce-haut")),onKeydown:e[13]||(e[13]=J(a=>r.ouvrirCarte("vrai","pouce-haut"),["enter"])),style:{"background-image":"url(./static/img/retroactions/pouce-haut.svg)"}},null,32),d("span",{id:"pouce-bas",class:"bouton",role:"button",tabindex:"0",onClick:e[14]||(e[14]=a=>r.ouvrirCarte("faux","pouce-bas")),onKeydown:e[15]||(e[15]=J(a=>r.ouvrirCarte("faux","pouce-bas"),["enter"])),style:{"background-image":"url(./static/img/retroactions/pouce-bas.svg)"}},null,32)]),d("label",null,te(t.$t("activerEffetsSonores")),1),d("div",rue,[d("span",oue,[d("input",{id:"son_oui_"+n.id,type:"radio",name:"son_"+n.id,value:"oui",checked:n.son==="oui",onChange:e[16]||(e[16]=a=>n.son=a.target.value)},null,40,aue),d("label",{for:"son_oui_"+n.id,tabindex:"0",onKeydown:e[17]||(e[17]=J(a=>t.activerInput("son_oui_"+n.id),["enter"]))},te(t.$t("oui")),41,lue)]),d("span",uue,[d("input",{id:"son_non_"+n.id,type:"radio",name:"son_"+n.id,value:"non",checked:n.son==="non",onChange:e[18]||(e[18]=a=>n.son=a.target.value)},null,40,cue),d("label",{for:"son_non_"+n.id,tabindex:"0",onKeydown:e[19]||(e[19]=J(a=>t.activerInput("son_non_"+n.id),["enter"]))},te(t.$t("non")),41,due)])])])]),e[37]||(e[37]=d("div",{class:"conteneur-droite"},null,-1)),e[38]||(e[38]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"]),d("div",{id:"carte-confettis",class:je(["conteneur-carte",{ouvert:n.carte==="confettis"}]),onClick:e[21]||(e[21]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"confettis"},[d("span",hue,[d("img",{role:"button",tabindex:"0",onKeydown:e[20]||(e[20]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:Gle,alt:"confettis"},null,32)])],2),d("div",{id:"carte-applaudissements",class:je(["conteneur-carte",{ouvert:n.carte==="applaudissements"}]),onClick:e[23]||(e[23]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"applaudissements"},[d("span",Aue,[d("img",{role:"button",tabindex:"0",onKeydown:e[22]||(e[22]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:qle,alt:"applaudissements"},null,32)])],2),d("div",{id:"carte-victoire",class:je(["conteneur-carte",{ouvert:n.carte==="victoire"}]),onClick:e[25]||(e[25]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"victoire"},[d("span",fue,[d("img",{role:"button",tabindex:"0",onKeydown:e[24]||(e[24]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:Wle,alt:"victoire"},null,32)])],2),d("div",{id:"carte-dommage",class:je(["conteneur-carte",{ouvert:n.carte==="dommage"}]),onClick:e[27]||(e[27]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"dommage"},[d("span",pue,[d("img",{role:"button",tabindex:"0",onKeydown:e[26]||(e[26]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:Yle,alt:"dommage"},null,32)])],2),d("div",{id:"carte-vrai",class:je(["conteneur-carte",{ouvert:n.carte==="vrai"}]),onClick:e[29]||(e[29]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"vrai"},[d("span",gue,[d("img",{role:"button",tabindex:"0",onKeydown:e[28]||(e[28]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:Xle,alt:"vrai"},null,32)])],2),d("div",{id:"carte-faux",class:je(["conteneur-carte",{ouvert:n.carte==="faux"}]),onClick:e[31]||(e[31]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"faux"},[d("span",mue,[d("img",{role:"button",tabindex:"0",onKeydown:e[30]||(e[30]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:Jle,alt:"faux"},null,32)])],2),d("div",{id:"carte-pouce-haut",class:je(["conteneur-carte",{ouvert:n.carte==="pouce-haut"}]),onClick:e[33]||(e[33]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"pouce-haut"},[d("span",bue,[d("img",{role:"button",tabindex:"0",onKeydown:e[32]||(e[32]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:Zle,alt:"pouce-haut"},null,32)])],2),d("div",{id:"carte-pouce-bas",class:je(["conteneur-carte",{ouvert:n.carte==="pouce-bas"}]),onClick:e[35]||(e[35]=(...a)=>r.fermerCarte&&r.fermerCarte(...a)),key:"pouce-bas"},[d("span",vue,[d("img",{role:"button",tabindex:"0",onKeydown:e[34]||(e[34]=J((...a)=>r.fermerCarte&&r.fermerCarte(...a),["enter"])),src:eue,alt:"pouce-bas"},null,32)])],2)],64)}const wue=It(tue,[["render",yue]]),Cue={name:"PSonometre",components:{JsPanel:Gt},props:{panneau:Object,pages:Array,nav:Boolean,export:Boolean,evenementClavier:Object},extends:qt,data(){return{chargement:!0,options:{},mode:"lecture",deplacement:!1,redimensionnement:!1,titre:"",id:"",w:0,h:0,x:0,y:0,minw:40,minh:24,statut:"",dimensions:{},position:{},contexteAudio:"",sourceAudio:"",analyseur:"",volumes:[],volume:0,sensibilite:98,verificationVolume:"",decompte:0,tolerance:3}},watch:{export:function(t){t===!0&&(this.position={x:this.x,y:this.y},this.$emit("export",{id:this.id,titre:this.titre,statut:this.statut,dimensions:this.dimensions,position:this.position,contenu:"",w:this.w,h:this.h,x:this.x,y:this.y}))},volume:function(t){t>=this.sensibilite?(this.decompte++,this.decompte===this.tolerance*10&&(clearInterval(this.verificationVolume),this.$parent.audio.src="./static/audio/cloche.mp3",this.$parent.audio.play(),this.decompte=0,setTimeout((function(){this.verificationVolume=setInterval(this.dessinerFlux,100),this.decompte=0}).bind(this),100))):this.decompte=0}},created(){this.definirCaracteristiques("sonometre"),this.genererOptions("sonometre")},mounted(){this.initialiser(),this.positionner(),this.chargement=!1,this.statut!=="min"&&setTimeout((function(){document.querySelector("#"+this.id+" .actions .bouton").focus()}).bind(this),0)},methods:{modifierSensibilite(t){this.sensibilite=t},demarrer(){this.verificationVolume===""&&navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){this.genererFlux(t),this.volumes.length>0?this.verificationVolume=setInterval(this.dessinerFlux,100):alert(this.$t("erreurSonometre"))}).bind(this)).catch((function(){alert(this.$t("erreurSonometre"))}).bind(this))},pause(){this.verificationVolume!==""&&(clearInterval(this.verificationVolume),this.verificationVolume="")},genererFlux(t){this.contexteAudio=new AudioContext,this.sourceAudio=this.contexteAudio.createMediaStreamSource(t),this.analyseur=this.contexteAudio.createAnalyser(),this.analyseur.fftSize=512,this.analyseur.minDecibels=-127,this.analyseur.maxDecibels=0,this.analyseur.smoothingTimeConstant=.4,this.sourceAudio.connect(this.analyseur),this.volumes=new Uint8Array(this.analyseur.frequencyBinCount)},dessinerFlux(){this.analyseur.getByteFrequencyData(this.volumes);let t=0;for(const i of this.volumes)t+=i;const e=t/this.volumes.length;this.volume=e*100/127}}},Eue={class:"conteneur panneau-sonometre"},xue={class:"contenu"},Tue={class:"volume"},_ue={class:"sensibilite"},Sue=["value"],Bue={class:"actions"};function kue(t,e,i,s,n,r){const o=Je("JsPanel");return z(),et(o,{class:"panneau",visible:!n.chargement,options:n.options},{default:Ct(()=>[e[19]||(e[19]=d("div",{class:"conteneur-gauche"},null,-1)),d("div",Eue,[d("div",xue,[d("div",Tue,[n.volume<n.sensibilite?(z(),Z("span",{key:0,class:"vert",style:hi({width:n.volume+"%"})},null,4)):(z(),Z("span",{key:1,class:"rouge",style:hi({width:n.volume+"%"})},null,4))]),d("label",null,te(t.$t("sensibilite")),1),d("div",_ue,[d("span",{role:"button",tabindex:"0",onClick:e[0]||(e[0]=a=>r.modifierSensibilite(98)),onKeydown:e[1]||(e[1]=J(a=>r.modifierSensibilite(98),["enter"])),class:je({selectionne:n.sensibilite===98})},"1",34),d("span",{role:"button",tabindex:"0",onClick:e[2]||(e[2]=a=>r.modifierSensibilite(88)),onKeydown:e[3]||(e[3]=J(a=>r.modifierSensibilite(88),["enter"])),class:je({selectionne:n.sensibilite===88})},"2",34),d("span",{role:"button",tabindex:"0",onClick:e[4]||(e[4]=a=>r.modifierSensibilite(78)),onKeydown:e[5]||(e[5]=J(a=>r.modifierSensibilite(78),["enter"])),class:je({selectionne:n.sensibilite===78})},"3",34),d("span",{role:"button",tabindex:"0",onClick:e[6]||(e[6]=a=>r.modifierSensibilite(68)),onKeydown:e[7]||(e[7]=J(a=>r.modifierSensibilite(68),["enter"])),class:je({selectionne:n.sensibilite===68})},"4",34),d("span",{role:"button",tabindex:"0",onClick:e[8]||(e[8]=a=>r.modifierSensibilite(58)),onKeydown:e[9]||(e[9]=J(a=>r.modifierSensibilite(58),["enter"])),class:je({selectionne:n.sensibilite===58})},"5",34),d("span",{role:"button",tabindex:"0",onClick:e[10]||(e[10]=a=>r.modifierSensibilite(48)),onKeydown:e[11]||(e[11]=J(a=>r.modifierSensibilite(48),["enter"])),class:je({selectionne:n.sensibilite===48})},"6",34),d("span",{role:"button",tabindex:"0",onClick:e[12]||(e[12]=a=>r.modifierSensibilite(38)),onKeydown:e[13]||(e[13]=J(a=>r.modifierSensibilite(38),["enter"])),class:je({selectionne:n.sensibilite===38})},"7",34)]),d("label",null,te(t.$t("seuilTolerance")),1),d("input",{type:"number",value:n.tolerance,onInput:e[14]||(e[14]=a=>n.tolerance=a.target.value),min:1,max:100},null,40,Sue),d("div",Bue,[n.verificationVolume===""?(z(),Z("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[15]||(e[15]=(...a)=>r.demarrer&&r.demarrer(...a)),onKeydown:e[16]||(e[16]=J((...a)=>r.demarrer&&r.demarrer(...a),["enter"]))},te(t.$t("demarrer")),33)):(z(),Z("span",{key:1,class:"bouton",role:"button",tabindex:"0",onClick:e[17]||(e[17]=(...a)=>r.pause&&r.pause(...a)),onKeydown:e[18]||(e[18]=J((...a)=>r.pause&&r.pause(...a),["enter"]))},te(t.$t("pause")),33))])])]),e[20]||(e[20]=d("div",{class:"conteneur-droite"},null,-1)),e[21]||(e[21]=d("div",{class:"conteneur-bas"},null,-1))]),_:1},8,["visible","options"])}const Iue=It(Cue,[["render",kue]]),Due={name:"MGrille",data(){return{colonnes:2,lignes:1,couleur:"blanc"}},mounted(){setTimeout((function(){document.querySelector("#nombre-colonnes").focus()}).bind(this),0)},methods:{generer(){this.colonnes>=2&&this.colonnes<=5&&this.lignes>=1&&this.lignes<=5&&(this.$parent.pages[this.$parent.page-1].grille={colonnes:this.colonnes,lignes:this.lignes,couleur:this.couleur},this.$parent.fermerModale())}}},Fue={class:"conteneur-modale"},Pue={class:"modale",role:"dialog"},Lue={class:"titre"},Rue={class:"conteneur modale-grille"},Mue={class:"contenu"},Oue={class:"grille"},Uue={class:"colonnes"},Nue={for:"nombre-colonnes"},Hue=["value"],Que={class:"lignes"},Vue={for:"nombre-lignes"},$ue=["value"],jue={class:"fond"},zue={class:"couleurs"};function Kue(t,e,i,s,n,r){return z(),Z("div",Fue,[d("div",Pue,[d("header",null,[d("span",Lue,te(t.$t("grille")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o)),onKeydown:e[1]||(e[1]=J((...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o),["enter"]))},e[20]||(e[20]=[d("i",{class:"material-icons"},"close",-1)]),32)]),d("div",Rue,[d("div",Mue,[d("div",Oue,[d("div",Uue,[d("label",Nue,te(t.$t("nombreColonnes"))+" (max. 5)",1),d("input",{id:"nombre-colonnes",type:"number",value:n.colonnes,min:2,max:5,onInput:e[2]||(e[2]=o=>n.colonnes=o.target.value)},null,40,Hue)]),d("div",Que,[d("label",Vue,te(t.$t("nombreLignes"))+" (max. 5)",1),d("input",{id:"nombre-lignes",type:"number",value:n.lignes,min:1,max:5,onInput:e[3]||(e[3]=o=>n.lignes=o.target.value)},null,40,$ue)])]),d("div",jue,[d("label",null,te(t.$t("couleurFond")),1),d("div",zue,[d("span",{class:je(["blanc",{selectionne:n.couleur==="blanc"}]),role:"button",tabindex:"0",onClick:e[4]||(e[4]=o=>n.couleur="blanc"),onKeydown:e[5]||(e[5]=J(o=>n.couleur="blanc",["enter"]))},null,34),d("span",{class:je(["gris",{selectionne:n.couleur==="gris"}]),role:"button",tabindex:"0",onClick:e[6]||(e[6]=o=>n.couleur="gris"),onKeydown:e[7]||(e[7]=J(o=>n.couleur="gris",["enter"]))},null,34),d("span",{class:je(["vert",{selectionne:n.couleur==="vert"}]),role:"button",tabindex:"0",onClick:e[8]||(e[8]=o=>n.couleur="vert"),onKeydown:e[9]||(e[9]=J(o=>n.couleur="vert",["enter"]))},null,34),d("span",{class:je(["bleu",{selectionne:n.couleur==="bleu"}]),role:"button",tabindex:"0",onClick:e[10]||(e[10]=o=>n.couleur="bleu"),onKeydown:e[11]||(e[11]=J(o=>n.couleur="bleu",["enter"]))},null,34),d("span",{class:je(["jaune",{selectionne:n.couleur==="jaune"}]),role:"button",tabindex:"0",onClick:e[12]||(e[12]=o=>n.couleur="jaune"),onKeydown:e[13]||(e[13]=J(o=>n.couleur="jaune",["enter"]))},null,34),d("span",{class:je(["rouge",{selectionne:n.couleur==="rouge"}]),role:"button",tabindex:"0",onClick:e[14]||(e[14]=o=>n.couleur="rouge"),onKeydown:e[15]||(e[15]=J(o=>n.couleur="rouge",["enter"]))},null,34),d("span",{class:je(["transparent",{selectionne:n.couleur==="transparent"}]),role:"button",tabindex:"0",onClick:e[16]||(e[16]=o=>n.couleur="transparent"),onKeydown:e[17]||(e[17]=J(o=>n.couleur="transparent",["enter"]))},null,34)])]),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[18]||(e[18]=(...o)=>r.generer&&r.generer(...o)),onKeydown:e[19]||(e[19]=J((...o)=>r.generer&&r.generer(...o),["enter"]))},te(t.$t("valider")),33)])])])])}const Gue=It(Due,[["render",Kue]]),que={name:"MInfo",data(){return{hub:!1,elementPrecedent:null,version:"1.0.7"}},methods:{gererClavierInfo(t){this.hub&&t.key==="Escape"&&this.fermerHub()},gererFocus(){this.elementPrecedent&&(this.elementPrecedent.focus(),this.elementPrecedent=null)},ouvrirHub(){this.elementPrecedent=document.activeElement||document.body,this.hub=!0,this.$nextTick(function(){document.querySelector("#hub span").focus()})},fermerHub(){this.hub=!1,this.gererFocus()}}},Wue={class:"modale",role:"dialog"},Yue={class:"titre"},Xue={class:"conteneur"},Jue={class:"contenu"},Zue={class:"contact"},ece={href:"https://opencollective.com/ladigitale",target:"_blank",rel:"noreferrer"},tce={class:"credits"},ice={href:"https://codeberg.org/ladigitale/digiscreen",target:"_blank",rel:"noreferrer"},nce={href:"https://codeberg.org/ladigitale/digiscreen/releases",target:"_blank",rel:"noreferrer"};function sce(t,e,i,s,n,r){return z(),Z("div",{class:"conteneur-modale",onKeydown:e[6]||(e[6]=(...o)=>r.gererClavierInfo&&r.gererClavierInfo(...o))},[d("div",Wue,[d("header",null,[d("span",Yue,te(t.$t("aProposDigiscreen")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o)),onKeydown:e[1]||(e[1]=J((...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o),["enter"]))},e[7]||(e[7]=[d("i",{class:"material-icons"},"close",-1)]),32)]),d("div",Xue,[d("div",Jue,[d("p",null,[e[8]||(e[8]=d("b",null,"Digiscreen",-1)),No(" "+te(t.$t("digiscreen"))+" ",1),e[9]||(e[9]=d("span",null,[d("a",{href:"https://ladigitale.dev/",target:"_blank",rel:"noreferrer"},[d("u",null,[d("b",null,"La Digitale")])])],-1)),e[10]||(e[10]=No("."))]),d("p",Zue,[No(te(t.$t("contact"))+" ",1),e[11]||(e[11]=d("a",{href:"https://ladigitale.dev/emmanuel-zimmert.html",target:"_blank",rel:"noreferrer"},"Emmanuel ZIMMERT",-1)),e[12]||(e[12]=No(" // ez[at]ladigitale.dev"))]),d("p",null,[d("a",ece,te(t.$t("soutien")),1)]),d("p",tce,[No(te(new Date().getFullYear())+" - ",1),e[14]||(e[14]=d("a",{href:"https://ladigitale.dev",target:"_blank",rel:"noreferrer"},"La Digitale",-1)),e[15]||(e[15]=No(" - ")),d("a",ice,te(t.$t("codeSource")),1),e[16]||(e[16]=No(" - ")),d("a",nce,"v"+te(n.version),1),e[17]||(e[17]=No(" - ")),d("span",{class:"hub",role:"button",tabindex:"0",onClick:e[2]||(e[2]=(...o)=>r.ouvrirHub&&r.ouvrirHub(...o)),onKeydown:e[3]||(e[3]=J((...o)=>r.ouvrirHub&&r.ouvrirHub(...o),["enter"]))},e[13]||(e[13]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#001d1d",width:"36px",height:"36px"},[d("path",{d:"M0 0h24v24H0z",fill:"none"}),d("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})],-1)]),32)])])])]),d("div",{id:"hub",class:je({ouvert:n.hub})},[d("span",{role:"button",tabindex:"0",onClick:e[4]||(e[4]=(...o)=>r.fermerHub&&r.fermerHub(...o)),onKeydown:e[5]||(e[5]=J((...o)=>r.fermerHub&&r.fermerHub(...o),["enter"]))},e[18]||(e[18]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",width:"36px",height:"36px"},[d("path",{d:"M0 0h24v24H0z",fill:"none"}),d("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),32),e[19]||(e[19]=d("iframe",{src:"https://ladigitale.dev/hub.html",title:"Le Hub by La Digitale"},null,-1))],2)],32)}const rce=It(que,[["render",sce],["__scopeId","data-v-382a642a"]]);var Fg={exports:{}},Pg={exports:{}},oce=Pg.exports,N_;function ace(){return N_||(N_=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:oce,function(){function e(){}let i=e.prototype;return i.on=function(s,n){if(!s||!n)return this;let r=this._events=this._events||{},o=r[s]=r[s]||[];return o.includes(n)||o.push(n),this},i.once=function(s,n){if(!s||!n)return this;this.on(s,n);let r=this._onceEvents=this._onceEvents||{},o=r[s]=r[s]||{};return o[n]=!0,this},i.off=function(s,n){let r=this._events&&this._events[s];if(!r||!r.length)return this;let o=r.indexOf(n);return o!=-1&&r.splice(o,1),this},i.emitEvent=function(s,n){let r=this._events&&this._events[s];if(!r||!r.length)return this;r=r.slice(0),n=n||[];let o=this._onceEvents&&this._onceEvents[s];for(let a of r)o&&o[a]&&(this.off(s,a),delete o[a]),a.apply(this,n);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Pg)),Pg.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */var lce=Fg.exports,H_;function uce(){return H_||(H_=1,function(t){(function(e,i){t.exports?t.exports=i(e,ace()):e.imagesLoaded=i(e,e.EvEmitter)})(typeof window<"u"?window:lce,function(i,s){let n=i.jQuery,r=i.console;function o(A){return Array.isArray(A)?A:typeof A=="object"&&typeof A.length=="number"?[...A]:[A]}function a(A,f,m){if(!(this instanceof a))return new a(A,f,m);let p=A;if(typeof A=="string"&&(p=document.querySelectorAll(A)),!p){r.error("Bad element for imagesLoaded ".concat(p||A));return}this.elements=o(p),this.options={},typeof f=="function"?m=f:Object.assign(this.options,f),m&&this.on("always",m),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(s.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(A){A.nodeName==="IMG"&&this.addImage(A),this.options.background===!0&&this.addElementBackgroundImages(A);let{nodeType:f}=A;if(!f||!l.includes(f))return;let m=A.querySelectorAll("img");for(let p of m)this.addImage(p);if(typeof this.options.background=="string"){let p=A.querySelectorAll(this.options.background);for(let x of p)this.addElementBackgroundImages(x)}};const u=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(A){let f=getComputedStyle(A);if(!f)return;let m=u.exec(f.backgroundImage);for(;m!==null;){let p=m&&m[2];p&&this.addBackground(p,A),m=u.exec(f.backgroundImage)}},a.prototype.addImage=function(A){let f=new c(A);this.images.push(f)},a.prototype.addBackground=function(A,f){let m=new h(A,f);this.images.push(m)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let A=(f,m,p)=>{setTimeout(()=>{this.progress(f,m,p)})};this.images.forEach(function(f){f.once("progress",A),f.check()})},a.prototype.progress=function(A,f,m){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!A.isLoaded,this.emitEvent("progress",[this,A,f]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,A),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: ".concat(m),A,f)},a.prototype.complete=function(){let A=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(A,[this]),this.emitEvent("always",[this]),this.jqDeferred){let f=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[f](this)}};function c(A){this.img=A}c.prototype=Object.create(s.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(A,f){this.isLoaded=A;let{parentNode:m}=this.img,p=m.nodeName==="PICTURE"?m:this.img;this.emitEvent("progress",[this,p,f])},c.prototype.handleEvent=function(A){let f="on"+A.type;this[f]&&this[f](A)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function h(A,f){this.url=A,this.element=f,this.img=new Image}return h.prototype=Object.create(c.prototype),h.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},h.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype.confirm=function(A,f){this.isLoaded=A,this.emitEvent("progress",[this,this.element,f])},a.makeJQueryPlugin=function(A){A=A||i.jQuery,A&&(n=A,n.fn.imagesLoaded=function(f,m){return new a(this,f,m).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a})}(Fg)),Fg.exports}var cce=uce();const zl=nr(cce),dce={name:"MCorbeille",props:{corbeille:Array},data(){return{panneaux:["chrono","feu","galerie","horloge-modulable","iframe","images-sequentielles","nuage","ordre","plateau","rebours","synthese","tirage-audio","tirage-image","tirage-nombre","tirage-texte","trous"],nomsPanneaux:{chrono:"chronometre",feu:"feuQuadricolore",galerie:"galerieImages","horloge-modulable":"horlogeModulable",iframe:"contenuIntegre","images-sequentielles":"imagesSequentielles",nuage:"nuageMots",ordre:"remiseOrdre",plateau:"plateauJeu",rebours:"compteRebours",synthese:"syntheseVocale","tirage-audio":"tirageSortAudio","tirage-image":"tirageSortImage","tirage-nombre":"tirageSortNombre","tirage-texte":"tirageSortTexte",trous:"texteATrous"},elementPrecedent:null}},methods:{definirTitre(t){return this.panneaux.includes(t)?this.$t(this.nomsPanneaux[t]):this.$t(t)},definirPanneauxPage(t){let e=0;return this.corbeille.forEach(function(i){i.page===t&&e++}),e},restaurerPanneau(t,e){if(this.$parent.page===e){this.$parent.chargementPage=!0,this.corbeille.forEach((function(s,n){s.id===t&&(this.$parent.panneaux.push(s),this.corbeille.splice(n,1))}).bind(this)),this.$parent.panneauxPage.forEach(function(s){document.querySelector("#"+s.id)&&document.querySelector("#"+s.id).close()}),this.$parent.panneauxPage=[];const i=this.$parent.panneaux.filter(function(s){return s.page===e});zl("main",{background:!0},(function(){setTimeout((function(){this.$parent.panneauxPage.push(...i);for(let s=0;s<this.$parent.panneauxPage.length;s++)this.$parent.panneauxPage[s].type==="retroaction"&&(this.$parent.retroaction=!0),this.$parent.panneauxPage[s].type==="modalites"&&(this.$parent.modalites=!0);this.$nextTick((function(){this.$parent.lectureSeule===!0&&document.querySelectorAll(".jsPanel").forEach(function(n){n.querySelector(".jsPanel-btn-close")&&n.setControlStatus("close","hide")})}).bind(this)),this.$parent.chargementPage=!1}).bind(this),150)}).bind(this))}else this.corbeille.forEach((function(i,s){i.id===t&&(this.$parent.panneaux.push(i),this.corbeille.splice(s,1))}).bind(this))},supprimerPanneau(t){this.corbeille.forEach((function(e,i){e.id===t&&this.corbeille.splice(i,1)}).bind(this))},gererFocus(){this.elementPrecedent&&(this.elementPrecedent.focus(),this.elementPrecedent=null)}}},hce={class:"conteneur-modale"},Ace={id:"modale-corbeille",class:"modale",role:"dialog"},fce={class:"titre"},pce={class:"conteneur"},gce={class:"contenu"},mce={key:0,class:"titre"},bce={key:1,class:"titre"},vce={class:"actions"},yce=["title","onClick","onKeydown"],wce=["title","onClick","onKeydown"],Cce={key:1,class:"vide"},Ece={class:"page"},xce={key:0,class:"item"},Tce={key:0,class:"titre"},_ce={key:1,class:"titre"},Sce={class:"actions"},Bce=["title","onClick","onKeydown"],kce=["title","onClick","onKeydown"],Ice={key:0,class:"vide"};function Dce(t,e,i,s,n,r){return z(),Z("div",hce,[d("div",Ace,[d("header",null,[d("span",fce,te(t.$t("corbeille")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o)),onKeydown:e[1]||(e[1]=J((...o)=>t.$parent.fermerModale&&t.$parent.fermerModale(...o),["enter"]))},e[2]||(e[2]=[d("i",{class:"material-icons"},"close",-1)]),32)]),d("div",pce,[d("div",gce,[t.$parent.pages.length===1&&i.corbeille.length>0?(z(!0),Z(vt,{key:0},Yt(i.corbeille,(o,a)=>(z(),Z("div",{class:"item",key:"panneau_supprime_"+a},[o.titre?(z(),Z("span",mce,te(o.titre),1)):(z(),Z("span",bce,te(r.definirTitre(o.type)),1)),d("div",vce,[d("span",{role:"button",tabindex:"0",title:t.$t("restaurer"),onClick:l=>r.restaurerPanneau(o.id,o.page),onKeydown:J(l=>r.restaurerPanneau(o.id,o.page),["enter"])},e[3]||(e[3]=[d("i",{class:"material-icons"},"history",-1)]),40,yce),d("span",{role:"button",tabindex:"0",title:t.$t("supprimer"),onClick:l=>r.supprimerPanneau(o.id),onKeydown:J(l=>r.supprimerPanneau(o.id),["enter"])},e[4]||(e[4]=[d("i",{class:"material-icons"},"delete",-1)]),40,wce)])]))),128)):t.$parent.pages.length===1&&i.corbeille.length===0?(z(),Z("span",Cce,te(t.$t("aucunPanneauSupprime")),1)):t.$parent.pages.length>1?(z(!0),Z(vt,{key:2},Yt(t.$parent.pages.length,o=>(z(),Z("div",{class:"panneaux",key:"panneaux_"+o},[d("span",Ece,te(t.$t("page")+" "+o),1),(z(!0),Z(vt,null,Yt(i.corbeille,(a,l)=>(z(),Z(vt,{key:"panneau_supprime_"+l},[a.page===o?(z(),Z("div",xce,[a.titre?(z(),Z("span",Tce,te(a.titre),1)):(z(),Z("span",_ce,te(r.definirTitre(a.type)),1)),d("div",Sce,[d("span",{role:"button",tabindex:"0",title:t.$t("restaurer"),onClick:u=>r.restaurerPanneau(a.id,a.page),onKeydown:J(u=>r.restaurerPanneau(a.id,a.page),["enter"])},e[5]||(e[5]=[d("i",{class:"material-icons"},"history",-1)]),40,Bce),d("span",{role:"button",tabindex:"0",title:t.$t("supprimer"),onClick:u=>r.supprimerPanneau(a.id),onKeydown:J(u=>r.supprimerPanneau(a.id),["enter"])},e[6]||(e[6]=[d("i",{class:"material-icons"},"delete",-1)]),40,kce)])])):Me("",!0)],64))),128)),r.definirPanneauxPage(o)===0?(z(),Z("span",Ice,te(t.$t("aucunPanneauSupprime")),1)):Me("",!0)]))),128)):Me("",!0)])])])])}const Fce=It(dce,[["render",Dce],["__scopeId","data-v-d7dbc0e0"]]),Pce=""+new URL("digitale-BLnTZz0A.jpg",import.meta.url).href,Lce=""+new URL("lavande-B4IJtZ5w.jpg",import.meta.url).href,Rce=""+new URL("plage-QhAtVy-T.jpg",import.meta.url).href,Mce=""+new URL("lac-CAwEn0WD.jpg",import.meta.url).href,Oce=""+new URL("feuilles-DUU_7QtC.jpg",import.meta.url).href,Uce=""+new URL("arbre-Cka6Kan9.jpg",import.meta.url).href,Nce=""+new URL("aurore-lE3oPXQk.jpg",import.meta.url).href,Hce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpaIVBzuoKGSo4mBBVMRRqlgEC6Wt0KqDyUt/hCYNSYqLo+BacPBnserg4qyrg6sgCP6AuLk5KbpIifclhRYxPri8j/PeOdx3HyDUSkw128YBVbOMZCwqZrIrYuAVXRii6seoxEw9nlpIw3N93cPH97sIz/K+9+fqVnImA3wi8SzTDYt4nXh609I57xOHWFFSiM+JxwxqkPiR67LLb5wLDgs8M2Skk3PEIWKx0MJyC7OioRJPEYcVVaN8IeOywnmLs1qqsEaf/IXBnLac4jrVIGJYRBwJiJBRwQZKsBChXSPFRJLOox7+AcefIJdMrg0wcsyjDBWS4wf/g9+zNfOTE25SMAq0v9j2xzAQ2AXqVdv+Prbt+gngfwautKa/XANmPkmvNrXwEdCzDVxcNzV5D7jcAfqedMmQHMlPJeTzwPsZfVMW6L0FOlfduTXOcfoApGlWSzfAwSEwUqDsNY93d7TO7d87jfn9AK6/cr+bPEwIAAAABmJLR0QAIwBPADgs5pzIAAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QsdCxsjWPrLywAABZ5JREFUeNrtXNly4yAQ5JKQZFfy/98p2xJCwD50LaXyoWPQbvIwPBEn6sy0YMA0MzKlJLjta4opYLKYLCaLyWKymCymYH8zn36RUpJSYheWO2hSyv3/4C3CiVBLI49CvRoDrz89Jdc3pfhthjhk0CvU0pTfAAUcIOwB+UgWPp/neRzHeZ6ttU3T0CiDTdM0OeeEEE3T1HVNczKlFGMcx9F7r7VumsYYQzMJ3g3DEGOs69paq5RahzLrA2oYhr7vU0rOOaWUtZb29kII9/t9GAYp5TzP39/fWuv1Mb9Cet/38zxrrYUQl8tlc/q8xYF3t9stxmitlVI2TUMM8OArhJA7McY8bgmUzfOcO/llEKZMjDGEgE6GopkEp5beEcnCi6rr2hgjpbTWokOYO1JKjEqttdZ6z4B/C4K/N8YAoaqquq5p9qBVVWWMARS8K4pZKSXvfQgBcORAg7fnvccLIJD1NKnneYaTSqmj03kZ/rz3KSVjDLxbt2qNrNf1/mh0WFmqCVBvTToF6ql/wqb0017p0DJfArXcxJwLtRNB8uEff91hspgsJovJYrKYAiaLyWKymCwmi8liCpgsJuun24ZuKBZnPflHgpTyCkUW+14P6mgmPX2yB0rtByWfsYmF3PBE39H2dNSXYQm2PRnw9pDy+ZFNkRXKh9a65OBcCBFjhJQCqJLjaQg8SimtNe2kO1MMq3Z6tyFYOOfu9ztE1uv1CqmOYFmMcRiGx+MhpWzbtus6gl6bldH7/T5NkzGm67osZRIkSOfc4/EIIVhru67bVGQ2RFbn3DAMQgggkpXREMLj8ZimCR82TXMUKs847/0wDBB4tNYENQxQMUbn3DiO+LGqKoxTymp44i2HrNOtRw1ao0XSt/960x6zjtW2Ld6htbaqKrKHSqmu69Dvug4BguZeVVVd1znnjDFN09CgUkpKqaZpEJGzdxsPrsesHJjLozJGPgJ8of4IKAjdhVC4CaCUgneiXGR96pDlzOVu6/dA7Z+Mas/gX7+QdmhT+nugnnj5FFgP7LO48XdDJovJYrKYLCaLG5PFZDFZTBaTxWRxY7KYrH/fjomsBGV0CZj7p2dUlkOdL7KWpEG+fRNH2+tTgKKlOz3hFImsOOqepinGaIwpyagUQszznBOdyPqj+Jt7BR0MiU5kKORe5USnTdLXpmFKaRzHvu8hGn59fVVVRTjthllIzhRCdF13vV7J8of3vu97iKyXy6VtW0JyphACGbE5OfN6vdZ1TZmGS0UTCZDTNOXsSsLIwggNIYQQnHOQeQjJmcjtxGDPQ5UWFvIIBVROQ6WshiAY6ZRSSmMM5g4t0AABilNOg6QlZwIBUIUmwTvgQFWjrIZ5YLdti3CDTFbyUoh7CfAN2j3ZybquL5dLTiin8Q6RFVM4hFDX9R4JeSPAAzevOGQ5M+NgaJAXxH8Elb0TPy6yvu5lxBkiK7kuh6CKrGbPiC2RMzMpy/tshcro0qSSHfnRDS2LrPzdkMlispgsJosbk8VkMVlMFpPFZHFjspgsJuvH264KuGi/UBkV/7cCrtlERE3KZaLM0ReSj+uQcFOSZgaopUklem0uJrozB2jjpBQ1YlFNsm3bPRLIW9Ihpo3jKIor4IYQcgXctm2NMTS+UEoSulxVVXuyKTdGVq4RC83WWkuzDCIryAohQFijpet672+3GxRpKSWtAi7Ics5lkRWyGCXAL8vNQhDNBWLJBSWhYuZEOhqIWKTiAZMWql+921MB16xHB1RoxjSkXVDAIyh8C2tQyJgAAicB5b3P1y8IVuUKuNZaFKI+oQIuJjbIyrme5BLZuAlAvhiSxxeglFI5QZpmErzLQaY0he613IQoFulK7nmdCCWOXxlT+4HOqllbUmf7RCjKboN1Q/66w2QxWUwWk8VkMQVMFpP10+0PkYYW21yANfwAAAAASUVORK5CYII=",Qce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpaIVBzuoKGSo4mBBVMRRqlgEC6Wt0KqDyUt/hCYNSYqLo+BacPBnserg4qyrg6sgCP6AuLk5KbpIifclhRYxPri8j/PeOdx3HyDUSkw128YBVbOMZCwqZrIrYuAVXRii6seoxEw9nlpIw3N93cPH97sIz/K+9+fqVnImA3wi8SzTDYt4nXh609I57xOHWFFSiM+JxwxqkPiR67LLb5wLDgs8M2Skk3PEIWKx0MJyC7OioRJPEYcVVaN8IeOywnmLs1qqsEaf/IXBnLac4jrVIGJYRBwJiJBRwQZKsBChXSPFRJLOox7+AcefIJdMrg0wcsyjDBWS4wf/g9+zNfOTE25SMAq0v9j2xzAQ2AXqVdv+Prbt+gngfwautKa/XANmPkmvNrXwEdCzDVxcNzV5D7jcAfqedMmQHMlPJeTzwPsZfVMW6L0FOlfduTXOcfoApGlWSzfAwSEwUqDsNY93d7TO7d87jfn9AK6/cr+bPEwIAAAABmJLR0QAIwBPADgs5pzIAAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QsdCxs2NScvIAAAAfxJREFUeNrt3MFuwjAMgGGnqsRl7/+MHBDaBEx0lGSHiRKaOLU30DT2+9QV7JaPtkT1mpBSEsIWHQRggQUWWGCBBQFYD4leGJTasZIEFKxYu+MZBSvW9jBhBRHXKfn1fm/Wb8Ud9rNf9SEr5928lmXZs/w9mnt1jVxWTptOykdIRWJjB5ZLheEUOb+sR0eMYJmxuJ/FoBQssMACCywIwAILLLDAAgsCsMACC6znjJ6bf/bgTqnnyIoRLDPWZk+T1Yy1O8ZLz06yflzZmMv7aLNX85VyW0pqK4Nep5Fluqrcr1St+vYwcshYscYz1yzzadgFsBg6MIIHCyywwCLAAgsssMACiwALLLDAAuufB01WR3Cn1HNkfdCwsGOtX8dau3D2pF4VNOiJ9ucHRUmU2wrGUo1EV6m8jkyJfbyehuVC9U/RtzRbKBOTMzHpidW9Wvws3jX5Sym8D7TvzRd4/jHEcc36I4+DM3RgBA8WARZYYIEFFlgEWGCBBRZYYBFggfW4oMnqwRJmwLVj7Ydo6KxVY7FdGGozhVqafbNNlImNUtouybdK3fYN12+nYkvGsDdf2ymLWD/5/ux7u1yqf1l1elr5eKs2be0styueUs23bS9VnaS2MXVuewbc9uEjyrd4XeDhTM+pxK8h4yywwAILLLAgAAsssMB6zvgE+J/bi7A/HTIAAAAASUVORK5CYII=",Vce=""+new URL("seyes-H9qqxvV3.png",import.meta.url).href,$ce=""+new URL("quadrillage-BGCDwn35.png",import.meta.url).href,jce=""+new URL("quadrillage-grand-D1KXeNky.png",import.meta.url).href,zce=""+new URL("quadrillage-gris-aAHpP6MW.png",import.meta.url).href,Kce=""+new URL("quadrillage-gris-grand-Dx1U41Yh.png",import.meta.url).href,Gce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAANemlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDo5NGIxNWY3Mi01Y2M2LTQ0MmQtOGMwMC0yZDRkZTVlN2RhMDIiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTM4OWZmODItYzhmZi00NWYxLWI0NjktZWE0ZDk1NzQ5OTgwIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NGJmYzcxM2ItNjJhMy00ZTIzLWE5OTEtYTBlODU1ZWM5NzdlIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjMuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTGludXgiCiAgIEdJTVA6VGltZVN0YW1wPSIxNzM0ODU4OTUyNzcwMTMzIgogICBHSU1QOlZlcnNpb249IjMuMC4wLVJDMSIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0OjEyOjIyVDEwOjE1OjQwKzAxOjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyNDoxMjoyMlQxMDoxNTo0MCswMTowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjU0OGZiNzZmLWNkNGQtNDQ2YS1iNjk4LTI2NDAwMzk2MDFmYSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR0lNUCAzLjAuMC1SQzEgKExpbnV4KSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyNC0xMi0yMlQxMDoxNTo1MiswMTowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5kU3O5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAdnJLH8AAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+gMFgkPNC+8BfgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAA20lEQVR42u3ZQQ0EIRBFwZ3NGkAH7vCDIzyQcEEAZ8JY6OvO1JNQh05++jrnfBTriwAWLFiwYMFCAAsWLFiwYCGABQsWLFiwEMCCBeuPukopFKJYc04KUSxPVjcLFixYsGAhgAULFqyHzp2UEoUo1t6bgiHtZsGCBQuWYMGCBeuB/dZaFKJzJ+dMwTZ0s2DBggVLsGDBggXr5UN6jEEhilVrpWBIu1mwYMGCJViwYMGC9fJt2FqjEMXqvVMwpN0sWLBgwRIsWLBgwYIlWLBgwYIFS7BgwYIFC5aC3bCjJsPY0/vzAAAAAElFTkSuQmCC",qce={name:"MParametres",components:{draggable:Xc},data(){return{ouvert:!1,image:"",pixabayAPIKey:"",requete:"",resultats:{},pageResultats:1,confirmation:!1}},watch:{pageResultats:function(t){this.rechercher(t)}},created(){},mounted(){setTimeout((function(){this.ouvert=!0,setTimeout((function(){document.querySelector("#menu-parametres .fermer").focus()}).bind(this),150)}).bind(this),10),document.querySelector("#couleur-fond-page").addEventListener("change",this.modifierCouleurFond),document.querySelector("#conteneur-menu").addEventListener("click",this.fermer)},beforeUnmount(){document.querySelector("#couleur-fond-page")&&document.querySelector("#couleur-fond-page").removeEventListener("change",this.modifierCouleurFond),document.querySelector("#conteneur-menu")&&document.querySelector("#conteneur-menu").removeEventListener("click",this.fermer)},methods:{modifierLangue(t){this.$root.$i18n.locale=t,this.$parent.langue=t,document.getElementsByTagName("html")[0].setAttribute("lang",t),localStorage.setItem("digiscreen_lang",t)},activerInput(t){document.querySelector("#"+t).click()},modifierFond(t){const e=this.$parent.page-1;this.$parent.pages[e].fond=t},modifierCouleurFond(t){this.modifierFond(t.target.value)},valider(){this.requete!==""&&this.verifierURL(this.requete)===!0?this.modifierFond(this.requete):this.requete!==""&&this.rechercher(1)},rechercher(t){if(this.requete!==""){const e=this.requete.replace(/\s+/g,"+"),i=new XMLHttpRequest;i.onload=(function(){if(i.readyState===i.DONE&&i.status===200){const s=JSON.parse(i.responseText);s&&s.total>0&&(this.resultats=s,this.$nextTick(function(){new flexImages({selector:".resultats",rowHeight:this.convertirRem(6.5)})}))}}).bind(this),t===1&&(this.pageResultats=t),i.open("GET","https://pixabay.com/api/?key="+this.pixabayAPIKey+"&q="+e+"&image_type=photo&lang=fr&orientation=horizontal&safesearch=true&per_page=15&page="+t,!0),i.send()}},modifierPageResultats(t){t==="suivante"&&this.pageResultats<this.resultats.total/15?this.pageResultats++:t==="precedente"&&this.pageResultats>1&&this.pageResultats--},verifierRequete(){this.requete===""&&(this.resultats={},this.pageResultats=1)},televerserImage(t){const e=t.target.files[0];if(e){const i=new FileReader;i.readAsDataURL(e),i.onloadend=(function(s){const n=new Image;n.src=s.target.result,n.onload=(function(){if(n.width>1920){const r=document.createElement("canvas"),o=n.width/n.height,a=1920,l=1920/o;r.width=a,r.height=l,r.getContext("2d").drawImage(n,0,0,a,l),this.modifierFond(r.toDataURL("image/jpeg",.85))}else this.modifierFond(s.target.result)}).bind(this)}).bind(this)}},ajouterPage(){let t=this.$parent.pages.length;if(t<12){t++;let e="";switch(t){case 2:case 9:e="./static/img/lavande.jpg";break;case 3:case 10:e="./static/img/plage.jpg";break;case 4:case 11:e="./static/img/lac.jpg";break;case 5:case 12:e="./static/img/arbre.jpg";break;case 6:e="./static/img/aurore.jpg";break;case 7:e="./static/img/feuilles.jpg";break;case 8:e="./static/img/digitale.jpg";break}this.$parent.pages.push({fond:e,grille:{},annotations:{},annotation:!1})}},afficherPage(t){this.$parent.page=t},verifierPages(t){const e=this.$parent.panneaux;if(t.newIndex<t.oldIndex?e.forEach(function(i,s){i.page===t.oldIndex+1?e[s].page=t.newIndex+1:i.page>=t.newIndex+1&&i.page<=t.oldIndex+1&&(e[s].page=i.page+1)}):e.forEach(function(i,s){i.page===t.oldIndex+1?e[s].page=t.newIndex+1:i.page>=t.oldIndex+1&&i.page<=t.newIndex+1&&(e[s].page=i.page-1)}),this.$parent.panneaux=e,this.$parent.page===t.oldIndex+1)this.$parent.page=t.newIndex+1;else if(this.$parent.page===t.newIndex+1){this.$parent.chargementPage=!0,this.$parent.pages[this.$parent.page-1].annotation===!1?this.$parent.annotation=!1:this.$parent.annotation=!0,this.$parent.retroaction=!1,this.$parent.modalites=!1,this.$parent.panneauxPage.forEach(function(s){document.querySelector("#"+s.id)&&document.querySelector("#"+s.id).close()});const i=e.filter(function(s){return s.page===t.newIndex+1});zl("main",{background:!0},(function(){this.$parent.panneauxPage=[],setTimeout((function(){this.$parent.panneauxPage.push(...i);for(let s=0;s<this.$parent.panneauxPage.length;s++)this.$parent.panneauxPage[s].type==="retroaction"&&(this.$parent.retroaction=!0),this.$parent.panneauxPage[s].type==="modalites"&&(this.$parent.modalites=!0);zl("main",{background:!0},(function(){this.$parent.chargementPage=!1}).bind(this))}).bind(this),150)}).bind(this))}},afficherSupprimerPage(){this.$parent.pages.length>1&&(this.confirmation=!0)},supprimerPage(){this.confirmation=!1;const t=this.$parent.page-1,e=this.$parent.pages.length;this.$parent.pages.splice(t,1);const i=this.$parent.panneaux.filter((function(s){return s.page!==this.$parent.page}).bind(this));if(i.forEach((function(s){s.page>this.$parent.page&&(s.page=s.page-1)}).bind(this)),this.$parent.panneaux=i,t+1<e){this.$parent.chargementPage=!0,this.$parent.page=t+1,this.$parent.pages[this.$parent.page-1].annotation===!1?this.$parent.annotation=!1:this.$parent.annotation=!0,this.$parent.retroaction=!1,this.$parent.modalites=!1,this.$parent.panneauxPage.forEach(function(n){document.querySelector("#"+n.id)&&document.querySelector("#"+n.id).close()});const s=i.filter(function(n){return n.page===t+1});zl("main",{background:!0},(function(){this.$parent.panneauxPage=[],setTimeout((function(){this.$parent.panneauxPage.push(...s);for(let n=0;n<this.$parent.panneauxPage.length;n++)this.$parent.panneauxPage[n].type==="retroaction"&&(this.$parent.retroaction=!0),this.$parent.panneauxPage[n].type==="modalites"&&(this.$parent.modalites=!0);zl("main",{background:!0},(function(){this.$parent.chargementPage=!1}).bind(this))}).bind(this),150)}).bind(this))}else this.$parent.page=t},importer(t){this.$parent.importer(t),this.$parent.fermerMenu()},exporter(){this.$parent.exporter(),this.$parent.fermerMenu()},modifierModule(t){this.$parent.modifierModule(t)},fermer(t){document.querySelector("#menu-parametres").contains(t.target)||this.$parent.fermerMenu()},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},verifierURL(t){let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"}}},Wce={id:"conteneur-menu"},Yce={class:"titre"},Xce={class:"conteneur",tabindex:"-1"},Jce={class:"contenu"},Zce={class:"langue"},ede={class:"fond"},tde={class:"couleur-fond icone"},ide=["title"],nde={key:0,class:"recherche"},sde={class:"rechercher"},rde=["value","placeholder"],ode=["title"],ade=["title"],lde={key:0,class:"resultats"},ude=["data-w","data-h","onClick","onKeydown"],cde=["src","alt"],dde={key:1,class:"navigation"},hde={class:"pages"},Ade=["onClick","onKeydown"],fde=["title"],pde=["title"],gde={class:"modules"},mde={class:"module"},bde=["checked"],vde={class:"module"},yde=["checked"],wde={class:"module"},Cde=["checked"],Ede={class:"module"},xde=["checked"],Tde={class:"module"},_de=["checked"],Sde={class:"module"},Bde=["checked"],kde={class:"module"},Ide=["checked"],Dde={class:"module"},Fde=["checked"],Pde={class:"module"},Lde=["checked"],Rde={class:"module"},Mde=["checked"],Ode={class:"module"},Ude=["checked"],Nde={class:"module"},Hde=["checked"],Qde={class:"module"},Vde=["checked"],$de={class:"module"},jde=["checked"],zde={class:"module"},Kde=["checked"],Gde={class:"module"},qde=["checked"],Wde={class:"module"},Yde=["checked"],Xde={class:"module"},Jde=["checked"],Zde={class:"module"},ehe=["checked"],the={class:"module"},ihe=["checked"],nhe={class:"module"},she=["checked"],rhe={class:"module"},ohe=["checked"],ahe={class:"module"},lhe=["checked"],uhe={class:"module"},che=["checked"],dhe={class:"module"},hhe=["checked"],Ahe={class:"module"},fhe=["checked"],phe={class:"module"},ghe=["checked"],mhe={class:"module"},bhe=["checked"],vhe={class:"module"},yhe=["checked"],whe={class:"module"},Che=["checked"],Ehe={class:"module"},xhe=["checked"],The={class:"module"},_he=["checked"],She={class:"module"},Bhe=["checked"],khe={class:"module"},Ihe=["checked"],Dhe={class:"module"},Fhe=["checked"],Phe={class:"module"},Lhe=["checked"],Rhe={class:"module"},Mhe=["checked"],Ohe={class:"module"},Uhe=["checked"],Nhe={class:"module"},Hhe=["checked"],Qhe={class:"module"},Vhe=["checked"],$he={class:"module"},jhe=["checked"],zhe={class:"module"},Khe=["checked"],Ghe={key:0,id:"confirmation",class:"conteneur-modale"},qhe={class:"modale",role:"dialog"},Whe={class:"conteneur"},Yhe={class:"contenu"},Xhe=["innerHTML"],Jhe={class:"actions"};function Zhe(t,e,i,s,n,r){const o=Je("draggable");return z(),Z("div",Wce,[d("div",{id:"menu-parametres",class:je(["menu",{ouvert:n.ouvert}]),role:"menu"},[d("header",null,[d("span",Yce,te(t.$t("options")),1),d("span",{class:"fermer",role:"button",tabindex:"0",onClick:e[0]||(e[0]=(...a)=>t.$parent.fermerMenu&&t.$parent.fermerMenu(...a)),onKeydown:e[1]||(e[1]=J((...a)=>t.$parent.fermerMenu&&t.$parent.fermerMenu(...a),["enter"]))},e[163]||(e[163]=[d("i",{class:"material-icons"},"close",-1)]),32)]),d("div",Xce,[d("div",Jce,[d("label",null,te(t.$t("langue")),1),d("div",Zce,[d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="fr"}),onClick:e[2]||(e[2]=a=>r.modifierLangue("fr")),onKeydown:e[3]||(e[3]=J(a=>r.modifierLangue("fr"),["enter"]))},"FR",34),d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="es"}),onClick:e[4]||(e[4]=a=>r.modifierLangue("es")),onKeydown:e[5]||(e[5]=J(a=>r.modifierLangue("es"),["enter"]))},"ES",34),d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="it"}),onClick:e[6]||(e[6]=a=>r.modifierLangue("it")),onKeydown:e[7]||(e[7]=J(a=>r.modifierLangue("it"),["enter"]))},"IT",34),d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="de"}),onClick:e[8]||(e[8]=a=>r.modifierLangue("de")),onKeydown:e[9]||(e[9]=J(a=>r.modifierLangue("de"),["enter"]))},"DE",34),d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="nl"}),onClick:e[10]||(e[10]=a=>r.modifierLangue("nl")),onKeydown:e[11]||(e[11]=J(a=>r.modifierLangue("nl"),["enter"]))},"NL",34),d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="hr"}),onClick:e[12]||(e[12]=a=>r.modifierLangue("hr")),onKeydown:e[13]||(e[13]=J(a=>r.modifierLangue("hr"),["enter"]))},"HR",34),d("span",{role:"button",tabindex:"0",class:je({selectionne:t.$parent.langue==="en"}),onClick:e[14]||(e[14]=a=>r.modifierLangue("en")),onKeydown:e[15]||(e[15]=J(a=>r.modifierLangue("en"),["enter"]))},"EN",34)]),d("label",null,te(t.$t("arrierePlanPage")),1),d("div",ede,[d("span",{role:"button",tabindex:"0",onClick:e[16]||(e[16]=a=>r.modifierFond("./static/img/digitale.jpg")),onKeydown:e[17]||(e[17]=J(a=>r.modifierFond("./static/img/digitale.jpg"),["enter"]))},e[164]||(e[164]=[d("img",{src:Pce,alt:"Digitale"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[18]||(e[18]=a=>r.modifierFond("./static/img/lavande.jpg")),onKeydown:e[19]||(e[19]=J(a=>r.modifierFond("./static/img/lavande.jpg"),["enter"]))},e[165]||(e[165]=[d("img",{src:Lce,alt:"Lavande"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[20]||(e[20]=a=>r.modifierFond("./static/img/plage.jpg")),onKeydown:e[21]||(e[21]=J(a=>r.modifierFond("./static/img/plage.jpg"),["enter"]))},e[166]||(e[166]=[d("img",{src:Rce,alt:"Plage"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[22]||(e[22]=a=>r.modifierFond("./static/img/lac.jpg")),onKeydown:e[23]||(e[23]=J(a=>r.modifierFond("./static/img/lac.jpg"),["enter"]))},e[167]||(e[167]=[d("img",{src:Mce,alt:"Lac"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[24]||(e[24]=a=>r.modifierFond("./static/img/feuilles.jpg")),onKeydown:e[25]||(e[25]=J(a=>r.modifierFond("./static/img/feuilles.jpg"),["enter"]))},e[168]||(e[168]=[d("img",{src:Oce,alt:"Feuilles"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[26]||(e[26]=a=>r.modifierFond("./static/img/arbre.jpg")),onKeydown:e[27]||(e[27]=J(a=>r.modifierFond("./static/img/arbre.jpg"),["enter"]))},e[169]||(e[169]=[d("img",{src:Uce,alt:"Arbre"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[28]||(e[28]=a=>r.modifierFond("./static/img/aurore.jpg")),onKeydown:e[29]||(e[29]=J(a=>r.modifierFond("./static/img/aurore.jpg"),["enter"]))},e[170]||(e[170]=[d("img",{src:Nce,alt:"Aurore"},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[30]||(e[30]=a=>r.modifierFond("./static/img/points.png")),onKeydown:e[31]||(e[31]=J(a=>r.modifierFond("./static/img/points.png"),["enter"]))},e[171]||(e[171]=[d("img",{src:Hce,alt:"Points",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[32]||(e[32]=a=>r.modifierFond("./static/img/lignes-horizontales.png")),onKeydown:e[33]||(e[33]=J(a=>r.modifierFond("./static/img/lignes-horizontales.png"),["enter"]))},e[172]||(e[172]=[d("img",{src:Qce,alt:"Lignes",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[34]||(e[34]=a=>r.modifierFond("./static/img/seyes.png")),onKeydown:e[35]||(e[35]=J(a=>r.modifierFond("./static/img/seyes.png"),["enter"]))},e[173]||(e[173]=[d("img",{src:Vce,alt:"Seyes",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[36]||(e[36]=a=>r.modifierFond("./static/img/quadrillage.png")),onKeydown:e[37]||(e[37]=J(a=>r.modifierFond("./static/img/quadrillage.png"),["enter"]))},e[174]||(e[174]=[d("img",{src:$ce,alt:"Quadrillage",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[38]||(e[38]=a=>r.modifierFond("./static/img/quadrillage-grand.png")),onKeydown:e[39]||(e[39]=J(a=>r.modifierFond("./static/img/quadrillage-grand.png"),["enter"]))},e[175]||(e[175]=[d("img",{src:jce,alt:"Quadrillage grand",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[40]||(e[40]=a=>r.modifierFond("./static/img/quadrillage-gris.png")),onKeydown:e[41]||(e[41]=J(a=>r.modifierFond("./static/img/quadrillage-gris.png"),["enter"]))},e[176]||(e[176]=[d("img",{src:zce,alt:"Quadrillage gris",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[42]||(e[42]=a=>r.modifierFond("./static/img/quadrillage-gris-grand.png")),onKeydown:e[43]||(e[43]=J(a=>r.modifierFond("./static/img/quadrillage-gris-grand.png"),["enter"]))},e[177]||(e[177]=[d("img",{src:Kce,alt:"Quadrillage gris grand",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{role:"button",tabindex:"0",onClick:e[44]||(e[44]=a=>r.modifierFond("./static/img/partition.png")),onKeydown:e[45]||(e[45]=J(a=>r.modifierFond("./static/img/partition.png"),["enter"]))},e[178]||(e[178]=[d("img",{src:Gce,alt:"Partition",style:{border:"1px solid #ddd"}},null,-1)]),32),d("span",{class:"couleur-fond",role:"button",tabindex:"0",onClick:e[46]||(e[46]=a=>r.modifierFond("#00ced1")),onKeydown:e[47]||(e[47]=J(a=>r.modifierFond("#00ced1"),["enter"])),style:{"background-color":"#00ced1"}},null,32),d("span",{class:"couleur-fond",role:"button",tabindex:"0",onClick:e[48]||(e[48]=a=>r.modifierFond("#ff2d55")),onKeydown:e[49]||(e[49]=J(a=>r.modifierFond("#ff2d55"),["enter"])),style:{"background-color":"#ff2d55"}},null,32),d("span",{class:"couleur-fond",role:"button",tabindex:"0",onClick:e[50]||(e[50]=a=>r.modifierFond("#f7d000")),onKeydown:e[51]||(e[51]=J(a=>r.modifierFond("#f7d000"),["enter"])),style:{"background-color":"#f7d000"}},null,32),d("span",{class:"couleur-fond",role:"button",tabindex:"0",onClick:e[52]||(e[52]=a=>r.modifierFond("#ffffff")),onKeydown:e[53]||(e[53]=J(a=>r.modifierFond("#ffffff"),["enter"])),style:{"background-color":"#ffffff",border:"1px solid #ddd"}},null,32),d("span",tde,[d("label",{for:"couleur-fond-page",tabindex:"0",onKeydown:e[54]||(e[54]=J(a=>r.activerInput("couleur-fond-page"),["enter"]))},e[179]||(e[179]=[d("i",{class:"material-icons"},"colorize",-1)]),32),d("input",{id:"couleur-fond-page",type:"color",value:"#001d1d",title:t.$t("selectionnerCouleur")},null,8,ide)])]),n.pixabayAPIKey!==""?(z(),Z("div",nde,[d("div",sde,[d("input",{type:"text",value:n.requete,onInput:e[55]||(e[55]=a=>n.requete=a.target.value),onKeyup:e[56]||(e[56]=(...a)=>r.verifierRequete&&r.verifierRequete(...a)),onKeydown:e[57]||(e[57]=J((...a)=>r.valider&&r.valider(...a),["enter"])),placeholder:t.$t("lienImageRecherche")},null,40,rde),d("span",{role:"button",tabindex:"0",class:"bouton-secondaire",title:t.$t("rechercher"),onClick:e[58]||(e[58]=(...a)=>r.valider&&r.valider(...a)),onKeydown:e[59]||(e[59]=J((...a)=>r.valider&&r.valider(...a),["enter"]))},e[180]||(e[180]=[d("i",{class:"material-icons"},"search",-1)]),40,ode),d("label",{for:"televerser-fond",class:"bouton-secondaire",tabindex:"0",onKeydown:e[60]||(e[60]=J(a=>r.activerInput("televerser-fond"),["enter"])),title:t.$t("selectionnerImage")},e[181]||(e[181]=[d("i",{class:"material-icons"},"upload_file",-1)]),40,ade),d("input",{id:"televerser-fond",type:"file",onChange:e[61]||(e[61]=(...a)=>r.televerserImage&&r.televerserImage(...a)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,32)]),Object.keys(n.resultats).length>0?(z(),Z("div",lde,[(z(!0),Z(vt,null,Yt(n.resultats.hits,(a,l)=>(z(),Z("div",{class:"item",role:"button",tabindex:"0","data-w":a.previewWidth,"data-h":a.previewHeight,onClick:u=>r.modifierFond(a.previewURL.replace("_150","_1280")),onKeydown:J(u=>r.modifierFond(a.previewURL.replace("_150","_1280")),["enter"]),key:"image_"+l},[d("img",{src:a.previewURL,alt:"Image_"+l},null,8,cde)],40,ude))),128))])):Me("",!0),Object.keys(n.resultats).length>0&&(n.pageResultats>1||n.pageResultats<n.resultats.total/15)?(z(),Z("div",dde,[d("span",{role:"button",tabindex:"0",class:je({invisible:n.pageResultats<2}),onClick:e[62]||(e[62]=a=>r.modifierPageResultats("precedente")),onKeydown:e[63]||(e[63]=J(a=>r.modifierPageResultats("precedente"),["enter"]))},te(t.$t("pagePrecedente")),35),d("span",{role:"button",tabindex:"0",class:je({invisible:n.pageResultats>=n.resultats.total/15}),onClick:e[64]||(e[64]=a=>r.modifierPageResultats("suivante")),onKeydown:e[65]||(e[65]=J(a=>r.modifierPageResultats("suivante"),["enter"]))},te(t.$t("pageSuivante")),35)])):Me("",!0)])):Me("",!0),d("label",null,te(t.$t("pages")),1),d("div",hde,[Vt(o,{modelValue:t.$parent.pages,"onUpdate:modelValue":e[66]||(e[66]=a=>t.$parent.pages=a),onSort:r.verifierPages},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(t.$parent.pages,(a,l)=>(z(),Z("span",{class:je(["page",{selectionne:t.$parent.page===l+1}]),role:"button",tabindex:"0",onClick:u=>r.afficherPage(l+1),onKeydown:J(u=>r.afficherPage(l+1),["enter"]),key:"page_"+l},te(l+1),43,Ade))),128))]),_:1},8,["modelValue","onSort"]),t.$parent.pages.length>1?(z(),Z("span",{key:0,class:"bouton-secondaire visible",role:"button",tabindex:"0",title:t.$t("supprimerPage"),onClick:e[67]||(e[67]=(...a)=>r.afficherSupprimerPage&&r.afficherSupprimerPage(...a)),onKeydown:e[68]||(e[68]=J((...a)=>r.afficherSupprimerPage&&r.afficherSupprimerPage(...a),["enter"]))},e[182]||(e[182]=[d("i",{class:"material-icons"},"remove_circle_outline",-1)]),40,fde)):Me("",!0),d("span",{class:je(["bouton-secondaire",{visible:t.$parent.pages.length<12,invisible:t.$parent.pages.length>11}]),role:"button",tabindex:"0",title:t.$t("ajouterPage"),onClick:e[69]||(e[69]=(...a)=>r.ajouterPage&&r.ajouterPage(...a)),onKeydown:e[70]||(e[70]=J((...a)=>r.ajouterPage&&r.ajouterPage(...a),["enter"]))},e[183]||(e[183]=[d("i",{class:"material-icons"},"add_circle_outline",-1)]),42,pde)]),d("label",null,te(t.$t("exporter")),1),d("span",{role:"button",tabindex:"0",class:"bouton",onClick:e[71]||(e[71]=(...a)=>r.exporter&&r.exporter(...a)),onKeydown:e[72]||(e[72]=J((...a)=>r.exporter&&r.exporter(...a),["enter"]))},te(t.$t("exporterEcran")),33),d("label",null,te(t.$t("importer")),1),d("label",{for:"televerser",class:"bouton",tabindex:"0",onKeydown:e[73]||(e[73]=J(a=>r.activerInput("televerser"),["enter"]))},te(t.$t("importerEcran")),33),d("input",{id:"televerser",type:"file",style:{display:"none"},accept:".dgb, .dgs",onChange:e[74]||(e[74]=(...a)=>r.importer&&r.importer(...a))},null,32),d("label",null,te(t.$t("modules")),1),d("div",gde,[d("div",mde,[d("span",null,te(t.$t("codeqr")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[76]||(e[76]=J(a=>r.activerInput("module_codeqr"),["enter"]))},[d("input",{id:"module_codeqr",type:"checkbox",value:"codeqr",checked:t.$parent.modules.includes("codeqr"),onChange:e[75]||(e[75]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,bde),e[184]||(e[184]=d("span",{class:"curseur"},null,-1))],32)]),d("div",vde,[d("span",null,te(t.$t("texte")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[78]||(e[78]=J(a=>r.activerInput("module_texte"),["enter"]))},[d("input",{id:"module_texte",type:"checkbox",value:"texte",checked:t.$parent.modules.includes("texte"),onChange:e[77]||(e[77]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,yde),e[185]||(e[185]=d("span",{class:"curseur"},null,-1))],32)]),d("div",wde,[d("span",null,te(t.$t("tableau")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[80]||(e[80]=J(a=>r.activerInput("module_tableau"),["enter"]))},[d("input",{id:"module_tableau",type:"checkbox",value:"tableau",checked:t.$parent.modules.includes("tableau"),onChange:e[79]||(e[79]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Cde),e[186]||(e[186]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Ede,[d("span",null,te(t.$t("image")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[82]||(e[82]=J(a=>r.activerInput("module_image"),["enter"]))},[d("input",{id:"module_image",type:"checkbox",value:"image",checked:t.$parent.modules.includes("image"),onChange:e[81]||(e[81]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,xde),e[187]||(e[187]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Tde,[d("span",null,te(t.$t("galerieImages")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[84]||(e[84]=J(a=>r.activerInput("module_galerie"),["enter"]))},[d("input",{id:"module_galerie",type:"checkbox",value:"galerie",checked:t.$parent.modules.includes("galerie"),onChange:e[83]||(e[83]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,_de),e[188]||(e[188]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Sde,[d("span",null,te(t.$t("dessin")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[86]||(e[86]=J(a=>r.activerInput("module_dessin"),["enter"]))},[d("input",{id:"module_dessin",type:"checkbox",value:"dessin",checked:t.$parent.modules.includes("dessin"),onChange:e[85]||(e[85]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Bde),e[189]||(e[189]=d("span",{class:"curseur"},null,-1))],32)]),d("div",kde,[d("span",null,te(t.$t("document")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[88]||(e[88]=J(a=>r.activerInput("module_document"),["enter"]))},[d("input",{id:"module_document",type:"checkbox",value:"document",checked:t.$parent.modules.includes("document"),onChange:e[87]||(e[87]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Ide),e[190]||(e[190]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Dde,[d("span",null,te(t.$t("audio")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[90]||(e[90]=J(a=>r.activerInput("module_audio"),["enter"]))},[d("input",{id:"module_audio",type:"checkbox",value:"audio",checked:t.$parent.modules.includes("audio"),onChange:e[89]||(e[89]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Fde),e[191]||(e[191]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Pde,[d("span",null,te(t.$t("syntheseVocale")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[92]||(e[92]=J(a=>r.activerInput("module_synthese"),["enter"]))},[d("input",{id:"module_synthese",type:"checkbox",value:"synthese",checked:t.$parent.modules.includes("synthese"),onChange:e[91]||(e[91]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Lde),e[192]||(e[192]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Rde,[d("span",null,te(t.$t("video")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[94]||(e[94]=J(a=>r.activerInput("module_video"),["enter"]))},[d("input",{id:"module_video",type:"checkbox",value:"video",checked:t.$parent.modules.includes("video"),onChange:e[93]||(e[93]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Mde),e[193]||(e[193]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Ode,[d("span",null,te(t.$t("webcam")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[96]||(e[96]=J(a=>r.activerInput("module_webcam"),["enter"]))},[d("input",{id:"module_webcam",type:"checkbox",value:"webcam",checked:t.$parent.modules.includes("webcam"),onChange:e[95]||(e[95]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Ude),e[194]||(e[194]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Nde,[d("span",null,te(t.$t("lien")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[98]||(e[98]=J(a=>r.activerInput("module_lien"),["enter"]))},[d("input",{id:"module_lien",type:"checkbox",value:"lien",checked:t.$parent.modules.includes("lien"),onChange:e[97]||(e[97]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Hde),e[195]||(e[195]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Qde,[d("span",null,te(t.$t("contenuIntegre")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[100]||(e[100]=J(a=>r.activerInput("module_iframe"),["enter"]))},[d("input",{id:"module_iframe",type:"checkbox",value:"iframe",checked:t.$parent.modules.includes("iframe"),onChange:e[99]||(e[99]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Vde),e[196]||(e[196]=d("span",{class:"curseur"},null,-1))],32)]),d("div",$de,[d("span",null,te(t.$t("html")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[102]||(e[102]=J(a=>r.activerInput("module_html"),["enter"]))},[d("input",{id:"module_html",type:"checkbox",value:"html",checked:t.$parent.modules.includes("html"),onChange:e[101]||(e[101]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,jde),e[197]||(e[197]=d("span",{class:"curseur"},null,-1))],32)]),d("div",zde,[d("span",null,te(t.$t("liste")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[104]||(e[104]=J(a=>r.activerInput("module_liste"),["enter"]))},[d("input",{id:"module_liste",type:"checkbox",value:"liste",checked:t.$parent.modules.includes("liste"),onChange:e[103]||(e[103]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Kde),e[198]||(e[198]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Gde,[d("span",null,te(t.$t("nuageMots")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[106]||(e[106]=J(a=>r.activerInput("module_nuage"),["enter"]))},[d("input",{id:"module_nuage",type:"checkbox",value:"nuage",checked:t.$parent.modules.includes("nuage"),onChange:e[105]||(e[105]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,qde),e[199]||(e[199]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Wde,[d("span",null,te(t.$t("remiseOrdre")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[108]||(e[108]=J(a=>r.activerInput("module_ordre"),["enter"]))},[d("input",{id:"module_ordre",type:"checkbox",value:"ordre",checked:t.$parent.modules.includes("ordre"),onChange:e[107]||(e[107]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Yde),e[200]||(e[200]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Xde,[d("span",null,te(t.$t("imagesSequentielles")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[110]||(e[110]=J(a=>r.activerInput("module_images-sequentielles"),["enter"]))},[d("input",{id:"module_images-sequentielles",type:"checkbox",value:"images-sequentielles",checked:t.$parent.modules.includes("images-sequentielles"),onChange:e[109]||(e[109]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Jde),e[201]||(e[201]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Zde,[d("span",null,te(t.$t("texteATrous")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[112]||(e[112]=J(a=>r.activerInput("module_trous"),["enter"]))},[d("input",{id:"module_trous",type:"checkbox",value:"trous",checked:t.$parent.modules.includes("trous"),onChange:e[111]||(e[111]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,ehe),e[202]||(e[202]=d("span",{class:"curseur"},null,-1))],32)]),d("div",the,[d("span",null,te(t.$t("surlignage")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[114]||(e[114]=J(a=>r.activerInput("module_surlignage"),["enter"]))},[d("input",{id:"module_surlignage",type:"checkbox",value:"surlignage",checked:t.$parent.modules.includes("surlignage"),onChange:e[113]||(e[113]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,ihe),e[203]||(e[203]=d("span",{class:"curseur"},null,-1))],32)]),d("div",nhe,[d("span",null,te(t.$t("pendu")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[116]||(e[116]=J(a=>r.activerInput("module_pendu"),["enter"]))},[d("input",{id:"module_pendu",type:"checkbox",value:"pendu",checked:t.$parent.modules.includes("pendu"),onChange:e[115]||(e[115]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,she),e[204]||(e[204]=d("span",{class:"curseur"},null,-1))],32)]),d("div",rhe,[d("span",null,te(t.$t("cartes")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[118]||(e[118]=J(a=>r.activerInput("module_cartes"),["enter"]))},[d("input",{id:"module_cartes",type:"checkbox",value:"cartes",checked:t.$parent.modules.includes("cartes"),onChange:e[117]||(e[117]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,ohe),e[205]||(e[205]=d("span",{class:"curseur"},null,-1))],32)]),d("div",ahe,[d("span",null,te(t.$t("tirageSortTexte")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[120]||(e[120]=J(a=>r.activerInput("module_tirage-texte"),["enter"]))},[d("input",{id:"module_tirage-texte",type:"checkbox",value:"tirage-texte",checked:t.$parent.modules.includes("tirage-texte"),onChange:e[119]||(e[119]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,lhe),e[206]||(e[206]=d("span",{class:"curseur"},null,-1))],32)]),d("div",uhe,[d("span",null,te(t.$t("tirageSortNombre")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[122]||(e[122]=J(a=>r.activerInput("module_tirage-nombre"),["enter"]))},[d("input",{id:"module_tirage-nombre",type:"checkbox",value:"tirage-nombre",checked:t.$parent.modules.includes("tirage-nombre"),onChange:e[121]||(e[121]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,che),e[207]||(e[207]=d("span",{class:"curseur"},null,-1))],32)]),d("div",dhe,[d("span",null,te(t.$t("tirageSortImage")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[124]||(e[124]=J(a=>r.activerInput("module_tirage-image"),["enter"]))},[d("input",{id:"module_tirage-image",type:"checkbox",value:"tirage-image",checked:t.$parent.modules.includes("tirage-image"),onChange:e[123]||(e[123]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,hhe),e[208]||(e[208]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Ahe,[d("span",null,te(t.$t("tirageSortAudio")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[126]||(e[126]=J(a=>r.activerInput("module_tirage-audio"),["enter"]))},[d("input",{id:"module_tirage-audio",type:"checkbox",value:"tirage-audio",checked:t.$parent.modules.includes("tirage-audio"),onChange:e[125]||(e[125]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,fhe),e[209]||(e[209]=d("span",{class:"curseur"},null,-1))],32)]),d("div",phe,[d("span",null,te(t.$t("roue")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[128]||(e[128]=J(a=>r.activerInput("module_roue"),["enter"]))},[d("input",{id:"module_roue",type:"checkbox",value:"roue",checked:t.$parent.modules.includes("roue"),onChange:e[127]||(e[127]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,ghe),e[210]||(e[210]=d("span",{class:"curseur"},null,-1))],32)]),d("div",mhe,[d("span",null,te(t.$t("histoire")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[130]||(e[130]=J(a=>r.activerInput("module_histoire"),["enter"]))},[d("input",{id:"module_histoire",type:"checkbox",value:"histoire",checked:t.$parent.modules.includes("histoire"),onChange:e[129]||(e[129]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,bhe),e[211]||(e[211]=d("span",{class:"curseur"},null,-1))],32)]),d("div",vhe,[d("span",null,te(t.$t("plateauJeu")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[132]||(e[132]=J(a=>r.activerInput("module_plateau"),["enter"]))},[d("input",{id:"module_plateau",type:"checkbox",value:"plateau",checked:t.$parent.modules.includes("plateau"),onChange:e[131]||(e[131]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,yhe),e[212]||(e[212]=d("span",{class:"curseur"},null,-1))],32)]),d("div",whe,[d("span",null,te(t.$t("des")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[134]||(e[134]=J(a=>r.activerInput("module_des"),["enter"]))},[d("input",{id:"module_des",type:"checkbox",value:"des",checked:t.$parent.modules.includes("des"),onChange:e[133]||(e[133]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Che),e[213]||(e[213]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Ehe,[d("span",null,te(t.$t("classement")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[136]||(e[136]=J(a=>r.activerInput("module_classement"),["enter"]))},[d("input",{id:"module_classement",type:"checkbox",value:"classement",checked:t.$parent.modules.includes("classement"),onChange:e[135]||(e[135]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,xhe),e[214]||(e[214]=d("span",{class:"curseur"},null,-1))],32)]),d("div",The,[d("span",null,te(t.$t("feuQuadricolore")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[138]||(e[138]=J(a=>r.activerInput("module_feu"),["enter"]))},[d("input",{id:"module_feu",type:"checkbox",value:"feu",checked:t.$parent.modules.includes("feu"),onChange:e[137]||(e[137]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,_he),e[215]||(e[215]=d("span",{class:"curseur"},null,-1))],32)]),d("div",She,[d("span",null,te(t.$t("modalitesTravail")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[140]||(e[140]=J(a=>r.activerInput("module_modalites"),["enter"]))},[d("input",{id:"module_modalites",type:"checkbox",value:"modalites",checked:t.$parent.modules.includes("modalites"),onChange:e[139]||(e[139]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Bhe),e[216]||(e[216]=d("span",{class:"curseur"},null,-1))],32)]),d("div",khe,[d("span",null,te(t.$t("groupes")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[142]||(e[142]=J(a=>r.activerInput("module_groupes"),["enter"]))},[d("input",{id:"module_groupes",type:"checkbox",value:"groupes",checked:t.$parent.modules.includes("groupes"),onChange:e[141]||(e[141]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Ihe),e[217]||(e[217]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Dhe,[d("span",null,te(t.$t("chronometre")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[144]||(e[144]=J(a=>r.activerInput("module_chrono"),["enter"]))},[d("input",{id:"module_chrono",type:"checkbox",value:"chrono",checked:t.$parent.modules.includes("chrono"),onChange:e[143]||(e[143]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Fhe),e[218]||(e[218]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Phe,[d("span",null,te(t.$t("compteRebours")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[146]||(e[146]=J(a=>r.activerInput("module_rebours"),["enter"]))},[d("input",{id:"module_rebours",type:"checkbox",value:"rebours",checked:t.$parent.modules.includes("rebours"),onChange:e[145]||(e[145]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Lhe),e[219]||(e[219]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Rhe,[d("span",null,te(t.$t("horlogeModulable")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[148]||(e[148]=J(a=>r.activerInput("module_horloge_modulable"),["enter"]))},[d("input",{id:"module_horloge_modulable",type:"checkbox",value:"horloge-modulable",checked:t.$parent.modules.includes("horloge-modulable"),onChange:e[147]||(e[147]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Mhe),e[220]||(e[220]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Ohe,[d("span",null,te(t.$t("horloge")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[150]||(e[150]=J(a=>r.activerInput("module_horloge"),["enter"]))},[d("input",{id:"module_horloge",type:"checkbox",value:"horloge",checked:t.$parent.modules.includes("horloge"),onChange:e[149]||(e[149]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Uhe),e[221]||(e[221]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Nhe,[d("span",null,te(t.$t("calendrier")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[152]||(e[152]=J(a=>r.activerInput("module_calendrier"),["enter"]))},[d("input",{id:"module_calendrier",type:"checkbox",value:"calendrier",checked:t.$parent.modules.includes("calendrier"),onChange:e[151]||(e[151]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Hhe),e[222]||(e[222]=d("span",{class:"curseur"},null,-1))],32)]),d("div",Qhe,[d("span",null,te(t.$t("sonometre")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[154]||(e[154]=J(a=>r.activerInput("module_sonometre"),["enter"]))},[d("input",{id:"module_sonometre",type:"checkbox",value:"sonometre",checked:t.$parent.modules.includes("sonometre"),onChange:e[153]||(e[153]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Vhe),e[223]||(e[223]=d("span",{class:"curseur"},null,-1))],32)]),d("div",$he,[d("span",null,te(t.$t("retroaction")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[156]||(e[156]=J(a=>r.activerInput("module_retroaction"),["enter"]))},[d("input",{id:"module_retroaction",type:"checkbox",value:"retroaction",checked:t.$parent.modules.includes("retroaction"),onChange:e[155]||(e[155]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,jhe),e[224]||(e[224]=d("span",{class:"curseur"},null,-1))],32)]),d("div",zhe,[d("span",null,te(t.$t("grille")),1),d("label",{class:"interrupteur",role:"button",tabindex:"0",onKeydown:e[158]||(e[158]=J(a=>r.activerInput("module_grille"),["enter"]))},[d("input",{id:"module_grille",type:"checkbox",value:"grille",checked:t.$parent.modules.includes("grille"),onChange:e[157]||(e[157]=(...a)=>r.modifierModule&&r.modifierModule(...a))},null,40,Khe),e[225]||(e[225]=d("span",{class:"curseur"},null,-1))],32)])])])])],2),n.confirmation?(z(),Z("div",Ghe,[d("div",qhe,[d("div",Whe,[d("div",Yhe,[d("p",{innerHTML:t.$t("confirmationSuppressionPage",{page:t.$parent.page})},null,8,Xhe),d("div",Jhe,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[159]||(e[159]=a=>n.confirmation=!1),onKeydown:e[160]||(e[160]=J(a=>n.confirmation=!1,["enter"]))},te(t.$t("annuler")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[161]||(e[161]=(...a)=>r.supprimerPage&&r.supprimerPage(...a)),onKeydown:e[162]||(e[162]=J((...a)=>r.supprimerPage&&r.supprimerPage(...a),["enter"]))},te(t.$t("valider")),33)])])])])])):Me("",!0)])}const eAe=It(qce,[["render",Zhe]]);var Lg={exports:{}},Rd={},Ey={},xy={},Q_;function ti(){return Q_||(Q_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof io<"u"?io:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.18",isBrowser:i(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return t.Konva.angleDeg?n*e:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var n;return(n=t.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(n){t.glob.Konva=n}};const s=n=>{t.Konva[n.prototype.getClassName()]=n};t._registerNode=s,t.Konva._injectGlobal(t.Konva)}(xy)),xy}var Ty={},V_;function sn(){return V_||(V_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ti();class i{constructor(S=[1,0,0,1,0,0]){this.dirty=!1,this.m=S&&S.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(S){S.m[0]=this.m[0],S.m[1]=this.m[1],S.m[2]=this.m[2],S.m[3]=this.m[3],S.m[4]=this.m[4],S.m[5]=this.m[5]}point(S){const I=this.m;return{x:I[0]*S.x+I[2]*S.y+I[4],y:I[1]*S.x+I[3]*S.y+I[5]}}translate(S,I){return this.m[4]+=this.m[0]*S+this.m[2]*I,this.m[5]+=this.m[1]*S+this.m[3]*I,this}scale(S,I){return this.m[0]*=S,this.m[1]*=S,this.m[2]*=I,this.m[3]*=I,this}rotate(S){const I=Math.cos(S),O=Math.sin(S),U=this.m[0]*I+this.m[2]*O,$=this.m[1]*I+this.m[3]*O,k=this.m[0]*-O+this.m[2]*I,P=this.m[1]*-O+this.m[3]*I;return this.m[0]=U,this.m[1]=$,this.m[2]=k,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(S,I){const O=this.m[0]+this.m[2]*I,U=this.m[1]+this.m[3]*I,$=this.m[2]+this.m[0]*S,k=this.m[3]+this.m[1]*S;return this.m[0]=O,this.m[1]=U,this.m[2]=$,this.m[3]=k,this}multiply(S){const I=this.m[0]*S.m[0]+this.m[2]*S.m[1],O=this.m[1]*S.m[0]+this.m[3]*S.m[1],U=this.m[0]*S.m[2]+this.m[2]*S.m[3],$=this.m[1]*S.m[2]+this.m[3]*S.m[3],k=this.m[0]*S.m[4]+this.m[2]*S.m[5]+this.m[4],P=this.m[1]*S.m[4]+this.m[3]*S.m[5]+this.m[5];return this.m[0]=I,this.m[1]=O,this.m[2]=U,this.m[3]=$,this.m[4]=k,this.m[5]=P,this}invert(){const S=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),I=this.m[3]*S,O=-this.m[1]*S,U=-this.m[2]*S,$=this.m[0]*S,k=S*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=S*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=I,this.m[1]=O,this.m[2]=U,this.m[3]=$,this.m[4]=k,this.m[5]=P,this}getMatrix(){return this.m}decompose(){const S=this.m[0],I=this.m[1],O=this.m[2],U=this.m[3],$=this.m[4],k=this.m[5],P=S*U-I*O,T={x:$,y:k,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(S!=0||I!=0){const R=Math.sqrt(S*S+I*I);T.rotation=I>0?Math.acos(S/R):-Math.acos(S/R),T.scaleX=R,T.scaleY=P/R,T.skewX=(S*O+I*U)/P,T.skewY=0}else if(O!=0||U!=0){const R=Math.sqrt(O*O+U*U);T.rotation=Math.PI/2-(U>0?Math.acos(-O/R):-Math.acos(O/R)),T.scaleX=P/R,T.scaleY=R,T.skewX=0,T.skewY=(S*O+I*U)/P}return T.rotation=t.Util._getRotation(T.rotation),T}}t.Transform=i;const s="[object Array]",n="[object Number]",r="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,u="#",c="",h="0",A="Konva warning: ",f="Konva error: ",m="rgb(",p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let C=[];const g=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(w){setTimeout(w,60)};t.Util={_isElement(w){return!!(w&&w.nodeType==1)},_isFunction(w){return!!(w&&w.constructor&&w.call&&w.apply)},_isPlainObject(w){return!!w&&w.constructor===Object},_isArray(w){return Object.prototype.toString.call(w)===s},_isNumber(w){return Object.prototype.toString.call(w)===n&&!isNaN(w)&&isFinite(w)},_isString(w){return Object.prototype.toString.call(w)===r},_isBoolean(w){return Object.prototype.toString.call(w)===o},isObject(w){return w instanceof Object},isValidSelector(w){if(typeof w!="string")return!1;const S=w[0];return S==="#"||S==="."||S===S.toUpperCase()},_sign(w){return w===0||w>0?1:-1},requestAnimFrame(w){C.push(w),C.length===1&&g(function(){const S=C;C=[],S.forEach(function(I){I()})})},createCanvasElement(){const w=document.createElement("canvas");try{w.style=w.style||{}}catch{}return w},createImageElement(){return document.createElement("img")},_isInDocument(w){for(;w=w.parentNode;)if(w==document)return!0;return!1},_urlToImage(w,S){const I=t.Util.createImageElement();I.onload=function(){S(I)},I.src=w},_rgbToHex(w,S,I){return((1<<24)+(w<<16)+(S<<8)+I).toString(16).slice(1)},_hexToRgb(w){w=w.replace(u,c);const S=parseInt(w,16);return{r:S>>16&255,g:S>>8&255,b:S&255}},getRandomColor(){let w=(Math.random()*16777215<<0).toString(16);for(;w.length<6;)w=h+w;return u+w},getRGB(w){let S;return w in p?(S=p[w],{r:S[0],g:S[1],b:S[2]}):w[0]===u?this._hexToRgb(w.substring(1)):w.substr(0,4)===m?(S=x.exec(w.replace(/ /g,"")),{r:parseInt(S[1],10),g:parseInt(S[2],10),b:parseInt(S[3],10)}):{r:0,g:0,b:0}},colorToRGBA(w){return w=w||"black",t.Util._namedColorToRBA(w)||t.Util._hex3ColorToRGBA(w)||t.Util._hex4ColorToRGBA(w)||t.Util._hex6ColorToRGBA(w)||t.Util._hex8ColorToRGBA(w)||t.Util._rgbColorToRGBA(w)||t.Util._rgbaColorToRGBA(w)||t.Util._hslColorToRGBA(w)},_namedColorToRBA(w){const S=p[w.toLowerCase()];return S?{r:S[0],g:S[1],b:S[2],a:1}:null},_rgbColorToRGBA(w){if(w.indexOf("rgb(")===0){w=w.match(/rgb\(([^)]+)\)/)[1];const S=w.split(/ *, */).map(Number);return{r:S[0],g:S[1],b:S[2],a:1}}},_rgbaColorToRGBA(w){if(w.indexOf("rgba(")===0){w=w.match(/rgba\(([^)]+)\)/)[1];const S=w.split(/ *, */).map((I,O)=>I.slice(-1)==="%"?O===3?parseInt(I)/100:parseInt(I)/100*255:Number(I));return{r:S[0],g:S[1],b:S[2],a:S[3]}}},_hex8ColorToRGBA(w){if(w[0]==="#"&&w.length===9)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:parseInt(w.slice(7,9),16)/255}},_hex6ColorToRGBA(w){if(w[0]==="#"&&w.length===7)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:1}},_hex4ColorToRGBA(w){if(w[0]==="#"&&w.length===5)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:parseInt(w[4]+w[4],16)/255}},_hex3ColorToRGBA(w){if(w[0]==="#"&&w.length===4)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:1}},_hslColorToRGBA(w){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(w)){const[S,...I]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(w),O=Number(I[0])/360,U=Number(I[1])/100,$=Number(I[2])/100;let k,P,T;if(U===0)return T=$*255,{r:Math.round(T),g:Math.round(T),b:Math.round(T),a:1};$<.5?k=$*(1+U):k=$+U-$*U;const R=2*$-k,E=[0,0,0];for(let _=0;_<3;_++)P=O+1/3*-(_-1),P<0&&P++,P>1&&P--,6*P<1?T=R+(k-R)*6*P:2*P<1?T=k:3*P<2?T=R+(k-R)*(2/3-P)*6:T=R,E[_]=T*255;return{r:Math.round(E[0]),g:Math.round(E[1]),b:Math.round(E[2]),a:1}}},haveIntersection(w,S){return!(S.x>w.x+w.width||S.x+S.width<w.x||S.y>w.y+w.height||S.y+S.height<w.y)},cloneObject(w){const S={};for(const I in w)this._isPlainObject(w[I])?S[I]=this.cloneObject(w[I]):this._isArray(w[I])?S[I]=this.cloneArray(w[I]):S[I]=w[I];return S},cloneArray(w){return w.slice(0)},degToRad(w){return w*a},radToDeg(w){return w*l},_degToRad(w){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(w)},_radToDeg(w){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(w)},_getRotation(w){return e.Konva.angleDeg?t.Util.radToDeg(w):w},_capitalize(w){return w.charAt(0).toUpperCase()+w.slice(1)},throw(w){throw new Error(f+w)},error(w){console.error(f+w)},warn(w){e.Konva.showWarnings&&console.warn(A+w)},each(w,S){for(const I in w)S(I,w[I])},_inRange(w,S,I){return S<=w&&w<I},_getProjectionToSegment(w,S,I,O,U,$){let k,P,T;const R=(w-I)*(w-I)+(S-O)*(S-O);if(R==0)k=w,P=S,T=(U-I)*(U-I)+($-O)*($-O);else{const E=((U-w)*(I-w)+($-S)*(O-S))/R;E<0?(k=w,P=S,T=(w-U)*(w-U)+(S-$)*(S-$)):E>1?(k=I,P=O,T=(I-U)*(I-U)+(O-$)*(O-$)):(k=w+E*(I-w),P=S+E*(O-S),T=(k-U)*(k-U)+(P-$)*(P-$))}return[k,P,T]},_getProjectionToLine(w,S,I){const O=t.Util.cloneObject(w);let U=Number.MAX_VALUE;return S.forEach(function($,k){if(!I&&k===S.length-1)return;const P=S[(k+1)%S.length],T=t.Util._getProjectionToSegment($.x,$.y,P.x,P.y,w.x,w.y),R=T[0],E=T[1],_=T[2];_<U&&(O.x=R,O.y=E,U=_)}),O},_prepareArrayForTween(w,S,I){const O=[],U=[];if(w.length>S.length){const k=S;S=w,w=k}for(let k=0;k<w.length;k+=2)O.push({x:w[k],y:w[k+1]});for(let k=0;k<S.length;k+=2)U.push({x:S[k],y:S[k+1]});const $=[];return U.forEach(function(k){const P=t.Util._getProjectionToLine(k,O,I);$.push(P.x),$.push(P.y)}),$},_prepareToStringify(w){let S;w.visitedByCircularReferenceRemoval=!0;for(const I in w)if(w.hasOwnProperty(I)&&w[I]&&typeof w[I]=="object"){if(S=Object.getOwnPropertyDescriptor(w,I),w[I].visitedByCircularReferenceRemoval||t.Util._isElement(w[I]))if(S.configurable)delete w[I];else return null;else if(t.Util._prepareToStringify(w[I])===null)if(S.configurable)delete w[I];else return null}return delete w.visitedByCircularReferenceRemoval,w},_assign(w,S){for(const I in S)w[I]=S[I];return w},_getFirstPointerId(w){return w.touches?w.changedTouches[0].identifier:w.pointerId||999},releaseCanvas(...w){e.Konva.releaseCanvasOnDestroy&&w.forEach(S=>{S.width=0,S.height=0})},drawRoundedRectPath(w,S,I,O){let U=0,$=0,k=0,P=0;typeof O=="number"?U=$=k=P=Math.min(O,S/2,I/2):(U=Math.min(O[0]||0,S/2,I/2),$=Math.min(O[1]||0,S/2,I/2),P=Math.min(O[2]||0,S/2,I/2),k=Math.min(O[3]||0,S/2,I/2)),w.moveTo(U,0),w.lineTo(S-$,0),w.arc(S-$,$,$,Math.PI*3/2,0,!1),w.lineTo(S,I-P),w.arc(S-P,I-P,P,0,Math.PI/2,!1),w.lineTo(k,I),w.arc(k,I-k,k,Math.PI/2,Math.PI,!1),w.lineTo(0,U),w.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}}(Ty)),Ty}var Md={},_y={},Es={},$_;function oi(){if($_)return Es;$_=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.RGBComponent=s,Es.alphaComponent=n,Es.getNumberValidator=r,Es.getNumberOrArrayOfNumbersValidator=o,Es.getNumberOrAutoValidator=a,Es.getStringValidator=l,Es.getStringOrGradientValidator=u,Es.getFunctionValidator=c,Es.getNumberArrayValidator=h,Es.getBooleanValidator=A,Es.getComponentValidator=f;const t=ti(),e=sn();function i(m){return e.Util._isString(m)?'"'+m+'"':Object.prototype.toString.call(m)==="[object Number]"||e.Util._isBoolean(m)?m:Object.prototype.toString.call(m)}function s(m){return m>255?255:m<0?0:Math.round(m)}function n(m){return m>1?1:m<1e-4?1e-4:m}function r(){if(t.Konva.isUnminified)return function(m,p){return e.Util._isNumber(m)||e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a number.'),m}}function o(m){if(t.Konva.isUnminified)return function(p,x){let C=e.Util._isNumber(p),g=e.Util._isArray(p)&&p.length==m;return!C&&!g&&e.Util.warn(i(p)+' is a not valid value for "'+x+'" attribute. The value should be a number or Array<number>('+m+")"),p}}function a(){if(t.Konva.isUnminified)return function(m,p){var x=e.Util._isNumber(m),C=m==="auto";return x||C||e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a number or "auto".'),m}}function l(){if(t.Konva.isUnminified)return function(m,p){return e.Util._isString(m)||e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a string.'),m}}function u(){if(t.Konva.isUnminified)return function(m,p){const x=e.Util._isString(m),C=Object.prototype.toString.call(m)==="[object CanvasGradient]"||m&&m.addColorStop;return x||C||e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a string or a native gradient.'),m}}function c(){if(t.Konva.isUnminified)return function(m,p){return e.Util._isFunction(m)||e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a function.'),m}}function h(){if(t.Konva.isUnminified)return function(m,p){const x=Int8Array?Object.getPrototypeOf(Int8Array):null;return x&&m instanceof x||(e.Util._isArray(m)?m.forEach(function(C){e.Util._isNumber(C)||e.Util.warn('"'+p+'" attribute has non numeric element '+C+". Make sure that all elements are numbers.")}):e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a array of numbers.')),m}}function A(){if(t.Konva.isUnminified)return function(m,p){var x=m===!0||m===!1;return x||e.Util.warn(i(m)+' is a not valid value for "'+p+'" attribute. The value should be a boolean.'),m}}function f(m){if(t.Konva.isUnminified)return function(p,x){return p==null||e.Util.isObject(p)||e.Util.warn(i(p)+' is a not valid value for "'+x+'" attribute. The value should be an object with properties '+m),p}}return Es}var j_;function ii(){return j_||(j_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=sn(),i=oi(),s="get",n="set";t.Factory={addGetterSetter(r,o,a,l,u){t.Factory.addGetter(r,o,a),t.Factory.addSetter(r,o,l,u),t.Factory.addOverloadedGetterSetter(r,o)},addGetter(r,o,a){var l=s+e.Util._capitalize(o);r.prototype[l]=r.prototype[l]||function(){const u=this.attrs[o];return u===void 0?a:u}},addSetter(r,o,a,l){var u=n+e.Util._capitalize(o);r.prototype[u]||t.Factory.overWriteSetter(r,o,a,l)},overWriteSetter(r,o,a,l){var u=n+e.Util._capitalize(o);r.prototype[u]=function(c){return a&&c!==void 0&&c!==null&&(c=a.call(this,c,o)),this._setAttr(o,c),l&&l.call(this),this}},addComponentsGetterSetter(r,o,a,l,u){const c=a.length,h=e.Util._capitalize,A=s+h(o),f=n+h(o);r.prototype[A]=function(){const p={};for(let x=0;x<c;x++){const C=a[x];p[C]=this.getAttr(o+h(C))}return p};const m=(0,i.getComponentValidator)(a);r.prototype[f]=function(p){const x=this.attrs[o];l&&(p=l.call(this,p,o)),m&&m.call(this,p,o);for(const C in p)p.hasOwnProperty(C)&&this._setAttr(o+h(C),p[C]);return p||a.forEach(C=>{this._setAttr(o+h(C),void 0)}),this._fireChangeEvent(o,x,p),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(r,o)},addOverloadedGetterSetter(r,o){var a=e.Util._capitalize(o),l=n+a,u=s+a;r.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(r,o,a,l){e.Util.error("Adding deprecated "+o);const u=s+e.Util._capitalize(o),c=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";r.prototype[u]=function(){e.Util.error(c);const h=this.attrs[o];return h===void 0?a:h},t.Factory.addSetter(r,o,l,function(){e.Util.error(c)}),t.Factory.addOverloadedGetterSetter(r,o)},backCompat(r,o){e.Util.each(o,function(a,l){const u=r.prototype[l],c=s+e.Util._capitalize(a),h=n+e.Util._capitalize(a);function A(){u.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}r.prototype[a]=A,r.prototype[c]=A,r.prototype[h]=A})},afterSetFilter(){this._filterUpToDate=!1}}}(_y)),_y}var Lo={},Ro={},z_;function c5(){if(z_)return Ro;z_=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.HitContext=Ro.SceneContext=Ro.Context=void 0;const t=sn(),e=ti();function i(C){const g=[],w=C.length,S=t.Util;for(let I=0;I<w;I++){let O=C[I];S._isNumber(O)?O=Math.round(O*1e3)/1e3:S._isString(O)||(O=O+""),g.push(O)}return g}const s=",",n="(",r=")",o="([",a="])",l=";",u="()",c="=",h=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],A=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;class m{constructor(g){this.canvas=g,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(g){g.fillEnabled()&&this._fill(g)}_fill(g){}strokeShape(g){g.hasStroke()&&this._stroke(g)}_stroke(g){}fillStrokeShape(g){g.attrs.fillAfterStrokeEnabled?(this.strokeShape(g),this.fillShape(g)):(this.fillShape(g),this.strokeShape(g))}getTrace(g,w){let S=this.traceArr,I=S.length,O="",U,$,k,P;for(U=0;U<I;U++)$=S[U],k=$.method,k?(P=$.args,O+=k,g?O+=u:t.Util._isArray(P[0])?O+=o+P.join(s)+a:(w&&(P=P.map(T=>typeof T=="number"?Math.floor(T):T)),O+=n+P.join(s)+r)):(O+=$.property,g||(O+=c+$.val)),O+=l;return O}clearTrace(){this.traceArr=[]}_trace(g){let w=this.traceArr,S;w.push(g),S=w.length,S>=f&&w.shift()}reset(){const g=this.getCanvas().getPixelRatio();this.setTransform(1*g,0,0,1*g,0,0)}getCanvas(){return this.canvas}clear(g){const w=this.getCanvas();g?this.clearRect(g.x||0,g.y||0,g.width||0,g.height||0):this.clearRect(0,0,w.getWidth()/w.pixelRatio,w.getHeight()/w.pixelRatio)}_applyLineCap(g){const w=g.attrs.lineCap;w&&this.setAttr("lineCap",w)}_applyOpacity(g){const w=g.getAbsoluteOpacity();w!==1&&this.setAttr("globalAlpha",w)}_applyLineJoin(g){const w=g.attrs.lineJoin;w&&this.setAttr("lineJoin",w)}setAttr(g,w){this._context[g]=w}arc(g,w,S,I,O,U){this._context.arc(g,w,S,I,O,U)}arcTo(g,w,S,I,O){this._context.arcTo(g,w,S,I,O)}beginPath(){this._context.beginPath()}bezierCurveTo(g,w,S,I,O,U){this._context.bezierCurveTo(g,w,S,I,O,U)}clearRect(g,w,S,I){this._context.clearRect(g,w,S,I)}clip(...g){this._context.clip.apply(this._context,g)}closePath(){this._context.closePath()}createImageData(g,w){const S=arguments;if(S.length===2)return this._context.createImageData(g,w);if(S.length===1)return this._context.createImageData(g)}createLinearGradient(g,w,S,I){return this._context.createLinearGradient(g,w,S,I)}createPattern(g,w){return this._context.createPattern(g,w)}createRadialGradient(g,w,S,I,O,U){return this._context.createRadialGradient(g,w,S,I,O,U)}drawImage(g,w,S,I,O,U,$,k,P){const T=arguments,R=this._context;T.length===3?R.drawImage(g,w,S):T.length===5?R.drawImage(g,w,S,I,O):T.length===9&&R.drawImage(g,w,S,I,O,U,$,k,P)}ellipse(g,w,S,I,O,U,$,k){this._context.ellipse(g,w,S,I,O,U,$,k)}isPointInPath(g,w,S,I){return S?this._context.isPointInPath(S,g,w,I):this._context.isPointInPath(g,w,I)}fill(...g){this._context.fill.apply(this._context,g)}fillRect(g,w,S,I){this._context.fillRect(g,w,S,I)}strokeRect(g,w,S,I){this._context.strokeRect(g,w,S,I)}fillText(g,w,S,I){I?this._context.fillText(g,w,S,I):this._context.fillText(g,w,S)}measureText(g){return this._context.measureText(g)}getImageData(g,w,S,I){return this._context.getImageData(g,w,S,I)}lineTo(g,w){this._context.lineTo(g,w)}moveTo(g,w){this._context.moveTo(g,w)}rect(g,w,S,I){this._context.rect(g,w,S,I)}roundRect(g,w,S,I,O){this._context.roundRect(g,w,S,I,O)}putImageData(g,w,S){this._context.putImageData(g,w,S)}quadraticCurveTo(g,w,S,I){this._context.quadraticCurveTo(g,w,S,I)}restore(){this._context.restore()}rotate(g){this._context.rotate(g)}save(){this._context.save()}scale(g,w){this._context.scale(g,w)}setLineDash(g){this._context.setLineDash?this._context.setLineDash(g):"mozDash"in this._context?this._context.mozDash=g:"webkitLineDash"in this._context&&(this._context.webkitLineDash=g)}getLineDash(){return this._context.getLineDash()}setTransform(g,w,S,I,O,U){this._context.setTransform(g,w,S,I,O,U)}stroke(g){g?this._context.stroke(g):this._context.stroke()}strokeText(g,w,S,I){this._context.strokeText(g,w,S,I)}transform(g,w,S,I,O,U){this._context.transform(g,w,S,I,O,U)}translate(g,w){this._context.translate(g,w)}_enableTrace(){let g=this,w=h.length,S=this.setAttr,I,O;const U=function($){let k=g[$],P;g[$]=function(){return O=i(Array.prototype.slice.call(arguments,0)),P=k.apply(g,arguments),g._trace({method:$,args:O}),P}};for(I=0;I<w;I++)U(h[I]);g.setAttr=function(){S.apply(g,arguments);const $=arguments[0];let k=arguments[1];($==="shadowOffsetX"||$==="shadowOffsetY"||$==="shadowBlur")&&(k=k/this.canvas.getPixelRatio()),g._trace({property:$,val:k})}}_applyGlobalCompositeOperation(g){const w=g.attrs.globalCompositeOperation;!w||w==="source-over"||this.setAttr("globalCompositeOperation",w)}}Ro.Context=m,A.forEach(function(C){Object.defineProperty(m.prototype,C,{get(){return this._context[C]},set(g){this._context[C]=g}})});class p extends m{constructor(g,{willReadFrequently:w=!1}={}){super(g),this._context=g._canvas.getContext("2d",{willReadFrequently:w})}_fillColor(g){const w=g.fill();this.setAttr("fillStyle",w),g._fillFunc(this)}_fillPattern(g){this.setAttr("fillStyle",g._getFillPattern()),g._fillFunc(this)}_fillLinearGradient(g){const w=g._getLinearGradient();w&&(this.setAttr("fillStyle",w),g._fillFunc(this))}_fillRadialGradient(g){const w=g._getRadialGradient();w&&(this.setAttr("fillStyle",w),g._fillFunc(this))}_fill(g){const w=g.fill(),S=g.getFillPriority();if(w&&S==="color"){this._fillColor(g);return}const I=g.getFillPatternImage();if(I&&S==="pattern"){this._fillPattern(g);return}const O=g.getFillLinearGradientColorStops();if(O&&S==="linear-gradient"){this._fillLinearGradient(g);return}const U=g.getFillRadialGradientColorStops();if(U&&S==="radial-gradient"){this._fillRadialGradient(g);return}w?this._fillColor(g):I?this._fillPattern(g):O?this._fillLinearGradient(g):U&&this._fillRadialGradient(g)}_strokeLinearGradient(g){const w=g.getStrokeLinearGradientStartPoint(),S=g.getStrokeLinearGradientEndPoint(),I=g.getStrokeLinearGradientColorStops(),O=this.createLinearGradient(w.x,w.y,S.x,S.y);if(I){for(let U=0;U<I.length;U+=2)O.addColorStop(I[U],I[U+1]);this.setAttr("strokeStyle",O)}}_stroke(g){const w=g.dash(),S=g.getStrokeScaleEnabled();if(g.hasStroke()){if(!S){this.save();const O=this.getCanvas().getPixelRatio();this.setTransform(O,0,0,O,0,0)}this._applyLineCap(g),w&&g.dashEnabled()&&(this.setLineDash(w),this.setAttr("lineDashOffset",g.dashOffset())),this.setAttr("lineWidth",g.strokeWidth()),g.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),g.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(g):this.setAttr("strokeStyle",g.stroke()),g._strokeFunc(this),S||this.restore()}}_applyShadow(g){var w,S,I;const O=(w=g.getShadowRGBA())!==null&&w!==void 0?w:"black",U=(S=g.getShadowBlur())!==null&&S!==void 0?S:5,$=(I=g.getShadowOffset())!==null&&I!==void 0?I:{x:0,y:0},k=g.getAbsoluteScale(),P=this.canvas.getPixelRatio(),T=k.x*P,R=k.y*P;this.setAttr("shadowColor",O),this.setAttr("shadowBlur",U*Math.min(Math.abs(T),Math.abs(R))),this.setAttr("shadowOffsetX",$.x*T),this.setAttr("shadowOffsetY",$.y*R)}}Ro.SceneContext=p;class x extends m{constructor(g){super(g),this._context=g._canvas.getContext("2d",{willReadFrequently:!0})}_fill(g){this.save(),this.setAttr("fillStyle",g.colorKey),g._fillFuncHit(this),this.restore()}strokeShape(g){g.hasHitStroke()&&this._stroke(g)}_stroke(g){if(g.hasHitStroke()){const w=g.getStrokeScaleEnabled();if(!w){this.save();const O=this.getCanvas().getPixelRatio();this.setTransform(O,0,0,O,0,0)}this._applyLineCap(g);const S=g.hitStrokeWidth(),I=S==="auto"?g.strokeWidth():S;this.setAttr("lineWidth",I),this.setAttr("strokeStyle",g.colorKey),g._strokeFuncHit(this),w||this.restore()}}}return Ro.HitContext=x,Ro}var K_;function nb(){if(K_)return Lo;K_=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.HitCanvas=Lo.SceneCanvas=Lo.Canvas=void 0;const t=sn(),e=c5(),i=ti(),s=ii(),n=oi();let r;function o(){if(r)return r;const c=t.Util.createCanvasElement(),h=c.getContext("2d");return r=function(){const A=i.Konva._global.devicePixelRatio||1,f=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return A/f}(),t.Util.releaseCanvas(c),r}let a=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const f=(h||{}).pixelRatio||i.Konva.pixelRatio||o();this.pixelRatio=f,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const A=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/A,this.getHeight()/A)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const A=this.pixelRatio;this.getContext()._context.scale(A,A)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const A=this.pixelRatio;this.getContext()._context.scale(A,A)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,A){this.setWidth(h||0),this.setHeight(A||0)}toDataURL(h,A){try{return this._canvas.toDataURL(h,A)}catch{try{return this._canvas.toDataURL()}catch(m){return t.Util.error("Unable to get data URL. "+m.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Lo.Canvas=a,s.Factory.addGetterSetter(a,"pixelRatio",void 0,(0,n.getNumberValidator)());class l extends a{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}Lo.SceneCanvas=l;class u extends a{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return Lo.HitCanvas=u,Lo}var Sy={},G_;function S2(){return G_||(G_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ti(),i=sn();t.DD={get isDragging(){let s=!1;return t.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(s=!0)}),s},justDragged:!1,get node(){let s;return t.DD._dragElements.forEach(n=>{s=n.node}),s},_dragElements:new Map,_drag(s){const n=[];t.DD._dragElements.forEach((r,o)=>{const{node:a}=r,l=a.getStage();l.setPointersPositions(s),r.pointerId===void 0&&(r.pointerId=i.Util._getFirstPointerId(s));const u=l._changedPointerPositions.find(c=>c.id===r.pointerId);if(u){if(r.dragStatus!=="dragging"){const c=a.dragDistance();if(Math.max(Math.abs(u.x-r.startPointerPos.x),Math.abs(u.y-r.startPointerPos.y))<c||(a.startDrag({evt:s}),!a.isDragging()))return}a._setDragPosition(s,r),n.push(a)}}),n.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:s},!0)})},_endDragBefore(s){const n=[];t.DD._dragElements.forEach(r=>{const{node:o}=r,a=o.getStage();if(s&&a.setPointersPositions(s),!a._changedPointerPositions.find(c=>c.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,r.dragStatus="stopped");const u=r.node.getLayer()||r.node instanceof e.Konva.Stage&&r.node;u&&n.indexOf(u)===-1&&n.push(u)}),n.forEach(r=>{r.draw()})},_endDragAfter(s){t.DD._dragElements.forEach((n,r)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:s},!0),n.dragStatus!=="dragging"&&t.DD._dragElements.delete(r)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(Sy)),Sy}var q_;function dn(){if(q_)return Md;q_=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.Node=void 0;const t=sn(),e=ii(),i=nb(),s=ti(),n=S2(),r=oi(),o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",u="absoluteScale",c="canvas",h="Change",A="children",f="konva",m="listening",p="mouseenter",x="mouseleave",C="set",g="Shape",w=" ",S="stage",I="transform",O="Stage",U="visible",$=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(w);let k=1;class P{constructor(E){this._id=k++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(E),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(E){(E===I||E===l)&&this._cache.get(E)?this._cache.get(E).dirty=!0:E?this._cache.delete(E):this._cache.clear()}_getCache(E,_){let F=this._cache.get(E);return(F===void 0||(E===I||E===l)&&F.dirty===!0)&&(F=_.call(this),this._cache.set(E,F)),F}_calculate(E,_,F){if(!this._attachedDepsListeners.get(E)){const V=_.map(Q=>Q+"Change.konva").join(w);this.on(V,()=>{this._clearCache(E)}),this._attachedDepsListeners.set(E,!0)}return this._getCache(E,F)}_getCanvasCache(){return this._cache.get(c)}_clearSelfAndDescendantCache(E){this._clearCache(E),E===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(c)){const{scene:E,filter:_,hit:F}=this._cache.get(c);t.Util.releaseCanvas(E,_,F),this._cache.delete(c)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(E){const _=E||{};let F={};(_.x===void 0||_.y===void 0||_.width===void 0||_.height===void 0)&&(F=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let V=Math.ceil(_.width||F.width),Q=Math.ceil(_.height||F.height),G=_.pixelRatio,Y=_.x===void 0?Math.floor(F.x):_.x,ee=_.y===void 0?Math.floor(F.y):_.y,W=_.offset||0,ge=_.drawBorder||!1,ce=_.hitCanvasPixelRatio||1;if(!V||!Q){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const we=Math.abs(Math.round(F.x)-Y)>.5?1:0,Ce=Math.abs(Math.round(F.y)-ee)>.5?1:0;V+=W*2+we,Q+=W*2+Ce,Y-=W,ee-=W;const Oe=new i.SceneCanvas({pixelRatio:G,width:V,height:Q}),de=new i.SceneCanvas({pixelRatio:G,width:0,height:0,willReadFrequently:!0}),Te=new i.HitCanvas({pixelRatio:ce,width:V,height:Q}),xe=Oe.getContext(),He=Te.getContext();return Te.isCache=!0,Oe.isCache=!0,this._cache.delete(c),this._filterUpToDate=!1,_.imageSmoothingEnabled===!1&&(Oe.getContext()._context.imageSmoothingEnabled=!1,de.getContext()._context.imageSmoothingEnabled=!1),xe.save(),He.save(),xe.translate(-Y,-ee),He.translate(-Y,-ee),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(u),this.drawScene(Oe,this),this.drawHit(Te,this),this._isUnderCache=!1,xe.restore(),He.restore(),ge&&(xe.save(),xe.beginPath(),xe.rect(0,0,V,Q),xe.closePath(),xe.setAttr("strokeStyle","red"),xe.setAttr("lineWidth",5),xe.stroke(),xe.restore()),this._cache.set(c,{scene:Oe,filter:de,hit:Te,x:Y,y:ee}),this._requestDraw(),this}isCached(){return this._cache.has(c)}getClientRect(E){throw new Error('abstract "getClientRect" method call')}_transformedRect(E,_){const F=[{x:E.x,y:E.y},{x:E.x+E.width,y:E.y},{x:E.x+E.width,y:E.y+E.height},{x:E.x,y:E.y+E.height}];let V=1/0,Q=1/0,G=-1/0,Y=-1/0;const ee=this.getAbsoluteTransform(_);return F.forEach(function(W){const ge=ee.point(W);V===void 0&&(V=G=ge.x,Q=Y=ge.y),V=Math.min(V,ge.x),Q=Math.min(Q,ge.y),G=Math.max(G,ge.x),Y=Math.max(Y,ge.y)}),{x:V,y:Q,width:G-V,height:Y-Q}}_drawCachedSceneCanvas(E){E.save(),E._applyOpacity(this),E._applyGlobalCompositeOperation(this);const _=this._getCanvasCache();E.translate(_.x,_.y);const F=this._getCachedSceneCanvas(),V=F.pixelRatio;E.drawImage(F._canvas,0,0,F.width/V,F.height/V),E.restore()}_drawCachedHitCanvas(E){const _=this._getCanvasCache(),F=_.hit;E.save(),E.translate(_.x,_.y),E.drawImage(F._canvas,0,0,F.width/F.pixelRatio,F.height/F.pixelRatio),E.restore()}_getCachedSceneCanvas(){let E=this.filters(),_=this._getCanvasCache(),F=_.scene,V=_.filter,Q=V.getContext(),G,Y,ee,W;if(E){if(!this._filterUpToDate){const ge=F.pixelRatio;V.setSize(F.width/F.pixelRatio,F.height/F.pixelRatio);try{for(G=E.length,Q.clear(),Q.drawImage(F._canvas,0,0,F.getWidth()/ge,F.getHeight()/ge),Y=Q.getImageData(0,0,V.getWidth(),V.getHeight()),ee=0;ee<G;ee++){if(W=E[ee],typeof W!="function"){t.Util.error("Filter should be type of function, but got "+typeof W+" instead. Please check correct filters");continue}W.call(this,Y),Q.putImageData(Y,0,0)}}catch(ce){t.Util.error("Unable to apply filter. "+ce.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return V}return F}on(E,_){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);let F=E.split(w),V=F.length,Q,G,Y,ee,W;for(Q=0;Q<V;Q++)G=F[Q],Y=G.split("."),ee=Y[0],W=Y[1]||"",this.eventListeners[ee]||(this.eventListeners[ee]=[]),this.eventListeners[ee].push({name:W,handler:_});return this}off(E,_){let F=(E||"").split(w),V=F.length,Q,G,Y,ee,W,ge;if(this._cache&&this._cache.delete(a),!E)for(G in this.eventListeners)this._off(G);for(Q=0;Q<V;Q++)if(Y=F[Q],ee=Y.split("."),W=ee[0],ge=ee[1],W)this.eventListeners[W]&&this._off(W,ge,_);else for(G in this.eventListeners)this._off(G,ge,_);return this}dispatchEvent(E){const _={target:this,type:E.type,evt:E};return this.fire(E.type,_),this}addEventListener(E,_){return this.on(E,function(F){_.call(this,F.evt)}),this}removeEventListener(E){return this.off(E),this}_delegate(E,_,F){const V=this;this.on(E,function(Q){const G=Q.target.findAncestors(_,!0,V);for(let Y=0;Y<G.length;Y++)Q=t.Util.cloneObject(Q),Q.currentTarget=G[Y],F.call(G[Y],Q)})}remove(){return this.isDragging()&&this.stopDrag(),n.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(S),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(m)}_remove(){this._clearCaches();const E=this.getParent();E&&E.children&&(E.children.splice(this.index,1),E._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(E){const _="get"+t.Util._capitalize(E);return t.Util._isFunction(this[_])?this[_]():this.attrs[E]}getAncestors(){let E=this.getParent(),_=[];for(;E;)_.push(E),E=E.getParent();return _}getAttrs(){return this.attrs||{}}setAttrs(E){return this._batchTransformChanges(()=>{let _,F;if(!E)return this;for(_ in E)_!==A&&(F=C+t.Util._capitalize(_),t.Util._isFunction(this[F])?this[F](E[_]):this._setAttr(_,E[_]))}),this}isListening(){return this._getCache(m,this._isListening)}_isListening(E){if(!this.listening())return!1;const F=this.getParent();return F&&F!==E&&this!==E?F._isListening(E):!0}isVisible(){return this._getCache(U,this._isVisible)}_isVisible(E){if(!this.visible())return!1;const F=this.getParent();return F&&F!==E&&this!==E?F._isVisible(E):!0}shouldDrawHit(E,_=!1){if(E)return this._isVisible(E)&&this._isListening(E);const F=this.getLayer();let V=!1;n.DD._dragElements.forEach(G=>{G.dragStatus==="dragging"&&(G.node.nodeType==="Stage"||G.node.getLayer()===F)&&(V=!0)});const Q=!_&&!s.Konva.hitOnDragEnabled&&(V||s.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!Q}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let E=this.getDepth(),_=this,F=0,V,Q,G,Y;function ee(ge){for(V=[],Q=ge.length,G=0;G<Q;G++)Y=ge[G],F++,Y.nodeType!==g&&(V=V.concat(Y.getChildren().slice())),Y._id===_._id&&(G=Q);V.length>0&&V[0].getDepth()<=E&&ee(V)}const W=this.getStage();return _.nodeType!==O&&W&&ee(W.getChildren()),F}getDepth(){let E=0,_=this.parent;for(;_;)E++,_=_.parent;return E}_batchTransformChanges(E){this._batchingTransformChange=!0,E(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(I),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(E){return this._batchTransformChanges(()=>{this.x(E.x),this.y(E.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const E=this.getStage();if(!E)return null;const _=E.getPointerPosition();if(!_)return null;const F=this.getAbsoluteTransform().copy();return F.invert(),F.point(_)}getAbsolutePosition(E){let _=!1,F=this.parent;for(;F;){if(F.isCached()){_=!0;break}F=F.parent}_&&!E&&(E=!0);const V=this.getAbsoluteTransform(E).getMatrix(),Q=new t.Transform,G=this.offset();return Q.m=V.slice(),Q.translate(G.x,G.y),Q.getTranslation()}setAbsolutePosition(E){const{x:_,y:F,...V}=this._clearTransform();this.attrs.x=_,this.attrs.y=F,this._clearCache(I);const Q=this._getAbsoluteTransform().copy();return Q.invert(),Q.translate(E.x,E.y),E={x:this.attrs.x+Q.getTranslation().x,y:this.attrs.y+Q.getTranslation().y},this._setTransform(V),this.setPosition({x:E.x,y:E.y}),this._clearCache(I),this._clearSelfAndDescendantCache(l),this}_setTransform(E){let _;for(_ in E)this.attrs[_]=E[_]}_clearTransform(){const E={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,E}move(E){let _=E.x,F=E.y,V=this.x(),Q=this.y();return _!==void 0&&(V+=_),F!==void 0&&(Q+=F),this.setPosition({x:V,y:Q}),this}_eachAncestorReverse(E,_){let F=[],V=this.getParent(),Q,G;if(!(_&&_._id===this._id)){for(F.unshift(this);V&&(!_||V._id!==_._id);)F.unshift(V),V=V.parent;for(Q=F.length,G=0;G<Q;G++)E(F[G])}}rotate(E){return this.rotation(this.rotation()+E),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const E=this.index,_=this.parent.getChildren().length;return E<_-1?(this.parent.children.splice(E,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const E=this.index,_=this.parent.getChildren().length;return E<_-1?(this.parent.children.splice(E,1),this.parent.children.splice(E+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const E=this.index;return E>0?(this.parent.children.splice(E,1),this.parent.children.splice(E-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const E=this.index;return E>0?(this.parent.children.splice(E,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(E){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(E<0||E>=this.parent.children.length)&&t.Util.warn("Unexpected value "+E+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const _=this.index;return this.parent.children.splice(_,1),this.parent.children.splice(E,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let E=this.opacity();const _=this.getParent();return _&&!_._isUnderCache&&(E*=_.getAbsoluteOpacity()),E}moveTo(E){return this.getParent()!==E&&(this._remove(),E.add(this)),this}toObject(){let E=this.getAttrs(),_,F,V,Q,G;const Y={attrs:{},className:this.getClassName()};for(_ in E)F=E[_],G=t.Util.isObject(F)&&!t.Util._isPlainObject(F)&&!t.Util._isArray(F),!G&&(V=typeof this[_]=="function"&&this[_],delete E[_],Q=V?V.call(this):null,E[_]=F,Q!==F&&(Y.attrs[_]=F));return t.Util._prepareToStringify(Y)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(E,_,F){const V=[];_&&this._isMatch(E)&&V.push(this);let Q=this.parent;for(;Q;){if(Q===F)return V;Q._isMatch(E)&&V.push(Q),Q=Q.parent}return V}isAncestorOf(E){return!1}findAncestor(E,_,F){return this.findAncestors(E,_,F)[0]}_isMatch(E){if(!E)return!1;if(typeof E=="function")return E(this);let _=E.replace(/ /g,"").split(","),F=_.length,V,Q;for(V=0;V<F;V++)if(Q=_[V],t.Util.isValidSelector(Q)||(t.Util.warn('Selector "'+Q+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),Q.charAt(0)==="#"){if(this.id()===Q.slice(1))return!0}else if(Q.charAt(0)==="."){if(this.hasName(Q.slice(1)))return!0}else if(this.className===Q||this.nodeType===Q)return!0;return!1}getLayer(){const E=this.getParent();return E?E.getLayer():null}getStage(){return this._getCache(S,this._getStage)}_getStage(){const E=this.getParent();return E?E.getStage():null}fire(E,_={},F){return _.target=_.target||this,F?this._fireAndBubble(E,_):this._fire(E,_),this}getAbsoluteTransform(E){return E?this._getAbsoluteTransform(E):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(E){let _;if(E)return _=new t.Transform,this._eachAncestorReverse(function(F){const V=F.transformsEnabled();V==="all"?_.multiply(F.getTransform()):V==="position"&&_.translate(F.x()-F.offsetX(),F.y()-F.offsetY())},E),_;{_=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(_):_.reset();const F=this.transformsEnabled();if(F==="all")_.multiply(this.getTransform());else if(F==="position"){const V=this.attrs.x||0,Q=this.attrs.y||0,G=this.attrs.offsetX||0,Y=this.attrs.offsetY||0;_.translate(V-G,Q-Y)}return _.dirty=!1,_}}getAbsoluteScale(E){let _=this;for(;_;)_._isUnderCache&&(E=_),_=_.getParent();const V=this.getAbsoluteTransform(E).decompose();return{x:V.scaleX,y:V.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(I,this._getTransform)}_getTransform(){var E,_;const F=this._cache.get(I)||new t.Transform;F.reset();const V=this.x(),Q=this.y(),G=s.Konva.getAngle(this.rotation()),Y=(E=this.attrs.scaleX)!==null&&E!==void 0?E:1,ee=(_=this.attrs.scaleY)!==null&&_!==void 0?_:1,W=this.attrs.skewX||0,ge=this.attrs.skewY||0,ce=this.attrs.offsetX||0,we=this.attrs.offsetY||0;return(V!==0||Q!==0)&&F.translate(V,Q),G!==0&&F.rotate(G),(W!==0||ge!==0)&&F.skew(W,ge),(Y!==1||ee!==1)&&F.scale(Y,ee),(ce!==0||we!==0)&&F.translate(-1*ce,-1*we),F.dirty=!1,F}clone(E){let _=t.Util.cloneObject(this.attrs),F,V,Q,G,Y;for(F in E)_[F]=E[F];const ee=new this.constructor(_);for(F in this.eventListeners)for(V=this.eventListeners[F],Q=V.length,G=0;G<Q;G++)Y=V[G],Y.name.indexOf(f)<0&&(ee.eventListeners[F]||(ee.eventListeners[F]=[]),ee.eventListeners[F].push(Y));return ee}_toKonvaCanvas(E){E=E||{};const _=this.getClientRect(),F=this.getStage(),V=E.x!==void 0?E.x:Math.floor(_.x),Q=E.y!==void 0?E.y:Math.floor(_.y),G=E.pixelRatio||1,Y=new i.SceneCanvas({width:E.width||Math.ceil(_.width)||(F?F.width():0),height:E.height||Math.ceil(_.height)||(F?F.height():0),pixelRatio:G}),ee=Y.getContext(),W=new i.SceneCanvas({width:Y.width/Y.pixelRatio+Math.abs(V),height:Y.height/Y.pixelRatio+Math.abs(Q),pixelRatio:Y.pixelRatio});return E.imageSmoothingEnabled===!1&&(ee._context.imageSmoothingEnabled=!1),ee.save(),(V||Q)&&ee.translate(-1*V,-1*Q),this.drawScene(Y,void 0,W),ee.restore(),Y}toCanvas(E){return this._toKonvaCanvas(E)._canvas}toDataURL(E){E=E||{};const _=E.mimeType||null,F=E.quality||null,V=this._toKonvaCanvas(E).toDataURL(_,F);return E.callback&&E.callback(V),V}toImage(E){return new Promise((_,F)=>{try{const V=E==null?void 0:E.callback;V&&delete E.callback,t.Util._urlToImage(this.toDataURL(E),function(Q){_(Q),V==null||V(Q)})}catch(V){F(V)}})}toBlob(E){return new Promise((_,F)=>{try{const V=E==null?void 0:E.callback;V&&delete E.callback,this.toCanvas(E).toBlob(Q=>{_(Q),V==null||V(Q)},E==null?void 0:E.mimeType,E==null?void 0:E.quality)}catch(V){F(V)}})}setSize(E){return this.width(E.width),this.height(E.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():s.Konva.dragDistance}_off(E,_,F){let V=this.eventListeners[E],Q,G,Y;for(Q=0;Q<V.length;Q++)if(G=V[Q].name,Y=V[Q].handler,(G!=="konva"||_==="konva")&&(!_||G===_)&&(!F||F===Y)){if(V.splice(Q,1),V.length===0){delete this.eventListeners[E];break}Q--}}_fireChangeEvent(E,_,F){this._fire(E+h,{oldVal:_,newVal:F})}addName(E){if(!this.hasName(E)){const _=this.name(),F=_?_+" "+E:E;this.name(F)}return this}hasName(E){if(!E)return!1;const _=this.name();return _?(_||"").split(/\s/g).indexOf(E)!==-1:!1}removeName(E){const _=(this.name()||"").split(/\s/g),F=_.indexOf(E);return F!==-1&&(_.splice(F,1),this.name(_.join(" "))),this}setAttr(E,_){const F=this[C+t.Util._capitalize(E)];return t.Util._isFunction(F)?F.call(this,_):this._setAttr(E,_),this}_requestDraw(){if(s.Konva.autoDrawEnabled){const E=this.getLayer()||this.getStage();E==null||E.batchDraw()}}_setAttr(E,_){const F=this.attrs[E];F===_&&!t.Util.isObject(_)||(_==null?delete this.attrs[E]:this.attrs[E]=_,this._shouldFireChangeEvents&&this._fireChangeEvent(E,F,_),this._requestDraw())}_setComponentAttr(E,_,F){let V;F!==void 0&&(V=this.attrs[E],V||(this.attrs[E]=this.getAttr(E)),this.attrs[E][_]=F,this._fireChangeEvent(E,V,F))}_fireAndBubble(E,_,F){if(_&&this.nodeType===g&&(_.target=this),!((E===p||E===x)&&(F&&(this===F||this.isAncestorOf&&this.isAncestorOf(F))||this.nodeType==="Stage"&&!F))){this._fire(E,_);const Q=(E===p||E===x)&&F&&F.isAncestorOf&&F.isAncestorOf(this)&&!F.isAncestorOf(this.parent);(_&&!_.cancelBubble||!_)&&this.parent&&this.parent.isListening()&&!Q&&(F&&F.parent?this._fireAndBubble.call(this.parent,E,_,F):this._fireAndBubble.call(this.parent,E,_))}}_getProtoListeners(E){var _,F,V;const Q=(_=this._cache.get(a))!==null&&_!==void 0?_:{};let G=Q==null?void 0:Q[E];if(G===void 0){G=[];let Y=Object.getPrototypeOf(this);for(;Y;){const ee=(V=(F=Y.eventListeners)===null||F===void 0?void 0:F[E])!==null&&V!==void 0?V:[];G.push(...ee),Y=Object.getPrototypeOf(Y)}Q[E]=G,this._cache.set(a,Q)}return G}_fire(E,_){_=_||{},_.currentTarget=this,_.type=E;const F=this._getProtoListeners(E);if(F)for(var V=0;V<F.length;V++)F[V].handler.call(this,_);const Q=this.eventListeners[E];if(Q)for(var V=0;V<Q.length;V++)Q[V].handler.call(this,_)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(E){const _=E?E.pointerId:void 0,F=this.getStage(),V=this.getAbsolutePosition();if(!F)return;const Q=F._getPointerById(_)||F._changedPointerPositions[0]||V;n.DD._dragElements.set(this._id,{node:this,startPointerPos:Q,offset:{x:Q.x-V.x,y:Q.y-V.y},dragStatus:"ready",pointerId:_})}startDrag(E,_=!0){n.DD._dragElements.has(this._id)||this._createDragElement(E);const F=n.DD._dragElements.get(this._id);F.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:E&&E.evt},_)}_setDragPosition(E,_){const F=this.getStage()._getPointerById(_.pointerId);if(!F)return;let V={x:F.x-_.offset.x,y:F.y-_.offset.y};const Q=this.dragBoundFunc();if(Q!==void 0){const G=Q.call(this,V,E);G?V=G:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==V.x||this._lastPos.y!==V.y)&&(this.setAbsolutePosition(V),this._requestDraw()),this._lastPos=V}stopDrag(E){const _=n.DD._dragElements.get(this._id);_&&(_.dragStatus="stopped"),n.DD._endDragBefore(E),n.DD._endDragAfter(E)}setDraggable(E){this._setAttr("draggable",E),this._dragChange()}isDragging(){const E=n.DD._dragElements.get(this._id);return E?E.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(E){if(!(!(E.evt.button!==void 0)||s.Konva.dragButtons.indexOf(E.evt.button)>=0)||this.isDragging())return;let V=!1;n.DD._dragElements.forEach(Q=>{this.isAncestorOf(Q.node)&&(V=!0)}),V||this._createDragElement(E)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const _=n.DD._dragElements.get(this._id),F=_&&_.dragStatus==="dragging",V=_&&_.dragStatus==="ready";F?this.stopDrag():V&&n.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(E={x:0,y:0}){const _=this.getStage();if(!_)return!1;const F={x:-E.x,y:-E.y,width:_.width()+2*E.x,height:_.height()+2*E.y};return t.Util.haveIntersection(F,this.getClientRect())}static create(E,_){return t.Util._isString(E)&&(E=JSON.parse(E)),this._createNode(E,_)}static _createNode(E,_){let F=P.prototype.getClassName.call(E),V=E.children,Q,G,Y;_&&(E.attrs.container=_),s.Konva[F]||(t.Util.warn('Can not find a node with class name "'+F+'". Fallback to "Shape".'),F="Shape");const ee=s.Konva[F];if(Q=new ee(E.attrs),V)for(G=V.length,Y=0;Y<G;Y++)Q.add(P._createNode(V[Y]));return Q}}Md.Node=P,P.prototype.nodeType="Node",P.prototype._attrsAffectingSize=[],P.prototype.eventListeners={},P.prototype.on.call(P.prototype,$,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(I),this._clearSelfAndDescendantCache(l)}),P.prototype.on.call(P.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(U)}),P.prototype.on.call(P.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(m)}),P.prototype.on.call(P.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const T=e.Factory.addGetterSetter;return T(P,"zIndex"),T(P,"absolutePosition"),T(P,"position"),T(P,"x",0,(0,r.getNumberValidator)()),T(P,"y",0,(0,r.getNumberValidator)()),T(P,"globalCompositeOperation","source-over",(0,r.getStringValidator)()),T(P,"opacity",1,(0,r.getNumberValidator)()),T(P,"name","",(0,r.getStringValidator)()),T(P,"id","",(0,r.getStringValidator)()),T(P,"rotation",0,(0,r.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"scale",["x","y"]),T(P,"scaleX",1,(0,r.getNumberValidator)()),T(P,"scaleY",1,(0,r.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"skew",["x","y"]),T(P,"skewX",0,(0,r.getNumberValidator)()),T(P,"skewY",0,(0,r.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"offset",["x","y"]),T(P,"offsetX",0,(0,r.getNumberValidator)()),T(P,"offsetY",0,(0,r.getNumberValidator)()),T(P,"dragDistance",void 0,(0,r.getNumberValidator)()),T(P,"width",0,(0,r.getNumberValidator)()),T(P,"height",0,(0,r.getNumberValidator)()),T(P,"listening",!0,(0,r.getBooleanValidator)()),T(P,"preventDefault",!0,(0,r.getBooleanValidator)()),T(P,"filters",void 0,function(R){return this._filterUpToDate=!1,R}),T(P,"visible",!0,(0,r.getBooleanValidator)()),T(P,"transformsEnabled","all",(0,r.getStringValidator)()),T(P,"size"),T(P,"dragBoundFunc"),T(P,"draggable",!1,(0,r.getBooleanValidator)()),e.Factory.backCompat(P,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Md}var Od={},W_;function sb(){if(W_)return Od;W_=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.Container=void 0;const t=ii(),e=dn(),i=oi();let s=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(r){if(!r)return this.children||[];const o=this.children||[],a=[];return o.forEach(function(l){r(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(r=>{r.parent=null,r.index=0,r.destroy()}),this.children=[],this._requestDraw(),this}add(...r){if(r.length===0)return this;if(r.length>1){for(let a=0;a<r.length;a++)this.add(r[a]);return this}const o=r[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(r){return this._generalFind(r,!1)}findOne(r){const o=this._generalFind(r,!0);return o.length>0?o[0]:void 0}_generalFind(r,o){const a=[];return this._descendants(l=>{const u=l._isMatch(r);return u&&a.push(l),!!(u&&o)}),a}_descendants(r){let o=!1;const a=this.getChildren();for(const l of a){if(o=r(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(r),o))return!0}return!1}toObject(){const r=e.Node.prototype.toObject.call(this);return r.children=[],this.getChildren().forEach(o=>{r.children.push(o.toObject())}),r}isAncestorOf(r){let o=r.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(r){const o=e.Node.prototype.clone.call(this,r);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(r){const o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(r)&&o.push(a)}),o}_clearSelfAndDescendantCache(r){var o;super._clearSelfAndDescendantCache(r),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(r)}))}_setChildrenIndices(){var r;(r=this.children)===null||r===void 0||r.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(r,o,a){const l=this.getLayer(),u=r||l&&l.getCanvas(),c=u&&u.getContext(),h=this._getCanvasCache(),A=h&&h.scene,f=u&&u.isCache;if(!this.isVisible()&&!f)return this;if(A){c.save();const m=this.getAbsoluteTransform(o).getMatrix();c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",u,o,a);return this}drawHit(r,o){if(!this.shouldDrawHit(o))return this;const a=this.getLayer(),l=r||a&&a.hitCanvas,u=l&&l.getContext(),c=this._getCanvasCache();if(c&&c.hit){u.save();const A=this.getAbsoluteTransform(o).getMatrix();u.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(r,o,a,l){var u;const c=o&&o.getContext(),h=this.clipWidth(),A=this.clipHeight(),f=this.clipFunc(),m=typeof h=="number"&&typeof A=="number"||f,p=a===this;if(m){c.save();const C=this.getAbsoluteTransform(a);let g=C.getMatrix();c.transform(g[0],g[1],g[2],g[3],g[4],g[5]),c.beginPath();let w;if(f)w=f.call(this,c,this);else{const S=this.clipX(),I=this.clipY();c.rect(S||0,I||0,h,A)}c.clip.apply(c,w),g=C.copy().invert().getMatrix(),c.transform(g[0],g[1],g[2],g[3],g[4],g[5])}const x=!p&&this.globalCompositeOperation()!=="source-over"&&r==="drawScene";x&&(c.save(),c._applyGlobalCompositeOperation(this)),(u=this.children)===null||u===void 0||u.forEach(function(C){C[r](o,a,l)}),x&&c.restore(),m&&c.restore()}getClientRect(r={}){var o;const a=r.skipTransform,l=r.relativeTo;let u,c,h,A,f={x:1/0,y:1/0,width:0,height:0};const m=this;(o=this.children)===null||o===void 0||o.forEach(function(C){if(!C.visible())return;const g=C.getClientRect({relativeTo:m,skipShadow:r.skipShadow,skipStroke:r.skipStroke});g.width===0&&g.height===0||(u===void 0?(u=g.x,c=g.y,h=g.x+g.width,A=g.y+g.height):(u=Math.min(u,g.x),c=Math.min(c,g.y),h=Math.max(h,g.x+g.width),A=Math.max(A,g.y+g.height)))});const p=this.find("Shape");let x=!1;for(let C=0;C<p.length;C++)if(p[C]._isVisible(this)){x=!0;break}return x&&u!==void 0?f={x:u,y:c,width:h-u,height:A-c}:f={x:0,y:0,width:0,height:0},a?f:this._transformedRect(f,l)}};return Od.Container=s,t.Factory.addComponentsGetterSetter(s,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(s,"clipX",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clipY",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clipWidth",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clipHeight",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"clipFunc"),Od}var By={},xa={},Y_;function d5(){if(Y_)return xa;Y_=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.getCapturedShape=s,xa.createEvent=n,xa.hasPointerCapture=r,xa.setPointerCapture=o,xa.releaseCapture=a;const t=ti(),e=new Map,i=t.Konva._global.PointerEvent!==void 0;function s(l){return e.get(l)}function n(l){return{evt:l,pointerId:l.pointerId}}function r(l,u){return e.get(l)===u}function o(l,u){a(l),u.getStage()&&(e.set(l,u),i&&u._fire("gotpointercapture",n(new PointerEvent("gotpointercapture"))))}function a(l,u){const c=e.get(l);if(!c)return;const h=c.getStage();h&&h.content,e.delete(l),i&&c._fire("lostpointercapture",n(new PointerEvent("lostpointercapture")))}return xa}var X_;function tAe(){return X_||(X_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=sn(),i=ii(),s=sb(),n=ti(),r=nb(),o=S2(),a=ti(),l=d5(),u="Stage",c="string",h="px",A="mouseout",f="mouseleave",m="mouseover",p="mouseenter",x="mousemove",C="mousedown",g="mouseup",w="pointermove",S="pointerdown",I="pointerup",O="pointercancel",U="lostpointercapture",$="pointerout",k="pointerleave",P="pointerover",T="pointerenter",R="contextmenu",E="touchstart",_="touchend",F="touchmove",V="touchcancel",Q="wheel",G=5,Y=[[p,"_pointerenter"],[C,"_pointerdown"],[x,"_pointermove"],[g,"_pointerup"],[f,"_pointerleave"],[E,"_pointerdown"],[F,"_pointermove"],[_,"_pointerup"],[V,"_pointercancel"],[m,"_pointerover"],[Q,"_wheel"],[R,"_contextmenu"],[S,"_pointerdown"],[w,"_pointermove"],[I,"_pointerup"],[O,"_pointercancel"],[U,"_lostpointercapture"]],ee={mouse:{[$]:A,[k]:f,[P]:m,[T]:p,[w]:x,[S]:C,[I]:g,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[$]:"touchout",[k]:"touchleave",[P]:"touchover",[T]:"touchenter",[w]:F,[S]:E,[I]:_,[O]:V,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[$]:$,[k]:k,[P]:P,[T]:T,[w]:w,[S]:S,[I]:I,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},W=Oe=>Oe.indexOf("pointer")>=0?"pointer":Oe.indexOf("touch")>=0?"touch":"mouse",ge=Oe=>{const de=W(Oe);if(de==="pointer")return n.Konva.pointerEventsEnabled&&ee.pointer;if(de==="touch")return ee.touch;if(de==="mouse")return ee.mouse};function ce(Oe={}){return(Oe.clipFunc||Oe.clipWidth||Oe.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Oe}const we="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Ce extends s.Container{constructor(de){super(ce(de)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ce(this.attrs)}),this._checkVisibility()}_validateAdd(de){const Te=de.getType()==="Layer",xe=de.getType()==="FastLayer";Te||xe||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const de=this.visible()?"":"none";this.content.style.display=de}setContainer(de){if(typeof de===c){if(de.charAt(0)==="."){const xe=de.slice(1);de=document.getElementsByClassName(xe)[0]}else{var Te;de.charAt(0)!=="#"?Te=de:Te=de.slice(1),de=document.getElementById(Te)}if(!de)throw"Can not find container in document with id "+Te}return this._setAttr("container",de),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),de.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const de=this.children,Te=de.length;for(let xe=0;xe<Te;xe++)de[xe].clear();return this}clone(de){return de||(de={}),de.container=typeof document<"u"&&document.createElement("div"),s.Container.prototype.clone.call(this,de)}destroy(){super.destroy();const de=this.content;de&&e.Util._isInDocument(de)&&this.container().removeChild(de);const Te=t.stages.indexOf(this);return Te>-1&&t.stages.splice(Te,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const de=this._pointerPositions[0]||this._changedPointerPositions[0];return de?{x:de.x,y:de.y}:(e.Util.warn(we),null)}_getPointerById(de){return this._pointerPositions.find(Te=>Te.id===de)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(de){de=de||{},de.x=de.x||0,de.y=de.y||0,de.width=de.width||this.width(),de.height=de.height||this.height();const Te=new r.SceneCanvas({width:de.width,height:de.height,pixelRatio:de.pixelRatio||1}),xe=Te.getContext()._context,He=this.children;return(de.x||de.y)&&xe.translate(-1*de.x,-1*de.y),He.forEach(function($e){if(!$e.isVisible())return;const oe=$e._toKonvaCanvas(de);xe.drawImage(oe._canvas,de.x,de.y,oe.getWidth()/oe.getPixelRatio(),oe.getHeight()/oe.getPixelRatio())}),Te}getIntersection(de){if(!de)return null;const Te=this.children,xe=Te.length,He=xe-1;for(let $e=He;$e>=0;$e--){const oe=Te[$e].getIntersection(de);if(oe)return oe}return null}_resizeDOM(){const de=this.width(),Te=this.height();this.content&&(this.content.style.width=de+h,this.content.style.height=Te+h),this.bufferCanvas.setSize(de,Te),this.bufferHitCanvas.setSize(de,Te),this.children.forEach(xe=>{xe.setSize({width:de,height:Te}),xe.draw()})}add(de,...Te){if(arguments.length>1){for(let He=0;He<arguments.length;He++)this.add(arguments[He]);return this}super.add(de);const xe=this.children.length;return xe>G&&e.Util.warn("The stage has "+xe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),de.setSize({width:this.width(),height:this.height()}),de.draw(),n.Konva.isBrowser&&this.content.appendChild(de.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(de){return l.hasPointerCapture(de,this)}setPointerCapture(de){l.setPointerCapture(de,this)}releaseCapture(de){l.releaseCapture(de,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&Y.forEach(([de,Te])=>{this.content.addEventListener(de,xe=>{this[Te](xe)},{passive:!1})})}_pointerenter(de){this.setPointersPositions(de);const Te=ge(de.type);Te&&this._fire(Te.pointerenter,{evt:de,target:this,currentTarget:this})}_pointerover(de){this.setPointersPositions(de);const Te=ge(de.type);Te&&this._fire(Te.pointerover,{evt:de,target:this,currentTarget:this})}_getTargetShape(de){let Te=this[de+"targetShape"];return Te&&!Te.getStage()&&(Te=null),Te}_pointerleave(de){const Te=ge(de.type),xe=W(de.type);if(!Te)return;this.setPointersPositions(de);const He=this._getTargetShape(xe),$e=!(n.Konva.isDragging()||n.Konva.isTransforming())||n.Konva.hitOnDragEnabled;He&&$e?(He._fireAndBubble(Te.pointerout,{evt:de}),He._fireAndBubble(Te.pointerleave,{evt:de}),this._fire(Te.pointerleave,{evt:de,target:this,currentTarget:this}),this[xe+"targetShape"]=null):$e&&(this._fire(Te.pointerleave,{evt:de,target:this,currentTarget:this}),this._fire(Te.pointerout,{evt:de,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(de){const Te=ge(de.type),xe=W(de.type);if(!Te)return;this.setPointersPositions(de);let He=!1;this._changedPointerPositions.forEach($e=>{const oe=this.getIntersection($e);if(o.DD.justDragged=!1,n.Konva["_"+xe+"ListenClick"]=!0,!oe||!oe.isListening()){this[xe+"ClickStartShape"]=void 0;return}n.Konva.capturePointerEventsEnabled&&oe.setPointerCapture($e.id),this[xe+"ClickStartShape"]=oe,oe._fireAndBubble(Te.pointerdown,{evt:de,pointerId:$e.id}),He=!0;const Ae=de.type.indexOf("touch")>=0;oe.preventDefault()&&de.cancelable&&Ae&&de.preventDefault()}),He||this._fire(Te.pointerdown,{evt:de,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(de){const Te=ge(de.type),xe=W(de.type);if(!Te||(n.Konva.isDragging()&&o.DD.node.preventDefault()&&de.cancelable&&de.preventDefault(),this.setPointersPositions(de),!(!(n.Konva.isDragging()||n.Konva.isTransforming())||n.Konva.hitOnDragEnabled)))return;const $e={};let oe=!1;const Ae=this._getTargetShape(xe);this._changedPointerPositions.forEach(De=>{const Ie=l.getCapturedShape(De.id)||this.getIntersection(De),Re=De.id,X={evt:de,pointerId:Re},ae=Ae!==Ie;if(ae&&Ae&&(Ae._fireAndBubble(Te.pointerout,{...X},Ie),Ae._fireAndBubble(Te.pointerleave,{...X},Ie)),Ie){if($e[Ie._id])return;$e[Ie._id]=!0}Ie&&Ie.isListening()?(oe=!0,ae&&(Ie._fireAndBubble(Te.pointerover,{...X},Ae),Ie._fireAndBubble(Te.pointerenter,{...X},Ae),this[xe+"targetShape"]=Ie),Ie._fireAndBubble(Te.pointermove,{...X})):Ae&&(this._fire(Te.pointerover,{evt:de,target:this,currentTarget:this,pointerId:Re}),this[xe+"targetShape"]=null)}),oe||this._fire(Te.pointermove,{evt:de,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(de){const Te=ge(de.type),xe=W(de.type);if(!Te)return;this.setPointersPositions(de);const He=this[xe+"ClickStartShape"],$e=this[xe+"ClickEndShape"],oe={};let Ae=!1;this._changedPointerPositions.forEach(De=>{const Ie=l.getCapturedShape(De.id)||this.getIntersection(De);if(Ie){if(Ie.releaseCapture(De.id),oe[Ie._id])return;oe[Ie._id]=!0}const Re=De.id,X={evt:de,pointerId:Re};let ae=!1;n.Konva["_"+xe+"InDblClickWindow"]?(ae=!0,clearTimeout(this[xe+"DblTimeout"])):o.DD.justDragged||(n.Konva["_"+xe+"InDblClickWindow"]=!0,clearTimeout(this[xe+"DblTimeout"])),this[xe+"DblTimeout"]=setTimeout(function(){n.Konva["_"+xe+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),Ie&&Ie.isListening()?(Ae=!0,this[xe+"ClickEndShape"]=Ie,Ie._fireAndBubble(Te.pointerup,{...X}),n.Konva["_"+xe+"ListenClick"]&&He&&He===Ie&&(Ie._fireAndBubble(Te.pointerclick,{...X}),ae&&$e&&$e===Ie&&Ie._fireAndBubble(Te.pointerdblclick,{...X}))):(this[xe+"ClickEndShape"]=null,n.Konva["_"+xe+"ListenClick"]&&this._fire(Te.pointerclick,{evt:de,target:this,currentTarget:this,pointerId:Re}),ae&&this._fire(Te.pointerdblclick,{evt:de,target:this,currentTarget:this,pointerId:Re}))}),Ae||this._fire(Te.pointerup,{evt:de,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+xe+"ListenClick"]=!1,de.cancelable&&xe!=="touch"&&xe!=="pointer"&&de.preventDefault()}_contextmenu(de){this.setPointersPositions(de);const Te=this.getIntersection(this.getPointerPosition());Te&&Te.isListening()?Te._fireAndBubble(R,{evt:de}):this._fire(R,{evt:de,target:this,currentTarget:this})}_wheel(de){this.setPointersPositions(de);const Te=this.getIntersection(this.getPointerPosition());Te&&Te.isListening()?Te._fireAndBubble(Q,{evt:de}):this._fire(Q,{evt:de,target:this,currentTarget:this})}_pointercancel(de){this.setPointersPositions(de);const Te=l.getCapturedShape(de.pointerId)||this.getIntersection(this.getPointerPosition());Te&&Te._fireAndBubble(I,l.createEvent(de)),l.releaseCapture(de.pointerId)}_lostpointercapture(de){l.releaseCapture(de.pointerId)}setPointersPositions(de){const Te=this._getContentPosition();let xe=null,He=null;de=de||window.event,de.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(de.touches,$e=>{this._pointerPositions.push({id:$e.identifier,x:($e.clientX-Te.left)/Te.scaleX,y:($e.clientY-Te.top)/Te.scaleY})}),Array.prototype.forEach.call(de.changedTouches||de.touches,$e=>{this._changedPointerPositions.push({id:$e.identifier,x:($e.clientX-Te.left)/Te.scaleX,y:($e.clientY-Te.top)/Te.scaleY})})):(xe=(de.clientX-Te.left)/Te.scaleX,He=(de.clientY-Te.top)/Te.scaleY,this.pointerPos={x:xe,y:He},this._pointerPositions=[{x:xe,y:He,id:e.Util._getFirstPointerId(de)}],this._changedPointerPositions=[{x:xe,y:He,id:e.Util._getFirstPointerId(de)}])}_setPointerPosition(de){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(de)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const de=this.content.getBoundingClientRect();return{top:de.top,left:de.left,scaleX:de.width/this.content.clientWidth||1,scaleY:de.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new r.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new r.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!n.Konva.isBrowser)return;const de=this.container();if(!de)throw"Stage has no container. A container is required.";de.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),de.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(de){de.batchDraw()}),this}}t.Stage=Ce,Ce.prototype.nodeType=u,(0,a._registerNode)(Ce),i.Factory.addGetterSetter(Ce,"container"),n.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(Oe=>{Oe.batchDraw()})})}(By)),By}var Ud={},ky={},J_;function Ln(){return J_||(J_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ti(),i=sn(),s=ii(),n=dn(),r=oi(),o=ti(),a=d5(),l="hasShadow",u="shadowRGBA",c="patternImage",h="linearGradient",A="radialGradient";let f;function m(){return f||(f=i.Util.createCanvasElement().getContext("2d"),f)}t.shapes={};function p(k){const P=this.attrs.fillRule;P?k.fill(P):k.fill()}function x(k){k.stroke()}function C(k){const P=this.attrs.fillRule;P?k.fill(P):k.fill()}function g(k){k.stroke()}function w(){this._clearCache(l)}function S(){this._clearCache(u)}function I(){this._clearCache(c)}function O(){this._clearCache(h)}function U(){this._clearCache(A)}class $ extends n.Node{constructor(P){super(P);let T;for(;T=i.Util.getRandomColor(),!(T&&!(T in t.shapes)););this.colorKey=T,t.shapes[T]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const T=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(T&&T.setTransform){const R=new i.Transform;R.translate(this.fillPatternX(),this.fillPatternY()),R.rotate(e.Konva.getAngle(this.fillPatternRotation())),R.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),R.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const E=R.getMatrix(),_=typeof DOMMatrix>"u"?{a:E[0],b:E[1],c:E[2],d:E[3],e:E[4],f:E[5]}:new DOMMatrix(E);T.setTransform(_)}return T}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){const P=this.fillLinearGradientColorStops();if(P){const T=m(),R=this.fillLinearGradientStartPoint(),E=this.fillLinearGradientEndPoint(),_=T.createLinearGradient(R.x,R.y,E.x,E.y);for(let F=0;F<P.length;F+=2)_.addColorStop(P[F],P[F+1]);return _}}_getRadialGradient(){return this._getCache(A,this.__getRadialGradient)}__getRadialGradient(){const P=this.fillRadialGradientColorStops();if(P){const T=m(),R=this.fillRadialGradientStartPoint(),E=this.fillRadialGradientEndPoint(),_=T.createRadialGradient(R.x,R.y,this.fillRadialGradientStartRadius(),E.x,E.y,this.fillRadialGradientEndRadius());for(let F=0;F<P.length;F+=2)_.addColorStop(P[F],P[F+1]);return _}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const P=i.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){const T=this.getStage();if(!T)return!1;const R=T.bufferHitCanvas;return R.getContext().clear(),this.drawHit(R,void 0,!0),R.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var T;if(!((T=this.attrs.perfectDrawEnabled)!==null&&T!==void 0?T:!0))return!1;const E=P||this.hasFill(),_=this.hasStroke(),F=this.getAbsoluteOpacity()!==1;if(E&&_&&F)return!0;const V=this.hasShadow(),Q=this.shadowForStrokeEnabled();return!!(E&&_&&V&&Q)}setStrokeHitEnabled(P){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){let T=!1,R=this.getParent();for(;R;){if(R.isCached()){T=!0;break}R=R.getParent()}const E=P.skipTransform,_=P.relativeTo||T&&this.getStage()||void 0,F=this.getSelfRect(),Q=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,G=F.width+Q,Y=F.height+Q,ee=!P.skipShadow&&this.hasShadow(),W=ee?this.shadowOffsetX():0,ge=ee?this.shadowOffsetY():0,ce=G+Math.abs(W),we=Y+Math.abs(ge),Ce=ee&&this.shadowBlur()||0,Oe=ce+Ce*2,de=we+Ce*2,Te={width:Oe,height:de,x:-(Q/2+Ce)+Math.min(W,0)+F.x,y:-(Q/2+Ce)+Math.min(ge,0)+F.y};return E?Te:this._transformedRect(Te,_)}drawScene(P,T,R){const E=this.getLayer();let _=P||E.getCanvas(),F=_.getContext(),V=this._getCanvasCache(),Q=this.getSceneFunc(),G=this.hasShadow(),Y,ee;const W=_.isCache,ge=T===this;if(!this.isVisible()&&!ge)return this;if(V){F.save();const we=this.getAbsoluteTransform(T).getMatrix();return F.transform(we[0],we[1],we[2],we[3],we[4],we[5]),this._drawCachedSceneCanvas(F),F.restore(),this}if(!Q)return this;if(F.save(),this._useBufferCanvas()&&!W){Y=this.getStage();const we=R||Y.bufferCanvas;ee=we.getContext(),ee.clear(),ee.save(),ee._applyLineJoin(this);var ce=this.getAbsoluteTransform(T).getMatrix();ee.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]),Q.call(this,ee,this),ee.restore();const Ce=we.pixelRatio;G&&F._applyShadow(this),F._applyOpacity(this),F._applyGlobalCompositeOperation(this),F.drawImage(we._canvas,0,0,we.width/Ce,we.height/Ce)}else{if(F._applyLineJoin(this),!ge){var ce=this.getAbsoluteTransform(T).getMatrix();F.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]),F._applyOpacity(this),F._applyGlobalCompositeOperation(this)}G&&F._applyShadow(this),Q.call(this,F,this)}return F.restore(),this}drawHit(P,T,R=!1){if(!this.shouldDrawHit(T,R))return this;const E=this.getLayer(),_=P||E.hitCanvas,F=_&&_.getContext(),V=this.hitFunc()||this.sceneFunc(),Q=this._getCanvasCache(),G=Q&&Q.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),G){F.save();const ee=this.getAbsoluteTransform(T).getMatrix();return F.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedHitCanvas(F),F.restore(),this}if(!V)return this;if(F.save(),F._applyLineJoin(this),!(this===T)){const ee=this.getAbsoluteTransform(T).getMatrix();F.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5])}return V.call(this,F,this),F.restore(),this}drawHitFromCache(P=0){const T=this._getCanvasCache(),R=this._getCachedSceneCanvas(),E=T.hit,_=E.getContext(),F=E.getWidth(),V=E.getHeight();_.clear(),_.drawImage(R._canvas,0,0,F,V);try{const Q=_.getImageData(0,0,F,V),G=Q.data,Y=G.length,ee=i.Util._hexToRgb(this.colorKey);for(let W=0;W<Y;W+=4)G[W+3]>P?(G[W]=ee.r,G[W+1]=ee.g,G[W+2]=ee.b,G[W+3]=255):G[W+3]=0;_.putImageData(Q,0,0)}catch(Q){i.Util.error("Unable to draw hit graph from cached scene canvas. "+Q.message)}return this}hasPointerCapture(P){return a.hasPointerCapture(P,this)}setPointerCapture(P){a.setPointerCapture(P,this)}releaseCapture(P){a.releaseCapture(P,this)}}t.Shape=$,$.prototype._fillFunc=p,$.prototype._strokeFunc=x,$.prototype._fillFuncHit=C,$.prototype._strokeFuncHit=g,$.prototype._centroid=!1,$.prototype.nodeType="Shape",(0,o._registerNode)($),$.prototype.eventListeners={},$.prototype.on.call($.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),$.prototype.on.call($.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),$.prototype.on.call($.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",I),$.prototype.on.call($.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),$.prototype.on.call($.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),s.Factory.addGetterSetter($,"stroke",void 0,(0,r.getStringOrGradientValidator)()),s.Factory.addGetterSetter($,"strokeWidth",2,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"fillAfterStrokeEnabled",!1),s.Factory.addGetterSetter($,"hitStrokeWidth","auto",(0,r.getNumberOrAutoValidator)()),s.Factory.addGetterSetter($,"strokeHitEnabled",!0,(0,r.getBooleanValidator)()),s.Factory.addGetterSetter($,"perfectDrawEnabled",!0,(0,r.getBooleanValidator)()),s.Factory.addGetterSetter($,"shadowForStrokeEnabled",!0,(0,r.getBooleanValidator)()),s.Factory.addGetterSetter($,"lineJoin"),s.Factory.addGetterSetter($,"lineCap"),s.Factory.addGetterSetter($,"sceneFunc"),s.Factory.addGetterSetter($,"hitFunc"),s.Factory.addGetterSetter($,"dash"),s.Factory.addGetterSetter($,"dashOffset",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"shadowColor",void 0,(0,r.getStringValidator)()),s.Factory.addGetterSetter($,"shadowBlur",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"shadowOpacity",1,(0,r.getNumberValidator)()),s.Factory.addComponentsGetterSetter($,"shadowOffset",["x","y"]),s.Factory.addGetterSetter($,"shadowOffsetX",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"shadowOffsetY",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"fillPatternImage"),s.Factory.addGetterSetter($,"fill",void 0,(0,r.getStringOrGradientValidator)()),s.Factory.addGetterSetter($,"fillPatternX",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"fillPatternY",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"fillLinearGradientColorStops"),s.Factory.addGetterSetter($,"strokeLinearGradientColorStops"),s.Factory.addGetterSetter($,"fillRadialGradientStartRadius",0),s.Factory.addGetterSetter($,"fillRadialGradientEndRadius",0),s.Factory.addGetterSetter($,"fillRadialGradientColorStops"),s.Factory.addGetterSetter($,"fillPatternRepeat","repeat"),s.Factory.addGetterSetter($,"fillEnabled",!0),s.Factory.addGetterSetter($,"strokeEnabled",!0),s.Factory.addGetterSetter($,"shadowEnabled",!0),s.Factory.addGetterSetter($,"dashEnabled",!0),s.Factory.addGetterSetter($,"strokeScaleEnabled",!0),s.Factory.addGetterSetter($,"fillPriority","color"),s.Factory.addComponentsGetterSetter($,"fillPatternOffset",["x","y"]),s.Factory.addGetterSetter($,"fillPatternOffsetX",0,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"fillPatternOffsetY",0,(0,r.getNumberValidator)()),s.Factory.addComponentsGetterSetter($,"fillPatternScale",["x","y"]),s.Factory.addGetterSetter($,"fillPatternScaleX",1,(0,r.getNumberValidator)()),s.Factory.addGetterSetter($,"fillPatternScaleY",1,(0,r.getNumberValidator)()),s.Factory.addComponentsGetterSetter($,"fillLinearGradientStartPoint",["x","y"]),s.Factory.addComponentsGetterSetter($,"strokeLinearGradientStartPoint",["x","y"]),s.Factory.addGetterSetter($,"fillLinearGradientStartPointX",0),s.Factory.addGetterSetter($,"strokeLinearGradientStartPointX",0),s.Factory.addGetterSetter($,"fillLinearGradientStartPointY",0),s.Factory.addGetterSetter($,"strokeLinearGradientStartPointY",0),s.Factory.addComponentsGetterSetter($,"fillLinearGradientEndPoint",["x","y"]),s.Factory.addComponentsGetterSetter($,"strokeLinearGradientEndPoint",["x","y"]),s.Factory.addGetterSetter($,"fillLinearGradientEndPointX",0),s.Factory.addGetterSetter($,"strokeLinearGradientEndPointX",0),s.Factory.addGetterSetter($,"fillLinearGradientEndPointY",0),s.Factory.addGetterSetter($,"strokeLinearGradientEndPointY",0),s.Factory.addComponentsGetterSetter($,"fillRadialGradientStartPoint",["x","y"]),s.Factory.addGetterSetter($,"fillRadialGradientStartPointX",0),s.Factory.addGetterSetter($,"fillRadialGradientStartPointY",0),s.Factory.addComponentsGetterSetter($,"fillRadialGradientEndPoint",["x","y"]),s.Factory.addGetterSetter($,"fillRadialGradientEndPointX",0),s.Factory.addGetterSetter($,"fillRadialGradientEndPointY",0),s.Factory.addGetterSetter($,"fillPatternRotation",0),s.Factory.addGetterSetter($,"fillRule",void 0,(0,r.getStringValidator)()),s.Factory.backCompat($,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(ky)),ky}var Z_;function h5(){if(Z_)return Ud;Z_=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.Layer=void 0;const t=sn(),e=sb(),i=dn(),s=ii(),n=nb(),r=oi(),o=Ln(),a=ti(),l="#",u="beforeDraw",c="draw",h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],A=h.length;let f=class extends e.Container{constructor(p){super(p),this.canvas=new n.SceneCanvas,this.hitCanvas=new n.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(p){return this.getContext().clear(p),this.getHitCanvas().getContext().clear(p),this}setZIndex(p){super.setZIndex(p);const x=this.getStage();return x&&x.content&&(x.content.removeChild(this.getNativeCanvasElement()),p<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[p+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);const p=this.getStage();return p&&p.content&&(p.content.removeChild(this.getNativeCanvasElement()),p.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;const x=this.getStage();return!x||!x.content?!1:(x.content.removeChild(this.getNativeCanvasElement()),this.index<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[this.index+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){const p=this.getStage();if(p){const x=p.children;p.content&&(p.content.removeChild(this.getNativeCanvasElement()),p.content.insertBefore(this.getNativeCanvasElement(),x[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){const p=this.getStage();if(p){const x=p.children;p.content&&(p.content.removeChild(this.getNativeCanvasElement()),p.content.insertBefore(this.getNativeCanvasElement(),x[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const p=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),p&&p.parentNode&&t.Util._isInDocument(p)&&p.parentNode.removeChild(p),this}getStage(){return this.parent}setSize({width:p,height:x}){return this.canvas.setSize(p,x),this.hitCanvas.setSize(p,x),this._setSmoothEnabled(),this}_validateAdd(p){const x=p.getType();x!=="Group"&&x!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(p){return p=p||{},p.width=p.width||this.getWidth(),p.height=p.height||this.getHeight(),p.x=p.x!==void 0?p.x:this.x(),p.y=p.y!==void 0?p.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,p)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(p){if(!this.isListening()||!this.isVisible())return null;let x=1,C=!1;for(;;){for(let g=0;g<A;g++){const w=h[g],S=this._getIntersection({x:p.x+w.x*x,y:p.y+w.y*x}),I=S.shape;if(I)return I;if(C=!!S.antialiased,!S.antialiased)break}if(C)x+=1;else return null}}_getIntersection(p){const x=this.hitCanvas.pixelRatio,C=this.hitCanvas.context.getImageData(Math.round(p.x*x),Math.round(p.y*x),1,1).data,g=C[3];if(g===255){const w=t.Util._rgbToHex(C[0],C[1],C[2]),S=o.shapes[l+w];return S?{shape:S}:{antialiased:!0}}else if(g>0)return{antialiased:!0};return{}}drawScene(p,x){const C=this.getLayer(),g=p||C&&C.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&g.getContext().clear(),e.Container.prototype.drawScene.call(this,g,x),this._fire(c,{node:this}),this}drawHit(p,x){const C=this.getLayer(),g=p||C&&C.hitCanvas;return C&&C.clearBeforeDraw()&&C.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,g,x),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(p){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(p)}getHitGraphEnabled(p){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const p=this.parent;!!this.hitCanvas._canvas.parentNode?p.content.removeChild(this.hitCanvas._canvas):p.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Ud.Layer=f,f.prototype.nodeType="Layer",(0,a._registerNode)(f),s.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(f,"clearBeforeDraw",!0),s.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,r.getBooleanValidator)()),Ud}var Nd={},eS;function iAe(){if(eS)return Nd;eS=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.FastLayer=void 0;const t=sn(),e=h5(),i=ti();let s=class extends e.Layer{constructor(r){super(r),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Nd.FastLayer=s,s.prototype.nodeType="FastLayer",(0,i._registerNode)(s),Nd}var Hd={},tS;function B2(){if(tS)return Hd;tS=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.Group=void 0;const t=sn(),e=sb(),i=ti();let s=class extends e.Container{_validateAdd(r){const o=r.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Hd.Group=s,s.prototype.nodeType="Group",(0,i._registerNode)(s),Hd}var Qd={},iS;function k2(){if(iS)return Qd;iS=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.Animation=void 0;const t=ti(),e=sn(),i=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let s=class Ju{constructor(r,o){this.id=Ju.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=r,this.setLayers(o)}setLayers(r){let o=[];return r&&(o=Array.isArray(r)?r:[r]),this.layers=o,this}getLayers(){return this.layers}addLayer(r){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===r._id)return!1;return this.layers.push(r),!0}isRunning(){const o=Ju.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),Ju._addAnimation(this),this}stop(){return Ju._removeAnimation(this),this}_updateFrameObject(r){this.frame.timeDiff=r-this.frame.lastTime,this.frame.lastTime=r,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(r){this.animations.push(r),this._handleAnimation()}static _removeAnimation(r){const o=r.id,a=this.animations,l=a.length;for(let u=0;u<l;u++)if(a[u].id===o){this.animations.splice(u,1);break}}static _runFrames(){const r={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],u=l.layers,c=l.func;l._updateFrameObject(i());const h=u.length;let A;if(c?A=c.call(l,l.frame)!==!1:A=!0,!!A)for(let f=0;f<h;f++){const m=u[f];m._id!==void 0&&(r[m._id]=m)}}for(const a in r)r.hasOwnProperty(a)&&r[a].batchDraw()}static _animationLoop(){const r=Ju;r.animations.length?(r._runFrames(),e.Util.requestAnimFrame(r._animationLoop)):r.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Qd.Animation=s,s.animations=[],s.animIdCounter=0,s.animRunning=!1,Qd}var Iy={},nS;function nAe(){return nS||(nS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=sn(),i=k2(),s=dn(),n=ti(),r={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,u=["fill","stroke","shadowColor"];let c=0;class h{constructor(m,p,x,C,g,w,S){this.prop=m,this.propFunc=p,this.begin=C,this._pos=C,this.duration=w,this._change=0,this.prevPos=0,this.yoyo=S,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=x,this._change=g-this.begin,this.pause()}fire(m){const p=this[m];p&&p()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const m=this.getTimer()-this._startTime;this.state===a?this.setTime(m):this.state===l&&this.setTime(this.duration-m)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class A{constructor(m){const p=this,x=m.node,C=x._id,g=m.easing||t.Easings.Linear,w=!!m.yoyo;let S,I;typeof m.duration>"u"?S=.3:m.duration===0?S=.001:S=m.duration,this.node=x,this._id=c++;const O=x.getLayer()||(x instanceof n.Konva.Stage?x.getLayers():null);O||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){p.tween.onEnterFrame()},O),this.tween=new h(I,function(U){p._tweenFunc(U)},g,0,1,S*1e3,w),this._addListeners(),A.attrs[C]||(A.attrs[C]={}),A.attrs[C][this._id]||(A.attrs[C][this._id]={}),A.tweens[C]||(A.tweens[C]={});for(I in m)r[I]===void 0&&this._addAttr(I,m[I]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,p){const x=this.node,C=x._id;let g,w,S,I,O;const U=A.tweens[C][m];U&&delete A.attrs[C][U][m];let $=x.getAttr(m);if(e.Util._isArray(p))if(g=[],w=Math.max(p.length,$.length),m==="points"&&p.length!==$.length&&(p.length>$.length?(I=$,$=e.Util._prepareArrayForTween($,p,x.closed())):(S=p,p=e.Util._prepareArrayForTween(p,$,x.closed()))),m.indexOf("fill")===0)for(let k=0;k<w;k++)if(k%2===0)g.push(p[k]-$[k]);else{const P=e.Util.colorToRGBA($[k]);O=e.Util.colorToRGBA(p[k]),$[k]=P,g.push({r:O.r-P.r,g:O.g-P.g,b:O.b-P.b,a:O.a-P.a})}else for(let k=0;k<w;k++)g.push(p[k]-$[k]);else u.indexOf(m)!==-1?($=e.Util.colorToRGBA($),O=e.Util.colorToRGBA(p),g={r:O.r-$.r,g:O.g-$.g,b:O.b-$.b,a:O.a-$.a}):g=p-$;A.attrs[C][this._id][m]={start:$,diff:g,end:p,trueEnd:S,trueStart:I},A.tweens[C][m]=this._id}_tweenFunc(m){const p=this.node,x=A.attrs[p._id][this._id];let C,g,w,S,I,O,U,$;for(C in x){if(g=x[C],w=g.start,S=g.diff,$=g.end,e.Util._isArray(w))if(I=[],U=Math.max(w.length,$.length),C.indexOf("fill")===0)for(O=0;O<U;O++)O%2===0?I.push((w[O]||0)+S[O]*m):I.push("rgba("+Math.round(w[O].r+S[O].r*m)+","+Math.round(w[O].g+S[O].g*m)+","+Math.round(w[O].b+S[O].b*m)+","+(w[O].a+S[O].a*m)+")");else for(O=0;O<U;O++)I.push((w[O]||0)+S[O]*m);else u.indexOf(C)!==-1?I="rgba("+Math.round(w.r+S.r*m)+","+Math.round(w.g+S.g*m)+","+Math.round(w.b+S.b*m)+","+(w.a+S.a*m)+")":I=w+S*m;p.setAttr(C,I)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const m=this.node,p=A.attrs[m._id][this._id];p.points&&p.points.trueEnd&&m.setAttr("points",p.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const m=this.node,p=A.attrs[m._id][this._id];p.points&&p.points.trueStart&&m.points(p.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const m=this.node._id,p=this._id,x=A.tweens[m];this.pause();for(const C in x)delete A.tweens[m][C];delete A.attrs[m][p]}}t.Tween=A,A.attrs={},A.tweens={},s.Node.prototype.to=function(f){const m=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),m&&m()},new A(f).play()},t.Easings={BackEaseIn(f,m,p,x){return p*(f/=x)*f*((1.70158+1)*f-1.70158)+m},BackEaseOut(f,m,p,x){return p*((f=f/x-1)*f*((1.70158+1)*f+1.70158)+1)+m},BackEaseInOut(f,m,p,x){let C=1.70158;return(f/=x/2)<1?p/2*(f*f*(((C*=1.525)+1)*f-C))+m:p/2*((f-=2)*f*(((C*=1.525)+1)*f+C)+2)+m},ElasticEaseIn(f,m,p,x,C,g){let w=0;return f===0?m:(f/=x)===1?m+p:(g||(g=x*.3),!C||C<Math.abs(p)?(C=p,w=g/4):w=g/(2*Math.PI)*Math.asin(p/C),-(C*Math.pow(2,10*(f-=1))*Math.sin((f*x-w)*(2*Math.PI)/g))+m)},ElasticEaseOut(f,m,p,x,C,g){let w=0;return f===0?m:(f/=x)===1?m+p:(g||(g=x*.3),!C||C<Math.abs(p)?(C=p,w=g/4):w=g/(2*Math.PI)*Math.asin(p/C),C*Math.pow(2,-10*f)*Math.sin((f*x-w)*(2*Math.PI)/g)+p+m)},ElasticEaseInOut(f,m,p,x,C,g){let w=0;return f===0?m:(f/=x/2)===2?m+p:(g||(g=x*(.3*1.5)),!C||C<Math.abs(p)?(C=p,w=g/4):w=g/(2*Math.PI)*Math.asin(p/C),f<1?-.5*(C*Math.pow(2,10*(f-=1))*Math.sin((f*x-w)*(2*Math.PI)/g))+m:C*Math.pow(2,-10*(f-=1))*Math.sin((f*x-w)*(2*Math.PI)/g)*.5+p+m)},BounceEaseOut(f,m,p,x){return(f/=x)<1/2.75?p*(7.5625*f*f)+m:f<2/2.75?p*(7.5625*(f-=1.5/2.75)*f+.75)+m:f<2.5/2.75?p*(7.5625*(f-=2.25/2.75)*f+.9375)+m:p*(7.5625*(f-=2.625/2.75)*f+.984375)+m},BounceEaseIn(f,m,p,x){return p-t.Easings.BounceEaseOut(x-f,0,p,x)+m},BounceEaseInOut(f,m,p,x){return f<x/2?t.Easings.BounceEaseIn(f*2,0,p,x)*.5+m:t.Easings.BounceEaseOut(f*2-x,0,p,x)*.5+p*.5+m},EaseIn(f,m,p,x){return p*(f/=x)*f+m},EaseOut(f,m,p,x){return-p*(f/=x)*(f-2)+m},EaseInOut(f,m,p,x){return(f/=x/2)<1?p/2*f*f+m:-p/2*(--f*(f-2)-1)+m},StrongEaseIn(f,m,p,x){return p*(f/=x)*f*f*f*f+m},StrongEaseOut(f,m,p,x){return p*((f=f/x-1)*f*f*f*f+1)+m},StrongEaseInOut(f,m,p,x){return(f/=x/2)<1?p/2*f*f*f*f*f+m:p/2*((f-=2)*f*f*f*f+2)+m},Linear(f,m,p,x){return p*f/x+m}}}(Iy)),Iy}var sS;function sAe(){return sS||(sS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ti(),i=sn(),s=dn(),n=sb(),r=tAe(),o=h5(),a=iAe(),l=B2(),u=S2(),c=Ln(),h=k2(),A=nAe(),f=c5(),m=nb();t.Konva=i.Util._assign(e.Konva,{Util:i.Util,Transform:i.Transform,Node:s.Node,Container:n.Container,Stage:r.Stage,stages:r.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:u.DD,Shape:c.Shape,shapes:c.shapes,Animation:h.Animation,Tween:A.Tween,Easings:A.Easings,Context:f.Context,Canvas:m.Canvas}),t.default=t.Konva}(Ey)),Ey}var Vd={},rS;function rAe(){if(rS)return Vd;rS=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.Arc=void 0;const t=ii(),e=Ln(),i=ti(),s=oi(),n=ti();let r=class extends e.Shape{_sceneFunc(a){const l=i.Konva.getAngle(this.angle()),u=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,u),a.arc(0,0,this.innerRadius(),l,0,!u),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),c=i.Konva.getAngle(u?360-this.angle():this.angle()),h=Math.cos(Math.min(c,Math.PI)),A=1,f=Math.sin(Math.min(Math.max(Math.PI,c),3*Math.PI/2)),m=Math.sin(Math.min(c,Math.PI/2)),p=h*(h>0?a:l),x=A*l,C=f*(f>0?a:l),g=m*(m>0?l:a);return{x:p,y:u?-1*g:C,width:x-p,height:g-C}}};return Vd.Arc=r,r.prototype._centroid=!0,r.prototype.className="Arc",r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"innerRadius",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(r,"outerRadius",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(r,"angle",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(r,"clockwise",!1,(0,s.getBooleanValidator)()),Vd}var $d={},jd={},oS;function A5(){if(oS)return jd;oS=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.Line=void 0;const t=ii(),e=ti(),i=Ln(),s=oi();function n(a,l,u,c,h,A,f){const m=Math.sqrt(Math.pow(u-a,2)+Math.pow(c-l,2)),p=Math.sqrt(Math.pow(h-u,2)+Math.pow(A-c,2)),x=f*m/(m+p),C=f*p/(m+p),g=u-x*(h-a),w=c-x*(A-l),S=u+C*(h-a),I=c+C*(A-l);return[g,w,S,I]}function r(a,l){const u=a.length,c=[];for(let h=2;h<u-2;h+=2){const A=n(a[h-2],a[h-1],a[h],a[h+1],a[h+2],a[h+3],l);isNaN(A[0])||(c.push(A[0]),c.push(A[1]),c.push(a[h]),c.push(a[h+1]),c.push(A[2]),c.push(A[3]))}return c}let o=class extends i.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let u=this.points(),c=u.length,h=this.tension(),A=this.closed(),f=this.bezier(),m,p,x;if(c){if(l.beginPath(),l.moveTo(u[0],u[1]),h!==0&&c>4){for(m=this.getTensionPoints(),p=m.length,x=A?0:4,A||l.quadraticCurveTo(m[0],m[1],m[2],m[3]);x<p-2;)l.bezierCurveTo(m[x++],m[x++],m[x++],m[x++],m[x++],m[x++]);A||l.quadraticCurveTo(m[p-2],m[p-1],u[c-2],u[c-1])}else if(f)for(x=2;x<c;)l.bezierCurveTo(u[x++],u[x++],u[x++],u[x++],u[x++],u[x++]);else for(x=2;x<c;x+=2)l.lineTo(u[x],u[x+1]);A?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),u=l.length,c=this.tension(),h=n(l[u-2],l[u-1],l[0],l[1],l[2],l[3],c),A=n(l[u-4],l[u-3],l[u-2],l[u-1],l[0],l[1],c),f=r(l,c);return[h[2],h[3]].concat(f).concat([A[0],A[1],l[u-2],l[u-1],A[2],A[3],h[0],h[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let u=l[0],c=l[0],h=l[1],A=l[1],f,m;for(let p=0;p<l.length/2;p++)f=l[p*2],m=l[p*2+1],u=Math.min(u,f),c=Math.max(c,f),h=Math.min(h,m),A=Math.max(A,m);return{x:u,y:h,width:c-u,height:A-h}}};return jd.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,s.getNumberArrayValidator)()),jd}var zd={},Dy={},aS;function oAe(){return aS||(aS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,l)=>{let u,c;const A=l/2;u=0;for(let f=0;f<20;f++)c=A*t.tValues[20][f]+A,u+=t.cValues[20][f]*s(o,a,c);return A*u};t.getCubicArcLength=e;const i=(o,a,l)=>{l===void 0&&(l=1);const u=o[0]-2*o[1]+o[2],c=a[0]-2*a[1]+a[2],h=2*o[1]-2*o[0],A=2*a[1]-2*a[0],f=4*(u*u+c*c),m=4*(u*h+c*A),p=h*h+A*A;if(f===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const x=m/(2*f),C=p/f,g=l+x,w=C-x*x,S=g*g+w>0?Math.sqrt(g*g+w):0,I=x*x+w>0?Math.sqrt(x*x+w):0,O=x+Math.sqrt(x*x+w)!==0?w*Math.log(Math.abs((g+S)/(x+I))):0;return Math.sqrt(f)/2*(g*S-x*I+O)};t.getQuadraticArcLength=i;function s(o,a,l){const u=n(1,l,o),c=n(1,l,a),h=u*u+c*c;return Math.sqrt(h)}const n=(o,a,l)=>{const u=l.length-1;let c,h;if(u===0)return 0;if(o===0){h=0;for(let A=0;A<=u;A++)h+=t.binomialCoefficients[u][A]*Math.pow(1-a,u-A)*Math.pow(a,A)*l[A];return h}else{c=new Array(u);for(let A=0;A<u;A++)c[A]=u*(l[A+1]-l[A]);return n(o-1,a,c)}},r=(o,a,l)=>{let u=1,c=o/a,h=(o-l(c))/a,A=0;for(;u>.001;){const f=l(c+h),m=Math.abs(o-f)/a;if(m<u)u=m,c+=h;else{const p=l(c-h),x=Math.abs(o-p)/a;x<u?(u=x,c-=h):h/=2}if(A++,A>500)break}return c};t.t2length=r}(Dy)),Dy}var lS;function I2(){if(lS)return zd;lS=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.Path=void 0;const t=ii(),e=Ln(),i=ti(),s=oAe();let n=class xs extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=xs.parsePathData(this.data()),this.pathLength=xs.getPathLength(this.dataArray)}_sceneFunc(o){const a=this.dataArray;o.beginPath();let l=!1;for(let S=0;S<a.length;S++){const I=a[S].command,O=a[S].points;switch(I){case"L":o.lineTo(O[0],O[1]);break;case"M":o.moveTo(O[0],O[1]);break;case"C":o.bezierCurveTo(O[0],O[1],O[2],O[3],O[4],O[5]);break;case"Q":o.quadraticCurveTo(O[0],O[1],O[2],O[3]);break;case"A":var u=O[0],c=O[1],h=O[2],A=O[3],f=O[4],m=O[5],p=O[6],x=O[7],C=h>A?h:A,g=h>A?1:h/A,w=h>A?A/h:1;o.translate(u,c),o.rotate(p),o.scale(g,w),o.arc(0,0,C,f,f+m,1-x),o.scale(1/g,1/w),o.rotate(-p),o.translate(-u,-c);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(f){if(f.command==="A"){const m=f.points[4],p=f.points[5],x=f.points[4]+p;let C=Math.PI/180;if(Math.abs(m-x)<C&&(C=Math.abs(m-x)),p<0)for(let g=m-C;g>x;g-=C){const w=xs.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,0);o.push(w.x,w.y)}else for(let g=m+C;g<x;g+=C){const w=xs.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,0);o.push(w.x,w.y)}}else if(f.command==="C")for(let m=0;m<=1;m+=.01){const p=xs.getPointOnCubicBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);o.push(p.x,p.y)}else o=o.concat(f.points)});let a=o[0],l=o[0],u=o[1],c=o[1],h,A;for(let f=0;f<o.length/2;f++)h=o[f*2],A=o[f*2+1],isNaN(h)||(a=Math.min(a,h),l=Math.max(l,h)),isNaN(A)||(u=Math.min(u,A),c=Math.max(c,A));return{x:a,y:u,width:l-a,height:c-u}}getLength(){return this.pathLength}getPointAtLength(o){return xs.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,u){return Math.sqrt((l-o)*(l-o)+(u-a)*(u-a))}static getPathLength(o){let a=0;for(let l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){let l,u=0,c=a.length;if(!c)return null;for(;u<c&&o>a[u].pathLength;)o-=a[u].pathLength,++u;if(u===c)return l=a[u-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[u].points.slice(0,2),{x:l[0],y:l[1]};const h=a[u],A=h.points;switch(h.command){case"L":return xs.getPointOnLine(o,h.start.x,h.start.y,A[0],A[1]);case"C":return xs.getPointOnCubicBezier((0,s.t2length)(o,xs.getPathLength(a),S=>(0,s.getCubicArcLength)([h.start.x,A[0],A[2],A[4]],[h.start.y,A[1],A[3],A[5]],S)),h.start.x,h.start.y,A[0],A[1],A[2],A[3],A[4],A[5]);case"Q":return xs.getPointOnQuadraticBezier((0,s.t2length)(o,xs.getPathLength(a),S=>(0,s.getQuadraticArcLength)([h.start.x,A[0],A[2]],[h.start.y,A[1],A[3]],S)),h.start.x,h.start.y,A[0],A[1],A[2],A[3]);case"A":var f=A[0],m=A[1],p=A[2],x=A[3],C=A[4],g=A[5],w=A[6];return C+=g*o/h.pathLength,xs.getPointOnEllipticalArc(f,m,p,x,C,w)}return null}static getPointOnLine(o,a,l,u,c,h,A){h=h!=null?h:a,A=A!=null?A:l;const f=this.getLineLength(a,l,u,c);if(f<1e-10)return{x:a,y:l};if(u===a)return{x:h,y:A+(c>l?o:-o)};const m=(c-l)/(u-a),p=Math.sqrt(o*o/(1+m*m))*(u<a?-1:1),x=m*p;if(Math.abs(A-l-m*(h-a))<1e-10)return{x:h+p,y:A+x};const C=((h-a)*(u-a)+(A-l)*(c-l))/(f*f),g=a+C*(u-a),w=l+C*(c-l),S=this.getLineLength(h,A,g,w),I=Math.sqrt(o*o-S*S),O=Math.sqrt(I*I/(1+m*m))*(u<a?-1:1),U=m*O;return{x:g+O,y:w+U}}static getPointOnCubicBezier(o,a,l,u,c,h,A,f,m){function p(I){return I*I*I}function x(I){return 3*I*I*(1-I)}function C(I){return 3*I*(1-I)*(1-I)}function g(I){return(1-I)*(1-I)*(1-I)}const w=f*p(o)+h*x(o)+u*C(o)+a*g(o),S=m*p(o)+A*x(o)+c*C(o)+l*g(o);return{x:w,y:S}}static getPointOnQuadraticBezier(o,a,l,u,c,h,A){function f(g){return g*g}function m(g){return 2*g*(1-g)}function p(g){return(1-g)*(1-g)}const x=h*f(o)+u*m(o)+a*p(o),C=A*f(o)+c*m(o)+l*p(o);return{x,y:C}}static getPointOnEllipticalArc(o,a,l,u,c,h){const A=Math.cos(h),f=Math.sin(h),m={x:l*Math.cos(c),y:u*Math.sin(c)};return{x:o+(m.x*A-m.y*f),y:a+(m.x*f+m.y*A)}}static parsePathData(o){if(!o)return[];let a=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var u=0;u<l.length;u++)a=a.replace(new RegExp(l[u],"g"),"|"+l[u]);const c=a.split("|"),h=[],A=[];let f=0,m=0;const p=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let x;for(u=1;u<c.length;u++){let E=c[u],_=E.charAt(0);for(E=E.slice(1),A.length=0;x=p.exec(E);)A.push(x[0]);const F=[];for(let V=0,Q=A.length;V<Q;V++){if(A[V]==="00"){F.push(0,0);continue}const G=parseFloat(A[V]);isNaN(G)?F.push(0):F.push(G)}for(;F.length>0&&!isNaN(F[0]);){let V="",Q=[];const G=f,Y=m;var C,g,w,S,I,O,U,$,k,P;switch(_){case"l":f+=F.shift(),m+=F.shift(),V="L",Q.push(f,m);break;case"L":f=F.shift(),m=F.shift(),Q.push(f,m);break;case"m":var T=F.shift(),R=F.shift();if(f+=T,m+=R,V="M",h.length>2&&h[h.length-1].command==="z"){for(let ee=h.length-2;ee>=0;ee--)if(h[ee].command==="M"){f=h[ee].points[0]+T,m=h[ee].points[1]+R;break}}Q.push(f,m),_="l";break;case"M":f=F.shift(),m=F.shift(),V="M",Q.push(f,m),_="L";break;case"h":f+=F.shift(),V="L",Q.push(f,m);break;case"H":f=F.shift(),V="L",Q.push(f,m);break;case"v":m+=F.shift(),V="L",Q.push(f,m);break;case"V":m=F.shift(),V="L",Q.push(f,m);break;case"C":Q.push(F.shift(),F.shift(),F.shift(),F.shift()),f=F.shift(),m=F.shift(),Q.push(f,m);break;case"c":Q.push(f+F.shift(),m+F.shift(),f+F.shift(),m+F.shift()),f+=F.shift(),m+=F.shift(),V="C",Q.push(f,m);break;case"S":g=f,w=m,C=h[h.length-1],C.command==="C"&&(g=f+(f-C.points[2]),w=m+(m-C.points[3])),Q.push(g,w,F.shift(),F.shift()),f=F.shift(),m=F.shift(),V="C",Q.push(f,m);break;case"s":g=f,w=m,C=h[h.length-1],C.command==="C"&&(g=f+(f-C.points[2]),w=m+(m-C.points[3])),Q.push(g,w,f+F.shift(),m+F.shift()),f+=F.shift(),m+=F.shift(),V="C",Q.push(f,m);break;case"Q":Q.push(F.shift(),F.shift()),f=F.shift(),m=F.shift(),Q.push(f,m);break;case"q":Q.push(f+F.shift(),m+F.shift()),f+=F.shift(),m+=F.shift(),V="Q",Q.push(f,m);break;case"T":g=f,w=m,C=h[h.length-1],C.command==="Q"&&(g=f+(f-C.points[0]),w=m+(m-C.points[1])),f=F.shift(),m=F.shift(),V="Q",Q.push(g,w,f,m);break;case"t":g=f,w=m,C=h[h.length-1],C.command==="Q"&&(g=f+(f-C.points[0]),w=m+(m-C.points[1])),f+=F.shift(),m+=F.shift(),V="Q",Q.push(g,w,f,m);break;case"A":S=F.shift(),I=F.shift(),O=F.shift(),U=F.shift(),$=F.shift(),k=f,P=m,f=F.shift(),m=F.shift(),V="A",Q=this.convertEndpointToCenterParameterization(k,P,f,m,U,$,S,I,O);break;case"a":S=F.shift(),I=F.shift(),O=F.shift(),U=F.shift(),$=F.shift(),k=f,P=m,f+=F.shift(),m+=F.shift(),V="A",Q=this.convertEndpointToCenterParameterization(k,P,f,m,U,$,S,I,O);break}h.push({command:V||_,points:Q,start:{x:G,y:Y},pathLength:this.calcLength(G,Y,V||_,Q)})}(_==="z"||_==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(o,a,l,u){let c,h,A,f;const m=xs;switch(l){case"L":return m.getLineLength(o,a,u[0],u[1]);case"C":return(0,s.getCubicArcLength)([o,u[0],u[2],u[4]],[a,u[1],u[3],u[5]],1);case"Q":return(0,s.getQuadraticArcLength)([o,u[0],u[2]],[a,u[1],u[3]],1);case"A":c=0;var p=u[4],x=u[5],C=u[4]+x,g=Math.PI/180;if(Math.abs(p-C)<g&&(g=Math.abs(p-C)),h=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],p,0),x<0)for(f=p-g;f>C;f-=g)A=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],f,0),c+=m.getLineLength(h.x,h.y,A.x,A.y),h=A;else for(f=p+g;f<C;f+=g)A=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],f,0),c+=m.getLineLength(h.x,h.y,A.x,A.y),h=A;return A=m.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],C,0),c+=m.getLineLength(h.x,h.y,A.x,A.y),c}return 0}static convertEndpointToCenterParameterization(o,a,l,u,c,h,A,f,m){const p=m*(Math.PI/180),x=Math.cos(p)*(o-l)/2+Math.sin(p)*(a-u)/2,C=-1*Math.sin(p)*(o-l)/2+Math.cos(p)*(a-u)/2,g=x*x/(A*A)+C*C/(f*f);g>1&&(A*=Math.sqrt(g),f*=Math.sqrt(g));let w=Math.sqrt((A*A*(f*f)-A*A*(C*C)-f*f*(x*x))/(A*A*(C*C)+f*f*(x*x)));c===h&&(w*=-1),isNaN(w)&&(w=0);const S=w*A*C/f,I=w*-f*x/A,O=(o+l)/2+Math.cos(p)*S-Math.sin(p)*I,U=(a+u)/2+Math.sin(p)*S+Math.cos(p)*I,$=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},k=function(F,V){return(F[0]*V[0]+F[1]*V[1])/($(F)*$(V))},P=function(F,V){return(F[0]*V[1]<F[1]*V[0]?-1:1)*Math.acos(k(F,V))},T=P([1,0],[(x-S)/A,(C-I)/f]),R=[(x-S)/A,(C-I)/f],E=[(-1*x-S)/A,(-1*C-I)/f];let _=P(R,E);return k(R,E)<=-1&&(_=Math.PI),k(R,E)>=1&&(_=0),h===0&&_>0&&(_=_-2*Math.PI),h===1&&_<0&&(_=_+2*Math.PI),[O,U,A,f,T,_,p,h]}};return zd.Path=n,n.prototype.className="Path",n.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"data"),zd}var uS;function aAe(){if(uS)return $d;uS=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.Arrow=void 0;const t=ii(),e=A5(),i=oi(),s=ti(),n=I2();let r=class extends e.Line{_sceneFunc(a){super._sceneFunc(a);const l=Math.PI*2,u=this.points();let c=u;const h=this.tension()!==0&&u.length>4;h&&(c=this.getTensionPoints());const A=this.pointerLength(),f=u.length;let m,p;if(h){const g=[c[c.length-4],c[c.length-3],c[c.length-2],c[c.length-1],u[f-2],u[f-1]],w=n.Path.calcLength(c[c.length-4],c[c.length-3],"C",g),S=n.Path.getPointOnQuadraticBezier(Math.min(1,1-A/w),g[0],g[1],g[2],g[3],g[4],g[5]);m=u[f-2]-S.x,p=u[f-1]-S.y}else m=u[f-2]-u[f-4],p=u[f-1]-u[f-3];const x=(Math.atan2(p,m)+l)%l,C=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(u[f-2],u[f-1]),a.rotate(x),a.moveTo(0,0),a.lineTo(-A,C/2),a.lineTo(-A,-C/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(u[0],u[1]),h?(m=(c[0]+c[2])/2-u[0],p=(c[1]+c[3])/2-u[1]):(m=u[2]-u[0],p=u[3]-u[1]),a.rotate((Math.atan2(-p,-m)+l)%l),a.moveTo(0,0),a.lineTo(-A,C/2),a.lineTo(-A,-C/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x,y:a.y-l,width:a.width,height:a.height+l*2}}};return $d.Arrow=r,r.prototype.className="Arrow",(0,s._registerNode)(r),t.Factory.addGetterSetter(r,"pointerLength",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"pointerWidth",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"pointerAtBeginning",!1),t.Factory.addGetterSetter(r,"pointerAtEnding",!0),$d}var Kd={},cS;function lAe(){if(cS)return Kd;cS=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.Circle=void 0;const t=ii(),e=Ln(),i=oi(),s=ti();let n=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return Kd.Circle=n,n.prototype._centroid=!0,n.prototype.className="Circle",n.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,i.getNumberValidator)()),Kd}var Gd={},dS;function uAe(){if(dS)return Gd;dS=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.Ellipse=void 0;const t=ii(),e=Ln(),i=oi(),s=ti();let n=class extends e.Shape{_sceneFunc(o){const a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return Gd.Ellipse=n,n.prototype.className="Ellipse",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,s._registerNode)(n),t.Factory.addComponentsGetterSetter(n,"radius",["x","y"]),t.Factory.addGetterSetter(n,"radiusX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"radiusY",0,(0,i.getNumberValidator)()),Gd}var qd={},hS;function cAe(){if(hS)return qd;hS=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.Image=void 0;const t=sn(),e=ii(),i=Ln(),s=ti(),n=oi();class r extends i.Shape{constructor(a){super(a),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const a=!!this.cornerRadius(),l=this.hasShadow();return a&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),u=this.getHeight(),c=this.cornerRadius(),h=this.attrs.image;let A;if(h){const f=this.attrs.cropWidth,m=this.attrs.cropHeight;f&&m?A=[h,this.cropX(),this.cropY(),f,m,0,0,l,u]:A=[h,0,0,l,u]}(this.hasFill()||this.hasStroke()||c)&&(a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,u,c):a.rect(0,0,l,u),a.closePath(),a.fillStrokeShape(this)),h&&(c&&a.clip(),a.drawImage.apply(a,A))}_hitFunc(a){const l=this.width(),u=this.height(),c=this.cornerRadius();a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,u,c):a.rect(0,0,l,u),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,u=null){const c=t.Util.createImageElement();c.onload=function(){const h=new r({image:c});l(h)},c.onerror=u,c.crossOrigin="Anonymous",c.src=a}}return qd.Image=r,r.prototype.className="Image",(0,s._registerNode)(r),e.Factory.addGetterSetter(r,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(r,"image"),e.Factory.addComponentsGetterSetter(r,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(r,"cropX",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"cropY",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"cropWidth",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(r,"cropHeight",0,(0,n.getNumberValidator)()),qd}var Pl={},AS;function dAe(){if(AS)return Pl;AS=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.Tag=Pl.Label=void 0;const t=ii(),e=Ln(),i=B2(),s=oi(),n=ti(),r=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",u="right",c="down",h="left",A=r.length;let f=class extends i.Group{constructor(x){super(x),this.on("add.konva",function(C){this._addListeners(C.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(x){let C=this,g;const w=function(){C._sync()};for(g=0;g<A;g++)x.on(r[g]+o,w)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let x=this.getText(),C=this.getTag(),g,w,S,I,O,U,$;if(x&&C){switch(g=x.width(),w=x.height(),S=C.pointerDirection(),I=C.pointerWidth(),$=C.pointerHeight(),O=0,U=0,S){case l:O=g/2,U=-1*$;break;case u:O=g+I,U=w/2;break;case c:O=g/2,U=w+$;break;case h:O=-1*I,U=w/2;break}C.setAttrs({x:-1*O,y:-1*U,width:g,height:w}),x.setAttrs({x:-1*O,y:-1*U})}}};Pl.Label=f,f.prototype.className="Label",(0,n._registerNode)(f);class m extends e.Shape{_sceneFunc(x){const C=this.width(),g=this.height(),w=this.pointerDirection(),S=this.pointerWidth(),I=this.pointerHeight(),O=this.cornerRadius();let U=0,$=0,k=0,P=0;typeof O=="number"?U=$=k=P=Math.min(O,C/2,g/2):(U=Math.min(O[0]||0,C/2,g/2),$=Math.min(O[1]||0,C/2,g/2),P=Math.min(O[2]||0,C/2,g/2),k=Math.min(O[3]||0,C/2,g/2)),x.beginPath(),x.moveTo(U,0),w===l&&(x.lineTo((C-S)/2,0),x.lineTo(C/2,-1*I),x.lineTo((C+S)/2,0)),x.lineTo(C-$,0),x.arc(C-$,$,$,Math.PI*3/2,0,!1),w===u&&(x.lineTo(C,(g-I)/2),x.lineTo(C+S,g/2),x.lineTo(C,(g+I)/2)),x.lineTo(C,g-P),x.arc(C-P,g-P,P,0,Math.PI/2,!1),w===c&&(x.lineTo((C+S)/2,g),x.lineTo(C/2,g+I),x.lineTo((C-S)/2,g)),x.lineTo(k,g),x.arc(k,g-k,k,Math.PI/2,Math.PI,!1),w===h&&(x.lineTo(0,(g+I)/2),x.lineTo(-1*S,g/2),x.lineTo(0,(g-I)/2)),x.lineTo(0,U),x.arc(U,U,U,Math.PI,Math.PI*3/2,!1),x.closePath(),x.fillStrokeShape(this)}getSelfRect(){let x=0,C=0,g=this.pointerWidth(),w=this.pointerHeight(),S=this.pointerDirection(),I=this.width(),O=this.height();return S===l?(C-=w,O+=w):S===c?O+=w:S===h?(x-=g*1.5,I+=g):S===u&&(I+=g*1.5),{x,y:C,width:I,height:O}}}return Pl.Tag=m,m.prototype.className="Tag",(0,n._registerNode)(m),t.Factory.addGetterSetter(m,"pointerDirection",a),t.Factory.addGetterSetter(m,"pointerWidth",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(m,"pointerHeight",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(m,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Pl}var Wd={},fS;function f5(){if(fS)return Wd;fS=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.Rect=void 0;const t=ii(),e=Ln(),i=ti(),s=sn(),n=oi();let r=class extends e.Shape{_sceneFunc(a){const l=this.cornerRadius(),u=this.width(),c=this.height();a.beginPath(),l?s.Util.drawRoundedRectPath(a,u,c,l):a.rect(0,0,u,c),a.closePath(),a.fillStrokeShape(this)}};return Wd.Rect=r,r.prototype.className="Rect",(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),Wd}var Yd={},pS;function hAe(){if(pS)return Yd;pS=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.RegularPolygon=void 0;const t=ii(),e=Ln(),i=oi(),s=ti();let n=class extends e.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(let l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(let u=0;u<o;u++)l.push({x:a*Math.sin(u*2*Math.PI/o),y:-1*a*Math.cos(u*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let a=o[0].x,l=o[0].y,u=o[0].x,c=o[0].y;return o.forEach(h=>{a=Math.min(a,h.x),l=Math.max(l,h.x),u=Math.min(u,h.y),c=Math.max(c,h.y)}),{x:a,y:u,width:l-a,height:c-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Yd.RegularPolygon=n,n.prototype.className="RegularPolygon",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"sides",0,(0,i.getNumberValidator)()),Yd}var Xd={},gS;function AAe(){if(gS)return Xd;gS=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.Ring=void 0;const t=ii(),e=Ln(),i=oi(),s=ti(),n=Math.PI*2;let r=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,n,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),n,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Xd.Ring=r,r.prototype.className="Ring",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(r),t.Factory.addGetterSetter(r,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"outerRadius",0,(0,i.getNumberValidator)()),Xd}var Jd={},mS;function fAe(){if(mS)return Jd;mS=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.Sprite=void 0;const t=ii(),e=Ln(),i=k2(),s=oi(),n=ti();let r=class extends e.Shape{constructor(a){super(a),this._updated=!0,this.anim=new i.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){const l=this.animation(),u=this.frameIndex(),c=u*4,h=this.animations()[l],A=this.frameOffsets(),f=h[c+0],m=h[c+1],p=h[c+2],x=h[c+3],C=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,p,x),a.closePath(),a.fillStrokeShape(this)),C)if(A){const g=A[l],w=u*2;a.drawImage(C,f,m,p,x,g[w+0],g[w+1],p,x)}else a.drawImage(C,f,m,p,x,0,0,p,x)}_hitFunc(a){const l=this.animation(),u=this.frameIndex(),c=u*4,h=this.animations()[l],A=this.frameOffsets(),f=h[c+2],m=h[c+3];if(a.beginPath(),A){const p=A[l],x=u*2;a.rect(p[x+0],p[x+1],f,m)}else a.rect(0,0,f,m);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const a=this.frameIndex(),l=this.animation(),u=this.animations(),c=u[l],h=c.length/4;a<h-1?this.frameIndex(a+1):this.frameIndex(0)}};return Jd.Sprite=r,r.prototype.className="Sprite",(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"animation"),t.Factory.addGetterSetter(r,"animations"),t.Factory.addGetterSetter(r,"frameOffsets"),t.Factory.addGetterSetter(r,"image"),t.Factory.addGetterSetter(r,"frameIndex",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(r,"frameRate",17,(0,s.getNumberValidator)()),t.Factory.backCompat(r,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Jd}var Zd={},bS;function pAe(){if(bS)return Zd;bS=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.Star=void 0;const t=ii(),e=Ln(),i=oi(),s=ti();let n=class extends e.Shape{_sceneFunc(o){const a=this.innerRadius(),l=this.outerRadius(),u=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let c=1;c<u*2;c++){const h=c%2===0?l:a,A=h*Math.sin(c*Math.PI/u),f=-1*h*Math.cos(c*Math.PI/u);o.lineTo(A,f)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Zd.Star=n,n.prototype.className="Star",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(n),t.Factory.addGetterSetter(n,"numPoints",5,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,i.getNumberValidator)()),Zd}var Hu={},vS;function p5(){if(vS)return Hu;vS=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.Text=void 0,Hu.stringToArray=o;const t=sn(),e=ii(),i=Ln(),s=ti(),n=oi(),r=ti();function o(ge){return[...ge].reduce((ce,we,Ce,Oe)=>{if(new RegExp("\\p{Emoji}","u").test(we)){const de=Oe[Ce+1];de&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(de)?(ce.push(we+de),Oe[Ce+1]=""):ce.push(we)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(we+(Oe[Ce+1]||""))?ce.push(we+Oe[Ce+1]):Ce>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(we)?ce[ce.length-1]+=we:we&&ce.push(we);return ce},[])}const a="auto",l="center",u="inherit",c="justify",h="Change.konva",A="2d",f="-",m="left",p="text",x="Text",C="top",g="bottom",w="middle",S="normal",I="px ",O=" ",U="right",$="rtl",k="word",P="char",T="none",R="…",E=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],_=E.length;function F(ge){return ge.split(",").map(ce=>{ce=ce.trim();const we=ce.indexOf(" ")>=0,Ce=ce.indexOf('"')>=0||ce.indexOf("'")>=0;return we&&!Ce&&(ce='"'.concat(ce,'"')),ce}).join(", ")}let V;function Q(){return V||(V=t.Util.createCanvasElement().getContext(A),V)}function G(ge){ge.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Y(ge){ge.setAttr("miterLimit",2),ge.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ee(ge){return ge=ge||{},!ge.fillLinearGradientColorStops&&!ge.fillRadialGradientColorStops&&!ge.fillPatternImage&&(ge.fill=ge.fill||"black"),ge}let W=class extends i.Shape{constructor(ce){super(ee(ce)),this._partialTextX=0,this._partialTextY=0;for(let we=0;we<_;we++)this.on(E[we]+h,this._setTextData);this._setTextData()}_sceneFunc(ce){const we=this.textArr,Ce=we.length;if(!this.text())return;let Oe=this.padding(),de=this.fontSize(),Te=this.lineHeight()*de,xe=this.verticalAlign(),He=this.direction(),$e=0,oe=this.align(),Ae=this.getWidth(),De=this.letterSpacing(),Ie=this.fill(),Re=this.textDecoration(),X=Re.indexOf("underline")!==-1,ae=Re.indexOf("line-through")!==-1,le;He=He===u?ce.direction:He;let ye=Te/2,ke=w;if(s.Konva._fixTextRendering){const At=this.measureSize("M");ke="alphabetic",ye=(At.fontBoundingBoxAscent-At.fontBoundingBoxDescent)/2+Te/2}var Qe=0,Ve=0;for(He===$&&ce.setAttr("direction",He),ce.setAttr("font",this._getContextFont()),ce.setAttr("textBaseline",ke),ce.setAttr("textAlign",m),xe===w?$e=(this.getHeight()-Ce*Te-Oe*2)/2:xe===g&&($e=this.getHeight()-Ce*Te-Oe*2),ce.translate(Oe,$e+Oe),le=0;le<Ce;le++){var Qe=0,Ve=0,_e=we[le],Pe=_e.text,Ye=_e.width,lt=_e.lastInParagraph,ut,Dt;if(ce.save(),oe===U?Qe+=Ae-Ye-Oe*2:oe===l&&(Qe+=(Ae-Ye-Oe*2)/2),X){ce.save(),ce.beginPath();const pt=s.Konva._fixTextRendering?Math.round(de/4):Math.round(de/2),yt=Qe,jt=ye+Ve+pt;ce.moveTo(yt,jt),ut=Pe.split(" ").length-1,Dt=oe===c&&!lt?Ae-Oe*2:Ye,ce.lineTo(yt+Math.round(Dt),jt),ce.lineWidth=de/15;const Tt=this._getLinearGradient();ce.strokeStyle=Tt||Ie,ce.stroke(),ce.restore()}if(ae){ce.save(),ce.beginPath();const pt=s.Konva._fixTextRendering?-Math.round(de/4):0;ce.moveTo(Qe,ye+Ve+pt),ut=Pe.split(" ").length-1,Dt=oe===c&&!lt?Ae-Oe*2:Ye,ce.lineTo(Qe+Math.round(Dt),ye+Ve+pt),ce.lineWidth=de/15;const yt=this._getLinearGradient();ce.strokeStyle=yt||Ie,ce.stroke(),ce.restore()}if(He!==$&&(De!==0||oe===c)){ut=Pe.split(" ").length-1;const pt=o(Pe);for(let yt=0;yt<pt.length;yt++){const jt=pt[yt];jt===" "&&!lt&&oe===c&&(Qe+=(Ae-Oe*2-Ye)/ut),this._partialTextX=Qe,this._partialTextY=ye+Ve,this._partialText=jt,ce.fillStrokeShape(this),Qe+=this.measureSize(jt).width+De}}else De!==0&&ce.setAttr("letterSpacing","".concat(De,"px")),this._partialTextX=Qe,this._partialTextY=ye+Ve,this._partialText=Pe,ce.fillStrokeShape(this);ce.restore(),Ce>1&&(ye+=Te)}}_hitFunc(ce){const we=this.getWidth(),Ce=this.getHeight();ce.beginPath(),ce.rect(0,0,we,Ce),ce.closePath(),ce.fillStrokeShape(this)}setText(ce){const we=t.Util._isString(ce)?ce:ce==null?"":ce+"";return this._setAttr(p,we),this}getWidth(){return this.attrs.width===a||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===a||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(ce){var we,Ce,Oe,de,Te,xe,He,$e,oe,Ae,De;let Ie=Q(),Re=this.fontSize(),X;Ie.save(),Ie.font=this._getContextFont(),X=Ie.measureText(ce),Ie.restore();const ae=Re/100;return{actualBoundingBoxAscent:(we=X.actualBoundingBoxAscent)!==null&&we!==void 0?we:71.58203125*ae,actualBoundingBoxDescent:(Ce=X.actualBoundingBoxDescent)!==null&&Ce!==void 0?Ce:0,actualBoundingBoxLeft:(Oe=X.actualBoundingBoxLeft)!==null&&Oe!==void 0?Oe:-7.421875*ae,actualBoundingBoxRight:(de=X.actualBoundingBoxRight)!==null&&de!==void 0?de:75.732421875*ae,alphabeticBaseline:(Te=X.alphabeticBaseline)!==null&&Te!==void 0?Te:0,emHeightAscent:(xe=X.emHeightAscent)!==null&&xe!==void 0?xe:100*ae,emHeightDescent:(He=X.emHeightDescent)!==null&&He!==void 0?He:-20*ae,fontBoundingBoxAscent:($e=X.fontBoundingBoxAscent)!==null&&$e!==void 0?$e:91*ae,fontBoundingBoxDescent:(oe=X.fontBoundingBoxDescent)!==null&&oe!==void 0?oe:21*ae,hangingBaseline:(Ae=X.hangingBaseline)!==null&&Ae!==void 0?Ae:72.80000305175781*ae,ideographicBaseline:(De=X.ideographicBaseline)!==null&&De!==void 0?De:-21*ae,width:X.width,height:Re}}_getContextFont(){return this.fontStyle()+O+this.fontVariant()+O+(this.fontSize()+I)+F(this.fontFamily())}_addTextLine(ce){this.align()===c&&(ce=ce.trim());const Ce=this._getTextWidth(ce);return this.textArr.push({text:ce,width:Ce,lastInParagraph:!1})}_getTextWidth(ce){const we=this.letterSpacing(),Ce=ce.length;return Q().measureText(ce).width+we*Ce}_setTextData(){let ce=this.text().split("\n"),we=+this.fontSize(),Ce=0,Oe=this.lineHeight()*we,de=this.attrs.width,Te=this.attrs.height,xe=de!==a&&de!==void 0,He=Te!==a&&Te!==void 0,$e=this.padding(),oe=de-$e*2,Ae=Te-$e*2,De=0,Ie=this.wrap(),Re=Ie!==T,X=Ie!==P&&Re,ae=this.ellipsis();this.textArr=[],Q().font=this._getContextFont();const le=ae?this._getTextWidth(R):0;for(let ye=0,ke=ce.length;ye<ke;++ye){let Qe=ce[ye],Ve=this._getTextWidth(Qe);if(xe&&Ve>oe)for(;Qe.length>0;){let _e=0,Pe=o(Qe).length,Ye="",lt=0;for(;_e<Pe;){const ut=_e+Pe>>>1,Dt=o(Qe),At=Dt.slice(0,ut+1).join(""),Rt=this._getTextWidth(At)+le;Rt<=oe?(_e=ut+1,Ye=At,lt=Rt):Pe=ut}if(Ye){if(X){const At=o(Qe),Rt=o(Ye),pt=At[Rt.length],yt=pt===O||pt===f;let jt;if(yt&&lt<=oe)jt=Rt.length;else{const Tt=Rt.lastIndexOf(O),ni=Rt.lastIndexOf(f);jt=Math.max(Tt,ni)+1}jt>0&&(_e=jt,Ye=At.slice(0,_e).join(""),lt=this._getTextWidth(Ye))}if(Ye=Ye.trimRight(),this._addTextLine(Ye),Ce=Math.max(Ce,lt),De+=Oe,this._shouldHandleEllipsis(De)){this._tryToAddEllipsisToLastLine();break}if(Qe=o(Qe).slice(_e).join("").trimLeft(),Qe.length>0&&(Ve=this._getTextWidth(Qe),Ve<=oe)){this._addTextLine(Qe),De+=Oe,Ce=Math.max(Ce,Ve);break}}else break}else this._addTextLine(Qe),De+=Oe,Ce=Math.max(Ce,Ve),this._shouldHandleEllipsis(De)&&ye<ke-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),He&&De+Oe>Ae)break}this.textHeight=we,this.textWidth=Ce}_shouldHandleEllipsis(ce){const we=+this.fontSize(),Ce=this.lineHeight()*we,Oe=this.attrs.height,de=Oe!==a&&Oe!==void 0,Te=this.padding(),xe=Oe-Te*2;return!(this.wrap()!==T)||de&&ce+Ce>xe}_tryToAddEllipsisToLastLine(){const ce=this.attrs.width,we=ce!==a&&ce!==void 0,Ce=this.padding(),Oe=ce-Ce*2,de=this.ellipsis(),Te=this.textArr[this.textArr.length-1];!Te||!de||(we&&(this._getTextWidth(Te.text+R)<Oe||(Te.text=Te.text.slice(0,Te.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(Te.text+R))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const ce=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,we=this.hasShadow();return ce&&we?!0:super._useBufferCanvas()}};return Hu.Text=W,W.prototype._fillFunc=G,W.prototype._strokeFunc=Y,W.prototype.className=x,W.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,r._registerNode)(W),e.Factory.overWriteSetter(W,"width",(0,n.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(W,"height",(0,n.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(W,"direction",u),e.Factory.addGetterSetter(W,"fontFamily","Arial"),e.Factory.addGetterSetter(W,"fontSize",12,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(W,"fontStyle",S),e.Factory.addGetterSetter(W,"fontVariant",S),e.Factory.addGetterSetter(W,"padding",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(W,"align",m),e.Factory.addGetterSetter(W,"verticalAlign",C),e.Factory.addGetterSetter(W,"lineHeight",1,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(W,"wrap",k),e.Factory.addGetterSetter(W,"ellipsis",!1,(0,n.getBooleanValidator)()),e.Factory.addGetterSetter(W,"letterSpacing",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(W,"text","",(0,n.getStringValidator)()),e.Factory.addGetterSetter(W,"textDecoration",""),Hu}var eh={},yS;function gAe(){if(yS)return eh;yS=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.TextPath=void 0;const t=sn(),e=ii(),i=Ln(),s=I2(),n=p5(),r=oi(),o=ti(),a="",l="normal";function u(A){A.fillText(this.partialText,0,0)}function c(A){A.strokeText(this.partialText,0,0)}let h=class extends i.Shape{constructor(f){super(f),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return s.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const m=this.pathLength;return f-1>m?null:s.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=s.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const m=this.textDecoration(),p=this.fill(),x=this.fontSize(),C=this.glyphInfo;m==="underline"&&f.beginPath();for(let g=0;g<C.length;g++){f.save();const w=C[g].p0;f.translate(w.x,w.y),f.rotate(C[g].rotation),this.partialText=C[g].text,f.fillStrokeShape(this),m==="underline"&&(g===0&&f.moveTo(0,x/2+1),f.lineTo(x,x/2+1)),f.restore()}m==="underline"&&(f.strokeStyle=p,f.lineWidth=x/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const m=this.glyphInfo;if(m.length>=1){const p=m[0].p0;f.moveTo(p.x,p.y)}for(let p=0;p<m.length;p++){const x=m[p].p1;f.lineTo(x.x,x.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return n.Text.prototype.setText.call(this,f)}_getContextFont(){return n.Text.prototype._getContextFont.call(this)}_getTextSize(f){const p=this.dummyCanvas.getContext("2d");p.save(),p.font=this._getContextFont();const x=p.measureText(f);return p.restore(),{width:x.width,height:parseInt("".concat(this.fontSize()),10)}}_setTextData(){const{width:f,height:m}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=m,this.glyphInfo=[],!this.attrs.data)return null;const p=this.letterSpacing(),x=this.align(),C=this.kerningFunc(),g=Math.max(this.textWidth+((this.attrs.text||"").length-1)*p,0);let w=0;x==="center"&&(w=Math.max(0,this.pathLength/2-g/2)),x==="right"&&(w=Math.max(0,this.pathLength-g));const S=(0,n.stringToArray)(this.text());let I=w;for(let O=0;O<S.length;O++){const U=this._getPointAtLength(I);if(!U)return;let $=this._getTextSize(S[O]).width+p;if(S[O]===" "&&x==="justify"){const _=this.text().split(" ").length-1;$+=(this.pathLength-g)/_}const k=this._getPointAtLength(I+$);if(!k)return;const P=s.Path.getLineLength(U.x,U.y,k.x,k.y);let T=0;if(C)try{T=C(S[O-1],S[O])*this.fontSize()}catch{T=0}U.x+=T,k.x+=T,this.textWidth+=T;const R=s.Path.getPointOnLine(T+P/2,U.x,U.y,k.x,k.y),E=Math.atan2(k.y-U.y,k.x-U.x);this.glyphInfo.push({transposeX:R.x,transposeY:R.y,text:S[O],rotation:E,p0:U,p1:k}),I+=$}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(I){f.push(I.p0.x),f.push(I.p0.y),f.push(I.p1.x),f.push(I.p1.y)});let m=f[0]||0,p=f[0]||0,x=f[1]||0,C=f[1]||0,g,w;for(let I=0;I<f.length/2;I++)g=f[I*2],w=f[I*2+1],m=Math.min(m,g),p=Math.max(p,g),x=Math.min(x,w),C=Math.max(C,w);const S=this.fontSize();return{x:m-S/2,y:x-S/2,width:p-m+S,height:C-x+S}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return eh.TextPath=h,h.prototype._fillFunc=u,h.prototype._strokeFunc=c,h.prototype._fillFuncHit=u,h.prototype._strokeFuncHit=c,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(h),e.Factory.addGetterSetter(h,"data"),e.Factory.addGetterSetter(h,"fontFamily","Arial"),e.Factory.addGetterSetter(h,"fontSize",12,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(h,"fontStyle",l),e.Factory.addGetterSetter(h,"align","left"),e.Factory.addGetterSetter(h,"letterSpacing",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(h,"textBaseline","middle"),e.Factory.addGetterSetter(h,"fontVariant",l),e.Factory.addGetterSetter(h,"text",a),e.Factory.addGetterSetter(h,"textDecoration",""),e.Factory.addGetterSetter(h,"kerningFunc",void 0),eh}var th={},wS;function mAe(){if(wS)return th;wS=1,Object.defineProperty(th,"__esModule",{value:!0}),th.Transformer=void 0;const t=sn(),e=ii(),i=dn(),s=Ln(),n=f5(),r=B2(),o=ti(),a=oi(),l=ti(),u="tr-konva",c=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map($=>$+".".concat(u)).join(" "),h="nodesRect",A=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in o.Konva._global;function p($,k,P){if($==="rotater")return P;k+=t.Util.degToRad(f[$]||0);const T=(t.Util.radToDeg(k)%360+360)%360;return t.Util._inRange(T,315+22.5,360)||t.Util._inRange(T,0,22.5)?"ns-resize":t.Util._inRange(T,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(T,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(T,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(T,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(T,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(T,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(T,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+T),"pointer")}const x=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function C($){return{x:$.x+$.width/2*Math.cos($.rotation)+$.height/2*Math.sin(-$.rotation),y:$.y+$.height/2*Math.cos($.rotation)+$.width/2*Math.sin($.rotation)}}function g($,k,P){const T=P.x+($.x-P.x)*Math.cos(k)-($.y-P.y)*Math.sin(k),R=P.y+($.x-P.x)*Math.sin(k)+($.y-P.y)*Math.cos(k);return{...$,rotation:$.rotation+k,x:T,y:R}}function w($,k){const P=C($);return g($,k,P)}function S($,k,P){let T=k;for(let R=0;R<$.length;R++){const E=o.Konva.getAngle($[R]),_=Math.abs(E-k)%(Math.PI*2);Math.min(_,Math.PI*2-_)<P&&(T=E)}return T}let I=0,O=class extends r.Group{constructor(k){super(k),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(c,this.update),this.getNode()&&this.update()}attachTo(k){return this.setNode(k),this}setNode(k){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([k])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(k=[]){this._nodes&&this._nodes.length&&this.detach();const P=k.filter(R=>R.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=k=P,k.length===1&&this.useSingleNodeRotation()?this.rotation(k[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(R=>{const E=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},_=R._attrsAffectingSize.map(F=>F+"Change."+this._getEventNamespace()).join(" ");R.on(_,E),R.on(A.map(F=>F+".".concat(this._getEventNamespace())).join(" "),E),R.on("absoluteTransformChange.".concat(this._getEventNamespace()),E),this._proxyDrag(R)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(k){let P;k.on("dragstart.".concat(this._getEventNamespace()),T=>{P=k.getAbsolutePosition(),!this.isDragging()&&k!==this.findOne(".back")&&this.startDrag(T,!1)}),k.on("dragmove.".concat(this._getEventNamespace()),T=>{if(!P)return;const R=k.getAbsolutePosition(),E=R.x-P.x,_=R.y-P.y;this.nodes().forEach(F=>{if(F===k||F.isDragging())return;const V=F.getAbsolutePosition();F.setAbsolutePosition({x:V.x+E,y:V.y+_}),F.startDrag(T)}),P=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(k=>{k.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h,this.__getNodeRect)}__getNodeShape(k,P=this.rotation(),T){const R=k.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),E=k.getAbsoluteScale(T),_=k.getAbsolutePosition(T),F=R.x*E.x-k.offsetX()*E.x,V=R.y*E.y-k.offsetY()*E.y,Q=(o.Konva.getAngle(k.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),G={x:_.x+F*Math.cos(Q)+V*Math.sin(-Q),y:_.y+V*Math.cos(Q)+F*Math.sin(Q),width:R.width*E.x,height:R.height*E.y,rotation:Q};return g(G,-o.Konva.getAngle(P),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const P=[];this.nodes().map(Q=>{const G=Q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Y=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}],ee=Q.getAbsoluteTransform();Y.forEach(function(W){const ge=ee.point(W);P.push(ge)})});const T=new t.Transform;T.rotate(-o.Konva.getAngle(this.rotation()));let R=1/0,E=1/0,_=-1/0,F=-1/0;P.forEach(function(Q){const G=T.point(Q);R===void 0&&(R=_=G.x,E=F=G.y),R=Math.min(R,G.x),E=Math.min(E,G.y),_=Math.max(_,G.x),F=Math.max(F,G.y)}),T.invert();const V=T.point({x:R,y:E});return{x:V.x,y:V.y,width:_-R,height:F-E,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),x.forEach(k=>{this._createAnchor(k)}),this._createAnchor("rotater")}_createAnchor(k){const P=new n.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:k+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),T=this;P.on("mousedown touchstart",function(R){T._handleMouseDown(R)}),P.on("dragstart",R=>{P.stopDrag(),R.cancelBubble=!0}),P.on("dragend",R=>{R.cancelBubble=!0}),P.on("mouseenter",()=>{const R=o.Konva.getAngle(this.rotation()),E=this.rotateAnchorCursor(),_=p(k,R,E);P.getStage().content&&(P.getStage().content.style.cursor=_),this._cursorChange=!0}),P.on("mouseout",()=>{P.getStage().content&&(P.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(P)}_createBack(){const k=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(P,T){const R=T.getParent(),E=R.padding();P.beginPath(),P.rect(-E,-E,T.width()+E*2,T.height()+E*2),P.moveTo(T.width()/2,-E),R.rotateEnabled()&&R.rotateLineVisible()&&P.lineTo(T.width()/2,-R.rotateAnchorOffset()*t.Util._sign(T.height())-E),P.fillStrokeShape(T)},hitFunc:(P,T)=>{if(!this.shouldOverdrawWholeArea())return;const R=this.padding();P.beginPath(),P.rect(-R,-R,T.width()+R*2,T.height()+R*2),P.fillStrokeShape(T)}});this.add(k),this._proxyDrag(k),k.on("dragstart",P=>{P.cancelBubble=!0}),k.on("dragmove",P=>{P.cancelBubble=!0}),k.on("dragend",P=>{P.cancelBubble=!0}),this.on("dragmove",P=>{this.update()})}_handleMouseDown(k){if(this._transforming)return;this._movingAnchorName=k.target.name().split(" ")[0];const P=this._getNodeRect(),T=P.width,R=P.height,E=Math.sqrt(Math.pow(T,2)+Math.pow(R,2));this.sin=Math.abs(R/E),this.cos=Math.abs(T/E),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const _=k.target.getAbsolutePosition(),F=k.target.getStage().getPointerPosition();this._anchorDragOffset={x:F.x-_.x,y:F.y-_.y},I++,this._fire("transformstart",{evt:k.evt,target:this.getNode()}),this._nodes.forEach(V=>{V._fire("transformstart",{evt:k.evt,target:V})})}_handleMouseMove(k){let P,T,R;const E=this.findOne("."+this._movingAnchorName),_=E.getStage();_.setPointersPositions(k);const F=_.getPointerPosition();let V={x:F.x-this._anchorDragOffset.x,y:F.y-this._anchorDragOffset.y};const Q=E.getAbsolutePosition();this.anchorDragBoundFunc()&&(V=this.anchorDragBoundFunc()(Q,V,k)),E.setAbsolutePosition(V);const G=E.getAbsolutePosition();if(Q.x===G.x&&Q.y===G.y)return;if(this._movingAnchorName==="rotater"){const xe=this._getNodeRect();P=E.x()-xe.width/2,T=-E.y()+xe.height/2;let He=Math.atan2(-T,P)+Math.PI/2;xe.height<0&&(He-=Math.PI);const oe=o.Konva.getAngle(this.rotation())+He,Ae=o.Konva.getAngle(this.rotationSnapTolerance()),Ie=S(this.rotationSnaps(),oe,Ae)-xe.rotation,Re=w(xe,Ie);this._fitNodesInto(Re,k);return}const Y=this.shiftBehavior();let ee;Y==="inverted"?ee=this.keepRatio()&&!k.shiftKey:Y==="none"?ee=this.keepRatio():ee=this.keepRatio()||k.shiftKey;var Ce=this.centeredScaling()||k.altKey;if(this._movingAnchorName==="top-left"){if(ee){var W=Ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};R=Math.sqrt(Math.pow(W.x-E.x(),2)+Math.pow(W.y-E.y(),2));var ge=this.findOne(".top-left").x()>W.x?-1:1,ce=this.findOne(".top-left").y()>W.y?-1:1;P=R*this.cos*ge,T=R*this.sin*ce,this.findOne(".top-left").x(W.x-P),this.findOne(".top-left").y(W.y-T)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(E.y());else if(this._movingAnchorName==="top-right"){if(ee){var W=Ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};R=Math.sqrt(Math.pow(E.x()-W.x,2)+Math.pow(W.y-E.y(),2));var ge=this.findOne(".top-right").x()<W.x?-1:1,ce=this.findOne(".top-right").y()>W.y?-1:1;P=R*this.cos*ge,T=R*this.sin*ce,this.findOne(".top-right").x(W.x+P),this.findOne(".top-right").y(W.y-T)}var we=E.position();this.findOne(".top-left").y(we.y),this.findOne(".bottom-right").x(we.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(E.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(E.x());else if(this._movingAnchorName==="bottom-left"){if(ee){var W=Ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};R=Math.sqrt(Math.pow(W.x-E.x(),2)+Math.pow(E.y()-W.y,2));var ge=W.x<E.x()?-1:1,ce=E.y()<W.y?-1:1;P=R*this.cos*ge,T=R*this.sin*ce,E.x(W.x-P),E.y(W.y+T)}we=E.position(),this.findOne(".top-left").x(we.x),this.findOne(".bottom-right").y(we.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(E.y());else if(this._movingAnchorName==="bottom-right"){if(ee){var W=Ce?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};R=Math.sqrt(Math.pow(E.x()-W.x,2)+Math.pow(E.y()-W.y,2));var ge=this.findOne(".bottom-right").x()<W.x?-1:1,ce=this.findOne(".bottom-right").y()<W.y?-1:1;P=R*this.cos*ge,T=R*this.sin*ce,this.findOne(".bottom-right").x(W.x+P),this.findOne(".bottom-right").y(W.y+T)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Ce=this.centeredScaling()||k.altKey;if(Ce){const xe=this.findOne(".top-left"),He=this.findOne(".bottom-right"),$e=xe.x(),oe=xe.y(),Ae=this.getWidth()-He.x(),De=this.getHeight()-He.y();He.move({x:-$e,y:-oe}),xe.move({x:Ae,y:De})}const Oe=this.findOne(".top-left").getAbsolutePosition();P=Oe.x,T=Oe.y;const de=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Te=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:P,y:T,width:de,height:Te,rotation:o.Konva.getAngle(this.rotation())},k)}_handleMouseUp(k){this._removeEvents(k)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(k){var P;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const T=this.getNode();I--,this._fire("transformend",{evt:k,target:T}),(P=this.getLayer())===null||P===void 0||P.batchDraw(),T&&this._nodes.forEach(R=>{var E;R._fire("transformend",{evt:k,target:R}),(E=R.getLayer())===null||E===void 0||E.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(k,P){const T=this._getNodeRect(),R=1;if(t.Util._inRange(k.width,-this.padding()*2-R,R)){this.update();return}if(t.Util._inRange(k.height,-this.padding()*2-R,R)){this.update();return}const E=new t.Transform;if(E.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("left")>=0){const ee=E.point({x:-this.padding()*2,y:0});k.x+=ee.x,k.y+=ee.y,k.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y}else if(this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("right")>=0){const ee=E.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y,k.width+=this.padding()*2}if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("top")>=0){const ee=E.point({x:0,y:-this.padding()*2});k.x+=ee.x,k.y+=ee.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y,k.height+=this.padding()*2}else if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const ee=E.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=ee.x,this._anchorDragOffset.y-=ee.y,k.height+=this.padding()*2}if(this.boundBoxFunc()){const ee=this.boundBoxFunc()(T,k);ee?k=ee:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const _=1e7,F=new t.Transform;F.translate(T.x,T.y),F.rotate(T.rotation),F.scale(T.width/_,T.height/_);const V=new t.Transform,Q=k.width/_,G=k.height/_;this.flipEnabled()===!1?(V.translate(k.x,k.y),V.rotate(k.rotation),V.translate(k.width<0?k.width:0,k.height<0?k.height:0),V.scale(Math.abs(Q),Math.abs(G))):(V.translate(k.x,k.y),V.rotate(k.rotation),V.scale(Q,G));const Y=V.multiply(F.invert());this._nodes.forEach(ee=>{var W;const ge=ee.getParent().getAbsoluteTransform(),ce=ee.getTransform().copy();ce.translate(ee.offsetX(),ee.offsetY());const we=new t.Transform;we.multiply(ge.copy().invert()).multiply(Y).multiply(ge).multiply(ce);const Ce=we.decompose();ee.setAttrs(Ce),(W=ee.getLayer())===null||W===void 0||W.batchDraw()}),this.rotation(t.Util._getRotation(k.rotation)),this._nodes.forEach(ee=>{this._fire("transform",{evt:P,target:ee}),ee._fire("transform",{evt:P,target:ee})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(k,P){this.findOne(k).setAttrs(P)}update(){var k;const P=this._getNodeRect();this.rotation(t.Util._getRotation(P.rotation));const T=P.width,R=P.height,E=this.enabledAnchors(),_=this.resizeEnabled(),F=this.padding(),V=this.anchorSize(),Q=this.find("._anchor");Q.forEach(Y=>{Y.setAttrs({width:V,height:V,offsetX:V/2,offsetY:V/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:V/2+F,offsetY:V/2+F,visible:_&&E.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:T/2,y:0,offsetY:V/2+F,visible:_&&E.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:T,y:0,offsetX:V/2-F,offsetY:V/2+F,visible:_&&E.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:R/2,offsetX:V/2+F,visible:_&&E.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:T,y:R/2,offsetX:V/2-F,visible:_&&E.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:R,offsetX:V/2+F,offsetY:V/2-F,visible:_&&E.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:T/2,y:R,offsetY:V/2-F,visible:_&&E.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:T,y:R,offsetX:V/2-F,offsetY:V/2-F,visible:_&&E.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:T/2,y:-this.rotateAnchorOffset()*t.Util._sign(R)-F,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:T,height:R,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const G=this.anchorStyleFunc();G&&Q.forEach(Y=>{G(Y)}),(k=this.getLayer())===null||k===void 0||k.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const k=this.findOne("."+this._movingAnchorName);k&&k.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),r.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(k){return i.Node.prototype.clone.call(this,k)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};th.Transformer=O,O.isTransforming=()=>I>0;function U($){return $ instanceof Array||t.Util.warn("enabledAnchors value should be an array"),$ instanceof Array&&$.forEach(function(k){x.indexOf(k)===-1&&t.Util.warn("Unknown anchor name: "+k+". Available names are: "+x.join(", "))}),$||[]}return O.prototype.className="Transformer",(0,l._registerNode)(O),e.Factory.addGetterSetter(O,"enabledAnchors",x,U),e.Factory.addGetterSetter(O,"flipEnabled",!0,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(O,"resizeEnabled",!0),e.Factory.addGetterSetter(O,"anchorSize",10,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"rotateEnabled",!0),e.Factory.addGetterSetter(O,"rotateLineVisible",!0),e.Factory.addGetterSetter(O,"rotationSnaps",[]),e.Factory.addGetterSetter(O,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(O,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"borderEnabled",!0),e.Factory.addGetterSetter(O,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(O,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"anchorFill","white"),e.Factory.addGetterSetter(O,"anchorCornerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(O,"borderStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"borderDash"),e.Factory.addGetterSetter(O,"keepRatio",!0),e.Factory.addGetterSetter(O,"shiftBehavior","default"),e.Factory.addGetterSetter(O,"centeredScaling",!1),e.Factory.addGetterSetter(O,"ignoreStroke",!1),e.Factory.addGetterSetter(O,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(O,"nodes"),e.Factory.addGetterSetter(O,"node"),e.Factory.addGetterSetter(O,"boundBoxFunc"),e.Factory.addGetterSetter(O,"anchorDragBoundFunc"),e.Factory.addGetterSetter(O,"anchorStyleFunc"),e.Factory.addGetterSetter(O,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(O,"useSingleNodeRotation",!0),e.Factory.backCompat(O,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),th}var ih={},CS;function bAe(){if(CS)return ih;CS=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.Wedge=void 0;const t=ii(),e=Ln(),i=ti(),s=oi(),n=ti();let r=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return ih.Wedge=r,r.prototype.className="Wedge",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"radius",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(r,"angle",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(r,"clockwise",!1),t.Factory.backCompat(r,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),ih}var nh={},ES;function vAe(){if(ES)return nh;ES=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Blur=void 0;const t=ii(),e=dn(),i=oi();function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,u){const c=l.data,h=l.width,A=l.height;let f,m,p,x,C,g,w,S,I,O,U,$,k,P,T,R,E,_,F,V,Q,G,Y,ee;const W=u+u+1,ge=h-1,ce=A-1,we=u+1,Ce=we*(we+1)/2,Oe=new s,de=n[u],Te=r[u];let xe=null,He=Oe,$e=null,oe=null;for(p=1;p<W;p++)He=He.next=new s,p===we&&(xe=He);for(He.next=Oe,w=g=0,m=0;m<A;m++){for(R=E=_=F=S=I=O=U=0,$=we*(V=c[g]),k=we*(Q=c[g+1]),P=we*(G=c[g+2]),T=we*(Y=c[g+3]),S+=Ce*V,I+=Ce*Q,O+=Ce*G,U+=Ce*Y,He=Oe,p=0;p<we;p++)He.r=V,He.g=Q,He.b=G,He.a=Y,He=He.next;for(p=1;p<we;p++)x=g+((ge<p?ge:p)<<2),S+=(He.r=V=c[x])*(ee=we-p),I+=(He.g=Q=c[x+1])*ee,O+=(He.b=G=c[x+2])*ee,U+=(He.a=Y=c[x+3])*ee,R+=V,E+=Q,_+=G,F+=Y,He=He.next;for($e=Oe,oe=xe,f=0;f<h;f++)c[g+3]=Y=U*de>>Te,Y!==0?(Y=255/Y,c[g]=(S*de>>Te)*Y,c[g+1]=(I*de>>Te)*Y,c[g+2]=(O*de>>Te)*Y):c[g]=c[g+1]=c[g+2]=0,S-=$,I-=k,O-=P,U-=T,$-=$e.r,k-=$e.g,P-=$e.b,T-=$e.a,x=w+((x=f+u+1)<ge?x:ge)<<2,R+=$e.r=c[x],E+=$e.g=c[x+1],_+=$e.b=c[x+2],F+=$e.a=c[x+3],S+=R,I+=E,O+=_,U+=F,$e=$e.next,$+=V=oe.r,k+=Q=oe.g,P+=G=oe.b,T+=Y=oe.a,R-=V,E-=Q,_-=G,F-=Y,oe=oe.next,g+=4;w+=h}for(f=0;f<h;f++){for(E=_=F=R=I=O=U=S=0,g=f<<2,$=we*(V=c[g]),k=we*(Q=c[g+1]),P=we*(G=c[g+2]),T=we*(Y=c[g+3]),S+=Ce*V,I+=Ce*Q,O+=Ce*G,U+=Ce*Y,He=Oe,p=0;p<we;p++)He.r=V,He.g=Q,He.b=G,He.a=Y,He=He.next;for(C=h,p=1;p<=u;p++)g=C+f<<2,S+=(He.r=V=c[g])*(ee=we-p),I+=(He.g=Q=c[g+1])*ee,O+=(He.b=G=c[g+2])*ee,U+=(He.a=Y=c[g+3])*ee,R+=V,E+=Q,_+=G,F+=Y,He=He.next,p<ce&&(C+=h);for(g=f,$e=Oe,oe=xe,m=0;m<A;m++)x=g<<2,c[x+3]=Y=U*de>>Te,Y>0?(Y=255/Y,c[x]=(S*de>>Te)*Y,c[x+1]=(I*de>>Te)*Y,c[x+2]=(O*de>>Te)*Y):c[x]=c[x+1]=c[x+2]=0,S-=$,I-=k,O-=P,U-=T,$-=$e.r,k-=$e.g,P-=$e.b,T-=$e.a,x=f+((x=m+we)<ce?x:ce)*h<<2,S+=R+=$e.r=c[x],I+=E+=$e.g=c[x+1],O+=_+=$e.b=c[x+2],U+=F+=$e.a=c[x+3],$e=$e.next,$+=V=oe.r,k+=Q=oe.g,P+=G=oe.b,T+=Y=oe.a,R-=V,E-=Q,_-=G,F-=Y,oe=oe.next,g+=h}}const a=function(u){const c=Math.round(this.blurRadius());c>0&&o(u,c)};return nh.Blur=a,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),nh}var sh={},xS;function yAe(){if(xS)return sh;xS=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.Brighten=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=this.brightness()*255,o=n.data,a=o.length;for(let l=0;l<a;l+=4)o[l]+=r,o[l+1]+=r,o[l+2]+=r};return sh.Brighten=s,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),sh}var rh={},TS;function wAe(){if(TS)return rh;TS=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Contrast=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=Math.pow((this.contrast()+100)/100,2),o=n.data,a=o.length;let l=150,u=150,c=150;for(let h=0;h<a;h+=4)l=o[h],u=o[h+1],c=o[h+2],l/=255,l-=.5,l*=r,l+=.5,l*=255,u/=255,u-=.5,u*=r,u+=.5,u*=255,c/=255,c-=.5,c*=r,c+=.5,c*=255,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,c=c<0?0:c>255?255:c,o[h]=l,o[h+1]=u,o[h+2]=c};return rh.Contrast=s,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),rh}var oh={},_S;function CAe(){if(_S)return oh;_S=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.Emboss=void 0;const t=ii(),e=dn(),i=sn(),s=oi(),n=function(r){const o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),u=this.embossBlend(),c=r.data,h=r.width,A=r.height,f=h*4;let m=0,p=0,x=A;switch(l){case"top-left":m=-1,p=-1;break;case"top":m=-1,p=0;break;case"top-right":m=-1,p=1;break;case"right":m=0,p=1;break;case"bottom-right":m=1,p=1;break;case"bottom":m=1,p=0;break;case"bottom-left":m=1,p=-1;break;case"left":m=0,p=-1;break;default:i.Util.error("Unknown emboss direction: "+l)}do{const C=(x-1)*f;let g=m;x+g<1&&(g=0),x+g>A&&(g=0);const w=(x-1+g)*h*4;let S=h;do{const I=C+(S-1)*4;let O=p;S+O<1&&(O=0),S+O>h&&(O=0);const U=w+(S-1+O)*4,$=c[I]-c[U],k=c[I+1]-c[U+1],P=c[I+2]-c[U+2];let T=$;const R=T>0?T:-T,E=k>0?k:-k,_=P>0?P:-P;if(E>R&&(T=k),_>R&&(T=P),T*=o,u){const F=c[I]+T,V=c[I+1]+T,Q=c[I+2]+T;c[I]=F>255?255:F<0?0:F,c[I+1]=V>255?255:V<0?0:V,c[I+2]=Q>255?255:Q<0?0:Q}else{let F=a-T;F<0?F=0:F>255&&(F=255),c[I]=c[I+1]=c[I+2]=F}}while(--S)}while(--x)};return oh.Emboss=n,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,t.Factory.afterSetFilter),oh}var ah={},SS;function EAe(){if(SS)return ah;SS=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.Enhance=void 0;const t=ii(),e=dn(),i=oi();function s(r,o,a,l,u){const c=a-o,h=u-l;if(c===0)return l+h/2;if(h===0)return l;let A=(r-o)/c;return A=h*A+l,A}const n=function(r){const o=r.data,a=o.length;let l=o[0],u=l,c,h=o[1],A=h,f,m=o[2],p=m,x;const C=this.enhance();if(C===0)return;for(let T=0;T<a;T+=4)c=o[T+0],c<l?l=c:c>u&&(u=c),f=o[T+1],f<h?h=f:f>A&&(A=f),x=o[T+2],x<m?m=x:x>p&&(p=x);u===l&&(u=255,l=0),A===h&&(A=255,h=0),p===m&&(p=255,m=0);let g,w,S,I,O,U,$,k,P;C>0?(w=u+C*(255-u),S=l-C*(l-0),O=A+C*(255-A),U=h-C*(h-0),k=p+C*(255-p),P=m-C*(m-0)):(g=(u+l)*.5,w=u+C*(u-g),S=l+C*(l-g),I=(A+h)*.5,O=A+C*(A-I),U=h+C*(h-I),$=(p+m)*.5,k=p+C*(p-$),P=m+C*(m-$));for(let T=0;T<a;T+=4)o[T+0]=s(o[T+0],l,u,S,w),o[T+1]=s(o[T+1],h,A,U,O),o[T+2]=s(o[T+2],m,p,P,k)};return ah.Enhance=n,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ah}var lh={},BS;function xAe(){if(BS)return lh;BS=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.Grayscale=void 0;const t=function(e){const i=e.data,s=i.length;for(let n=0;n<s;n+=4){const r=.34*i[n]+.5*i[n+1]+.16*i[n+2];i[n]=r,i[n+1]=r,i[n+2]=r}};return lh.Grayscale=t,lh}var uh={},kS;function TAe(){if(kS)return uh;kS=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.HSL=void 0;const t=ii(),e=dn(),i=oi();t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter);const s=function(n){const r=n.data,o=r.length,a=1,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=this.luminance()*127,h=a*l*Math.cos(u*Math.PI/180),A=a*l*Math.sin(u*Math.PI/180),f=.299*a+.701*h+.167*A,m=.587*a-.587*h+.33*A,p=.114*a-.114*h-.497*A,x=.299*a-.299*h-.328*A,C=.587*a+.413*h+.035*A,g=.114*a-.114*h+.293*A,w=.299*a-.3*h+1.25*A,S=.587*a-.586*h-1.05*A,I=.114*a+.886*h-.2*A;let O,U,$,k;for(let P=0;P<o;P+=4)O=r[P+0],U=r[P+1],$=r[P+2],k=r[P+3],r[P+0]=f*O+m*U+p*$+c,r[P+1]=x*O+C*U+g*$+c,r[P+2]=w*O+S*U+I*$+c,r[P+3]=k};return uh.HSL=s,uh}var ch={},IS;function _Ae(){if(IS)return ch;IS=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.HSV=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=n.data,o=r.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=a*l*Math.cos(u*Math.PI/180),h=a*l*Math.sin(u*Math.PI/180),A=.299*a+.701*c+.167*h,f=.587*a-.587*c+.33*h,m=.114*a-.114*c-.497*h,p=.299*a-.299*c-.328*h,x=.587*a+.413*c+.035*h,C=.114*a-.114*c+.293*h,g=.299*a-.3*c+1.25*h,w=.587*a-.586*c-1.05*h,S=.114*a+.886*c-.2*h;let I,O,U,$;for(let k=0;k<o;k+=4)I=r[k+0],O=r[k+1],U=r[k+2],$=r[k+3],r[k+0]=A*I+f*O+m*U,r[k+1]=p*I+x*O+C*U,r[k+2]=g*I+w*O+S*U,r[k+3]=$};return ch.HSV=s,t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ch}var dh={},DS;function SAe(){if(DS)return dh;DS=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.Invert=void 0;const t=function(e){const i=e.data,s=i.length;for(let n=0;n<s;n+=4)i[n]=255-i[n],i[n+1]=255-i[n+1],i[n+2]=255-i[n+2]};return dh.Invert=t,dh}var hh={},FS;function BAe(){if(FS)return hh;FS=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.Kaleidoscope=void 0;const t=ii(),e=dn(),i=sn(),s=oi(),n=function(a,l,u){const c=a.data,h=l.data,A=a.width,f=a.height,m=u.polarCenterX||A/2,p=u.polarCenterY||f/2;let x=Math.sqrt(m*m+p*p),C=A-m,g=f-p;const w=Math.sqrt(C*C+g*g);x=w>x?w:x;const S=f,I=A,O=360/I*Math.PI/180;for(let U=0;U<I;U+=1){const $=Math.sin(U*O),k=Math.cos(U*O);for(let P=0;P<S;P+=1){C=Math.floor(m+x*P/S*k),g=Math.floor(p+x*P/S*$);let T=(g*A+C)*4;const R=c[T+0],E=c[T+1],_=c[T+2],F=c[T+3];T=(U+P*A)*4,h[T+0]=R,h[T+1]=E,h[T+2]=_,h[T+3]=F}}},r=function(a,l,u){const c=a.data,h=l.data,A=a.width,f=a.height,m=u.polarCenterX||A/2,p=u.polarCenterY||f/2;let x=Math.sqrt(m*m+p*p),C=A-m,g=f-p;const w=Math.sqrt(C*C+g*g);x=w>x?w:x;const S=f,I=A,O=0;let U,$;for(C=0;C<A;C+=1)for(g=0;g<f;g+=1){const k=C-m,P=g-p,T=Math.sqrt(k*k+P*P)*S/x;let R=(Math.atan2(P,k)*180/Math.PI+360+O)%360;R=R*I/360,U=Math.floor(R),$=Math.floor(T);let E=($*A+U)*4;const _=c[E+0],F=c[E+1],V=c[E+2],Q=c[E+3];E=(g*A+C)*4,h[E+0]=_,h[E+1]=F,h[E+2]=V,h[E+3]=Q}},o=function(a){const l=a.width,u=a.height;let c,h,A,f,m,p,x,C,g,w,S=Math.round(this.kaleidoscopePower());const I=Math.round(this.kaleidoscopeAngle()),O=Math.floor(l*(I%360)/360);if(S<1)return;const U=i.Util.createCanvasElement();U.width=l,U.height=u;const $=U.getContext("2d").getImageData(0,0,l,u);i.Util.releaseCanvas(U),n(a,$,{polarCenterX:l/2,polarCenterY:u/2});let k=l/Math.pow(2,S);for(;k<=8;)k=k*2,S-=1;k=Math.ceil(k);let P=k,T=0,R=P,E=1;for(O+k>l&&(T=P,R=0,E=-1),h=0;h<u;h+=1)for(c=T;c!==R;c+=E)A=Math.round(c+O)%l,g=(l*h+A)*4,m=$.data[g+0],p=$.data[g+1],x=$.data[g+2],C=$.data[g+3],w=(l*h+c)*4,$.data[w+0]=m,$.data[w+1]=p,$.data[w+2]=x,$.data[w+3]=C;for(h=0;h<u;h+=1)for(P=Math.floor(k),f=0;f<S;f+=1){for(c=0;c<P+1;c+=1)g=(l*h+c)*4,m=$.data[g+0],p=$.data[g+1],x=$.data[g+2],C=$.data[g+3],w=(l*h+P*2-c-1)*4,$.data[w+0]=m,$.data[w+1]=p,$.data[w+2]=x,$.data[w+3]=C;P*=2}r($,a,{})};return hh.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),hh}var Ah={},PS;function kAe(){if(PS)return Ah;PS=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.Mask=void 0;const t=ii(),e=dn(),i=oi();function s(A,f,m){let p=(m*A.width+f)*4;const x=[];return x.push(A.data[p++],A.data[p++],A.data[p++],A.data[p++]),x}function n(A,f){return Math.sqrt(Math.pow(A[0]-f[0],2)+Math.pow(A[1]-f[1],2)+Math.pow(A[2]-f[2],2))}function r(A){const f=[0,0,0];for(let m=0;m<A.length;m++)f[0]+=A[m][0],f[1]+=A[m][1],f[2]+=A[m][2];return f[0]/=A.length,f[1]/=A.length,f[2]/=A.length,f}function o(A,f){const m=s(A,0,0),p=s(A,A.width-1,0),x=s(A,0,A.height-1),C=s(A,A.width-1,A.height-1),g=f||10;if(n(m,p)<g&&n(p,C)<g&&n(C,x)<g&&n(x,m)<g){const w=r([p,m,C,x]),S=[];for(let I=0;I<A.width*A.height;I++){const O=n(w,[A.data[I*4],A.data[I*4+1],A.data[I*4+2]]);S[I]=O<g?0:255}return S}}function a(A,f){for(let m=0;m<A.width*A.height;m++)A.data[4*m+3]=f[m]}function l(A,f,m){const p=[1,1,1,1,0,1,1,1,1],x=Math.round(Math.sqrt(p.length)),C=Math.floor(x/2),g=[];for(let w=0;w<m;w++)for(let S=0;S<f;S++){const I=w*f+S;let O=0;for(let U=0;U<x;U++)for(let $=0;$<x;$++){const k=w+U-C,P=S+$-C;if(k>=0&&k<m&&P>=0&&P<f){const T=k*f+P,R=p[U*x+$];O+=A[T]*R}}g[I]=O===255*8?255:0}return g}function u(A,f,m){const p=[1,1,1,1,1,1,1,1,1],x=Math.round(Math.sqrt(p.length)),C=Math.floor(x/2),g=[];for(let w=0;w<m;w++)for(let S=0;S<f;S++){const I=w*f+S;let O=0;for(let U=0;U<x;U++)for(let $=0;$<x;$++){const k=w+U-C,P=S+$-C;if(k>=0&&k<m&&P>=0&&P<f){const T=k*f+P,R=p[U*x+$];O+=A[T]*R}}g[I]=O>=255*4?255:0}return g}function c(A,f,m){const p=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],x=Math.round(Math.sqrt(p.length)),C=Math.floor(x/2),g=[];for(let w=0;w<m;w++)for(let S=0;S<f;S++){const I=w*f+S;let O=0;for(let U=0;U<x;U++)for(let $=0;$<x;$++){const k=w+U-C,P=S+$-C;if(k>=0&&k<m&&P>=0&&P<f){const T=k*f+P,R=p[U*x+$];O+=A[T]*R}}g[I]=O}return g}const h=function(A){const f=this.threshold();let m=o(A,f);return m&&(m=l(m,A.width,A.height),m=u(m,A.width,A.height),m=c(m,A.width,A.height),a(A,m)),A};return Ah.Mask=h,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Ah}var fh={},LS;function IAe(){if(LS)return fh;LS=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.Noise=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=this.noise()*255,o=n.data,a=o.length,l=r/2;for(let u=0;u<a;u+=4)o[u+0]+=l-2*l*Math.random(),o[u+1]+=l-2*l*Math.random(),o[u+2]+=l-2*l*Math.random()};return fh.Noise=s,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),fh}var ph={},RS;function DAe(){if(RS)return ph;RS=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.Pixelate=void 0;const t=ii(),e=sn(),i=dn(),s=oi(),n=function(r){let o=Math.ceil(this.pixelSize()),a=r.width,l=r.height,u,c,h,A,f,m,p,x=Math.ceil(a/o),C=Math.ceil(l/o),g,w,S,I,O,U,$,k=r.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(O=0;O<x;O+=1)for(U=0;U<C;U+=1){for(A=0,f=0,m=0,p=0,g=O*o,w=g+o,S=U*o,I=S+o,$=0,u=g;u<w;u+=1)if(!(u>=a))for(c=S;c<I;c+=1)c>=l||(h=(a*c+u)*4,A+=k[h+0],f+=k[h+1],m+=k[h+2],p+=k[h+3],$+=1);for(A=A/$,f=f/$,m=m/$,p=p/$,u=g;u<w;u+=1)if(!(u>=a))for(c=S;c<I;c+=1)c>=l||(h=(a*c+u)*4,k[h+0]=A,k[h+1]=f,k[h+2]=m,k[h+3]=p)}};return ph.Pixelate=n,t.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,s.getNumberValidator)(),t.Factory.afterSetFilter),ph}var gh={},MS;function FAe(){if(MS)return gh;MS=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.Posterize=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=Math.round(this.levels()*254)+1,o=n.data,a=o.length,l=255/r;for(let u=0;u<a;u+=1)o[u]=Math.floor(o[u]/l)*l};return gh.Posterize=s,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),gh}var mh={},OS;function PAe(){if(OS)return mh;OS=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.RGB=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=n.data,o=r.length,a=this.red(),l=this.green(),u=this.blue();for(let c=0;c<o;c+=4){const h=(.34*r[c]+.5*r[c+1]+.16*r[c+2])/255;r[c]=h*a,r[c+1]=h*l,r[c+2]=h*u,r[c+3]=r[c+3]}};return mh.RGB=s,t.Factory.addGetterSetter(e.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),mh}var bh={},US;function LAe(){if(US)return bh;US=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.RGBA=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=n.data,o=r.length,a=this.red(),l=this.green(),u=this.blue(),c=this.alpha();for(let h=0;h<o;h+=4){const A=1-c;r[h]=a*c+r[h]*A,r[h+1]=l*c+r[h+1]*A,r[h+2]=u*c+r[h+2]*A}};return bh.RGBA=s,t.Factory.addGetterSetter(e.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n}),bh}var vh={},NS;function RAe(){if(NS)return vh;NS=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.Sepia=void 0;const t=function(e){const i=e.data,s=i.length;for(let n=0;n<s;n+=4){const r=i[n+0],o=i[n+1],a=i[n+2];i[n+0]=Math.min(255,r*.393+o*.769+a*.189),i[n+1]=Math.min(255,r*.349+o*.686+a*.168),i[n+2]=Math.min(255,r*.272+o*.534+a*.131)}};return vh.Sepia=t,vh}var yh={},HS;function MAe(){if(HS)return yh;HS=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.Solarize=void 0;const t=function(e){const i=e.data,s=e.width,n=e.height,r=s*4;let o=n;do{const a=(o-1)*r;let l=s;do{const u=a+(l-1)*4;let c=i[u],h=i[u+1],A=i[u+2];c>127&&(c=255-c),h>127&&(h=255-h),A>127&&(A=255-A),i[u]=c,i[u+1]=h,i[u+2]=A}while(--l)}while(--o)};return yh.Solarize=t,yh}var wh={},QS;function OAe(){if(QS)return wh;QS=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.Threshold=void 0;const t=ii(),e=dn(),i=oi(),s=function(n){const r=this.threshold()*255,o=n.data,a=o.length;for(let l=0;l<a;l+=1)o[l]=o[l]<r?0:255};return wh.Threshold=s,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),wh}var VS;function UAe(){if(VS)return Rd;VS=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.Konva=void 0;const t=sAe(),e=rAe(),i=aAe(),s=lAe(),n=uAe(),r=cAe(),o=dAe(),a=A5(),l=I2(),u=f5(),c=hAe(),h=AAe(),A=fAe(),f=pAe(),m=p5(),p=gAe(),x=mAe(),C=bAe(),g=vAe(),w=yAe(),S=wAe(),I=CAe(),O=EAe(),U=xAe(),$=TAe(),k=_Ae(),P=SAe(),T=BAe(),R=kAe(),E=IAe(),_=DAe(),F=FAe(),V=PAe(),Q=LAe(),G=RAe(),Y=MAe(),ee=OAe();return Rd.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:i.Arrow,Circle:s.Circle,Ellipse:n.Ellipse,Image:r.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:u.Rect,RegularPolygon:c.RegularPolygon,Ring:h.Ring,Sprite:A.Sprite,Star:f.Star,Text:m.Text,TextPath:p.TextPath,Transformer:x.Transformer,Wedge:C.Wedge,Filters:{Blur:g.Blur,Brighten:w.Brighten,Contrast:S.Contrast,Emboss:I.Emboss,Enhance:O.Enhance,Grayscale:U.Grayscale,HSL:$.HSL,HSV:k.HSV,Invert:P.Invert,Kaleidoscope:T.Kaleidoscope,Mask:R.Mask,Noise:E.Noise,Pixelate:_.Pixelate,Posterize:F.Posterize,RGB:V.RGB,RGBA:Q.RGBA,Sepia:G.Sepia,Solarize:Y.Solarize,Threshold:ee.Threshold}}),Rd}var NAe=Lg.exports,$S;function HAe(){if($S)return Lg.exports;$S=1,Object.defineProperty(NAe,"__esModule",{value:!0});const t=UAe();return Lg.exports=t.Konva,Lg.exports}var QAe=HAe();const Ri=nr(QAe),VAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAGsUlEQVR4nO3dW4xdVR3H8c9Upx060wtSrC0IBaY3BCTIg2GKxGtC0hgiqYkmJEbExKYJRXzhxU5VUQrGYGKExJeiaOKjAbEJphgpPHAtWplOubVFx8IMU9rp0BY7xxebDJPOzN5nrbPWOaf7m/zeutb+rf+va82evfes1aH5+ShWY9UkXYBuzMciLMApjGMUxzCOf2Hw/xrAIEbS2i9HR24DZ2AZ1uELWIfLI/c/hCfxOHZgf+T+24LL8SO8glpivYwfYGXDR9nkLMF38bz0IUynp/AdnNvAcTcdF+N+jMkfwHQaw/24oEE1KMQqbMMOPIrNWIBYrMZDOCl/wYvqPfwSKyLWoRC34cQZDO3DVYF9L8R9WiuIqTqBn6AbDed6nMJ0ZoZxdR39duAbGELugsbSG7ipjlqU4k8FjJQN5ULsLNBvq+oRLC9Rj1K8VdDEKK4t0N9NGEbuojVab+HGAvUoTRkTM82Uc/Bgyf5aXafwY3x49jIXp6yJM4WyBLsSFKBZ9Vd8pGC9Z6UeA5OXr0sxgNxFya1/4qIyhZ+Oeg0M45uK/ww6G3QAa8uV/4N0oIaKeIzgRjxTT+MqkMYwguvxctmGrRTIOJ7BAPZhEEcwhlHMRTe6cR5WohdrcS26Evs9gD68WbZh7nV3Jj2Lu3AdOssObBJd+Ay24KWE/veo4+4rd9Gn6j/YilVoFFdhG95OMJ6d+FAZc7kDOK29uA0pl5Zu3I79aOTYfljGVO4g3sHtCFmSQunEnTiCRozxFL5Y1EzOMLbjPDQLy/E7jRnrIQUfSOYIYgQbitcpOV/Du+KP+49FLp46jBfw8VLlyUOvxrzv//JsF04Zxp+xEK1CNx5FzBrsN8ubx1RhvI9P1VmYnHRiO2LW4u6ZLphyhtT7Ojg3c/Bb8epwwgzLdspAaoq/eWw2OvEIYtXhF9NdKHUgrTxT5uM5cWowjo8BAECOQFp5plyGw+LUYBsAAOQKpJVnys3ijP8oFgMA5AyklWfKw+KM/9sAALkDadVQlmIUoWP/GwBA7jBOaxhXBBYpNZuEj3sClwFA7iAma0Ci72cj0Yk3EDruLQCQO4SpujW4TGnZKHzMLwFA7gCm6qEIRUpJl/APyiewFOZgHM1E1M8yE3Ac2xFCBz4Lc/BiqKPIPJvbQB38JkIfnwPYIP8ydVojmusNYhlCH6m8AgA/C+wsho7hS3Fqk4UtwmuwuAMA67EJV+IcpGIIT2MbBhNeNzY34InAPj4dwUcFYB7GETJDbpmT3Hb7cgLPI4Q1VSBx2RvYfnUVSFz2BbZfWgUSl9BAFlaBxOWdwPYLqkDiciywfRVIZMYC21eBROb90A6qQOKyKLD90SqQuCwGAChJFUhkqhnSZPQGtq8CicyawPaHqkDiErql7UAVSDy6cCVC2FsFEo8+4S/2qkAi8vkIfYQ+nKyYxN+FvS18jeo39VhcI/y75L9QBRKLWyL0sTNCHxXoRugmNhNYhooI3CH8e6w9yV23KfPwJkID2ZraeLvyPXG+2jzrzy6JwTJxNqh5KrXxduUP4syOjamNtyNfFyeMY1r3a/+moVe8vbR+nth729GDFxEjjOMyH6nU6nTiMXHCqOFXae23Fx3ibs90EpckHcEU5mI+WpFOccOo4d6kI5jCHRjHBH6ttTYG6BZ3marhIHqQhf4zGNqNS9HsrMQLiBlGTcbdWPtnMDWCr+QyVoCvasw2sTtSDmIy/QXM1fB7LEGzsEzjNlIelml73P6SRt/GZszL4BVgLjajEbOihgmsTzaaSfSXNDpZr+Nb0v5Jdhc24UCA7yLKclfVX4fR6WbM3Rr7SPoK3CPNKaS7ZDhooD/Q9HTaje/jOoQsafNwA7ZKe1z4IM4vY7Rj9n8yK3eZZafmSBzHc/gHXsVrGMYYjmAOenAuFqIXq7EGV0v/i+kQ+vB6yotegv9K9z+uVXQYn6ynoKGfAV2s5HE+ZwHvYj1257h4j8bfobSS/q3OmRGTT+BV5C5Gbg3K/AR3MkvwBHIXJZd2KXk3lYJOPCB/cVJqAvci54Fms7LB2XHA/WHcjJZgmfhHBTWTdmiNc7Q+QAduRTsd731Qc58uV4hFuAfvyV/QenUS98n4pq8RrMDDaKXf7I/jATTN7WwjWIGfinPUQyODeBAXNqYEzcki3Ind8gdwWk9jI0ofud1urMEW7JE+hD3Yiqb4k4AYj99jsxx9WIc+XCOuzyE8icfxGA5G7DuYZgxkKudjLXqxEr24CD2Yj0XoQQ1jOIyjGMMh7MVkjaa1X47/AQvxi29+EyE2AAAAAElFTkSuQmCC",$Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAGkUlEQVR4nO3df2heVx3H8Vefpe2WZNE2XTsb1s6GPalzzooqw+FkbIAKQymDDVCRiT/HZB0gqDDDCrYGqCjiUBH3ExAQQFeHtDKZmcqW2TKYZm3sfshWu7q2aZPUtq4RIIW0PGme5znn3nNvct/w+S98z/d8P5x7T+45zzlLFJ9eDMyoPqM+dKILK9CJS3AC45ic0RvYN0ujOJxv+q2xJHUCDViDm3DrjDZEjn8Qw9iNXXg5cvwFQR1bMYrpnLUPD2Bj5r0sOCvxdfxF/ibMpRFsQS8WDasxiHGkNmAuTeCHWJdNCYrBu/Eg/it9wZvVaTyEOmLRgy3Yid9jCNdEjD8vXRjCaekL3K5OYQiXB9bieozNEf+LgbGbYjNea5BAWfUGPq+92ekm/Ocisd/GjW3EbYo+/O4ijZddf0AfmmU+M87piRZiNs0tOIjURctaR3FHE/V4Pw6jmZj/biJe03RgG8422fhC0U9w6Rw1aXZkzFYUevGnDDtddA2jFwDQjhlRDFmLFwpQlNQawwBo7TEV1ZBrLaxZVKjexF3aGxnTmA75uPgRPImVqIhEu4Zci6ctsm8+edCOIeswjKsi5zIfJzGCUezHGN7CJCZxGivQjR7UUccAPoxOLDhW4e/yeybvxf34GJYH5L0UH8W38HyO+bejpunA08jjxfh9vK+V5FpkAA/gUA79ycyQbRkn8gruke+j5VJ8BfuR2oiWDPkE3kYWCYzjXixFKpZiC47Kpo9RDenDm8ii8cdwZXM1y4VVeFTBDdmZQaPjmvswl4o7cEQBDdmcQYMj4u8kyYJ12IvCGNKJlxGzsV3CV93ypBu/URBDhiI39JC0L+52+SDOSGzI1eKugT+imJvy5qPdT+jRDXkwYgO/RQfKRsgn9KiGrMVJxAj+HC4LLEwKUoyMOQ3ZESnwUeWYTV1IqpHR0JAVmEBo0LP4THhtciflyGhoyNciBX04vDa5k3pkNDTkzxECHsFqlImimHGeIXVxtvB8NUaFcuQ66R9TDQ3ZGiHYAeWa4nbjJelNaGhIjJXAso2OL0tvQEND1kYI9LqwZdYUPC69AeepBrg5QuceximUiaI9XidjGvJIhBh581zqBC5gD8ABYUPt2TyzjsgV0i1ENdJmWInQQN+JWKS8+SSmpDdjCDowAAjhjxFipOJJfADfxA14V45tn8QL+DF2AnxBmLOTWJZTBxY8NeEjZASnURGBGIa8FCORCqAmfF/UvhiJVAA1dCOEsRiJVAA19CCEIzESqQBqwvdJTcZIpAKI8ciaipFIBVCb/0/m5X8RYlQAaphACGXaGlp4ajiBEEInBRWziGHIihiJVAAxHlll3AxXWGrCT6B5T4xEKoCa8G9RlSERiWHIJuXb3FBYYhjSiRtQEYEaRhHKLRFiVMziFWGrhnsAAFQE8Uvhi/TX5571AqQGeCpCrM9FiFEB6BM+Qg4p58/XCkuMmwm+kXvWC5jvCTfkX6otQdHYKM4OvHvzTnwh86xwQ45r7RjuillcAgBYjk8FxlyOtfh1YJwKrEKsjcdFPn6pVPxIHENOiLORe9FzFU4hhil/QxcqAvm5OIZMYzeqqXAg/eKeEVXW45kKRaxDaM7pUeU8wAy6kHyU9+B1xDRlp3Id+d2FX+AsprAFSblTXEOm8Tz68+xEm/RrfC/KYMKcwG7ENuUYbs+zEy1yu4v/OncwWWZYL7ufDhftIOUr8CvN5T6YJkXg07K77OsY7kHKl+Zy3Kf1U4EGE+QK4AcNEoqpV3G3uW88y4LL8CVhewoGc8z3PJbhr/MkF0MHsR3vzbAv12AbYp2TNZhhrhdljXyvdhjBIG4S9khbjhvxXdndKDcYkB+Adv577scw8n4ZT2EPRrEP+3EcxzCBs+hBN1ahHxtwHT4kn92V38Y25M4mxb4PPZXO4Gq0Tbs/aduL2zCOCgA6sB7J2GRxXETcrF5VgOWGDYp1h1Mq/VO2M8OWWCOfKXFR9ZQCXrK5DDuwGK/vLvSywm14C6kLlbWO4rORapY567ELqYuWlZ6Q78lz0bhT/EWulDqEu1BqerADed7jFFsnsR0L6pCEfvxMvC1GeegMHsP6DOpRGNZgOyalL/hcOo6foo5FQy/uRpH+f9mL+/CODPtdCurYijzvaj+nF3E/NmbeyyYo4ua11fg4bp1R7LNUDuAZDOMZvIjCUERDLmQl6tiIAdRxJbpwOd6JbizBBMYxhQm8hv0Ym9E/cBiF5f/uGoOmH8paIQAAAABJRU5ErkJggg==",jAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAABjCAYAAADD0bNtAAAEFklEQVR4nOXcf6hfcxzH8ce1wWRlFIzCVDFWrSHStNiKRFlFZEUVWoVKKBUp/lsp/tOKvzcVSq1VSZKE7Sq1Udmi2u7F7uZO7s+Pv27de+18v99zPp/P+Xyv86zXv5/369n53nM753zOAXgEhzGN73GvDrAT8wiLMoOd+F9z2FLphUzhoYK9sjPl3OIB/+D+ctXyUiW9WP6BYu0y0k884Cy2FeqXjUHEAyZxT6GOWRhUPOA07ihTMz11xAMmcFuRpompKx7wJzaXKJuSJuIBY7ilQN9kNBUPOIGb26+chhjxgF+xofXWCYgVDziOG9ouHksK8YBjuK7d6nGkEg/4Cevbrd+clOIBR3BVqwYNSS0eMIrL25RoQg7xgEO4rEWP2uQSD/gO69pTqUdO8YCvsLY1mxrkFg/4Epe0JTQobYgHHMRFLTkNRFviAQcMkXyb4gGf4cJWzPrQtnjAR1jdhlwvSogH7FNYvpR4wAc4L7thBSXFA/YqJF9aPOB9jOQWXU5p6YW8k1t0OaWFF2dPZtcllJZdnjey2i6itOi58lpWY0Bpyaq8mlPaEAj2yksZvYvL9co8dndRfEH+mS6KB8zhyS6KB8zi8S6KL8g/2kXxIOE2tNIiTeUf7KJ4wN8it56WFohJ1Da00uVjM4mtXRQPmMDtXRQPOIUtXRQPGMetXRQPOImNXRQPOIGbuigeDLANrXTBnDmO67soHvCzip1YpYu1kaO4uoviAUdwZRfFg0Xb0EYQ0CW+xbYuisN7XRUfL/ZQvjCruip+oIs/9ePYWnznUQ8+xjRSMYVR7MUpFP/fWpWkDw/ORWnBqnyRU9oQCPbKplzSw35Wfy7XwsN+Vv8L1+JM6oWH/YivxRO5Fi/9d9wvoytNfDbhWnenls71Uz+JHZhBCrKc5FIf6TFsBOxPtOYUrhhm8XFsAsB9Cdd+eVjFq55d/Zho/WNYlU47TakJ1R/NeDHRjCDx92hiy/R7Pn0pJpFC/JMkxoCYIoPuSNgbOWchc3o8GalL0xJ19qBsjpizPG9FuC6hyfAmu46+aThrecYkem+t7uBpPNxgztMNZlXlsQbz/0OdgbMRQ9fgj5rzqvJ5ww5LqCMde6W0p8a8fhl4y0cVgwyZw67YQbgRc0gh/m5smX4D5vFs7JBFHBxg5iA5I/KF/F6Xj/PSXxnt7DGvbqI28B/tsfDzMQtXsBq/9ZhZJ4diiuyuWDTnizCvV8xskrtiiryC0wgYw1Mxiw3AeswghfiHsWXOxwa09VhpnzTi4y31TUaqmxRzWIMVwwiOIFb8h7aLpyD2JsUMdmDFsQ5n0UT6a9zZfuV01LlJMYtPsb1I08Rs0V/4d7yNawp1zEbVUT+KF3BxuWp5uQBv4hecxH5sR7YPZvwLn2ylOCSM5nEAAAAASUVORK5CYII=",zAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAABs1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABVO0FJAAAAkHRSTlMAgIgs6SroBAMoHyKp+aXh3udO+IH+30vmAeq94gpPkyX9r7v8qDCX3O4Xdfb346cTRPRMduWW8fAFdAszpOtRP9rThMtFh9tWlXOUNLG4779Y1S9gR347a6vkHfo5DokhFC63NrYZBqMJ81P7YlD1SbU3csAYkdmiWz53jQyfqiPGoXwW0W0IrW8xbNDtxZ19LDSKAAACc0lEQVR4Xu3U51cTQRTG4XdDNIsYBDFiANOD9C4de++99957772X/ZP9oCcjkuHO7N27fsnve85z3rl7guCK7S7WdY3s2bwKcu1f7f2pOQOhxgteqfb1EMnx/i6+UNJQiqShFElDKTIGX9m79va68xu2kYaqoRF29R1O/P7l9g6NwVdq2kq/bJmjMbjKvMWeKlpFGMRdCEMpGoOh1LR405tberFOBVB3oQ2dUhWllX5Dg6W0ZyzuUf4u1UtIJU/uWKAA31uemOzgbkkb7GBvWUPv4G/ZSe/gbxmwMdp8Khv1N6/715g/ttXf9S+Z76h1kVzma8sm8x0xAMm0jy0PYxY7APjZUui3NADHs1W2WLyVMvTXry9jRBgGoXANWuEbtMI3aIU2jpp/V/Q35qB8O0iDVpoIY6JAGMaK3kCsm7qH8V0i0DZM7DDe4kDf0l2EYagMAbMpzcRbUS+mIhTa4Cu0wVcmcp6XGCbuQd2F7uC+VijDsk7YZm9E/otRMSpGxagYB6yNRbDtUAg7HmfljcFj8sbxLvl7dByR3+Hm5Q2cDMG4kRC/B043ye9AMQSjMQTjRI+8gbT4zYFTcfkd6A3BOJOVN3A2BOMc/+Z0U/I7cCEub8AJwbhYL29gJf/mdL3yO3D5iqHhwH9XzYjEOBgVjYxr18HIHTUxbt4Cp0kTo+cOWN01MO7dB68cffIHMfBKrqCM6CC4VVPGoz6oZP5TlqfAD09nI+LPniOIXuiJ7MtXCKbXWiPfiqDSfFwNbyYRXN1lz/32HYLs/QxhZCo1hmD7MF0YrU19ROC5uRIQ/fT5iwuR3K/fBr7/+DmUykCqX+TUaOK655oeAAAAAElFTkSuQmCC",KAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAA2FBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABX8LpaAAAAR3RSTlMAAQIEBhIUFhgZGhsdHh8gP0BBQkVGSElLU1ZXWG5vcHFyc3V3eHl6e3yora6vsLe4ubu8ztDR0tTV193m6Orr7fLz9Pz9/mopR8sAAAI1SURBVHhe7drRUtpQEMbxJdJa1VKstlYEUlAQRWqjgoKASpvs+79RnSLzXeQimyxfLzr+X+B3ceYcsjtIzvavfy2iqlALY30pbjCN7/pah2pAIRpQmAYUpgGFaUBhGlCYBhSmAYVpQGEaUJgGFLIBxW/QlZYaavqMr7EFiQ9cyFhN3XqMLTX23oF8siLbDiR4tBnTkjg6tyEn4qnctxgXG+IqqF2OH1Y9AXh6WHXfPwpkjXUct/wNcbVTCYoipcoHE3F4r/rYKxdByt2Z6tDwWrYSfUn7QX4kWF6quGn+jarlR+rGA2vrqkF+ZKCrQpuhd/mRO4Vimw0m+ZGJoo7BcCNQ0oYfgZJt+BEoacOPQMky/AgUGAQECoy1IlBgsBAobQBofpruCsjVabo5ABTiPIh1YBBriOzHbCSuyo3S+ykLPvL8b5CIj0RS5R/8nkiDCOA6hgnV6MrfQuaz0pbXwoT2QHZFoBAQGFAICAwo60ZgQPEjWQYUPwIjQ3EjMNKKH4GRofgRGGkFyMg1OrRFLMplfuSHzcC56JFjnOtKRs14uZMpPpgmLcns4FZ1erJRaMTuzVVHX8TSu49SfFmw/V/sVt6Q4HiQsR4cD+qB8Bed2i+7kJ6aOvMYpZkNmZccyK4a23Ugm1ZkUxwNbcZQPH3+bTGSb+KqaUFa4ixMLN/tPAUGT4HBU2DwFBg8BQZPgcFTYPAUGDwFBk+BwVNg8BQYPAUGr8byT2ShUKtGz4toLyfwByDa7D6rgkxQAAAAAElFTkSuQmCC",GAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMABwgUFRYXHyAhLzAyMzQ1cXJzdHV2k5SVl5iZtru8vb6/3d7f4OHi4+Tl8/T1+Pn6+2CiDiIAAADtSURBVHhe7dpbcoJAFIThVkU0qImQi3dUZBITHWD2v7hUiVXDAqZ96n8D30u/nYO2yfvBVC5o1uTZGL7RunGUmlWER4lxtH5fW2N2c8SuUwCILo7a9xDAxpFbApOGjdQxPhy9FEc+ksPwkTMqD5x2ATt5xKJj9BCwXuGVDrJF0LZPQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJECO3A3C86SOWVYhewjmFROnoFDnxkj4yPvGH8jJcSrNjIJ4Doh2uYAQBMr0zjL8G9F+KML3M8Gi5rDlF/DeCL07y0YQF73i/iFvgH2E7OZ+WWFL8AAAAASUVORK5CYII=",qAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAilBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAggvAAAALXRSTlMAFBUWFx8gIS8wMjM0NXFyc3R1dpOUlZeYmby9vr/e3+Dh4uPk5fP09fj5+vtoMG2kAAAAzElEQVR4Xu3aORKCQBSE4UYE3MVdAYVxH2Dufz2rxCpSA5qo/wt8SWfvoSlaZ6Z0nWZNugrRNjzWjlJ98PFrbBytx7wxpm9H7DUBAP/uqF0HAE6O3B6IajZSBdg4ejHOfCSF4SM5Sj5i4XpIyF8JESJEiBAhQoQIESJEiBAhQoQIESJEiBAhQoQIESJEiJB+TuUFH7kg4yMJVnxkgbCPlxIc2MgWgH/jGsYDgMmLaTzH+DYizvg+w6/BvuIQ1c5DWxCnhe0WsHmyDBrgA1/Py24jwiZBAAAAAElFTkSuQmCC",WAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAACUlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD1eKC/AAAAxXRSTlMA/vkX3ccZGrPxkfsS2V74Be7mvxOtAQbtTYjMxP33596Zju+Psr7c4KofZR2G2jImYhvGENscyDgCr8EeO9YOCyRm8COKFArr5Mu89ZsiKZCHT1roUWs5mD76kowWWzEnVcU/4bghZ1+fGPZoOrYRbdLXgyC0Q8rRyUFu6q595aINQKYVnQfOMJbTafLfPWC6WYuJ0JWCSdUtwo1MqERCZKMPLkh746lYBL3pJVT8RkdqpLuUoVYvflCltQw0LF2XM+Kck7OqwgsAAASnSURBVHhevdoFe9RYFAbgL6OdduoutLSUlrpABSiUQilS3GWBxVncFnfZhYXFFmfd3d3t+1/7PNu5uUk6kmRuef9A7knuOTk5ubArb09byST/AV+2x5PtO+A/XdK2Jw8q7dxYOZpR5NRNr4cSCxc3M470poVI0sDJuUzo6P4BuNeTOo+2ZFY2wp1tqeW0bc25Z+HctJI0OpKW2guHit+nYzkZBXBgWw1dGayHbcvHMLoxHaU1KSk1pR0zGF32EtjzQqrG4abea9jshc67ueHqQQ6nVRfChsBcWpV/sDSAKALr68ppddyLhPp8tChrmICYJkzfRIvafiTw6CzNvlmJBFrqNJosa0Fcm0M0GfsDbLjyC01CqxHHO+ZtNWcjbCp+mUbX48TSt4wGo0pmwbZZM0fRoKIfMaxrpsGpd+HIGzk08O2MkR+mvVsTgEPBXBp0Rc+XtTR4KwuOfXSZBlWI4lWNUupEuFAwk5K2HMNsG0PpPbh0hlL2YVgU1FB6Bq5VURqExXpKX0+EawXPUfoQJm9XUPdxFpKQNZm6nN5YO+uTIJLiNay3Ggaffi7z/HUk6UuZ+2l9kC5TV4Kk3aFuPnSNHgpbpiFps2S1XFMP4VvqiqHAcupSEXFpF4WxUGIvhV2i9T9JQWuBElc0CiswZK4xENWhdOF/C6mbAkW6qRvqkRdTKIMy4ykcAgA0U2iAMrspTAWAdgrlE6DMvkwK7QAyKLwGhfIprAcga/NtKCTX/g+ALYzQAlCok8JoYMDwhJRKpxDGFAr3oNQqCivRRuFNKLWdwg68QuEGlLpAoQmTKHihVIBCvsz/GVAsJKvVS4xIh2IdjDiGcYwohWIvykQpYkQuFNMbsNnwyBeWYimMyHwqF3kqt+upPPgR3MK1cguPXDJel8koy8pOKBWkkG8okKuh1AkKTWiz9irq+5Ud2EPh6ki9tLoRpnAQSjVTCEMmCoNQqJHCaFNLtBQK7aAw39Qg1UGhSaa1B0ekTQ1nmtu5dArTocw1Cg8BAE0UNkEZP4X7AIBW9R9BWGn9CMJRCs9Dka0U/Biyn7q/oMQGjcJXGDKwS4aiOpB5eYj4l7olUOAz6haN2NhDVqo1PdDNp24mklZFXSWkvjQKo75Akh5oFNIWwKCaulNBJKV9dqxhZu9Z6nKzkITCx9TNOQ+T25QuJjPo/I7S97AYpFQF1xZRugWr+mxKZ+DSj5SKehKM0dcqGKP/lChS/pwFxwovMuGYvPA4DSYH4VDnYxr4Y6zyUjoNZj+AI0cqaFDrRQz95t9NdxzUsV+rNBpULEBMjyw/zjJgU/E4GoU2II7VIZrsbYENv22lyYwbiOv3OTQrO4IEpqRoNKnYgAT6a2kxfncYMYWv+WnRsQAJebtolZn/Rzui6Mw47aGVfx1sKKzWOFz6n9svBKALnti+qpnDaU/sZvGSbEYXqi3NTUnJLfWFGF1RMWyrH6Qrt3rgRPHfbg5iwKHeaqdHSp6ch3OHnRyO8ZxrhTveEtvHfDrhXt6KLibkX5GHJLUemso4Ht5vhRLrNlb6Yhwia4RK4e6bi/M33fUVeTxFvrtl+U03u/fBpv8Ay7jXK2LgI/kAAAAASUVORK5CYII=",YAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAABsFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD78RVyAAAAj3RSTlMAAQQFBgcLDQ4PERITFBUWFxgZGhscHR4fICEiIyQlJicpLC0uMTI3ODo7PT4/TE1OT1BRVFVWWFlaW15fYGJmamttboGCg4aHiImMjY6PkJGSk5SZmpucnZ+iqq2ur7q8vsTFx8jJysvQ0dLT1dbZ2tzd3uDh4uPk5ebn6Orr7O3u7/Dx8vX29/j5+vv8/o25xJoAAAK0SURBVHhevdqJVxJRFAbwz6K0REUzVEzRzNKybLNF01IzpEWpKMvMLdwyl6BNbUEjTSS+f7lDesQ8iDPDu+/3D8yZeffe9+bdC6Ps9W3ewcB0cDkaXQ5OB1572+rtUKmwyR9iCouvbpdCierueaYx56lGhvI6J7mviY48WFfiW6Uh634nrHH5ftOwjf4qmHfYG6MpMV8OTGr8TNMWW7JggmuElgyXwrBLy7Qo0gRjDnrjtM5vgwFFk8zIuAP7cs0zQ6FK7KNmgRn7ehppnY9QgUgD0ji1QiV+pXmXE0tU5JsbeyiYpzLBQqR0aJIKjdmQymMq9QgpXIhTqfiVFBtUmIqtuLBL1giVG8YuzRRwHf/JWaCApSNykZXUgx0q/1BErAJJLyjkGbY5oxSykdz0n1KMD1vy1yhmzY5NnRTUjk2TFDSGf6opqgoJ3RTVhYR5ipoFgGIKKwbQQmHNAF5SWB+AjxQWAvIoLhdnKa4ObRR3C/cpzoNBihtAgOJG8Y7i3uIDxYUQprjviFLcupaHaPlcWhZeSwhrSUYtZUVLgdRT6usp7gxydWy/8okS0nEkeq7jcHcTwDHKihcBwBxFzSDBQ1F3keDW8ROECQoKYFMHBd3Bprw1ilm1Y8sTiunVce1Rgm19FOJHUkWMImLl2KGHIh5gp+wvGq4HcYMCrmGXYSo3hN2cP6jYcpmGa/TLSKFXLrKSbONUKHAQKeXPUZn3DuyhXF27qRJ7qlmhEpFapNEQoQI/zyGtkwrqy1KtrrZseo4xZiRQAAMOZNIqj/tsMOZi2PKSX4VhpcO0ZKgEZjR+sjKIAZNyesyOlDzMhnllZoZjov1uWOPwGh7zOQ7r7O0GsibQbkeG3PdmmcZMlxtKFDT5g3sMkTmhUm5da/fAm6lgOBoNB6dGBzytdUdh0F+YRx0B0whRNgAAAABJRU5ErkJggg==",XAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABgCAYAAADrc9dCAAAFVElEQVR4nO3dSYwUVQDG8V9PM4CgwiiCCyJuGEFuenG7SKKJBk0UNC6JJu5RryR6wZtXLyQkHkzcopG4xZi4IiqKgriBCzKIoBNDZAzEgwjixUqGSM9M17xXr6qr/sl3nNff9755VZXu16+pLlNxPzbgDwzjY9yDqWgokLn4DIc7aANOTeauZvThA53LyLQe7UQea8VDxi4j00OJPNaGqfjF+AsZwjFJnNaEB42/jEwPJHFaAybjJ90XsgtTirfb+9yn+zIy3ZvAb0/Tjx3yF7ITk9EQiLvkLyPTnYW77lHa+MHEC9mOSQV770nuMPEyMt1erPXeo43vhSvkR80qmRC3CVdGplsLTdBD9OEb4Qv5Fn1o6JKbhC8j040F5ugJWvhKvEK2aFZJV9wgXhmZri8sTcVpYaP4hXyBFhrG4Drxy8h0bUGZKs2niivkc80qGZVrFFdGpqsLSVZRPlJ8IZ8UkqyCXKX4MjJdWUC+yjGenSSxtL6AfJViiXRlZLoiesoK8b70hayNHbIqXCJ9GZkuj5x1TIp8Bm9hHs4doQW4EHMK9DEav2EjfsC2EfoZhxGdGIUM4Kz/tAgLcRbOw7ERXq8IDmA3BrEVWzD4n3YIWFbeQkZO+sjJvwAzwlirDH9hO0aWNIgtGOp2sNEKmYLTHPlfPlINYzPsyJKy1bUN+8b64xaW43nd7Z9tlE+/4Hksc5SFMYB3SmCyrnoLAwCT8F4JTNVd76Ldwi14WkMZuLmNx3FmaicNYGYLw5iZ2kkD+L1P84lZmWj1YRAN5WBHH55N7aIBwDNwDDZL/9hXd32NaQALMITUpuqqISzAESzAbqQ2VzcNYRGOynwMIrXJuuhnnNOpjIwzsB2pzfa6duLsscrImIdtSG26V7VDjndHTsYWpDbfa/oec5GLOfgaqUP0ir4T4Nio2fiyBGGqrq04pcu578iAYnel95o2Y1bXsz4GM/EJUoermjbhxBzzPS5mYD1Sh6yKNuKEXDPdBdPxLlKHLbs+xPE557hrpuHtyIGqrHU4Lvfs5mQa3pyg8V7UWgl3aE7BK6OYq5veUIIzHifjJeknI7VeV6IDnPuxRvpJSaXXlPBcxzaekn5yitYL6EcpaeNJ6SepKD2nAudvtdXj8rVGhKPMY5yIcwi70evswiEEJdYRRRdEGrdMRMkYq5COH9r3EFEyxthGOgt7IoxbRmYLnDXGClkcYcyyEnyVxCikDvePjOBZYxRSh/tHRrNCSkbwrDFu6r8r4FOykjAscNbQK2Su+pQBAzgt5IChC6nT5SojaOamkIlT6kLq9ISVETRzs0ImTtDMIZ+y+rAP0wOOWQX+xPH4J8RgIVfImepXBkzH/FCDhSykjperjGDZm0LCUMpC6viElREse7NCwhAse6inrH7sl2Zv0mG8DLhOmrNb/sJx+DvBax+VhdLs/PgQlwHgIryGFF7On8D8BWe5YsN/iiXoxKVYhyI9LetyzqLyqGJCb9Xh0MgOLMEXKMLbynF6KoTYG+N24m75Nqb1YRl+jOzxxRzeohHy51FHag9WCLOrvB9349dIXr8L4DEIU3FQ2HD78Zg4XwmbjhUYDuz5oBJ8NwTmIVSoP/E4Zhfg+wSsxL6A/k8vwPeYnG3iQQ5glQCnHOTgVKzCgS78dlIpTndtY698AQ7hBZxbuOv/cwZWy3/53SvCbvi8PKH7AK8q5y7HxXgV3eZZncJsJ+ZgD8ZjfC0uTuKyOy7GWown0284KYnLUVhs9CMCN6nmz9NdiU3olGuXEr/TfSwewQYMYwhrsFS1D2xuYSlexK/Yi4/xsMDfSf8XEA3lfGYYInwAAAAASUVORK5CYII=",JAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABeCAYAAADVA7GfAAAFJElEQVR4nO3df6ieYxzH8dd2NoczEQYbwKBmFkE2U0WLRaJIIVJQpE2pVOEIDFGlVCm0Yq1S23+rASynas5EKxSMSWaBtcac7fhLnk47537u+76u+7qe59zv+v51nh/X9Xk/131f5+l7Pzct3bIML+Ez/Iox7MDbWIUT0g1terEQmzFeUHvwJA5NM8zpwR3YgyIZnTWCeSkG28/MwLByIjrrO5zW7JD7l0G8obqMTimnNzv0/mMuPlJfRislAIvwrXAyWik1WI7fhZfRSqnAXdgnnoxWSpfU3Um1UgIyB+s1K6OVMgnzsUUaGa2UCSzGdmlltFIAV+MP6UV01nbTVMqDGENqAQerbzAf04IBvITUoRfVJxiKlEE2HIGN0ofdbT0VJ4Y8OBWfSx9ymdqDeQMx0kjMJXgHZ6QeSElm44d+E3IjNuCo1AOpSF/5WIn90h966tT24Kkk4BC8Kn2YIeqvwNk0zlF4B6mDDFU7w8bTLAvwhfQhhqwtM4NG1BxL8DHOST2QwHyQegBVuA1/IfWnOUZdHDCn6MzAMA5IH1yM2hQsqQYYxBrpQ4tVu3F2sLQiM1d3rZy9Wgdwc7C0InMmvpQ+tJj1SLC0IrMMv0gfWMxaixnInjvxt/SBxawPMYisSdGak6K+xrFhIovL69KHFbt24axAeUXnMvwpfWixah+uCJZWQ/SrlAO4PWBOjdKPUh4PmlAELi34++XYjdRBhqg3Zby9HcBqjOPRgsf2w0rZLOMLQedgAzoH/FjBc5bqXSnf4LiyITXFVE3O/SjlD5xbNqSmWIzvTT2BfpKyD1eWDakpVui+yblfpNxbNqSmqNKa0+tSsm0JfVj1SRVJyXX3tU6m29sV6jet9ZqUERxWMqfGGBFmkqsL3mepPC7C+RbHlw2pKRYIO9nhgvdLvVJ+w0JkywrhJ53rStmH5cia68WZ/HDB+6ZYKXeXTicBC8ULoGilLNHcSnm2QjZJmIVdiBVE0dfYTfyf8hZ6qg03dlNb0acz5krZgjnoKW6S/pARQ8oOnFgtkrQcrpmG6Cal/InF6FmauiS5CSljuLZyEplwn2aENCHl/uox5MOJmr10oEjKhfgVZV/3hRoZZMdWzQkZxxMF4ym7Utbrse3tVFyNvZoVMo7nCsbV7UoZ1YPb28lIJSOUlB9xUp0AciK1jLpSduP8OgHkRC4yqkoZw3V1AsiJ3GRUkfJAnQBy4hp5X6pc1HhwKZ6uE0BO5LoyJtbzsQLIiV6RMS2k9JqMvpeySfpwq1bfnC86ORwfInW4VWoM54WPJD1DeFf6gMvWqhhh5EKvSXklTgx50StSNmIWpgW5S9mGI6PNPlNylfITTok472QM4kUcPcVj5uB96SX8V3twUe2ZZ8hsbMA4RjUnZSfeU+3uBvtxQ+2ZZ8gA1qJzslsxF5MxpP5PuO7EeYCjcRPW6O6OantxS815Z8mAye98OYpjpnhunZXSKWMig7gKL+OHCc/7B+vQ0z1UkzETr5k6uK2KpbxX8BoHk7GoxDjn4XJcoI93UjPwMroJ8FPhDl9TrYxpzXPKfapDSGllTMIzqh3360hpZUzCE+rtjKpIaWVMwkPqySgj5W2M42etjIMSSka3u68hrEO2P9CSkgeEldHtSmk5CPeI26W+prmp9D4DOAZ7cbLwzcWjuBV70VKSmViG1fhK/HNIS0nOxTC2aWVkxxlYic2KzzetjIY5BSuxCf+gU0bRt78tkTke92IjRtCrd9jMhn8BIQKkBEDSEyoAAAAASUVORK5CYII=",ZAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAxAQMAAAAWb55TAAAABlBMVEXKyv8AAABotHKWAAAAAXRSTlMAQObYZgAAABxJREFUeF5jGO6g/j8CPGD4jwQ+DAcemv+GOQAAL+DaBU2boRMAAAAASUVORK5CYII=",efe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAxCAMAAAAbf/wiAAAAmVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjHWqVAAAAMnRSTlMAERIbHB00Njc4PT4/QEFCQ0VHSFpbZoiLkJGUl5jM1NXb3ODh4urs7e7v8PHz9PX5/bhZZfcAAADvSURBVHhe3dhJTsNAFIThDrQTjDNPzFMwOHHiZ6j7Hw4hg94mu6Rq0f8FPllWvx7CucqeynpzexGYzVr89tEnGpmhqx7wkHv8t7+iIc9wJWchnxAoFTwccgECKwQIbMhEXGEirggQ2IiJuMJEXBEgsLHPttX69AzHaq5D16IFK1dewazp1v43aPmEAbl24gj3W0BvGwUIHhTIuwL5knxJKv+kimmsk3asml0viik8N8F+Ei6XxJ1RsMePFKeVNM5dNlSchdM41VsR6MghD3RkTzCYt1/9Pf5O8SIRG8HbSpgafiv7gVl83OzebnpHgR+RhqxiG3lUYwAAAABJRU5ErkJggg==",tfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAACNFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgSgbbAAAAu3RSTlMARKqA/SJ6A88B/vkT94RCAgYMEua9LGb8vgTvnMTWwMiG9FnhEZKRN3B9V2NDRSOyBxCxCxv73vr1yQjg0yRbZOro8W/F7p92Cm4UTj9ykGcYpZs4Oxq1+MbsUOfdhdnwpi3tWKd3TeTzJRkuaq9R35ar8kZ7XyidrtCoFlrMqXGznjpcZZOt5bnU0R9geW1P0im8PtuVujmPlOuYQbeaBXwXTEhsw0uwHA6N2DIzNot14w9zabTpR8cNlJ1bWQAAA4VJREFUeF7t2WV3VFcYhuF7YIZpJgoRIkCQYBGSAIWWtlix4u5erEDd3d3d3d31+XNd+fqe2WfvOft8a68/8K71fJi519kEGr7huIzjd5fI1aY2VfFUA3lqUlVN5KjuJlXVV0d+9sjhUfLzjhyeIDfl1XJY1U1ebpPTAvKyXk6PkJPRHjldfQX5uFEpDpGPcUrxILlYPFMpLp9EHh5TqhXkYZ9S/UE8WuuV6rIG4m2Xx2TidZkDtzaaI11E29tpjky9xxwpXkqsrTJu3injIWItkzF5g4xlRBquyLhznqzzxOmXsaqu3CPjY+I8I+MWGJExjSgXZb0I82WdJMYMWcvhvKwZRKhbKuMBgEtkXBmTRm/J2gAwQdZuspsjaxigJGsumZUPy5gOVff6s5usCrK2QvW9hsjqLhmV56D6XlPIaOK1MqaCY6+eUbJ5SdZGcO21mWzulfOfoyTrdF4p1Atmr+g0ul/W9eDeaxZZPCyjeAHce42Qwex6Ge1g9opOo8cd7ePca2UOKaQl90HaXu3U7EKnjKfB7BWdRvNlDUL6XmviU8g2b0nWdGpUqsjYB569tJza3C7rDvDtNYHaXCWjfjZGSZFpdFLWIvDv1RGZQivAv9fRuBRq/AaLkqLSaLesJyFkr3mEmytrAEL22kawcpuM4qFCFdtltZUJNaTMmgk1RZntyp5C4daNEmazIpwlzGlFOEGQa65ThMA0mqUopwgxoiiLCDB7v6LUt+K3UpEG8WtXpFfx2tGpSMW9+KxRtI34TFe0v2tPIT07LtURWZUShrdztIdUzyvhhVpTSIdbSLWwXtbLpHpFCXPw+EA1ptFRJbyGx2CtD2qvy1pdxqNhiawjdbjNU8IbeL2phB9x25apDCYr4W2cWs7Jercbr01LakmjZiW8R7bf1Pdx2ZXx9e13JXyIw0cHZR3sJsAnnbLWTaS6s8r6GatXCZ9S3QklfEaQz5WwMziFeiYSZEdR1szFVHNKCesJ9IUSBqhmkRK+zP5pQV+RxML9EW+uX1c8adSwpTCmSQlTC2M6yqQodxTGLFVCU2HMllag/G1RHt99j9MPx+RR/KmFn+X3y684LDwnv984pgADUXE+jaIC9OPQrwBFFGI8DuMV4r965P8jjQpwBoczCtDIAQVYgMNfCrCWQkVeXS04tPTKq9gMQwc8i/XNnYTTP3P6PFutbeZfLX08wPEtHkEAAAAASUVORK5CYII=",ife="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABKCAYAAABNRPESAAAACXBIWXMAACcEAAAnBAEigMbBAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA0pJREFUeJzt3U+oVVUUx/HPe0VhDgoqJeqJDm3wimxiIv0hIhpoNJOoIIigmdgwqlnoTIggIqK/NBWEbKQhjiJn0r+RJJVGGEVqPb23wfaSPd67nXvOPufs++76whrcc/dZnL1/7HXP3f/WnNXZgqfwGBawEXNjyjfhZsy35LsOv+J7HMNHONXnw9yJd3EZwzADfIrbmjRqXXbg7AQPO0v2Ex6q3bI12IlLGSuwFu0P3F+3gSdhAec6rty02lncVa+Zq/NxARWdJvtCiy8hW3GlgEpOm71cp7Gr8FoBlZtGu4R7a7T3WOal/xnB5Nwohfp1OZ3OY3NOhzPG3dif0+EclnB9TqczxhBP4EgOZ3NXHQbNOIdF6ZW4ESWNH00zG/B2DkchSD5244WmTiJk5eVPbMO3dR1ED8nLeulV+Ia6DkKQ/GzDq3VvjpDVDgM8Io15TUQI0h4/4B6cn+SmCFntsYCDdW7se5Burdue6lJEyOqC36RR4dNVCkfIap9b8CGuq1I4BOmGndhXpWCErO5Yklb1fDmuUAjSLV9Lq1YurFYgQla3bMWBcQWih3TPELtweKUvQ5B++EWa0Pp5+RcRsvrhdrxnhcXrIUh/PI4Xl1+MkNUvF6Th+m9GF6KH9MtNlk1ohSD9cx9eH32IkFUGAzyKoyFIOZzBYghSFp/Eb0hhRA8phzNYjB5SBgM8i/MhSBnsx1EiZJXASWzH34QgfRNDJ4WxzzViED2kT45IO6/+0/4hSD/EBFVBDPG8FcQgBOmDt6wyn06ErK6JZUAFsYTnjBGDEKRLXvE/qxaJkNUVx/GwdMjPWEKQ9ontCIXxkopijOh7h9Fatg8m0AERstokNn0WxADPmFAMQpC2eEONPepEyGqDr/CAqxNOkxKC5CUOnymMvRqIQfSQnBzCk02dhCB5yHrE3+XGjzPbDKVR3MZikATJ4miGeVOmE0lHnND/EMO02iktHKT8eU6HM8RfeBoXczuOw/jrWWuH8ZNOq+m7gtNkraarICUoiYQu1ayThC5EyqMq9rs0NNIZO6QFXH1XvET7EQ/Wb9r63IF3RNq8kV2R9pLf2qRRqzIuUeRm/yaW3GR2EksOpcSS3+EzvC/N/nXCP2P8OxWawj1rAAAAAElFTkSuQmCC",nfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCAQMAAACwzYK+AAAABlBMVEUAB/oAAAD+nJMcAAAAAXRSTlMAQObYZgAAAUtJREFUeF7tlcGNwzAMBM/Iw0+XkFKus1NKu1JUgp55GN4EIBeLu2kh+kggZe9YppZf/8Zn3B+9+HFkzJo3OaVV802/Tj1rsWs6ddbi0HLqagU9nVItvnU61RpDl1OtIW8e0ixNb5a0SjObS2OvSG0+WzOPX62ZiFrTkdYYibSG/kRm5s6twjFPAe2JjAI6SsGq1xvHFF468R7ePvw1fqUFfAqaW0MYUevWgAEyToCMEyDjBMg4AVLjBMg4ATJOgIwTIOMEyDgBMk6AGidAwQlQcAK0EtmMkxGcABknQMYJkHECZJwABSdAwWGET/HNVCchv4JfytPgifFUefL8O/yD/MusBFYLK4pVx8pk9bLCeQt4U3ibeON4K3lzebvpAHQJOgndho5E16Kz0f3okHRROi3dmI5NV6fzszuwg7DLsBOxW7GjsetlfMYLR23RXcVV1soAAAAASUVORK5CYII=",sfe={name:"Annotation",props:{panneaux:Array,annotations:Object,largeur:Number,hauteur:Number,nav:Boolean},emits:{outilDeplacer:null,fermer:null},data(){return{modale:!1,confirmation:!1,dimensionsCanva:{w:0,h:0},texte:"",id:0,nom:"",objet:"",objetVerrouille:!1,outilSelectionner:!0,outilDeplacer:!1,outilDessiner:!1,items:[],dessin:!1,historique:[],positionHistorique:0,positionActuelleHistorique:0,selection:!1,positionX1:0,positionY1:0,positionX2:0,positionY2:0,positionSelectionX:0,positionSelectionY:0,largeurSelection:0,hauteurSelection:0,positionStylo:[],couleurStylo:"#000000",couleurSelecteur:"#000000",epaisseurStylo:2,transparenceStylo:1,outil:"",creation:!1,positionObjetX:0,positionObjetY:0,largeurObjet:0,hauteurObjet:0}},watch:{panneaux:function(){this.reinitialiserOutils(),this.definirOutilPrincipal("deplacer")},largeur:function(){this.$nextTick((function(){const t=document.querySelector("#annotation").getBoundingClientRect();this.dimensionsCanva.w=t.width}).bind(this))},hauteur:function(){this.$nextTick((function(){const t=document.querySelector("#annotation").getBoundingClientRect();this.dimensionsCanva.h=t.height}).bind(this))},outilSelectionner:function(t){t===!0&&this.activerDeplacement(),this.reinitialiserSelection()},outilDeplacer:function(t){t===!0&&this.desactiverDeplacement(),this.reinitialiserSelection()},outilDessiner:function(t){t===!0?(this.desactiverDeplacement(),this.couleurStylo="#000000",this.couleurSelecteur="#000000"):this.couleurSelecteur="#000000",this.positionStylo=[],this.reinitialiserSelection()},outil:function(t){t===""?this.activerDeplacement():this.desactiverDeplacement()}},mounted(){if(Object.keys(this.annotations).length>0){if(this.id=this.annotations.id,this.annotations.hasOwnProperty("rectangles")){const e=this.annotations.rectangles.concat(this.annotations.cercles,this.annotations.etoiles,this.annotations.lignes,this.annotations.fleches,this.annotations.ancres,this.annotations.textes,this.annotations.dessins);this.items=e}else this.items=this.annotations.items;this.activerDeplacement()}this.enregistrer();const t=document.querySelector("#annotation").getBoundingClientRect();this.dimensionsCanva.w=t.width,this.dimensionsCanva.h=t.height,document.addEventListener("keydown",this.gererClavierAnnotation,!1)},beforeUnmount(){document.querySelector("#couleur-annotation")&&document.querySelector("#couleur-annotation").removeEventListener("change",this.modifierCouleurSelecteur),document.removeEventListener("keydown",this.gererClavierAnnotation,!1)},methods:{definirOutilPrincipal(t){this.outilSelectionner=!1,this.outilDeplacer=!1,this.outilDessiner=!1,t==="selectionner"?(this.outilSelectionner=!0,this.$emit("outilDeplacer",!1),this.desactiverSelecteur()):t==="deplacer"?(this.outilDeplacer=!0,this.$emit("outilDeplacer",!0),this.desactiverSelecteur()):t==="dessiner"&&(this.outilDessiner=!0,this.$emit("outilDeplacer",!1),this.activerSelecteur())},selectionnerOutil(t){const e=document.querySelectorAll("#outils-annotation .outil.actif");let i="";e.forEach(function(s){s.id&&(i=s.id)}),this.definirOutilPrincipal("selectionner"),this.reinitialiserOutils(),"outil-"+t!==i&&(this.outil=t)},ajouter(t){switch(this.definirOutilPrincipal("selectionner"),this.objetVerrouille=!1,this.id++,t){case"rectangle":this.items.push({name:"rect"+this.id,objet:"rectangle",x:this.positionObjetX,y:this.positionObjetY,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"transparent",stroke:"#ff0000",strokeWidth:3,strokeScaleEnabled:!1,opacity:1,draggable:!0,verrouille:!1}),this.nom="rect"+this.id,this.objet="rectangle";break;case"rectangle-plein":this.items.push({name:"rect"+this.id,objet:"rectangle-plein",x:this.positionObjetX,y:this.positionObjetY,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"#cccccc",opacity:1,draggable:!0,verrouille:!1}),this.nom="rect"+this.id,this.objet="rectangle-plein";break;case"cercle":this.items.push({name:"circ"+this.id,objet:"cercle",x:this.positionObjetX+this.largeurObjet/2,y:this.positionObjetY+this.hauteurObjet/2,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"transparent",stroke:"#ff0000",strokeWidth:3,strokeScaleEnabled:!1,opacity:1,draggable:!0,verrouille:!1}),this.nom="circ"+this.id,this.objet="cercle";break;case"cercle-plein":this.items.push({name:"circ"+this.id,objet:"cercle-plein",x:this.positionObjetX+this.largeurObjet/2,y:this.positionObjetY+this.hauteurObjet/2,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"#cccccc",opacity:1,draggable:!0,verrouille:!1}),this.nom="circ"+this.id,this.objet="cercle-plein";break;case"etoile":this.items.push({name:"star"+this.id,objet:"etoile",x:this.positionX1,y:this.positionY1,scaleX:1,scaleY:1,width:this.convertirRem(12),height:this.convertirRem(12),rotation:0,fill:"#ffff00",stroke:"black",strokeWidth:3,strokeScaleEnabled:!1,numPoints:5,innerRadius:20,outerRadius:45,opacity:1,draggable:!0,verrouille:!1}),this.nom="star"+this.id,this.objet="etoile";break;case"surlignage":this.items.push({name:"rect"+this.id,objet:"surlignage",x:this.positionObjetX,y:this.positionObjetY,scaleX:1,scaleY:1,width:this.largeurObjet,height:this.hauteurObjet,rotation:0,fill:"#ffff00",opacity:.5,draggable:!0,verrouille:!1}),this.nom="rect"+this.id,this.objet="surlignage";break;case"ligne":this.items.push({name:"line"+this.id,objet:"ligne",x:0,y:0,scaleX:1,scaleY:1,points:[this.positionX1,this.positionY1,this.positionX2,this.positionY2],fill:"#ff0000",stroke:"#ff0000",strokeWidth:3,hitStrokeWidth:50,opacity:1,draggable:!0,verrouille:!1}),this.items.push({name:"ancr_line"+this.id+"_1",objet:"ancre",x:this.positionX1,y:this.positionY1,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.items.push({name:"ancr_line"+this.id+"_2",objet:"ancre",x:this.positionX2,y:this.positionY2,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.nom="line"+this.id,this.objet="ligne";break;case"fleche":this.items.push({name:"flec"+this.id,objet:"fleche",x:0,y:0,scaleX:1,scaleY:1,points:[this.positionX1,this.positionY1,this.positionX2,this.positionY2],pointerLength:15,pointerWidth:12,fill:"#ff0000",stroke:"#ff0000",strokeWidth:3,hitStrokeWidth:50,opacity:1,draggable:!0,verrouille:!1}),this.items.push({name:"ancr_flec"+this.id+"_1",objet:"ancre",x:this.positionX1,y:this.positionY1,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.items.push({name:"ancr_flec"+this.id+"_2",objet:"ancre",x:this.positionX2,y:this.positionY2,radius:10,width:10,height:10,fill:"#ffff00",stroke:"#ff0000",strokeWidth:2,visible:!0,opacity:1,draggable:!0}),this.nom="flec"+this.id,this.objet="fleche";break;case"texte":this.items.push({name:"text"+this.id,objet:"texte",text:this.texte,fontSize:30,lineHeight:1.25,verticalAlign:"middle",padding:10,x:this.positionX1,y:this.positionY1,rotation:0,scaleX:1,scaleY:1,fill:"#ff0000",opacity:1,wrap:"word",draggable:!0,verrouille:!1}),this.nom="text"+this.id,this.objet="texte";break;case"label":this.items.push({name:"labl"+this.id,objet:"label",x:this.positionX1,y:this.positionY1,rotation:0,opacity:1,draggable:!0,verrouille:!1,tag:{name:"labl"+this.id,objet:"label",shadowColor:"#222222",shadowBlur:10,shadowOffset:[7,7],shadowOpacity:.2,fill:"#ffff00"},text:{name:"labl"+this.id,objet:"label",text:this.texte,fontSize:25,lineHeight:1.25,verticalAlign:"middle",fill:"#000000",padding:15,wrap:"word",align:"center"}}),this.nom="labl"+this.id,this.objet="label";break}this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))},verrouiller(){let t;if(this.objet!=="selection")t=this.items.find(e=>e.name===this.nom),t&&(t.draggable=!1,t.verrouille=!0);else{const e=this.$refs.transformer.getNode().nodes();for(let i=0;i<e.length;i++)t=this.items.find(s=>s.name===e[i].getAttrs().name),t&&(t.draggable=!1,t.verrouille=!0)}this.objetVerrouille=!0,this.items.forEach((function(e,i){e.objet==="ancre"&&(this.items[i].visible=!1)}).bind(this)),this.objet!=="selection"?this.transformer():this.$refs.transformer.getNode().getLayer().batchDraw(),this.enregistrer()},deverrouiller(){let t;if(this.objet!=="selection")t=this.items.find(i=>i.name===this.nom),t&&(t.draggable=!0,t.verrouille=!1);else{const i=this.$refs.transformer.getNode().nodes();for(let s=0;s<i.length;s++)t=this.items.find(n=>n.name===i[s].getAttrs().name),t&&(t.draggable=!0,t.verrouille=!1)}this.nom=t.name,this.objet=t.objet,this.objetVerrouille=!1;const e=this.nom.substring(0,4);if(e==="flec"||e==="line"){const i=this.items.find(n=>n.name==="ancr_"+this.nom+"_1"),s=this.items.find(n=>n.name==="ancr_"+this.nom+"_2");i.visible=!0,s.visible=!0}this.objet!=="selection"?this.transformer():this.$refs.transformer.getNode().getLayer().batchDraw(),this.enregistrer()},mettreDevant(){this.items.forEach((function(t,e){t.name===this.nom&&e<this.items.length&&(this.items.splice(e,1),this.items.splice(e+1,0,t))}).bind(this)),this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))},mettreDerriere(){this.items.forEach((function(t,e){t.name===this.nom&&e>0&&(this.items.splice(e,1),this.items.splice(e-1,0,t))}).bind(this)),this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))},reduireTransparence(){const t=this.items.find(i=>i.name===this.nom),e=parseFloat(t.opacity.toFixed(1));e>.1&&(t.opacity=e-.1),this.enregistrer()},augmenterTransparence(){const t=this.items.find(i=>i.name===this.nom),e=parseFloat(t.opacity.toFixed(1));e<1&&(t.opacity=e+.1),this.enregistrer()},dupliquer(){const t=new Date().getTime()+Math.random().toString(16).slice(10),e=[];let i,s;JSON.parse(JSON.stringify(this.items)).forEach((function(n){n.name.includes(this.nom)&&e.push(n)}).bind(this)),e.forEach(function(n){const r=n.name.substring(0,4);r==="ancr"?(n.name=n.name.substring(0,9)+t+n.name.substring(n.name.length-2),n.x=n.x+20,n.y=n.y+20):(i=r+t,s=n.objet,n.name=i,n.x=n.x+20,n.y=n.y+20),r==="labl"&&(n.tag.name=r+t,n.text.name=r+t)}),this.items.forEach((function(n,r){n.objet==="ancre"&&(this.items[r].visible=!1)}).bind(this)),this.$nextTick((function(){this.items.push(...e),this.nom=i,this.objet=s,this.enregistrer(),this.$nextTick((function(){this.transformer()}).bind(this))}).bind(this))},supprimer(){const t=this.nom.substring(0,4),e=this.nom;t==="ancr"?this.items=this.items.filter(i=>!i.name.includes(e.split("_")[1])):this.items=this.items.filter(i=>!i.name.includes(e)),this.nom="",this.objet="",this.enregistrer(),this.transformer()},supprimerSelection(){const t=this.$refs.transformer.getNode().nodes();for(let e=0;e<t.length;e++)this.nom=t[e].getAttrs().name,this.supprimer()},gererClavierAnnotation(t){if(t.key==="Escape"&&this.modale==="texte")this.fermerModale();else if(t.ctrlKey&&t.key==="d"&&this.modale!=="texte")t.preventDefault(),this.dupliquer();else if((t.key==="Backspace"||t.key==="Delete"||t.key==="Escape")&&this.modale!=="texte")this.nom!==""&&this.objet!=="selection"?this.supprimer():this.nom!==""&&this.objet==="selection"&&this.supprimerSelection();else if(t.key==="ArrowDown"||t.key==="ArrowUp"||t.key==="ArrowLeft"||t.key==="ArrowRight"){let e,i,s,n;if(this.objet!=="selection")e=this.items.find(r=>r.name===this.nom),i=this.nom.substring(0,4),e&&t.key==="ArrowDown"?(e.y=e.y+2,(i==="flec"||i==="line")&&(s=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),n=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),s.y=s.y+2,n.y=n.y+2)):e&&t.key==="ArrowUp"?(e.y=e.y-2,(i==="flec"||i==="line")&&(s=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),n=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),s.y=s.y-2,n.y=n.y-2)):e&&t.key==="ArrowLeft"?(e.x=e.x-2,(i==="flec"||i==="line")&&(s=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),n=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),s.x=s.x-2,n.x=n.x-2)):e&&t.key==="ArrowRight"&&(e.x=e.x+2,(i==="flec"||i==="line")&&(s=this.items.find(r=>r.name==="ancr_"+this.nom+"_1"),n=this.items.find(r=>r.name==="ancr_"+this.nom+"_2"),s.x=s.x+2,n.x=n.x+2));else{const r=this.$refs.transformer.getNode().nodes();for(let o=0;o<r.length;o++)e=this.items.find(a=>a.name===r[o].getAttrs().name),i=r[o].getAttrs().name.substring(0,4),e&&t.key==="ArrowDown"?(e.y=e.y+2,(i==="flec"||i==="line")&&(s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),s.y=s.y+2,n.y=n.y+2)):e&&t.key==="ArrowUp"?(e.y=e.y-2,(i==="flec"||i==="line")&&(s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),s.y=s.y-2,n.y=n.y-2)):e&&t.key==="ArrowLeft"?(e.x=e.x-2,(i==="flec"||i==="line")&&(s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),s.x=s.x-2,n.x=n.x-2)):e&&t.key==="ArrowRight"&&(e.x=e.x+2,(i==="flec"||i==="line")&&(s=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_1"),n=this.items.find(a=>a.name==="ancr_"+r[o].getAttrs().name+"_2"),s.x=s.x+2,n.x=n.x+2))}}},afficherReinitialiser(){this.confirmation=!0},reinitialiser(){this.definirOutilPrincipal("selectionner"),this.id=0,this.nom="",this.objet="",this.objetVerrouille=!1,this.items=[],this.historique=[],this.positionHistorique=0,this.positionActuelleHistorique=0,this.transformer(),this.enregistrer(),this.confirmation=!1},deplacerFin(t){let e;if(this.objet!=="selection")e=this.items.find(i=>i.name===this.nom),e&&(e.x=t.target.x(),e.y=t.target.y());else{const i=this.$refs.transformer.getNode().nodes();for(let s=0;s<i.length;s++)e=this.items.find(n=>n.name===i[s].getAttrs().name),e&&(e.x=i[s].getAttrs().x,e.y=i[s].getAttrs().y)}this.enregistrer()},redimensionnerTexte(t){this.nom.substring(0,4)==="text"&&t.target.setAttrs({width:Math.max(t.target.width()*t.target.scaleX(),70),scaleX:1,scaleY:1})},redimensionnerFin(t){const e=this.items.find(i=>i.name===this.nom);e&&(e.x=t.target.x(),e.y=t.target.y(),e.width=t.target.width(),e.height=t.target.height(),e.scaleX=t.target.scaleX(),e.scaleY=t.target.scaleY()),this.enregistrer()},selectionnerDebut(t){const e=t.target.getStage();if(this.outilSelectionner){if(this.outil!==""&&this.creation===!0)return this.selectionnerFin(),!1;if(this.positionX1=e.getPointerPosition().x,this.positionY1=e.getPointerPosition().y,this.positionX2=e.getPointerPosition().x,this.positionY2=e.getPointerPosition().y,this.largeurSelection=0,this.hauteurSelection=0,this.largeurObjet=0,this.hauteurObjet=0,this.outil===""){if(t.target.getParent()&&t.target.getParent().className==="Transformer")return!1;if(t.target!==t.target.getStage())return this.selectionnerObjet(t),!1;this.selection=!0,this.nom="",this.objet="",this.items.forEach((function(i,s){i.objet==="ancre"&&(this.items[s].visible=!1)}).bind(this)),this.transformer()}else this.creation=!0,this.nom="",this.objet="",this.items.forEach((function(i,s){i.objet==="ancre"&&(this.items[s].visible=!1)}).bind(this)),this.outil==="etoile"?(this.dessinerForme("etoile"),this.creation=!1,this.activerSelecteur()):(this.outil==="texte"||this.outil==="label")&&(this.modale=!0,this.creation=!1,setTimeout(function(){document.querySelector("#annotation-texte textarea").focus()},10)),this.transformer()}else this.outilDessiner&&(this.dessin=!0,this.positionStylo=e.getPointerPosition(),this.id++,this.items.push({name:"dess"+this.id,objet:"dessin",points:[this.positionStylo.x,this.positionStylo.y],globalCompositeOperation:"source-over",stroke:this.couleurStylo,strokeWidth:this.epaisseurStylo,opacity:this.transparenceStylo,hitStrokeWidth:25,lineJoin:"round",draggable:!1,verrouille:!1}),this.nom="dess"+this.id,this.objet="dessin",this.$nextTick((function(){this.$refs.objets.getNode().getLayer().batchDraw()}).bind(this)))},selectionnerMouvement(t){const e=t.target.getStage();if(this.outilSelectionner){if(this.outil===""){if(!this.selection)return!1;this.positionX2=e.getPointerPosition().x,this.positionY2=e.getPointerPosition().y,this.positionSelectionX=Math.min(this.positionX1,this.positionX2),this.positionSelectionY=Math.min(this.positionY1,this.positionY2),this.largeurSelection=Math.abs(this.positionX2-this.positionX1),this.hauteurSelection=Math.abs(this.positionY2-this.positionY1)}else{if(!this.creation)return!1;this.positionX2=e.getPointerPosition().x,this.positionY2=e.getPointerPosition().y,this.positionObjetX=Math.min(this.positionX1,this.positionX2),this.positionObjetY=Math.min(this.positionY1,this.positionY2),this.largeurObjet=Math.abs(this.positionX2-this.positionX1),this.hauteurObjet=Math.abs(this.positionY2-this.positionY1)}this.transformer()}else if(this.outilDessiner){if(!this.dessin)return!1;this.positionStylo=e.getPointerPosition();const i=this.items.find(n=>n.name===this.nom),s=i.points.concat([this.positionStylo.x,this.positionStylo.y]);i.points=s,this.$refs.objets.getNode().getLayer().batchDraw()}},selectionnerFin(){if(this.outilSelectionner){if(this.outil===""){if(!this.selection)return!1;if(this.largeurSelection<10&&this.hauteurSelection<10)return this.selection=!1,!1;this.selection=!1;const t=this.$refs.transformer.getNode(),e=t.getStage(),i=e.find(r=>r.getAttrs().objet&&r.getAttrs().name.substring(0,4)!=="ancr"),s=e.findOne(".selection").getClientRect(),n=i.filter(r=>Ri.Util.haveIntersection(s,r.getClientRect()));if(n.length>1)this.nom="selection",this.objet="selection",n.filter(o=>o.getAttrs().verrouille===!0).length===n.length?this.objetVerrouille=!0:this.objetVerrouille=!1,t.nodes(n),t.getLayer().batchDraw(),this.desactiverSelecteur();else if(n.length===1){const r=n[0].getAttrs().name;this.selectionner(r),this.transformer()}else this.nom="",this.objet="",this.objetVerrouille=!1,this.desactiverSelecteur()}else if(this.outil!==""&&this.outil!=="etoile"&&this.outil!=="texte"&&this.outil!=="label"&&this.largeurObjet>0&&this.hauteurObjet>0){if(!this.creation)return!1;this.dessinerForme(this.outil),this.activerSelecteur()}}else this.outilDessiner&&(this.dessin=!1,this.enregistrer())},dessinerForme(t){this.ajouter(t),this.reinitialiserOutils(),this.creation=!1},reinitialiserOutils(){this.outil="",this.largeurObjet=0,this.hauteurObjet=0,this.positionX1=0,this.positionY1=0,this.positionX2=0,this.positionY2=0},reinitialiserSelection(){this.nom="",this.objet="",this.objetVerrouille=!1,this.items.forEach((function(t,e){t.objet==="ancre"&&(this.items[e].visible=!1)}).bind(this)),this.transformer()},selectionnerObjet(t){if(this.outilSelectionner){if(t.target===t.target.getStage())return this.reinitialiserSelection(),!1;if(this.objet==="selection"&&t.target.getAttrs().objet&&t.target.getAttrs().name.substring(0,4)!=="ancr")return!1;if(t.target.getParent().className==="Transformer")return this.reinitialiserSelection(),!1;this.selectionner(t.target.name()),this.transformer()}},selectionner(t){let e,i;const s=t.substring(0,4),n=this.items.find(r=>r.name===t);n?(this.nom=t,this.objet=n.objet,n.draggable?this.objetVerrouille=!1:this.objetVerrouille=!0,this.outilDessiner||this.definirCouleurSelecteur(this.objet,n),this.activerSelecteur()):(this.nom="",this.objet="",this.objetVerrouille=!1,this.desactiverSelecteur()),s==="flec"||s==="line"?(this.items.forEach((function(r,o){r.objet==="ancre"&&(this.items[o].visible=!1)}).bind(this)),e=this.items.find(r=>r.name==="ancr_"+t+"_1"),i=this.items.find(r=>r.name==="ancr_"+t+"_2"),n.verrouille?(e.visible=!1,i.visible=!1):(e.visible=!0,i.visible=!0)):s!=="ancr"&&this.items.forEach((function(r,o){r.objet==="ancre"&&(this.items[o].visible=!1)}).bind(this))},transformer(){const t=this.$refs.transformer.getNode(),i=t.getStage().findOne("."+this.nom);i&&this.nom.substring(0,4)!=="ancr"?t.nodes([i]):t.nodes([]),t.getLayer().batchDraw()},ajouterTexte(){this.ajouter(this.outil),this.reinitialiserOutils(),this.fermerModale(),this.selection=!1,this.activerSelecteur()},modifierTexte(t){this.texte=t.target.text(),this.modale=!0,setTimeout(function(){document.querySelector("#annotation-texte textarea").focus()},10)},enregistrerTexte(){const t=this.nom.substring(0,4),e=this.items.find(s=>s.name===this.nom),i=this.texte;t==="text"?e.text=i:(e.text.text=i,this.$nextTick((function(){this.transformer()}).bind(this))),this.fermerModale(),this.enregistrer()},fermerModale(){this.texte="",this.modale=!1},reduireTailleTexte(){const t=this.items.find(i=>i.name===this.nom);let e=t.fontSize;e=e-2,t.fontSize=e,this.enregistrer()},augmenterTailleTexte(){const t=this.items.find(i=>i.name===this.nom);let e=t.fontSize;e=e+2,t.fontSize=e,this.enregistrer()},definirCouleurSelecteur(t,e){switch(t){case"rectangle":case"cercle":case"ligne":case"fleche":case"dessin":["#000000","#ffffff","#ff0000","#ffff00","#00ff00","#04fdff","#cccccc"].includes(e.stroke)===!1&&(this.couleurSelecteur=e.stroke);break;case"rectangle-plein":case"cercle-plein":case"etoile":case"surlignage":case"texte":["#000000","#ffffff","#ff0000","#ffff00","#00ff00","#04fdff","#cccccc"].includes(e.fill)===!1&&(this.couleurSelecteur=e.fill);break;case"label":["#000000","#ffffff","#ff0000","#ffff00","#00ff00","#04fdff","#cccccc"].includes(e.tag.fill)===!1&&(this.couleurSelecteur=e.tag.fill);break}},definirCouleur(){const t=document.querySelector("#couleur-annotation").value;this.outilDessiner&&this.couleurSelecteur!=="#000000"?this.couleurStylo=t:!this.outilDessiner&&this.couleurSelecteur!=="#000000"&&this.modifierCouleur(t)},modifierCouleurSelecteur(t){this.couleurSelecteur=t.target.value,this.modifierCouleur(t.target.value)},modifierCouleur(t){if(this.outilSelectionner){let e=this.items.find(i=>i.name===this.nom);switch(this.objet==="ancre"&&(e=this.items.find(i=>i.name===this.nom.split("_")[1])),this.objet){case"rectangle":case"cercle":case"dessin":e.stroke=t;break;case"rectangle-plein":case"cercle-plein":case"etoile":case"surlignage":case"texte":e.fill=t;break;case"ligne":case"fleche":case"ancre":e.stroke=t,e.fill=t;break;case"label":e.tag.fill=t;break}}else this.outilDessiner&&(this.couleurStylo=t);this.enregistrer()},modifierEpaisseur(t){this.epaisseurStylo=t},modifierTransparence(t){this.transparenceStylo=t},definirAncres(){let t=[];if(this.objetVerrouille===!1)switch(this.nom.substring(0,4)){case"rect":case"circ":t=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];break;case"labl":case"imag":case"star":t=["top-left","top-right","bottom-left","bottom-right"];break;case"text":t=["middle-right","middle-left"];break}return t},definirCouleurBordure(){return this.objet==="selection"&&!this.objetVerrouille?"#01ced1":"#ddd"},definirLimites(t,e){return this.nom.substring(0,4)==="text"&&e.width<70?t:e},deplacerForme(t){let e,i,s;if(this.objet!=="selection")e=this.items.find(n=>n.name===this.nom),e&&(e.points=t.target.points(),e.x=t.target.x(),e.y=t.target.y(),e.scaleX=t.target.scaleX(),e.scaleY=t.target.scaleY(),i=this.items.find(n=>n.name==="ancr_"+this.nom+"_1"),s=this.items.find(n=>n.name==="ancr_"+this.nom+"_2"),i.x=t.target.points()[0]+t.target.x(),i.y=t.target.points()[1]+t.target.y(),i.scaleX=t.target.scaleX(),i.scaleY=t.target.scaleY(),s.x=t.target.points()[2]+t.target.x(),s.y=t.target.points()[3]+t.target.y(),s.scaleX=t.target.scaleX(),s.scaleY=t.target.scaleY());else{const n=this.$refs.transformer.getNode().nodes();for(let r=0;r<n.length;r++)(n[r].getAttrs().name.substring(0,4)==="flec"||n[r].getAttrs().name.substring(0,4)==="line")&&(e=this.items.find(o=>o.name===n[r].getAttrs().name)),e&&(e.points=n[r].getAttrs().points,e.x=n[r].getAttrs().x,e.y=n[r].getAttrs().y,e.scaleX=n[r].getAttrs().scaleX,e.scaleY=n[r].getAttrs().scaleY,i=this.items.find(o=>o.name==="ancr_"+n[r].getAttrs().name+"_1"),s=this.items.find(o=>o.name==="ancr_"+n[r].getAttrs().name+"_2"),i.x=n[r].getAttrs().points[0]+n[r].getAttrs().x,i.y=n[r].getAttrs().points[1]+n[r].getAttrs().y,i.scaleX=n[r].getAttrs().scaleX,i.scaleY=n[r].getAttrs().scaleY,s.x=n[r].getAttrs().points[2]+n[r].getAttrs().x,s.y=n[r].getAttrs().points[3]+n[r].getAttrs().y,s.scaleX=n[r].getAttrs().scaleX,s.scaleY=n[r].getAttrs().scaleY),e=null}},deplacerAncre(t){let e,i,s,n,r,o;if(this.objet!=="selection")e=this.nom.split("_"),i=parseInt(e[2]),s=this.items.find(a=>a.name===e[1]),s&&(i===1?(n=this.items.find(a=>a.name==="ancr_"+e[1]+"_2"),r=[t.target.x()-s.x,t.target.y()-s.y,n.x-s.x,n.y-s.y]):(n=this.items.find(a=>a.name==="ancr_"+e[1]+"_1"),r=[n.x-s.x,n.y-s.y,t.target.x()-s.x,t.target.y()-s.y]),s.points=r,o=this.items.find(a=>a.name==="ancr_"+e[1]+"_"+i),o.x=t.target.x(),o.y=t.target.y(),o.scaleX=t.target.scaleX(),o.scaleY=t.target.scaleY());else{const a=this.$refs.transformer.getNode().nodes();for(let l=0;l<a.length;l++)e=a[l].getAttrs().name.split("_"),i=parseInt(e[2]),(e[1].substring(0,4)==="flec"||e[1].substring(0,4)==="line")&&(s=this.items.find(u=>u.name===e[1])),s&&(i===1?(n=this.items.find(u=>u.name==="ancr_"+e[1]+"_2"),r=[a[l].getAttrs().x-s.x,a[l].getAttrs().y-s.y,n.x-s.x,n.y-s.y]):(n=this.items.find(u=>u.name==="ancr_"+e[1]+"_1"),r=[n.x-s.x,n.y-s.y,a[l].getAttrs().x-s.x,a[l].getAttrs().y-s.y]),s.points=r,o=this.items.find(u=>u.name==="ancr_"+e[1]+"_"+i),o.x=a[l].getAttrs().x,o.y=a[l].getAttrs().y,o.scaleX=a[l].getAttrs().scaleX,o.scaleY=a[l].getAttrs().scaleY)}},enregistrer(){this.$parent.pages[this.$parent.page-1].annotations={id:this.id,items:this.items};const t=JSON.parse(JSON.stringify(this.items));if(!this.historique.includes(t)&&this.positionActuelleHistorique===0)this.historique.push(t),this.positionHistorique+=1;else if(!this.historique.includes(t)&&this.positionActuelleHistorique!==0){const e=[];for(let i=0;i<this.positionActuelleHistorique;i++)e.push(this.historique[i]);e.push(t),this.historique=e,this.positionHistorique=this.positionActuelleHistorique+1,this.positionActuelleHistorique=0}},defaire(){if(this.positionHistorique===0)return!1;if(this.positionHistorique-=1,this.positionActuelleHistorique=this.positionHistorique,this.historique[this.positionHistorique-1]){const t=JSON.parse(JSON.stringify(this.historique[this.positionHistorique-1]));this.items=t,this.$parent.pages[this.$parent.page-1].annotations={id:this.id,items:t}}this.$nextTick((function(){this.reinitialiserSelection()}).bind(this))},refaire(){if(this.positionHistorique===this.historique.length)return!1;if(this.historique[this.positionHistorique]){const t=JSON.parse(JSON.stringify(this.historique[this.positionHistorique]));this.items=t,this.$parent.pages[this.$parent.page-1].annotations={id:this.id,items:t},this.positionHistorique+=1}this.$nextTick((function(){this.reinitialiserSelection()}).bind(this))},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},activerDeplacement(){this.items.forEach(function(t){t.verrouille?t.draggable=!1:t.draggable=!0})},desactiverDeplacement(){this.items.forEach(function(t){t.draggable=!1})},activerInput(t){document.querySelector("#"+t).click()},activerSelecteur(){this.$nextTick((function(){document.querySelector("#couleur-annotation")&&document.querySelector("#couleur-annotation").addEventListener("change",this.modifierCouleurSelecteur)}).bind(this))},desactiverSelecteur(){this.$nextTick((function(){document.querySelector("#couleur-annotation")&&document.querySelector("#couleur-annotation").removeEventListener("change",this.modifierCouleurSelecteur)}).bind(this))}}},rfe={id:"outils-annotation",key:"outils"},ofe=["title"],afe=["alt"],lfe=["title"],ufe=["alt"],cfe=["title"],dfe=["alt"],hfe=["title"],Afe=["alt"],ffe=["title"],pfe=["alt"],gfe=["title"],mfe=["alt"],bfe=["title"],vfe=["alt"],yfe=["title"],wfe=["alt"],Cfe=["title"],Efe=["alt"],xfe=["title"],Tfe=["alt"],_fe=["title"],Sfe=["alt"],Bfe=["title"],kfe=["alt"],Ife=["title"],Dfe=["alt"],Ffe=["title"],Pfe=["alt"],Lfe=["title"],Rfe=["alt"],Mfe=["title"],Ofe=["alt"],Ufe=["title"],Nfe=["alt"],Hfe={id:"options",key:"options"},Qfe=["title"],Vfe=["title"],$fe=["title"],jfe=["title"],zfe={key:4,class:"separateur"},Kfe=["title"],Gfe=["title"],qfe=["title"],Wfe=["title"],Yfe=["title"],Xfe=["title"],Jfe=["value","title"],Zfe={key:12,class:"separateur"},epe={key:13,class:"option label-epaisseur"},tpe={key:20,class:"option label-transparence"},ipe={key:24,class:"separateur"},npe={key:25,class:"option label-transparence"},spe=["title"],rpe=["title"],ope={key:28,class:"option label-taille"},ape=["title"],lpe=["title"],upe={key:31,class:"separateur"},cpe=["title"],dpe=["title"],hpe=["title"],Ape={id:"annotation-texte",class:"conteneur-modale",key:"modale"},fpe={class:"modale",role:"dialog"},ppe={class:"conteneur"},gpe={class:"contenu"},mpe=["value","placeholder"],bpe={class:"actions"},vpe={id:"confirmation",class:"conteneur-modale",key:"confirmation"},ype={class:"modale",role:"dialog"},wpe={class:"conteneur"},Cpe={class:"contenu"},Epe=["innerHTML"],xpe={class:"actions"};function Tpe(t,e,i,s,n,r){const o=Je("v-rect"),a=Je("v-ellipse"),l=Je("v-star"),u=Je("v-line"),c=Je("v-arrow"),h=Je("v-circle"),A=Je("v-text"),f=Je("v-tag"),m=Je("v-label"),p=Je("v-transformer"),x=Je("v-layer"),C=Je("v-stage");return z(),et(VM,{name:"fondu"},{default:Ct(()=>[d("div",{id:"annotation",class:je({curseur:this.outilDeplacer,"avec-nav":i.nav}),key:"canva"},[Vt(C,{ref:"stage",config:{width:n.dimensionsCanva.w,height:n.dimensionsCanva.h},onMousedown:r.selectionnerDebut,onTouchstart:r.selectionnerDebut,onMousemove:r.selectionnerMouvement,onTouchmove:r.selectionnerMouvement,onMouseup:r.selectionnerFin,onTouchend:r.selectionnerFin},{default:Ct(()=>[Vt(x,{ref:"objets"},{default:Ct(()=>[(z(!0),Z(vt,null,Yt(n.items,(g,w)=>(z(),Z(vt,null,[g.objet==="rectangle"||g.objet==="rectangle-plein"||g.objet==="surlignage"?(z(),et(o,{config:g,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin,key:"rectangle_"+w},null,8,["config","onDragstart","onDragend","onTransformend"])):g.objet==="cercle"||g.objet==="cercle-plein"?(z(),et(a,{config:g,onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin,key:"cercle_"+w,onDragstart:r.selectionnerObjet},null,8,["config","onDragend","onTransformend","onDragstart"])):g.objet==="etoile"?(z(),et(l,{config:g,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin,key:"etoile_"+w},null,8,["config","onDragstart","onDragend","onTransformend"])):g.objet==="ligne"?(z(),et(u,{config:g,onDragstart:r.selectionnerObjet,onDragmove:r.deplacerForme,onDragend:r.enregistrer,key:"ligne_"+w},null,8,["config","onDragstart","onDragmove","onDragend"])):g.objet==="fleche"?(z(),et(c,{config:g,onDragstart:r.selectionnerObjet,onDragmove:r.deplacerForme,onDragend:r.enregistrer,key:"fleche_"+w},null,8,["config","onDragstart","onDragmove","onDragend"])):g.objet==="ancre"?(z(),et(h,{config:g,onDragstart:r.selectionnerObjet,onDragmove:r.deplacerAncre,onDragend:r.enregistrer,key:"ancre_"+w},null,8,["config","onDragstart","onDragmove","onDragend"])):g.objet==="texte"?(z(),et(A,{config:g,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onDblclick:r.modifierTexte,onDbltap:r.modifierTexte,onTransform:r.redimensionnerTexte,onTransformend:r.redimensionnerFin,key:"texte_"+w},null,8,["config","onDragstart","onDragend","onDblclick","onDbltap","onTransform","onTransformend"])):g.objet==="label"?(z(),et(m,{config:g,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,onDblclick:r.modifierTexte,onDbltap:r.modifierTexte,onTransformend:r.redimensionnerFin,key:"label_"+w},{default:Ct(()=>[Vt(f,{config:g.tag},null,8,["config"]),Vt(A,{config:g.text},null,8,["config"])]),_:2},1032,["config","onDragstart","onDragend","onDblclick","onDbltap","onTransformend"])):g.objet==="dessin"?(z(),et(u,{config:g,onDragstart:r.selectionnerObjet,onDragend:r.deplacerFin,key:"dessin_"+w},null,8,["config","onDragstart","onDragend"])):Me("",!0)],64))),256)),Vt(o,{config:{name:"selection",fill:"rgba(1, 206, 209, 0.2)",visible:n.selection,x:n.positionSelectionX,y:n.positionSelectionY,width:n.largeurSelection,height:n.hauteurSelection},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(o,{config:{name:"objet-rectangle",fill:"transparent",visible:n.creation&&n.outil==="rectangle",x:n.positionObjetX,y:n.positionObjetY,width:n.largeurObjet,height:n.hauteurObjet,stroke:"#ff0000",strokeWidth:3,dash:[7,5]},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(o,{config:{name:"objet-rectangle",fill:"#cccccc",visible:n.creation&&n.outil==="rectangle-plein",x:n.positionObjetX,y:n.positionObjetY,width:n.largeurObjet,height:n.hauteurObjet},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(a,{config:{name:"objet-cercle",fill:"transparent",visible:n.creation&&n.outil==="cercle",x:n.positionObjetX+n.largeurObjet/2,y:n.positionObjetY+n.hauteurObjet/2,width:n.largeurObjet,height:n.hauteurObjet,stroke:"#ff0000",strokeWidth:3,dash:[7,5]},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(a,{config:{name:"objet-cercle",fill:"#cccccc",visible:n.creation&&n.outil==="cercle-plein",x:n.positionObjetX+n.largeurObjet/2,y:n.positionObjetY+n.hauteurObjet/2,width:n.largeurObjet,height:n.hauteurObjet},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(o,{config:{name:"objet-surlignage",fill:"#ffff00",opacity:.5,visible:n.creation&&n.outil==="surlignage",x:n.positionObjetX,y:n.positionObjetY,width:n.largeurObjet,height:n.hauteurObjet},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(u,{config:{name:"objet-ligne",fill:"#ff0000",visible:n.creation&&n.outil==="ligne",x:0,y:0,points:[n.positionX1,n.positionY1,n.positionX2,n.positionY2],fill:"#ff0000",stroke:"#ff0000",strokeWidth:3},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(c,{config:{name:"objet-fleche",fill:"#ff0000",visible:n.creation&&n.outil==="fleche",x:0,y:0,points:[n.positionX1,n.positionY1,n.positionX2,n.positionY2],pointerLength:15,pointerWidth:12,fill:"#ff0000",stroke:"#ff0000",strokeWidth:3},onDragend:r.deplacerFin,onTransformend:r.redimensionnerFin},null,8,["config","onDragend","onTransformend"]),Vt(p,{ref:"transformer",config:{anchorStroke:"#ff0000",anchorFill:"#ffff00",anchorSize:10,anchorCornerRadius:10,borderStroke:r.definirCouleurBordure(),borderDash:[3,3],borderStrokeWidth:1,enabledAnchors:r.definirAncres(),padding:7.5,rotateEnabled:!1,keepRatio:!0,boundBoxFunc:r.definirLimites}},null,8,["config"])]),_:1},512)]),_:1},8,["config","onMousedown","onTouchstart","onMousemove","onTouchmove","onMouseup","onTouchend"])],2),d("div",rfe,[d("span",{class:"outil historique",role:"button",tabindex:"0",title:t.$t("defaire"),onClick:e[0]||(e[0]=(...g)=>r.defaire&&r.defaire(...g)),onKeydown:e[1]||(e[1]=J((...g)=>r.defaire&&r.defaire(...g),["enter"]))},[d("img",{src:VAe,alt:t.$t("defaire")},null,8,afe)],40,ofe),d("span",{class:"outil historique",role:"button",tabindex:"0",title:t.$t("refaire"),onClick:e[2]||(e[2]=(...g)=>r.refaire&&r.refaire(...g)),onKeydown:e[3]||(e[3]=J((...g)=>r.refaire&&r.refaire(...g),["enter"]))},[d("img",{src:$Ae,alt:t.$t("refaire")},null,8,ufe)],40,lfe),e[99]||(e[99]=d("span",{class:"separateur"},null,-1)),d("span",{class:je(["outil",{actif:n.outilSelectionner}]),role:"button",tabindex:"0",title:t.$t("selectionner"),onClick:e[4]||(e[4]=g=>r.definirOutilPrincipal("selectionner")),onKeydown:e[5]||(e[5]=J(g=>r.definirOutilPrincipal("selectionner"),["enter"]))},[d("img",{src:jAe,alt:t.$t("selectionner")},null,8,dfe)],42,cfe),d("span",{class:je(["outil",{actif:n.outilDessiner}]),role:"button",tabindex:"0",title:t.$t("dessiner"),onClick:e[6]||(e[6]=g=>r.definirOutilPrincipal("dessiner")),onKeydown:e[7]||(e[7]=J(g=>r.definirOutilPrincipal("dessiner"),["enter"]))},[d("img",{src:zAe,alt:t.$t("dessiner")},null,8,Afe)],42,hfe),d("span",{class:je(["outil",{actif:n.outilDeplacer}]),role:"button",tabindex:"0",title:t.$t("deplacerPanneaux"),onClick:e[8]||(e[8]=g=>r.definirOutilPrincipal("deplacer")),onKeydown:e[9]||(e[9]=J(g=>r.definirOutilPrincipal("deplacer"),["enter"]))},[d("img",{src:KAe,alt:t.$t("deplacerPanneaux")},null,8,pfe)],42,ffe),e[100]||(e[100]=d("span",{class:"separateur"},null,-1)),d("span",{id:"outil-rectangle",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="rectangle"}]),role:"button",tabindex:"0",title:t.$t("rectangle"),onClick:e[10]||(e[10]=g=>r.selectionnerOutil("rectangle")),onKeydown:e[11]||(e[11]=J(g=>r.selectionnerOutil("rectangle"),["enter"]))},[d("img",{src:GAe,alt:t.$t("rectangle")},null,8,mfe)],42,gfe),d("span",{id:"outil-rectangle-plein",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="rectangle-plein"}]),role:"button",tabindex:"0",title:t.$t("rectanglePlein"),onClick:e[12]||(e[12]=g=>r.selectionnerOutil("rectangle-plein")),onKeydown:e[13]||(e[13]=J(g=>r.selectionnerOutil("rectangle-plein"),["enter"]))},[d("img",{src:qAe,alt:t.$t("rectanglePlein")},null,8,vfe)],42,bfe),d("span",{id:"outil-cercle",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="cercle"}]),role:"button",tabindex:"0",title:t.$t("cercle"),onClick:e[14]||(e[14]=g=>r.selectionnerOutil("cercle")),onKeydown:e[15]||(e[15]=J(g=>r.selectionnerOutil("cercle"),["enter"]))},[d("img",{src:WAe,alt:t.$t("cercle")},null,8,wfe)],42,yfe),d("span",{id:"outil-cercle-plein",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="cercle-plein"}]),role:"button",tabindex:"0",title:t.$t("cerclePlein"),onClick:e[16]||(e[16]=g=>r.selectionnerOutil("cercle-plein")),onKeydown:e[17]||(e[17]=J(g=>r.selectionnerOutil("cercle-plein"),["enter"]))},[d("img",{src:YAe,alt:t.$t("cerclePlein")},null,8,Efe)],42,Cfe),d("span",{id:"outil-etoile",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="etoile"}]),role:"button",tabindex:"0",title:t.$t("etoile"),onClick:e[18]||(e[18]=g=>r.selectionnerOutil("etoile")),onKeydown:e[19]||(e[19]=J(g=>r.selectionnerOutil("etoile"),["enter"]))},[d("img",{src:XAe,alt:t.$t("etoile")},null,8,Tfe)],42,xfe),d("span",{id:"outil-surlignage",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="surlignage"}]),role:"button",tabindex:"0",title:t.$t("surlignage"),onClick:e[20]||(e[20]=g=>r.selectionnerOutil("surlignage")),onKeydown:e[21]||(e[21]=J(g=>r.selectionnerOutil("surlignage"),["enter"]))},[d("img",{src:JAe,alt:t.$t("surlignage")},null,8,Sfe)],42,_fe),d("span",{id:"outil-ligne",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="ligne"}]),role:"button",tabindex:"0",title:t.$t("ligne"),onClick:e[22]||(e[22]=g=>r.selectionnerOutil("ligne")),onKeydown:e[23]||(e[23]=J(g=>r.selectionnerOutil("ligne"),["enter"]))},[d("img",{src:ZAe,alt:t.$t("ligne")},null,8,kfe)],42,Bfe),d("span",{id:"outil-fleche",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="fleche"}]),role:"button",tabindex:"0",title:t.$t("fleche"),onClick:e[24]||(e[24]=g=>r.selectionnerOutil("fleche")),onKeydown:e[25]||(e[25]=J(g=>r.selectionnerOutil("fleche"),["enter"]))},[d("img",{src:efe,alt:t.$t("fleche")},null,8,Dfe)],42,Ife),d("span",{id:"outil-texte",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="texte"}]),role:"button",tabindex:"0",title:t.$t("texte"),onClick:e[26]||(e[26]=g=>r.selectionnerOutil("texte")),onKeydown:e[27]||(e[27]=J(g=>r.selectionnerOutil("texte"),["enter"]))},[d("img",{src:tfe,alt:t.$t("texte")},null,8,Pfe)],42,Ffe),d("span",{id:"outil-label",class:je(["outil",{actif:n.outilSelectionner&&n.outil==="label"}]),role:"button",tabindex:"0",title:t.$t("label"),onClick:e[28]||(e[28]=g=>r.selectionnerOutil("label")),onKeydown:e[29]||(e[29]=J(g=>r.selectionnerOutil("label"),["enter"]))},[d("img",{src:ife,alt:t.$t("label")},null,8,Rfe)],42,Lfe),e[101]||(e[101]=d("span",{class:"separateur"},null,-1)),d("span",{class:"outil",role:"button",tabindex:"0",title:t.$t("reinitialiser"),onClick:e[30]||(e[30]=(...g)=>r.afficherReinitialiser&&r.afficherReinitialiser(...g)),onKeydown:e[31]||(e[31]=J((...g)=>r.afficherReinitialiser&&r.afficherReinitialiser(...g),["enter"]))},[d("img",{src:Yk,alt:t.$t("reinitialiser")},null,8,Ofe)],40,Mfe),d("span",{class:"outil",role:"button",tabindex:"0",title:t.$t("fermer"),onClick:e[32]||(e[32]=g=>t.$emit("fermer")),onKeydown:e[33]||(e[33]=J(g=>t.$emit("fermer"),["enter"]))},[d("img",{src:nfe,alt:t.$t("fermer")},null,8,Nfe)],40,Ufe)]),n.nom!==""||!n.outilSelectionner&&!n.outilDeplacer?(z(),Z("div",Hfe,[n.outilSelectionner&&!n.objetVerrouille?(z(),Z("span",{key:0,class:"option icone",role:"button",tabindex:"0",title:t.$t("verrouiller"),onClick:e[34]||(e[34]=(...g)=>r.verrouiller&&r.verrouiller(...g)),onKeydown:e[35]||(e[35]=J((...g)=>r.verrouiller&&r.verrouiller(...g),["enter"]))},e[102]||(e[102]=[d("span",null,[d("i",{class:"material-icons"},"lock")],-1)]),40,Qfe)):n.outilSelectionner&&n.objetVerrouille?(z(),Z("span",{key:1,class:"option icone orange",role:"button",tabindex:"0",title:t.$t("deverrouiller"),onClick:e[36]||(e[36]=(...g)=>r.deverrouiller&&r.deverrouiller(...g)),onKeydown:e[37]||(e[37]=J((...g)=>r.deverrouiller&&r.deverrouiller(...g),["enter"]))},e[103]||(e[103]=[d("span",null,[d("i",{class:"material-icons"},"lock_open")],-1)]),40,Vfe)):Me("",!0),n.outilSelectionner&&n.objet!=="selection"?(z(),Z("span",{key:2,class:"option icone",role:"button",tabindex:"0",title:t.$t("mettreDevant"),onClick:e[38]||(e[38]=(...g)=>r.mettreDevant&&r.mettreDevant(...g)),onKeydown:e[39]||(e[39]=J((...g)=>r.mettreDevant&&r.mettreDevant(...g),["enter"]))},e[104]||(e[104]=[d("span",null,[d("i",{class:"material-icons"},"flip_to_front")],-1)]),40,$fe)):Me("",!0),n.outilSelectionner&&n.objet!=="selection"?(z(),Z("span",{key:3,class:"option icone",role:"button",tabindex:"0",title:t.$t("mettreDerriere"),onClick:e[40]||(e[40]=(...g)=>r.mettreDerriere&&r.mettreDerriere(...g)),onKeydown:e[41]||(e[41]=J((...g)=>r.mettreDerriere&&r.mettreDerriere(...g),["enter"]))},e[105]||(e[105]=[d("span",null,[d("i",{class:"material-icons"},"flip_to_back")],-1)]),40,jfe)):Me("",!0),n.outilSelectionner?(z(),Z("span",zfe)):Me("",!0),n.nom!=="selection"&&n.objet!=="label"?(z(),Z("span",{key:5,class:je(["option noir",{actif:n.outilDessiner&&n.couleurStylo==="#000000"}]),role:"button",tabindex:"0",title:t.$t("noir"),onClick:e[42]||(e[42]=g=>r.modifierCouleur("#000000")),onKeydown:e[43]||(e[43]=J(g=>r.modifierCouleur("#000000"),["enter"]))},e[106]||(e[106]=[d("span",{class:"couleur noir"},null,-1)]),42,Kfe)):Me("",!0),n.nom!=="selection"&&n.objet!=="label"?(z(),Z("span",{key:6,class:je(["option blanc",{actif:n.outilDessiner&&n.couleurStylo==="#ffffff"}]),role:"button",tabindex:"0",title:t.$t("blanc"),onClick:e[44]||(e[44]=g=>r.modifierCouleur("#ffffff")),onKeydown:e[45]||(e[45]=J(g=>r.modifierCouleur("#ffffff"),["enter"]))},e[107]||(e[107]=[d("span",{class:"couleur blanc"},null,-1)]),42,Gfe)):Me("",!0),n.nom!=="selection"?(z(),Z("span",{key:7,class:je(["option rouge",{actif:n.outilDessiner&&n.couleurStylo==="#ff0000"}]),role:"button",tabindex:"0",title:t.$t("rouge"),onClick:e[46]||(e[46]=g=>r.modifierCouleur("#ff0000")),onKeydown:e[47]||(e[47]=J(g=>r.modifierCouleur("#ff0000"),["enter"]))},e[108]||(e[108]=[d("span",{class:"couleur rouge"},null,-1)]),42,qfe)):Me("",!0),n.nom!=="selection"?(z(),Z("span",{key:8,class:je(["option jaune",{actif:n.outilDessiner&&n.couleurStylo==="#ffff00"}]),role:"button",tabindex:"0",title:t.$t("jaune"),onClick:e[48]||(e[48]=g=>r.modifierCouleur("#ffff00")),onKeydown:e[49]||(e[49]=J(g=>r.modifierCouleur("#ffff00"),["enter"]))},e[109]||(e[109]=[d("span",{class:"couleur jaune"},null,-1)]),42,Wfe)):Me("",!0),n.nom!=="selection"?(z(),Z("span",{key:9,class:je(["option vert",{actif:n.outilDessiner&&n.couleurStylo==="#00ff00"}]),role:"button",tabindex:"0",title:t.$t("vert"),onClick:e[50]||(e[50]=g=>r.modifierCouleur("#00ff00")),onKeydown:e[51]||(e[51]=J(g=>r.modifierCouleur("#00ff00"),["enter"]))},e[110]||(e[110]=[d("span",{class:"couleur vert"},null,-1)]),42,Yfe)):Me("",!0),n.nom!=="selection"?(z(),Z("span",{key:10,class:je(["option bleu",{actif:n.outilDessiner&&n.couleurStylo==="#04fdff"}]),role:"button",tabindex:"0",title:t.$t("bleu"),onClick:e[52]||(e[52]=g=>r.modifierCouleur("#04fdff")),onKeydown:e[53]||(e[53]=J(g=>r.modifierCouleur("#04fdff"),["enter"]))},e[111]||(e[111]=[d("span",{class:"couleur bleu"},null,-1)]),42,Xfe)):Me("",!0),n.nom!=="selection"?(z(),Z("span",{key:11,class:"option icone",role:"button",tabindex:"0",onClick:e[54]||(e[54]=(...g)=>r.definirCouleur&&r.definirCouleur(...g)),onKeydown:e[55]||(e[55]=J(g=>r.activerInput("couleur-annotation"),["enter"]))},[e[112]||(e[112]=d("label",{for:"couleur-annotation"},[d("i",{class:"material-icons"},"colorize")],-1)),d("input",{id:"couleur-annotation",type:"color",tabindex:"0",value:n.couleurSelecteur,title:t.$t("selectionnerCouleur")},null,8,Jfe)],32)):Me("",!0),n.outilDessiner?(z(),Z("span",Zfe)):Me("",!0),n.outilDessiner?(z(),Z("span",epe,e[113]||(e[113]=[d("span",null,[d("i",{class:"material-icons"},"line_weight")],-1)]))):Me("",!0),n.outilDessiner?(z(),Z("span",{key:14,class:je(["option epaisseur",{actif:n.epaisseurStylo===2}]),role:"button",tabindex:"0",onClick:e[56]||(e[56]=g=>r.modifierEpaisseur(2)),onKeydown:e[57]||(e[57]=J(g=>r.modifierEpaisseur(2),["enter"]))},e[114]||(e[114]=[d("span",null,"2",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:15,class:je(["option epaisseur",{actif:n.epaisseurStylo===5}]),role:"button",tabindex:"0",onClick:e[58]||(e[58]=g=>r.modifierEpaisseur(5)),onKeydown:e[59]||(e[59]=J(g=>r.modifierEpaisseur(5),["enter"]))},e[115]||(e[115]=[d("span",null,"5",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:16,class:je(["option epaisseur",{actif:n.epaisseurStylo===10}]),role:"button",tabindex:"0",onClick:e[60]||(e[60]=g=>r.modifierEpaisseur(10)),onKeydown:e[61]||(e[61]=J(g=>r.modifierEpaisseur(10),["enter"]))},e[116]||(e[116]=[d("span",null,"10",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:17,class:je(["option epaisseur",{actif:n.epaisseurStylo===20}]),role:"button",tabindex:"0",onClick:e[62]||(e[62]=g=>r.modifierEpaisseur(20)),onKeydown:e[63]||(e[63]=J(g=>r.modifierEpaisseur(20),["enter"]))},e[117]||(e[117]=[d("span",null,"20",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:18,class:je(["option epaisseur",{actif:n.epaisseurStylo===40}]),role:"button",tabindex:"0",onClick:e[64]||(e[64]=g=>r.modifierEpaisseur(40)),onKeydown:e[65]||(e[65]=J(g=>r.modifierEpaisseur(40),["enter"]))},e[118]||(e[118]=[d("span",null,"40",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:19,class:je(["option epaisseur",{actif:n.epaisseurStylo===80}]),role:"button",tabindex:"0",onClick:e[66]||(e[66]=g=>r.modifierEpaisseur(80)),onKeydown:e[67]||(e[67]=J(g=>r.modifierEpaisseur(80),["enter"]))},e[119]||(e[119]=[d("span",null,"80",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",tpe,e[120]||(e[120]=[d("span",null,[d("i",{class:"material-icons"},"opacity")],-1)]))):Me("",!0),n.outilDessiner?(z(),Z("span",{key:21,class:je(["option transparence",{actif:n.transparenceStylo===.4}]),role:"button",tabindex:"0",onClick:e[68]||(e[68]=g=>r.modifierTransparence(.4)),onKeydown:e[69]||(e[69]=J(g=>r.modifierTransparence(.4),["enter"]))},e[121]||(e[121]=[d("span",null,"0.4",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:22,class:je(["option transparence",{actif:n.transparenceStylo===.6}]),role:"button",tabindex:"0",onClick:e[70]||(e[70]=g=>r.modifierTransparence(.6)),onKeydown:e[71]||(e[71]=J(g=>r.modifierTransparence(.6),["enter"]))},e[122]||(e[122]=[d("span",null,"0.6",-1)]),34)):Me("",!0),n.outilDessiner?(z(),Z("span",{key:23,class:je(["option transparence",{actif:n.transparenceStylo===1}]),role:"button",tabindex:"0",onClick:e[72]||(e[72]=g=>r.modifierTransparence(1)),onKeydown:e[73]||(e[73]=J(g=>r.modifierTransparence(1),["enter"]))},e[123]||(e[123]=[d("span",null,"1",-1)]),34)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"?(z(),Z("span",ipe)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&(n.objet==="rectangle-plein"||n.objet==="cercle-plein")?(z(),Z("span",npe,e[124]||(e[124]=[d("span",null,[d("i",{class:"material-icons"},"opacity")],-1)]))):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&(n.objet==="rectangle-plein"||n.objet==="cercle-plein")?(z(),Z("span",{key:26,class:"option icone",role:"button",tabindex:"0",title:t.$t("reduireTransparence"),onClick:e[74]||(e[74]=(...g)=>r.reduireTransparence&&r.reduireTransparence(...g)),onKeydown:e[75]||(e[75]=J((...g)=>r.reduireTransparence&&r.reduireTransparence(...g),["enter"]))},e[125]||(e[125]=[d("span",null,[d("i",{class:"material-icons"},"remove")],-1)]),40,spe)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&(n.objet==="rectangle-plein"||n.objet==="cercle-plein")?(z(),Z("span",{key:27,class:"option icone",role:"button",tabindex:"0",title:t.$t("augmenterTransparence"),onClick:e[76]||(e[76]=(...g)=>r.augmenterTransparence&&r.augmenterTransparence(...g)),onKeydown:e[77]||(e[77]=J((...g)=>r.augmenterTransparence&&r.augmenterTransparence(...g),["enter"]))},e[126]||(e[126]=[d("span",null,[d("i",{class:"material-icons"},"add")],-1)]),40,rpe)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&n.objet==="texte"?(z(),Z("span",ope,e[127]||(e[127]=[d("span",null,[d("i",{class:"material-icons"},"format_size")],-1)]))):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&n.objet==="texte"?(z(),Z("span",{key:29,class:"option icone",role:"button",tabindex:"0",title:t.$t("reduireTaille"),onClick:e[78]||(e[78]=(...g)=>r.reduireTailleTexte&&r.reduireTailleTexte(...g)),onKeydown:e[79]||(e[79]=J((...g)=>r.reduireTailleTexte&&r.reduireTailleTexte(...g),["enter"]))},e[128]||(e[128]=[d("span",null,[d("i",{class:"material-icons"},"remove")],-1)]),40,ape)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&n.objet==="texte"?(z(),Z("span",{key:30,class:"option icone",role:"button",tabindex:"0",title:t.$t("augmenterTaille"),onClick:e[80]||(e[80]=(...g)=>r.augmenterTailleTexte&&r.augmenterTailleTexte(...g)),onKeydown:e[81]||(e[81]=J((...g)=>r.augmenterTailleTexte&&r.augmenterTailleTexte(...g),["enter"]))},e[129]||(e[129]=[d("span",null,[d("i",{class:"material-icons"},"add")],-1)]),40,lpe)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"&&(n.objet==="texte"||n.objet==="rectangle-plein"||n.objet==="cercle-plein")?(z(),Z("span",upe)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"?(z(),Z("span",{key:32,class:"option icone",role:"button",tabindex:"0",title:t.$t("dupliquer"),onClick:e[82]||(e[82]=(...g)=>r.dupliquer&&r.dupliquer(...g)),onKeydown:e[83]||(e[83]=J((...g)=>r.dupliquer&&r.dupliquer(...g),["enter"]))},e[130]||(e[130]=[d("span",null,[d("i",{class:"material-icons"},"content_copy")],-1)]),40,cpe)):Me("",!0),n.outilSelectionner&&n.nom!=="selection"?(z(),Z("span",{key:33,class:"option icone rouge",role:"button",tabindex:"0",title:t.$t("supprimer"),onClick:e[84]||(e[84]=(...g)=>r.supprimer&&r.supprimer(...g)),onKeydown:e[85]||(e[85]=J((...g)=>r.supprimer&&r.supprimer(...g),["enter"]))},e[131]||(e[131]=[d("span",null,[d("i",{class:"material-icons"},"delete")],-1)]),40,dpe)):n.outilSelectionner&&n.nom==="selection"?(z(),Z("span",{key:34,class:"option icone rouge",role:"button",tabindex:"0",title:t.$t("supprimer"),onClick:e[86]||(e[86]=(...g)=>r.supprimerSelection&&r.supprimerSelection(...g)),onKeydown:e[87]||(e[87]=J((...g)=>r.supprimerSelection&&r.supprimerSelection(...g),["enter"]))},e[132]||(e[132]=[d("span",null,[d("i",{class:"material-icons"},"delete")],-1)]),40,hpe)):Me("",!0)])):Me("",!0),n.modale?(z(),Z("div",Ape,[d("div",fpe,[d("div",ppe,[d("div",gpe,[d("textarea",{value:n.texte,onInput:e[88]||(e[88]=g=>n.texte=g.target.value),placeholder:t.$t("monTexte")},null,40,mpe),d("div",bpe,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[89]||(e[89]=(...g)=>r.fermerModale&&r.fermerModale(...g)),onKeydown:e[90]||(e[90]=J((...g)=>r.fermerModale&&r.fermerModale(...g),["enter"]))},te(t.$t("annuler")),33),n.outil==="texte"||n.outil==="label"?(z(),Z("span",{key:0,class:"bouton",role:"button",tabindex:"0",onClick:e[91]||(e[91]=(...g)=>r.ajouterTexte&&r.ajouterTexte(...g)),onKeydown:e[92]||(e[92]=J((...g)=>r.ajouterTexte&&r.ajouterTexte(...g),["enter"]))},te(t.$t("valider")),33)):(z(),Z("span",{key:1,class:"bouton",role:"button",tabindex:"0",onClick:e[93]||(e[93]=(...g)=>r.enregistrerTexte&&r.enregistrerTexte(...g)),onKeydown:e[94]||(e[94]=J((...g)=>r.enregistrerTexte&&r.enregistrerTexte(...g),["enter"]))},te(t.$t("valider")),33))])])])])])):Me("",!0),n.confirmation?(z(),Z("div",vpe,[d("div",ype,[d("div",wpe,[d("div",Cpe,[d("p",{innerHTML:t.$t("reinitialiserAnnotations")},null,8,Epe),d("div",xpe,[d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[95]||(e[95]=g=>n.confirmation=!1),onKeydown:e[96]||(e[96]=J(g=>n.confirmation=!1,["enter"]))},te(t.$t("annuler")),33),d("span",{class:"bouton",role:"button",tabindex:"0",onClick:e[97]||(e[97]=(...g)=>r.reinitialiser&&r.reinitialiser(...g)),onKeydown:e[98]||(e[98]=J((...g)=>r.reinitialiser&&r.reinitialiser(...g),["enter"]))},te(t.$t("valider")),33)])])])])])):Me("",!0)]),_:1})}const _pe=It(sfe,[["render",Tpe]]),Spe={name:"Chargement",props:{chargementPage:Boolean}},Bpe={key:0,id:"conteneur-chargement-page"};function kpe(t,e,i,s,n,r){return i.chargementPage?(z(),Z("div",Bpe,e[0]||(e[0]=[d("div",{id:"chargement-page"},[d("div",{class:"spinner"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")])],-1)]))):Me("",!0)}const Ipe=It(Spe,[["render",kpe],["__scopeId","data-v-4ddbecae"]]);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yw=function(t,e){return yw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])},yw(t,e)};function Qr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yw(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var ww=function(){return ww=Object.assign||function(e){for(var i,s=1,n=arguments.length;s<n;s++){i=arguments[s];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ww.apply(this,arguments)};function ds(t,e,i,s){function n(r){return r instanceof i?r:new i(function(o){o(r)})}return new(i||(i=Promise))(function(r,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?r(c.value):n(c.value).then(a,l)}u((s=s.apply(t,[])).next())})}function Wn(t,e){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,n,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,n&&(r=u[0]&2?n.return:u[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;switch(n=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(u[0]===6&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(c){u=[6,c],n=0}finally{s=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Lp(t,e,i){if(arguments.length===2)for(var s=0,n=e.length,r;s<n;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||e)}var sa=function(){function t(e,i,s,n){this.left=e,this.top=i,this.width=s,this.height=n}return t.prototype.add=function(e,i,s,n){return new t(this.left+e,this.top+i,this.width+s,this.height+n)},t.fromClientRect=function(e,i){return new t(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height)},t.fromDOMRectList=function(e,i){var s=Array.from(i).find(function(n){return n.width!==0});return s?new t(s.left+e.windowBounds.left,s.top+e.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),rb=function(t,e){return sa.fromClientRect(t,e.getBoundingClientRect())},Dpe=function(t){var e=t.body,i=t.documentElement;if(!e||!i)throw new Error("Unable to get document size");var s=Math.max(Math.max(e.scrollWidth,i.scrollWidth),Math.max(e.offsetWidth,i.offsetWidth),Math.max(e.clientWidth,i.clientWidth)),n=Math.max(Math.max(e.scrollHeight,i.scrollHeight),Math.max(e.offsetHeight,i.offsetHeight),Math.max(e.clientHeight,i.clientHeight));return new sa(0,0,s,n)},ob=function(t){for(var e=[],i=0,s=t.length;i<s;){var n=t.charCodeAt(i++);if(n>=55296&&n<=56319&&i<s){var r=t.charCodeAt(i++);(r&64512)===56320?e.push(((n&1023)<<10)+(r&1023)+65536):(e.push(n),i--)}else e.push(n)}return e},an=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var s=[],n=-1,r="";++n<i;){var o=t[n];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(n+1===i||s.length>16384)&&(r+=String.fromCharCode.apply(String,s),s.length=0)}return r},jS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rp=0;Rp<jS.length;Rp++)Fpe[jS.charCodeAt(Rp)]=Rp;var zS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mp=0;Mp<zS.length;Mp++)Hh[zS.charCodeAt(Mp)]=Mp;var Ppe=function(t){var e=t.length*.75,i=t.length,s,n=0,r,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(s=0;s<i;s+=4)r=Hh[t.charCodeAt(s)],o=Hh[t.charCodeAt(s+1)],a=Hh[t.charCodeAt(s+2)],l=Hh[t.charCodeAt(s+3)],c[n++]=r<<2|o>>4,c[n++]=(o&15)<<4|a>>2,c[n++]=(a&3)<<6|l&63;return u},Lpe=function(t){for(var e=t.length,i=[],s=0;s<e;s+=2)i.push(t[s+1]<<8|t[s]);return i},Rpe=function(t){for(var e=t.length,i=[],s=0;s<e;s+=4)i.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return i},nu=5,D2=11,Fy=2,Mpe=D2-nu,g5=65536>>nu,Ope=1<<nu,Py=Ope-1,Upe=1024>>nu,Npe=g5+Upe,Hpe=Npe,Qpe=32,Vpe=Hpe+Qpe,$pe=65536>>D2,jpe=1<<Mpe,zpe=jpe-1,KS=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},Kpe=function(t,e,i){return t.slice?t.slice(e,i):new Uint32Array(Array.prototype.slice.call(t,e,i))},Gpe=function(t,e){var i=Ppe(t),s=Array.isArray(i)?Rpe(i):new Uint32Array(i),n=Array.isArray(i)?Lpe(i):new Uint16Array(i),r=24,o=KS(n,r/2,s[4]/2),a=s[5]===2?KS(n,(r+s[4])/2):Kpe(s,Math.ceil((r+s[4])/4));return new qpe(s[0],s[1],s[2],s[3],o,a)},qpe=function(){function t(e,i,s,n,r,o){this.initialValue=e,this.errorValue=i,this.highStart=s,this.highValueIndex=n,this.index=r,this.data=o}return t.prototype.get=function(e){var i;if(e>=0){if(e<55296||e>56319&&e<=65535)return i=this.index[e>>nu],i=(i<<Fy)+(e&Py),this.data[i];if(e<=65535)return i=this.index[g5+(e-55296>>nu)],i=(i<<Fy)+(e&Py),this.data[i];if(e<this.highStart)return i=Vpe-$pe+(e>>D2),i=this.index[i],i+=e>>nu&zpe,i=this.index[i],i=(i<<Fy)+(e&Py),this.data[i];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),GS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Op=0;Op<GS.length;Op++)Wpe[GS.charCodeAt(Op)]=Op;var Ype="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",qS=50,Xpe=1,m5=2,b5=3,Jpe=4,Zpe=5,WS=7,v5=8,YS=9,ja=10,Cw=11,XS=12,Ew=13,ege=14,Qh=15,xw=16,Up=17,Ch=18,tge=19,JS=20,Tw=21,Eh=22,Ly=23,Qu=24,zs=25,Vh=26,$h=27,Vu=28,ige=29,Ql=30,nge=31,Np=32,Hp=33,_w=34,Sw=35,Bw=36,NA=37,kw=38,Rg=39,Mg=40,Ry=41,y5=42,sge=43,rge=[9001,65288],w5="!",ai="×",Qp="÷",Iw=Gpe(Ype),Mo=[Ql,Bw],Dw=[Xpe,m5,b5,Zpe],C5=[ja,v5],ZS=[$h,Vh],oge=Dw.concat(C5),eB=[kw,Rg,Mg,_w,Sw],age=[Qh,Ew],lge=function(t,e){e===void 0&&(e="strict");var i=[],s=[],n=[];return t.forEach(function(r,o){var a=Iw.get(r);if(a>qS?(n.push(!0),a-=qS):n.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(r)!==-1)return s.push(o),i.push(xw);if(a===Jpe||a===Cw){if(o===0)return s.push(o),i.push(Ql);var l=i[o-1];return oge.indexOf(l)===-1?(s.push(s[o-1]),i.push(l)):(s.push(o),i.push(Ql))}if(s.push(o),a===nge)return i.push(e==="strict"?Tw:NA);if(a===y5||a===ige)return i.push(Ql);if(a===sge)return r>=131072&&r<=196605||r>=196608&&r<=262141?i.push(NA):i.push(Ql);i.push(a)}),[s,i,n]},My=function(t,e,i,s){var n=s[i];if(Array.isArray(t)?t.indexOf(n)!==-1:t===n)for(var r=i;r<=s.length;){r++;var o=s[r];if(o===e)return!0;if(o!==ja)break}if(n===ja)for(var r=i;r>0;){r--;var a=s[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=i;l<=s.length;){l++;var o=s[l];if(o===e)return!0;if(o!==ja)break}if(a!==ja)break}return!1},tB=function(t,e){for(var i=t;i>=0;){var s=e[i];if(s===ja)i--;else return s}return 0},uge=function(t,e,i,s,n){if(i[s]===0)return ai;var r=s-1;if(Array.isArray(n)&&n[r]===!0)return ai;var o=r-1,a=r+1,l=e[r],u=o>=0?e[o]:0,c=e[a];if(l===m5&&c===b5)return ai;if(Dw.indexOf(l)!==-1)return w5;if(Dw.indexOf(c)!==-1||C5.indexOf(c)!==-1)return ai;if(tB(r,e)===v5)return Qp;if(Iw.get(t[r])===Cw||(l===Np||l===Hp)&&Iw.get(t[a])===Cw||l===WS||c===WS||l===YS||[ja,Ew,Qh].indexOf(l)===-1&&c===YS||[Up,Ch,tge,Qu,Vu].indexOf(c)!==-1||tB(r,e)===Eh||My(Ly,Eh,r,e)||My([Up,Ch],Tw,r,e)||My(XS,XS,r,e))return ai;if(l===ja)return Qp;if(l===Ly||c===Ly)return ai;if(c===xw||l===xw)return Qp;if([Ew,Qh,Tw].indexOf(c)!==-1||l===ege||u===Bw&&age.indexOf(l)!==-1||l===Vu&&c===Bw||c===JS||Mo.indexOf(c)!==-1&&l===zs||Mo.indexOf(l)!==-1&&c===zs||l===$h&&[NA,Np,Hp].indexOf(c)!==-1||[NA,Np,Hp].indexOf(l)!==-1&&c===Vh||Mo.indexOf(l)!==-1&&ZS.indexOf(c)!==-1||ZS.indexOf(l)!==-1&&Mo.indexOf(c)!==-1||[$h,Vh].indexOf(l)!==-1&&(c===zs||[Eh,Qh].indexOf(c)!==-1&&e[a+1]===zs)||[Eh,Qh].indexOf(l)!==-1&&c===zs||l===zs&&[zs,Vu,Qu].indexOf(c)!==-1)return ai;if([zs,Vu,Qu,Up,Ch].indexOf(c)!==-1)for(var h=r;h>=0;){var A=e[h];if(A===zs)return ai;if([Vu,Qu].indexOf(A)!==-1)h--;else break}if([$h,Vh].indexOf(c)!==-1)for(var h=[Up,Ch].indexOf(l)!==-1?o:r;h>=0;){var A=e[h];if(A===zs)return ai;if([Vu,Qu].indexOf(A)!==-1)h--;else break}if(kw===l&&[kw,Rg,_w,Sw].indexOf(c)!==-1||[Rg,_w].indexOf(l)!==-1&&[Rg,Mg].indexOf(c)!==-1||[Mg,Sw].indexOf(l)!==-1&&c===Mg||eB.indexOf(l)!==-1&&[JS,Vh].indexOf(c)!==-1||eB.indexOf(c)!==-1&&l===$h||Mo.indexOf(l)!==-1&&Mo.indexOf(c)!==-1||l===Qu&&Mo.indexOf(c)!==-1||Mo.concat(zs).indexOf(l)!==-1&&c===Eh&&rge.indexOf(t[a])===-1||Mo.concat(zs).indexOf(c)!==-1&&l===Ch)return ai;if(l===Ry&&c===Ry){for(var f=i[r],m=1;f>0&&(f--,e[f]===Ry);)m++;if(m%2!==0)return ai}return l===Np&&c===Hp?ai:Qp},cge=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var i=lge(t,e.lineBreak),s=i[0],n=i[1],r=i[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(n=n.map(function(a){return[zs,Ql,y5].indexOf(a)!==-1?NA:a}));var o=e.wordBreak==="keep-all"?r.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[s,n,o]},dge=function(){function t(e,i,s,n){this.codePoints=e,this.required=i===w5,this.start=s,this.end=n}return t.prototype.slice=function(){return an.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),hge=function(t,e){var i=ob(t),s=cge(i,e),n=s[0],r=s[1],o=s[2],a=i.length,l=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var c=ai;u<a&&(c=uge(i,r,n,++u,o))===ai;);if(c!==ai||u===a){var h=new dge(i,c,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},Age=1,fge=2,pf=4,iB=8,t0=10,nB=47,vA=92,pge=9,gge=32,Vp=34,xh=61,mge=35,bge=36,vge=37,$p=39,jp=40,Th=41,yge=95,Bs=45,wge=33,Cge=60,Ege=62,xge=64,Tge=91,_ge=93,Sge=61,Bge=123,zp=63,kge=125,sB=124,Ige=126,Dge=128,rB=65533,Oy=42,Kl=43,Fge=44,Pge=58,Lge=59,HA=46,Rge=0,Mge=8,Oge=11,Uge=14,Nge=31,Hge=127,Gr=-1,E5=48,x5=97,T5=101,Qge=102,Vge=117,$ge=122,_5=65,S5=69,B5=70,jge=85,zge=90,Yn=function(t){return t>=E5&&t<=57},Kge=function(t){return t>=55296&&t<=57343},$u=function(t){return Yn(t)||t>=_5&&t<=B5||t>=x5&&t<=Qge},Gge=function(t){return t>=x5&&t<=$ge},qge=function(t){return t>=_5&&t<=zge},Wge=function(t){return Gge(t)||qge(t)},Yge=function(t){return t>=Dge},Kp=function(t){return t===t0||t===pge||t===gge},i0=function(t){return Wge(t)||Yge(t)||t===yge},oB=function(t){return i0(t)||Yn(t)||t===Bs},Xge=function(t){return t>=Rge&&t<=Mge||t===Oge||t>=Uge&&t<=Nge||t===Hge},Oa=function(t,e){return t!==vA?!1:e!==t0},Gp=function(t,e,i){return t===Bs?i0(e)||Oa(e,i):i0(t)?!0:!!(t===vA&&Oa(t,e))},Uy=function(t,e,i){return t===Kl||t===Bs?Yn(e)?!0:e===HA&&Yn(i):Yn(t===HA?e:t)},Jge=function(t){var e=0,i=1;(t[e]===Kl||t[e]===Bs)&&(t[e]===Bs&&(i=-1),e++);for(var s=[];Yn(t[e]);)s.push(t[e++]);var n=s.length?parseInt(an.apply(void 0,s),10):0;t[e]===HA&&e++;for(var r=[];Yn(t[e]);)r.push(t[e++]);var o=r.length,a=o?parseInt(an.apply(void 0,r),10):0;(t[e]===S5||t[e]===T5)&&e++;var l=1;(t[e]===Kl||t[e]===Bs)&&(t[e]===Bs&&(l=-1),e++);for(var u=[];Yn(t[e]);)u.push(t[e++]);var c=u.length?parseInt(an.apply(void 0,u),10):0;return i*(n+a*Math.pow(10,-o))*Math.pow(10,l*c)},Zge={type:2},eme={type:3},tme={type:4},ime={type:13},nme={type:8},sme={type:21},rme={type:9},ome={type:10},ame={type:11},lme={type:12},ume={type:14},qp={type:23},cme={type:1},dme={type:25},hme={type:24},Ame={type:26},fme={type:27},pme={type:28},gme={type:29},mme={type:31},Fw={type:32},k5=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ob(e))},t.prototype.read=function(){for(var e=[],i=this.consumeToken();i!==Fw;)e.push(i),i=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Vp:return this.consumeStringToken(Vp);case mge:var i=this.peekCodePoint(0),s=this.peekCodePoint(1),n=this.peekCodePoint(2);if(oB(i)||Oa(s,n)){var r=Gp(i,s,n)?fge:Age,o=this.consumeName();return{type:5,value:o,flags:r}}break;case bge:if(this.peekCodePoint(0)===xh)return this.consumeCodePoint(),ime;break;case $p:return this.consumeStringToken($p);case jp:return Zge;case Th:return eme;case Oy:if(this.peekCodePoint(0)===xh)return this.consumeCodePoint(),ume;break;case Kl:if(Uy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Fge:return tme;case Bs:var a=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Uy(a,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Gp(a,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Bs&&u===Ege)return this.consumeCodePoint(),this.consumeCodePoint(),hme;break;case HA:if(Uy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nB:if(this.peekCodePoint(0)===Oy)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===Oy&&(c=this.consumeCodePoint(),c===nB))return this.consumeToken();if(c===Gr)return this.consumeToken()}break;case Pge:return Ame;case Lge:return fme;case Cge:if(this.peekCodePoint(0)===wge&&this.peekCodePoint(1)===Bs&&this.peekCodePoint(2)===Bs)return this.consumeCodePoint(),this.consumeCodePoint(),dme;break;case xge:var h=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Gp(h,A,f)){var o=this.consumeName();return{type:7,value:o}}break;case Tge:return pme;case vA:if(Oa(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case _ge:return gme;case Sge:if(this.peekCodePoint(0)===xh)return this.consumeCodePoint(),nme;break;case Bge:return ame;case kge:return lme;case Vge:case jge:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===Kl&&($u(p)||p===zp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case sB:if(this.peekCodePoint(0)===xh)return this.consumeCodePoint(),rme;if(this.peekCodePoint(0)===sB)return this.consumeCodePoint(),sme;break;case Ige:if(this.peekCodePoint(0)===xh)return this.consumeCodePoint(),ome;break;case Gr:return Fw}return Kp(e)?(this.consumeWhiteSpace(),mme):Yn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):i0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:an(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],i=this.consumeCodePoint();$u(i)&&e.length<6;)e.push(i),i=this.consumeCodePoint();for(var s=!1;i===zp&&e.length<6;)e.push(i),i=this.consumeCodePoint(),s=!0;if(s){var n=parseInt(an.apply(void 0,e.map(function(l){return l===zp?E5:l})),16),r=parseInt(an.apply(void 0,e.map(function(l){return l===zp?B5:l})),16);return{type:30,start:n,end:r}}var o=parseInt(an.apply(void 0,e),16);if(this.peekCodePoint(0)===Bs&&$u(this.peekCodePoint(1))){this.consumeCodePoint(),i=this.consumeCodePoint();for(var a=[];$u(i)&&a.length<6;)a.push(i),i=this.consumeCodePoint();var r=parseInt(an.apply(void 0,a),16);return{type:30,start:o,end:r}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===jp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===jp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr)return{type:22,value:""};var i=this.peekCodePoint(0);if(i===$p||i===Vp){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Th)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),qp)}for(;;){var n=this.consumeCodePoint();if(n===Gr||n===Th)return{type:22,value:an.apply(void 0,e)};if(Kp(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Th?(this.consumeCodePoint(),{type:22,value:an.apply(void 0,e)}):(this.consumeBadUrlRemnants(),qp);if(n===Vp||n===$p||n===jp||Xge(n))return this.consumeBadUrlRemnants(),qp;if(n===vA)if(Oa(n,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),qp;else e.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;Kp(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Th||e===Gr)return;Oa(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var i=5e4,s="";e>0;){var n=Math.min(i,e);s+=an.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),s},t.prototype.consumeStringToken=function(e){var i="",s=0;do{var n=this._value[s];if(n===Gr||n===void 0||n===e)return i+=this.consumeStringSlice(s),{type:0,value:i};if(n===t0)return this._value.splice(0,s),cme;if(n===vA){var r=this._value[s+1];r!==Gr&&r!==void 0&&(r===t0?(i+=this.consumeStringSlice(s),s=-1,this._value.shift()):Oa(n,r)&&(i+=this.consumeStringSlice(s),i+=an(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var e=[],i=pf,s=this.peekCodePoint(0);for((s===Kl||s===Bs)&&e.push(this.consumeCodePoint());Yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(s===HA&&Yn(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),i=iB;Yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((s===S5||s===T5)&&((n===Kl||n===Bs)&&Yn(r)||Yn(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),i=iB;Yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Jge(e),i]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),i=e[0],s=e[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Gp(n,r,o)){var a=this.consumeName();return{type:15,number:i,flags:s,unit:a}}return n===vge?(this.consumeCodePoint(),{type:16,number:i,flags:s}):{type:17,number:i,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if($u(e)){for(var i=an(e);$u(this.peekCodePoint(0))&&i.length<6;)i+=an(this.consumeCodePoint());Kp(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(i,16);return s===0||Kge(s)||s>1114111?rB:s}return e===Gr?rB:e},t.prototype.consumeName=function(){for(var e="";;){var i=this.consumeCodePoint();if(oB(i))e+=an(i);else if(Oa(i,this.peekCodePoint(0)))e+=an(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(i),e}},t}(),I5=function(){function t(e){this._tokens=e}return t.create=function(e){var i=new k5;return i.write(e),new t(i.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var i=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return i;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var i=this.consumeComponentValue();if(i.type===32)return e;e.push(i),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var i={type:e,values:[]},s=this.consumeToken();;){if(s.type===32||vme(s,e))return i;this.reconsumeToken(s),i.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var i={name:e.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return i;this.reconsumeToken(s),i.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Fw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),gf=function(t){return t.type===15},od=function(t){return t.type===17},xi=function(t){return t.type===20},bme=function(t){return t.type===0},Pw=function(t,e){return xi(t)&&t.value===e},D5=function(t){return t.type!==31},Kc=function(t){return t.type!==31&&t.type!==4},bo=function(t){var e=[],i=[];return t.forEach(function(s){if(s.type===4){if(i.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(i),i=[];return}s.type!==31&&i.push(s)}),i.length&&e.push(i),e},vme=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},il=function(t){return t.type===17||t.type===15},bn=function(t){return t.type===16||il(t)},F5=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Vn={type:17,number:0,flags:pf},F2={type:16,number:50,flags:pf},za={type:16,number:100,flags:pf},jh=function(t,e,i){var s=t[0],n=t[1];return[Ii(s,e),Ii(typeof n<"u"?n:s,i)]},Ii=function(t,e){if(t.type===16)return t.number/100*e;if(gf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},P5="deg",L5="grad",R5="rad",M5="turn",ab={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case P5:return Math.PI*e.number/180;case L5:return Math.PI/200*e.number;case R5:return e.number;case M5:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},O5=function(t){return t.type===15&&(t.unit===P5||t.unit===L5||t.unit===R5||t.unit===M5)},U5=function(t){var e=t.filter(xi).map(function(i){return i.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return br(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,za];case"to right":case"left":return br(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[za,za];case"to bottom":case"top":return br(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[za,Vn];case"to left":case"right":return br(270)}return 0},br=function(t){return Math.PI*t/180},Wa={name:"color",parse:function(t,e){if(e.type===18){var i=yme[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return i(t,e.values)}if(e.type===5){if(e.value.length===3){var s=e.value.substring(0,1),n=e.value.substring(1,2),r=e.value.substring(2,3);return Ka(parseInt(s+s,16),parseInt(n+n,16),parseInt(r+r,16),1)}if(e.value.length===4){var s=e.value.substring(0,1),n=e.value.substring(1,2),r=e.value.substring(2,3),o=e.value.substring(3,4);return Ka(parseInt(s+s,16),parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(e.value.length===6){var s=e.value.substring(0,2),n=e.value.substring(2,4),r=e.value.substring(4,6);return Ka(parseInt(s,16),parseInt(n,16),parseInt(r,16),1)}if(e.value.length===8){var s=e.value.substring(0,2),n=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8);return Ka(parseInt(s,16),parseInt(n,16),parseInt(r,16),parseInt(o,16)/255)}}if(e.type===20){var a=Zo[e.value.toUpperCase()];if(typeof a<"u")return a}return Zo.TRANSPARENT}},Ya=function(t){return(255&t)===0},Bn=function(t){var e=255&t,i=255&t>>8,s=255&t>>16,n=255&t>>24;return e<255?"rgba("+n+","+s+","+i+","+e/255+")":"rgb("+n+","+s+","+i+")"},Ka=function(t,e,i,s){return(t<<24|e<<16|i<<8|Math.round(s*255)<<0)>>>0},aB=function(t,e){if(t.type===17)return t.number;if(t.type===16){var i=e===3?1:255;return e===3?t.number/100*i:Math.round(t.number/100*i)}return 0},lB=function(t,e){var i=e.filter(Kc);if(i.length===3){var s=i.map(aB),n=s[0],r=s[1],o=s[2];return Ka(n,r,o,1)}if(i.length===4){var a=i.map(aB),n=a[0],r=a[1],o=a[2],l=a[3];return Ka(n,r,o,l)}return 0};function Ny(t,e,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(e-t)*i*6+t:i<1/2?e:i<2/3?(e-t)*6*(2/3-i)+t:t}var uB=function(t,e){var i=e.filter(Kc),s=i[0],n=i[1],r=i[2],o=i[3],a=(s.type===17?br(s.number):ab.parse(t,s))/(Math.PI*2),l=bn(n)?n.number/100:0,u=bn(r)?r.number/100:0,c=typeof o<"u"&&bn(o)?Ii(o,1):1;if(l===0)return Ka(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,A=u*2-h,f=Ny(A,h,a+1/3),m=Ny(A,h,a),p=Ny(A,h,a-1/3);return Ka(f*255,m*255,p*255,c)},yme={hsl:uB,hsla:uB,rgb:lB,rgba:lB},yA=function(t,e){return Wa.parse(t,I5.create(e).parseComponentValue())},Zo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},wme={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(i){if(xi(i))switch(i.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Cme={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lb=function(t,e){var i=Wa.parse(t,e[0]),s=e[1];return s&&bn(s)?{color:i,stop:s}:{color:i,stop:null}},cB=function(t,e){var i=t[0],s=t[t.length-1];i.stop===null&&(i.stop=Vn),s.stop===null&&(s.stop=za);for(var n=[],r=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=Ii(a,e);l>r?n.push(l):n.push(r),r=l}else n.push(null)}for(var u=null,o=0;o<n.length;o++){var c=n[o];if(c===null)u===null&&(u=o);else if(u!==null){for(var h=o-u,A=n[u-1],f=(c-A)/(h+1),m=1;m<=h;m++)n[u+m-1]=f*m;u=null}}return t.map(function(p,x){var C=p.color;return{color:C,stop:Math.max(Math.min(1,n[x]/e),0)}})},Eme=function(t,e,i){var s=e/2,n=i/2,r=Ii(t[0],e)-s,o=n-Ii(t[1],i);return(Math.atan2(o,r)+Math.PI*2)%(Math.PI*2)},xme=function(t,e,i){var s=typeof t=="number"?t:Eme(t,e,i),n=Math.abs(e*Math.sin(s))+Math.abs(i*Math.cos(s)),r=e/2,o=i/2,a=n/2,l=Math.sin(s-Math.PI/2)*a,u=Math.cos(s-Math.PI/2)*a;return[n,r-u,r+u,o-l,o+l]},Fr=function(t,e){return Math.sqrt(t*t+e*e)},dB=function(t,e,i,s,n){var r=[[0,0],[0,e],[t,0],[t,e]];return r.reduce(function(o,a){var l=a[0],u=a[1],c=Fr(i-l,s-u);return(n?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:a,optimumDistance:c}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},Tme=function(t,e,i,s,n){var r=0,o=0;switch(t.size){case 0:t.shape===0?r=o=Math.min(Math.abs(e),Math.abs(e-s),Math.abs(i),Math.abs(i-n)):t.shape===1&&(r=Math.min(Math.abs(e),Math.abs(e-s)),o=Math.min(Math.abs(i),Math.abs(i-n)));break;case 2:if(t.shape===0)r=o=Math.min(Fr(e,i),Fr(e,i-n),Fr(e-s,i),Fr(e-s,i-n));else if(t.shape===1){var a=Math.min(Math.abs(i),Math.abs(i-n))/Math.min(Math.abs(e),Math.abs(e-s)),l=dB(s,n,e,i,!0),u=l[0],c=l[1];r=Fr(u-e,(c-i)/a),o=a*r}break;case 1:t.shape===0?r=o=Math.max(Math.abs(e),Math.abs(e-s),Math.abs(i),Math.abs(i-n)):t.shape===1&&(r=Math.max(Math.abs(e),Math.abs(e-s)),o=Math.max(Math.abs(i),Math.abs(i-n)));break;case 3:if(t.shape===0)r=o=Math.max(Fr(e,i),Fr(e,i-n),Fr(e-s,i),Fr(e-s,i-n));else if(t.shape===1){var a=Math.max(Math.abs(i),Math.abs(i-n))/Math.max(Math.abs(e),Math.abs(e-s)),h=dB(s,n,e,i,!1),u=h[0],c=h[1];r=Fr(u-e,(c-i)/a),o=a*r}break}return Array.isArray(t.size)&&(r=Ii(t.size[0],s),o=t.size.length===2?Ii(t.size[1],n):r),[r,o]},_me=function(t,e){var i=br(180),s=[];return bo(e).forEach(function(n,r){if(r===0){var o=n[0];if(o.type===20&&o.value==="to"){i=U5(n);return}else if(O5(o)){i=ab.parse(t,o);return}}var a=lb(t,n);s.push(a)}),{angle:i,stops:s,type:1}},Wp=function(t,e){var i=br(180),s=[];return bo(e).forEach(function(n,r){if(r===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){i=U5(n);return}else if(O5(o)){i=(ab.parse(t,o)+br(270))%br(360);return}}var a=lb(t,n);s.push(a)}),{angle:i,stops:s,type:1}},Sme=function(t,e){var i=br(180),s=[],n=1,r=0,o=3,a=[];return bo(e).forEach(function(l,u){var c=l[0];if(u===0){if(xi(c)&&c.value==="linear"){n=1;return}else if(xi(c)&&c.value==="radial"){n=2;return}}if(c.type===18){if(c.name==="from"){var h=Wa.parse(t,c.values[0]);s.push({stop:Vn,color:h})}else if(c.name==="to"){var h=Wa.parse(t,c.values[0]);s.push({stop:za,color:h})}else if(c.name==="color-stop"){var A=c.values.filter(Kc);if(A.length===2){var h=Wa.parse(t,A[1]),f=A[0];od(f)&&s.push({stop:{type:16,number:f.number*100,flags:f.flags},color:h})}}}}),n===1?{angle:(i+br(180))%br(360),stops:s,type:n}:{size:o,shape:r,stops:s,position:a,type:n}},N5="closest-side",H5="farthest-side",Q5="closest-corner",V5="farthest-corner",$5="circle",j5="ellipse",z5="cover",K5="contain",Bme=function(t,e){var i=0,s=3,n=[],r=[];return bo(e).forEach(function(o,a){var l=!0;if(a===0){var u=!1;l=o.reduce(function(h,A){if(u)if(xi(A))switch(A.value){case"center":return r.push(F2),h;case"top":case"left":return r.push(Vn),h;case"right":case"bottom":return r.push(za),h}else(bn(A)||il(A))&&r.push(A);else if(xi(A))switch(A.value){case $5:return i=0,!1;case j5:return i=1,!1;case"at":return u=!0,!1;case N5:return s=0,!1;case z5:case H5:return s=1,!1;case K5:case Q5:return s=2,!1;case V5:return s=3,!1}else if(il(A)||bn(A))return Array.isArray(s)||(s=[]),s.push(A),!1;return h},l)}if(l){var c=lb(t,o);n.push(c)}}),{size:s,shape:i,stops:n,position:r,type:2}},Yp=function(t,e){var i=0,s=3,n=[],r=[];return bo(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(c,h){if(xi(h))switch(h.value){case"center":return r.push(F2),!1;case"top":case"left":return r.push(Vn),!1;case"right":case"bottom":return r.push(za),!1}else if(bn(h)||il(h))return r.push(h),!1;return c},l):a===1&&(l=o.reduce(function(c,h){if(xi(h))switch(h.value){case $5:return i=0,!1;case j5:return i=1,!1;case K5:case N5:return s=0,!1;case H5:return s=1,!1;case Q5:return s=2,!1;case z5:case V5:return s=3,!1}else if(il(h)||bn(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return c},l)),l){var u=lb(t,o);n.push(u)}}),{size:s,shape:i,stops:n,position:r,type:2}},kme=function(t){return t.type===1},Ime=function(t){return t.type===2},P2={name:"image",parse:function(t,e){if(e.type===22){var i={url:e.value,type:0};return t.cache.addImage(e.value),i}if(e.type===18){var s=G5[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return s(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Dme(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!G5[t.name])}var G5={"linear-gradient":_me,"-moz-linear-gradient":Wp,"-ms-linear-gradient":Wp,"-o-linear-gradient":Wp,"-webkit-linear-gradient":Wp,"radial-gradient":Bme,"-moz-radial-gradient":Yp,"-ms-radial-gradient":Yp,"-o-radial-gradient":Yp,"-webkit-radial-gradient":Yp,"-webkit-gradient":Sme},Fme={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var i=e[0];return i.type===20&&i.value==="none"?[]:e.filter(function(s){return Kc(s)&&Dme(s)}).map(function(s){return P2.parse(t,s)})}},Pme={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(i){if(xi(i))switch(i.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Lme={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return bo(e).map(function(i){return i.filter(bn)}).map(F5)}},Rme={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return bo(e).map(function(i){return i.filter(xi).map(function(s){return s.value}).join(" ")}).map(Mme)}},Mme=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},_c;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(_c||(_c={}));var Ome={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return bo(e).map(function(i){return i.filter(Ume)})}},Ume=function(t){return xi(t)||bn(t)},ub=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Nme=ub("top"),Hme=ub("right"),Qme=ub("bottom"),Vme=ub("left"),cb=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,i){return F5(i.filter(bn))}}},$me=cb("top-left"),jme=cb("top-right"),zme=cb("bottom-right"),Kme=cb("bottom-left"),db=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,i){switch(i){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Gme=db("top"),qme=db("right"),Wme=db("bottom"),Yme=db("left"),hb=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,i){return gf(i)?i.number:0}}},Xme=hb("top"),Jme=hb("right"),Zme=hb("bottom"),e0e=hb("left"),t0e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},i0e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},n0e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(xi).reduce(function(i,s){return i|s0e(s.value)},0)}},s0e=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},r0e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},o0e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},n0;(function(t){t.NORMAL="normal",t.STRICT="strict"})(n0||(n0={}));var a0e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return n0.STRICT;case"normal":default:return n0.NORMAL}}},l0e={name:"line-height",initialValue:"normal",prefix:!1,type:4},hB=function(t,e){return xi(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:bn(t)?Ii(t,e):e},u0e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:P2.parse(t,e)}},c0e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Lw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ab=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},d0e=Ab("top"),h0e=Ab("right"),A0e=Ab("bottom"),f0e=Ab("left"),p0e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(xi).map(function(i){switch(i.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},g0e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},fb=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},m0e=fb("top"),b0e=fb("right"),v0e=fb("bottom"),y0e=fb("left"),w0e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},C0e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},E0e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Pw(e[0],"none")?[]:bo(e).map(function(i){for(var s={color:Zo.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},n=0,r=0;r<i.length;r++){var o=i[r];il(o)?(n===0?s.offsetX=o:n===1?s.offsetY=o:s.blur=o,n++):s.color=Wa.parse(t,o)}return s})}},x0e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},T0e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var i=B0e[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return i(e.values)}return null}},_0e=function(t){var e=t.filter(function(i){return i.type===17}).map(function(i){return i.number});return e.length===6?e:null},S0e=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),i=e[0],s=e[1];e[2],e[3];var n=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[i,s,n,r,o,a]:null},B0e={matrix:_0e,matrix3d:S0e},AB={type:16,number:50,flags:pf},k0e=[AB,AB],I0e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var i=e.filter(bn);return i.length!==2?k0e:[i[0],i[1]]}},D0e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},wA;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(wA||(wA={}));var F0e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return wA.BREAK_ALL;case"keep-all":return wA.KEEP_ALL;case"normal":default:return wA.NORMAL}}},P0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(od(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},q5={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},L0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return od(e)?e.number:1}},R0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},M0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(xi).map(function(i){switch(i.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(i){return i!==0})}},O0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var i=[],s=[];return e.forEach(function(n){switch(n.type){case 20:case 0:i.push(n.value);break;case 17:i.push(n.number.toString());break;case 4:s.push(i.join(" ")),i.length=0;break}}),i.length&&s.push(i.join(" ")),s.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},U0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},N0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(od(e))return e.number;if(xi(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},H0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(xi).map(function(i){return i.value})}},Q0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Cn=function(t,e){return(t&e)!==0},V0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var i=e[0];return i.type===20&&i.value==="none"?[]:e}},$0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var i=e[0];if(i.type===20&&i.value==="none")return null;for(var s=[],n=e.filter(D5),r=0;r<n.length;r++){var o=n[r],a=n[r+1];if(o.type===20){var l=a&&od(a)?a.number:1;s.push({counter:o.value,increment:l})}}return s}},j0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var i=[],s=e.filter(D5),n=0;n<s.length;n++){var r=s[n],o=s[n+1];if(xi(r)&&r.value!=="none"){var a=o&&od(o)?o.number:0;i.push({counter:r.value,reset:a})}}return i}},z0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(gf).map(function(i){return q5.parse(t,i)})}},K0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var i=e[0];if(i.type===20&&i.value==="none")return null;var s=[],n=e.filter(bme);if(n.length%2!==0)return null;for(var r=0;r<n.length;r+=2){var o=n[r].value,a=n[r+1].value;s.push({open:o,close:a})}return s}},fB=function(t,e,i){if(!t)return"";var s=t[Math.min(e,t.length-1)];return s?i?s.open:s.close:""},G0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Pw(e[0],"none")?[]:bo(e).map(function(i){for(var s={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},n=0,r=0;r<i.length;r++){var o=i[r];Pw(o,"inset")?s.inset=!0:il(o)?(n===0?s.offsetX=o:n===1?s.offsetY=o:n===2?s.blur=o:s.spread=o,n++):s.color=Wa.parse(t,o)}return s})}},q0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var i=[0,1,2],s=[];return e.filter(xi).forEach(function(n){switch(n.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),i.forEach(function(n){s.indexOf(n)===-1&&s.push(n)}),s}},W0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Y0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return gf(e)?e.number:0}},X0e=function(){function t(e,i){var s,n;this.animationDuration=bt(e,z0e,i.animationDuration),this.backgroundClip=bt(e,wme,i.backgroundClip),this.backgroundColor=bt(e,Cme,i.backgroundColor),this.backgroundImage=bt(e,Fme,i.backgroundImage),this.backgroundOrigin=bt(e,Pme,i.backgroundOrigin),this.backgroundPosition=bt(e,Lme,i.backgroundPosition),this.backgroundRepeat=bt(e,Rme,i.backgroundRepeat),this.backgroundSize=bt(e,Ome,i.backgroundSize),this.borderTopColor=bt(e,Nme,i.borderTopColor),this.borderRightColor=bt(e,Hme,i.borderRightColor),this.borderBottomColor=bt(e,Qme,i.borderBottomColor),this.borderLeftColor=bt(e,Vme,i.borderLeftColor),this.borderTopLeftRadius=bt(e,$me,i.borderTopLeftRadius),this.borderTopRightRadius=bt(e,jme,i.borderTopRightRadius),this.borderBottomRightRadius=bt(e,zme,i.borderBottomRightRadius),this.borderBottomLeftRadius=bt(e,Kme,i.borderBottomLeftRadius),this.borderTopStyle=bt(e,Gme,i.borderTopStyle),this.borderRightStyle=bt(e,qme,i.borderRightStyle),this.borderBottomStyle=bt(e,Wme,i.borderBottomStyle),this.borderLeftStyle=bt(e,Yme,i.borderLeftStyle),this.borderTopWidth=bt(e,Xme,i.borderTopWidth),this.borderRightWidth=bt(e,Jme,i.borderRightWidth),this.borderBottomWidth=bt(e,Zme,i.borderBottomWidth),this.borderLeftWidth=bt(e,e0e,i.borderLeftWidth),this.boxShadow=bt(e,G0e,i.boxShadow),this.color=bt(e,t0e,i.color),this.direction=bt(e,i0e,i.direction),this.display=bt(e,n0e,i.display),this.float=bt(e,r0e,i.cssFloat),this.fontFamily=bt(e,O0e,i.fontFamily),this.fontSize=bt(e,U0e,i.fontSize),this.fontStyle=bt(e,Q0e,i.fontStyle),this.fontVariant=bt(e,H0e,i.fontVariant),this.fontWeight=bt(e,N0e,i.fontWeight),this.letterSpacing=bt(e,o0e,i.letterSpacing),this.lineBreak=bt(e,a0e,i.lineBreak),this.lineHeight=bt(e,l0e,i.lineHeight),this.listStyleImage=bt(e,u0e,i.listStyleImage),this.listStylePosition=bt(e,c0e,i.listStylePosition),this.listStyleType=bt(e,Lw,i.listStyleType),this.marginTop=bt(e,d0e,i.marginTop),this.marginRight=bt(e,h0e,i.marginRight),this.marginBottom=bt(e,A0e,i.marginBottom),this.marginLeft=bt(e,f0e,i.marginLeft),this.opacity=bt(e,L0e,i.opacity);var r=bt(e,p0e,i.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=bt(e,g0e,i.overflowWrap),this.paddingTop=bt(e,m0e,i.paddingTop),this.paddingRight=bt(e,b0e,i.paddingRight),this.paddingBottom=bt(e,v0e,i.paddingBottom),this.paddingLeft=bt(e,y0e,i.paddingLeft),this.paintOrder=bt(e,q0e,i.paintOrder),this.position=bt(e,C0e,i.position),this.textAlign=bt(e,w0e,i.textAlign),this.textDecorationColor=bt(e,R0e,(s=i.textDecorationColor)!==null&&s!==void 0?s:i.color),this.textDecorationLine=bt(e,M0e,(n=i.textDecorationLine)!==null&&n!==void 0?n:i.textDecoration),this.textShadow=bt(e,E0e,i.textShadow),this.textTransform=bt(e,x0e,i.textTransform),this.transform=bt(e,T0e,i.transform),this.transformOrigin=bt(e,I0e,i.transformOrigin),this.visibility=bt(e,D0e,i.visibility),this.webkitTextStrokeColor=bt(e,W0e,i.webkitTextStrokeColor),this.webkitTextStrokeWidth=bt(e,Y0e,i.webkitTextStrokeWidth),this.wordBreak=bt(e,F0e,i.wordBreak),this.zIndex=bt(e,P0e,i.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ya(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Cn(this.display,4)||Cn(this.display,33554432)||Cn(this.display,268435456)||Cn(this.display,536870912)||Cn(this.display,67108864)||Cn(this.display,134217728)},t}(),J0e=function(){function t(e,i){this.content=bt(e,V0e,i.content),this.quotes=bt(e,K0e,i.quotes)}return t}(),pB=function(){function t(e,i){this.counterIncrement=bt(e,$0e,i.counterIncrement),this.counterReset=bt(e,j0e,i.counterReset)}return t}(),bt=function(t,e,i){var s=new k5,n=i!==null&&typeof i<"u"?i.toString():e.initialValue;s.write(n);var r=new I5(s.read());switch(e.type){case 2:var o=r.parseComponentValue();return e.parse(t,xi(o)?o.value:e.initialValue);case 0:return e.parse(t,r.parseComponentValue());case 1:return e.parse(t,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return ab.parse(t,r.parseComponentValue());case"color":return Wa.parse(t,r.parseComponentValue());case"image":return P2.parse(t,r.parseComponentValue());case"length":var a=r.parseComponentValue();return il(a)?a:Vn;case"length-percentage":var l=r.parseComponentValue();return bn(l)?l:Vn;case"time":return q5.parse(t,r.parseComponentValue())}break}},Z0e="data-html2canvas-debug",ebe=function(t){var e=t.getAttribute(Z0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Rw=function(t,e){var i=ebe(t);return i===1||e===i},vo=function(){function t(e,i){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Rw(i,3))debugger;this.styles=new X0e(e,window.getComputedStyle(i,null)),Uw(i)&&(this.styles.animationDuration.some(function(s){return s>0})&&(i.style.animationDuration="0s"),this.styles.transform!==null&&(i.style.transform="none")),this.bounds=rb(this.context,i),Rw(i,4)&&(this.flags|=16)}return t}(),tbe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",gB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xp=0;Xp<gB.length;Xp++)zh[gB.charCodeAt(Xp)]=Xp;var ibe=function(t){var e=t.length*.75,i=t.length,s,n=0,r,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(s=0;s<i;s+=4)r=zh[t.charCodeAt(s)],o=zh[t.charCodeAt(s+1)],a=zh[t.charCodeAt(s+2)],l=zh[t.charCodeAt(s+3)],c[n++]=r<<2|o>>4,c[n++]=(o&15)<<4|a>>2,c[n++]=(a&3)<<6|l&63;return u},nbe=function(t){for(var e=t.length,i=[],s=0;s<e;s+=2)i.push(t[s+1]<<8|t[s]);return i},sbe=function(t){for(var e=t.length,i=[],s=0;s<e;s+=4)i.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return i},su=5,L2=11,Hy=2,rbe=L2-su,W5=65536>>su,obe=1<<su,Qy=obe-1,abe=1024>>su,lbe=W5+abe,ube=lbe,cbe=32,dbe=ube+cbe,hbe=65536>>L2,Abe=1<<rbe,fbe=Abe-1,mB=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},pbe=function(t,e,i){return t.slice?t.slice(e,i):new Uint32Array(Array.prototype.slice.call(t,e,i))},gbe=function(t,e){var i=ibe(t),s=Array.isArray(i)?sbe(i):new Uint32Array(i),n=Array.isArray(i)?nbe(i):new Uint16Array(i),r=24,o=mB(n,r/2,s[4]/2),a=s[5]===2?mB(n,(r+s[4])/2):pbe(s,Math.ceil((r+s[4])/4));return new mbe(s[0],s[1],s[2],s[3],o,a)},mbe=function(){function t(e,i,s,n,r,o){this.initialValue=e,this.errorValue=i,this.highStart=s,this.highValueIndex=n,this.index=r,this.data=o}return t.prototype.get=function(e){var i;if(e>=0){if(e<55296||e>56319&&e<=65535)return i=this.index[e>>su],i=(i<<Hy)+(e&Qy),this.data[i];if(e<=65535)return i=this.index[W5+(e-55296>>su)],i=(i<<Hy)+(e&Qy),this.data[i];if(e<this.highStart)return i=dbe-hbe+(e>>L2),i=this.index[i],i+=e>>su&fbe,i=this.index[i],i=(i<<Hy)+(e&Qy),this.data[i];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),bB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bbe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jp=0;Jp<bB.length;Jp++)bbe[bB.charCodeAt(Jp)]=Jp;var vbe=1,Vy=2,$y=3,vB=4,yB=5,ybe=7,wB=8,jy=9,zy=10,CB=11,EB=12,xB=13,TB=14,Ky=15,wbe=function(t){for(var e=[],i=0,s=t.length;i<s;){var n=t.charCodeAt(i++);if(n>=55296&&n<=56319&&i<s){var r=t.charCodeAt(i++);(r&64512)===56320?e.push(((n&1023)<<10)+(r&1023)+65536):(e.push(n),i--)}else e.push(n)}return e},Cbe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var s=[],n=-1,r="";++n<i;){var o=t[n];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(n+1===i||s.length>16384)&&(r+=String.fromCharCode.apply(String,s),s.length=0)}return r},Ebe=gbe(tbe),Ar="×",Gy="÷",xbe=function(t){return Ebe.get(t)},Tbe=function(t,e,i){var s=i-2,n=e[s],r=e[i-1],o=e[i];if(r===Vy&&o===$y)return Ar;if(r===Vy||r===$y||r===vB||o===Vy||o===$y||o===vB)return Gy;if(r===wB&&[wB,jy,CB,EB].indexOf(o)!==-1||(r===CB||r===jy)&&(o===jy||o===zy)||(r===EB||r===zy)&&o===zy||o===xB||o===yB||o===ybe||r===vbe)return Ar;if(r===xB&&o===TB){for(;n===yB;)n=e[--s];if(n===TB)return Ar}if(r===Ky&&o===Ky){for(var a=0;n===Ky;)a++,n=e[--s];if(a%2===0)return Ar}return Gy},_be=function(t){var e=wbe(t),i=e.length,s=0,n=0,r=e.map(xbe);return{next:function(){if(s>=i)return{done:!0,value:null};for(var o=Ar;s<i&&(o=Tbe(e,r,++s))===Ar;);if(o!==Ar||s===i){var a=Cbe.apply(null,e.slice(n,s));return n=s,{value:a,done:!1}}return{done:!0,value:null}}}},Sbe=function(t){for(var e=_be(t),i=[],s;!(s=e.next()).done;)s.value&&i.push(s.value.slice());return i},Bbe=function(t){var e=123;if(t.createRange){var i=t.createRange();if(i.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=e+"px",s.style.display="block",t.body.appendChild(s),i.selectNode(s);var n=i.getBoundingClientRect(),r=Math.round(n.height);if(t.body.removeChild(s),r===e)return!0}}return!1},kbe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var i=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=e.firstChild,n=ob(s.data).map(function(l){return an(l)}),r=0,o={},a=n.every(function(l,u){i.setStart(s,r),i.setEnd(s,r+l.length);var c=i.getBoundingClientRect();r+=l.length;var h=c.x>o.x||c.y>o.y;return o=c,u===0?!0:h});return t.body.removeChild(e),a},Ibe=function(){return typeof new Image().crossOrigin<"u"},Dbe=function(){return typeof new XMLHttpRequest().responseType=="string"},Fbe=function(t){var e=new Image,i=t.createElement("canvas"),s=i.getContext("2d");if(!s)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(e,0,0),i.toDataURL()}catch{return!1}return!0},_B=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Pbe=function(t){var e=t.createElement("canvas"),i=100;e.width=i,e.height=i;var s=e.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,i,i);var n=new Image,r=e.toDataURL();n.src=r;var o=Mw(i,i,0,0,n);return s.fillStyle="red",s.fillRect(0,0,i,i),SB(o).then(function(a){s.drawImage(a,0,0);var l=s.getImageData(0,0,i,i).data;s.fillStyle="red",s.fillRect(0,0,i,i);var u=t.createElement("div");return u.style.backgroundImage="url("+r+")",u.style.height=i+"px",_B(l)?SB(Mw(i,i,0,0,u)):Promise.reject(!1)}).then(function(a){return s.drawImage(a,0,0),_B(s.getImageData(0,0,i,i).data)}).catch(function(){return!1})},Mw=function(t,e,i,s,n){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",i.toString()),a.setAttributeNS(null,"y",s.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(n),o},SB=function(t){return new Promise(function(e,i){var s=new Image;s.onload=function(){return e(s)},s.onerror=i,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Hn={get SUPPORT_RANGE_BOUNDS(){var t=Bbe(document);return Object.defineProperty(Hn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Hn.SUPPORT_RANGE_BOUNDS&&kbe(document);return Object.defineProperty(Hn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Fbe(document);return Object.defineProperty(Hn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Pbe(document):Promise.resolve(!1);return Object.defineProperty(Hn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Ibe();return Object.defineProperty(Hn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Dbe();return Object.defineProperty(Hn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},CA=function(){function t(e,i){this.text=e,this.bounds=i}return t}(),Lbe=function(t,e,i,s){var n=Obe(e,i),r=[],o=0;return n.forEach(function(a){if(i.textDecorationLine.length||a.trim().length>0)if(Hn.SUPPORT_RANGE_BOUNDS){var l=BB(s,o,a.length).getClientRects();if(l.length>1){var u=R2(a),c=0;u.forEach(function(A){r.push(new CA(A,sa.fromDOMRectList(t,BB(s,c+o,A.length).getClientRects()))),c+=A.length})}else r.push(new CA(a,sa.fromDOMRectList(t,l)))}else{var h=s.splitText(a.length);r.push(new CA(a,Rbe(t,s))),s=h}else Hn.SUPPORT_RANGE_BOUNDS||(s=s.splitText(a.length));o+=a.length}),r},Rbe=function(t,e){var i=e.ownerDocument;if(i){var s=i.createElement("html2canvaswrapper");s.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(s,e);var r=rb(t,s);return s.firstChild&&n.replaceChild(s.firstChild,s),r}}return sa.EMPTY},BB=function(t,e,i){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var n=s.createRange();return n.setStart(t,e),n.setEnd(t,e+i),n},R2=function(t){if(Hn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(i){return i.segment})}return Sbe(t)},Mbe=function(t,e){if(Hn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var i=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(i.segment(t)).map(function(s){return s.segment})}return Nbe(t,e)},Obe=function(t,e){return e.letterSpacing!==0?R2(t):Mbe(t,e)},Ube=[32,160,4961,65792,65793,4153,4241],Nbe=function(t,e){for(var i=hge(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),s=[],n,r=function(){if(n.value){var o=n.value.slice(),a=ob(o),l="";a.forEach(function(u){Ube.indexOf(u)===-1?l+=an(u):(l.length&&s.push(l),s.push(an(u)),l="")}),l.length&&s.push(l)}};!(n=i.next()).done;)r();return s},Hbe=function(){function t(e,i,s){this.text=Qbe(i.data,s.textTransform),this.textBounds=Lbe(e,this.text,s,i)}return t}(),Qbe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Vbe,$be);case 2:return t.toUpperCase();default:return t}},Vbe=/(^|\s|:|-|\(|\))([a-z])/g,$be=function(t,e,i){return t.length>0?e+i.toUpperCase():t},Y5=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n.src=s.currentSrc||s.src,n.intrinsicWidth=s.naturalWidth,n.intrinsicHeight=s.naturalHeight,n.context.cache.addImage(n.src),n}return e}(vo),X5=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n.canvas=s,n.intrinsicWidth=s.width,n.intrinsicHeight=s.height,n}return e}(vo),J5=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this,r=new XMLSerializer,o=rb(i,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(s)),n.intrinsicWidth=s.width.baseVal.value,n.intrinsicHeight=s.height.baseVal.value,n.context.cache.addImage(n.svg),n}return e}(vo),Z5=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n.value=s.value,n}return e}(vo),Ow=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n.start=s.start,n.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,n}return e}(vo),jbe=[{type:15,flags:0,unit:"px",number:3}],zbe=[{type:16,flags:0,number:50}],Kbe=function(t){return t.width>t.height?new sa(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new sa(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Gbe=function(t){var e=t.type===qbe?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},s0="checkbox",r0="radio",qbe="password",kB=707406591,M2=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;switch(n.type=s.type.toLowerCase(),n.checked=s.checked,n.value=Gbe(s),(n.type===s0||n.type===r0)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Kbe(n.bounds)),n.type){case s0:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=jbe;break;case r0:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=zbe;break}return n}return e}(vo),eP=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this,r=s.options[s.selectedIndex||0];return n.value=r&&r.text||"",n}return e}(vo),tP=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n.value=s.value,n}return e}(vo),iP=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;n.src=s.src,n.width=parseInt(s.width,10)||0,n.height=parseInt(s.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){n.tree=sP(i,s.contentWindow.document.documentElement);var r=s.contentWindow.document.documentElement?yA(i,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):Zo.TRANSPARENT,o=s.contentWindow.document.body?yA(i,getComputedStyle(s.contentWindow.document.body).backgroundColor):Zo.TRANSPARENT;n.backgroundColor=Ya(r)?Ya(o)?n.styles.backgroundColor:o:r}}catch{}return n}return e}(vo),Wbe=["OL","UL","MENU"],Og=function(t,e,i,s){for(var n=e.firstChild,r=void 0;n;n=r)if(r=n.nextSibling,rP(n)&&n.data.trim().length>0)i.textNodes.push(new Hbe(t,n,i.styles));else if(uc(n))if(uP(n)&&n.assignedNodes)n.assignedNodes().forEach(function(a){return Og(t,a,i,s)});else{var o=nP(t,n);o.styles.isVisible()&&(Ybe(n,o,s)?o.flags|=4:Xbe(o.styles)&&(o.flags|=2),Wbe.indexOf(n.tagName)!==-1&&(o.flags|=8),i.elements.push(o),n.slot,n.shadowRoot?Og(t,n.shadowRoot,o,s):!o0(n)&&!oP(n)&&!a0(n)&&Og(t,n,o,s))}},nP=function(t,e){return Nw(e)?new Y5(t,e):aP(e)?new X5(t,e):oP(e)?new J5(t,e):Jbe(e)?new Z5(t,e):Zbe(e)?new Ow(t,e):eve(e)?new M2(t,e):a0(e)?new eP(t,e):o0(e)?new tP(t,e):lP(e)?new iP(t,e):new vo(t,e)},sP=function(t,e){var i=nP(t,e);return i.flags|=4,Og(t,e,i,i),i},Ybe=function(t,e,i){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||O2(t)&&i.styles.isTransparent()},Xbe=function(t){return t.isPositioned()||t.isFloating()},rP=function(t){return t.nodeType===Node.TEXT_NODE},uc=function(t){return t.nodeType===Node.ELEMENT_NODE},Uw=function(t){return uc(t)&&typeof t.style<"u"&&!Ug(t)},Ug=function(t){return typeof t.className=="object"},Jbe=function(t){return t.tagName==="LI"},Zbe=function(t){return t.tagName==="OL"},eve=function(t){return t.tagName==="INPUT"},tve=function(t){return t.tagName==="HTML"},oP=function(t){return t.tagName==="svg"},O2=function(t){return t.tagName==="BODY"},aP=function(t){return t.tagName==="CANVAS"},IB=function(t){return t.tagName==="VIDEO"},Nw=function(t){return t.tagName==="IMG"},lP=function(t){return t.tagName==="IFRAME"},DB=function(t){return t.tagName==="STYLE"},ive=function(t){return t.tagName==="SCRIPT"},o0=function(t){return t.tagName==="TEXTAREA"},a0=function(t){return t.tagName==="SELECT"},uP=function(t){return t.tagName==="SLOT"},FB=function(t){return t.tagName.indexOf("-")>0},nve=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var i=this.counters[e];return i&&i.length?i[i.length-1]:1},t.prototype.getCounterValues=function(e){var i=this.counters[e];return i||[]},t.prototype.pop=function(e){var i=this;e.forEach(function(s){return i.counters[s].pop()})},t.prototype.parse=function(e){var i=this,s=e.counterIncrement,n=e.counterReset,r=!0;s!==null&&s.forEach(function(a){var l=i.counters[a.counter];l&&a.increment!==0&&(r=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return r&&n.forEach(function(a){var l=i.counters[a.counter];o.push(a.counter),l||(l=i.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),PB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},LB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},sve={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},rve={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ju=function(t,e,i,s,n,r){return t<e||t>i?QA(t,n,r.length>0):s.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=s.values[l];return o},"")+r},cP=function(t,e,i,s){var n="";do i||t--,n=s(t)+n,t/=e;while(t*e>=e);return n},on=function(t,e,i,s,n){var r=i-e+1;return(t<0?"-":"")+(cP(Math.abs(t),r,s,function(o){return an(Math.floor(o%r)+e)})+n)},Ll=function(t,e,i){i===void 0&&(i=". ");var s=e.length;return cP(Math.abs(t),s,!1,function(n){return e[Math.floor(n%s)]})+i},Zu=1,Sa=2,Ba=4,Kh=8,Oo=function(t,e,i,s,n,r){if(t<-9999||t>9999)return QA(t,4,n.length>0);var o=Math.abs(t),a=n;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var u=o%10;u===0&&Cn(r,Zu)&&a!==""?a=e[u]+a:u>1||u===1&&l===0||u===1&&l===1&&Cn(r,Sa)||u===1&&l===1&&Cn(r,Ba)&&t>100||u===1&&l>1&&Cn(r,Kh)?a=e[u]+(l>0?i[l-1]:"")+a:u===1&&l>0&&(a=i[l-1]+a),o=Math.floor(o/10)}return(t<0?s:"")+a},RB="十百千萬",MB="拾佰仟萬",OB="マイナス",qy="마이너스",QA=function(t,e,i){var s=i?". ":"",n=i?"、":"",r=i?", ":"",o=i?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=on(t,48,57,!0,s);return a.length<4?"0"+a:a;case 4:return Ll(t,"〇一二三四五六七八九",n);case 6:return ju(t,1,3999,PB,3,s).toLowerCase();case 7:return ju(t,1,3999,PB,3,s);case 8:return on(t,945,969,!1,s);case 9:return on(t,97,122,!1,s);case 10:return on(t,65,90,!1,s);case 11:return on(t,1632,1641,!0,s);case 12:case 49:return ju(t,1,9999,LB,3,s);case 35:return ju(t,1,9999,LB,3,s).toLowerCase();case 13:return on(t,2534,2543,!0,s);case 14:case 30:return on(t,6112,6121,!0,s);case 15:return Ll(t,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return Ll(t,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Oo(t,"零一二三四五六七八九",RB,"負",n,Sa|Ba|Kh);case 47:return Oo(t,"零壹貳參肆伍陸柒捌玖",MB,"負",n,Zu|Sa|Ba|Kh);case 42:return Oo(t,"零一二三四五六七八九",RB,"负",n,Sa|Ba|Kh);case 41:return Oo(t,"零壹贰叁肆伍陆柒捌玖",MB,"负",n,Zu|Sa|Ba|Kh);case 26:return Oo(t,"〇一二三四五六七八九","十百千万",OB,n,0);case 25:return Oo(t,"零壱弐参四伍六七八九","拾百千万",OB,n,Zu|Sa|Ba);case 31:return Oo(t,"영일이삼사오육칠팔구","십백천만",qy,r,Zu|Sa|Ba);case 33:return Oo(t,"零一二三四五六七八九","十百千萬",qy,r,0);case 32:return Oo(t,"零壹貳參四五六七八九","拾百千",qy,r,Zu|Sa|Ba);case 18:return on(t,2406,2415,!0,s);case 20:return ju(t,1,19999,rve,3,s);case 21:return on(t,2790,2799,!0,s);case 22:return on(t,2662,2671,!0,s);case 22:return ju(t,1,10999,sve,3,s);case 23:return Ll(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Ll(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return on(t,3302,3311,!0,s);case 28:return Ll(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return Ll(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return on(t,3792,3801,!0,s);case 37:return on(t,6160,6169,!0,s);case 38:return on(t,4160,4169,!0,s);case 39:return on(t,2918,2927,!0,s);case 40:return on(t,1776,1785,!0,s);case 43:return on(t,3046,3055,!0,s);case 44:return on(t,3174,3183,!0,s);case 45:return on(t,3664,3673,!0,s);case 46:return on(t,3872,3881,!0,s);case 3:default:return on(t,48,57,!0,s)}},dP="data-html2canvas-ignore",UB=function(){function t(e,i,s){if(this.context=e,this.options=s,this.scrolledElements=[],this.referenceElement=i,this.counters=new nve,this.quoteDepth=0,!i.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(i.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,i){var s=this,n=ove(e,i);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=n.contentWindow,l=a.document,u=uve(n).then(function(){return ds(s,void 0,void 0,function(){var c,h;return Wn(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(Ave),a&&(a.scrollTo(i.left,i.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==i.top||a.scrollX!==i.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-i.left,a.scrollY-i.top,0,0))),c=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lve(l)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,h)}).then(function(){return n})]:[2,n]}})})});return l.open(),l.write(dve(document.doctype)+"<html></html>"),hve(this.referenceElement.ownerDocument,r,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(Rw(e,2))debugger;if(aP(e))return this.createCanvasClone(e);if(IB(e))return this.createVideoClone(e);if(DB(e))return this.createStyleClone(e);var i=e.cloneNode(!1);return Nw(i)&&(Nw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(i.src=e.currentSrc,i.srcset=""),i.loading==="lazy"&&(i.loading="eager")),FB(i)?this.createCustomElementClone(i):i},t.prototype.createCustomElementClone=function(e){var i=document.createElement("html2canvascustomelement");return Wy(e.style,i),i},t.prototype.createStyleClone=function(e){try{var i=e.sheet;if(i&&i.cssRules){var s=[].slice.call(i.cssRules,0).reduce(function(r,o){return o&&typeof o.cssText=="string"?r+o.cssText:r},""),n=e.cloneNode(!1);return n.textContent=s,n}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),r.name!=="SecurityError")throw r}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var i;if(this.options.inlineImages&&e.ownerDocument){var s=e.ownerDocument.createElement("img");try{return s.src=e.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&r)o.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var a=(i=e.getContext("webgl2"))!==null&&i!==void 0?i:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},t.prototype.createVideoClone=function(e){var i=e.ownerDocument.createElement("canvas");i.width=e.offsetWidth,i.height=e.offsetHeight;var s=i.getContext("2d");try{return s&&(s.drawImage(e,0,0,i.width,i.height),this.options.allowTaint||s.getImageData(0,0,i.width,i.height)),i}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},t.prototype.appendChildNode=function(e,i,s){(!uc(i)||!ive(i)&&!i.hasAttribute(dP)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(i)))&&(!this.options.copyStyles||!uc(i)||!DB(i))&&e.appendChild(this.cloneNode(i,s))},t.prototype.cloneChildNodes=function(e,i,s){for(var n=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(uc(r)&&uP(r)&&typeof r.assignedNodes=="function"){var o=r.assignedNodes();o.length&&o.forEach(function(a){return n.appendChildNode(i,a,s)})}else this.appendChildNode(i,r,s)},t.prototype.cloneNode=function(e,i){if(rP(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var s=e.ownerDocument.defaultView;if(s&&uc(e)&&(Uw(e)||Ug(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var r=s.getComputedStyle(e),o=s.getComputedStyle(e,":before"),a=s.getComputedStyle(e,":after");this.referenceElement===e&&Uw(n)&&(this.clonedReferenceElement=n),O2(n)&&gve(n);var l=this.counters.parse(new pB(this.context,r)),u=this.resolvePseudoContent(e,n,o,EA.BEFORE);FB(e)&&(i=!0),IB(e)||this.cloneChildNodes(e,n,i),u&&n.insertBefore(u,n.firstChild);var c=this.resolvePseudoContent(e,n,a,EA.AFTER);return c&&n.appendChild(c),this.counters.pop(l),(r&&(this.options.copyStyles||Ug(e))&&!lP(e)||i)&&Wy(r,n),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(o0(e)||a0(e))&&(o0(n)||a0(n))&&(n.value=e.value),n}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,i,s,n){var r=this;if(s){var o=s.content,a=i.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new pB(this.context,s));var l=new J0e(this.context,s),u=a.createElement("html2canvaspseudoelement");Wy(s,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(a.createTextNode(h.value));else if(h.type===22){var A=a.createElement("img");A.src=h.value,A.style.opacity="1",u.appendChild(A)}else if(h.type===18){if(h.name==="attr"){var f=h.values.filter(xi);f.length&&u.appendChild(a.createTextNode(e.getAttribute(f[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(Kc),p=m[0],x=m[1];if(p&&xi(p)){var C=r.counters.getCounterValue(p.value),g=x&&xi(x)?Lw.parse(r.context,x.value):3;u.appendChild(a.createTextNode(QA(C,g,!1)))}}else if(h.name==="counters"){var w=h.values.filter(Kc),p=w[0],S=w[1],x=w[2];if(p&&xi(p)){var I=r.counters.getCounterValues(p.value),O=x&&xi(x)?Lw.parse(r.context,x.value):3,U=S&&S.type===0?S.value:"",$=I.map(function(T){return QA(T,O,!1)}).join(U);u.appendChild(a.createTextNode($))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(a.createTextNode(fB(l.quotes,r.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(fB(l.quotes,--r.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(h.value))}}),u.className=Hw+" "+Qw;var c=n===EA.BEFORE?" "+Hw:" "+Qw;return Ug(i)?i.className.baseValue+=c:i.className+=c,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),EA;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(EA||(EA={}));var ove=function(t,e){var i=t.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=e.width.toString(),i.height=e.height.toString(),i.scrolling="no",i.setAttribute(dP,"true"),t.body.appendChild(i),i},ave=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},lve=function(t){return Promise.all([].slice.call(t.images,0).map(ave))},uve=function(t){return new Promise(function(e,i){var s=t.contentWindow;if(!s)return i("No window assigned for iframe");var n=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var r=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(r),e(t))},50)}})},cve=["all","d","content"],Wy=function(t,e){for(var i=t.length-1;i>=0;i--){var s=t.item(i);cve.indexOf(s)===-1&&e.style.setProperty(s,t.getPropertyValue(s))}return e},dve=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},hve=function(t,e,i){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||i!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,i)},Ave=function(t){var e=t[0],i=t[1],s=t[2];e.scrollLeft=i,e.scrollTop=s},fve=":before",pve=":after",Hw="___html2canvas___pseudoelement_before",Qw="___html2canvas___pseudoelement_after",NB='{\n    content: "" !important;\n    display: none !important;\n}',gve=function(t){mve(t,"."+Hw+fve+NB+"\n         ."+Qw+pve+NB)},mve=function(t,e){var i=t.ownerDocument;if(i){var s=i.createElement("style");s.textContent=e,t.appendChild(s)}},hP=function(){function t(){}return t.getOrigin=function(e){var i=t._link;return i?(i.href=e,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),bve=function(){function t(e,i){this.context=e,this._options=i,this._cache={}}return t.prototype.addImage=function(e){var i=Promise.resolve();return this.has(e)||(Xy(e)||Cve(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),i},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ds(this,void 0,void 0,function(){var i,s,n,r,o=this;return Wn(this,function(a){switch(a.label){case 0:return i=hP.isSameOrigin(e),s=!Yy(e)&&this._options.useCORS===!0&&Hn.SUPPORT_CORS_IMAGES&&!i,n=!Yy(e)&&!i&&!Xy(e)&&typeof this._options.proxy=="string"&&Hn.SUPPORT_CORS_XHR&&!s,!i&&this._options.allowTaint===!1&&!Yy(e)&&!Xy(e)&&!n&&!s?[2]:(r=e,n?[4,this.proxy(r)]:[3,2]);case 1:r=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(Eve(r)||s)&&(c.crossOrigin="anonymous"),c.src=r,c.complete===!0&&setTimeout(function(){return l(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var i=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise(function(r,o){var a=Hn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")r(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return r(h.result)},!1),h.addEventListener("error",function(A){return o(A)},!1),h.readAsDataURL(l.response)}else o("Failed to proxy resource "+n+" with status code "+l.status)},l.onerror=o;var u=s.indexOf("?")>-1?"&":"?";if(l.open("GET",""+s+u+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),i._options.imageTimeout){var c=i._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+n)}}l.send()})},t}(),vve=/^data:image\/svg\+xml/i,yve=/^data:image\/.*;base64,/i,wve=/^data:image\/.*/i,Cve=function(t){return Hn.SUPPORT_SVG_DRAWING||!xve(t)},Yy=function(t){return wve.test(t)},Eve=function(t){return yve.test(t)},Xy=function(t){return t.substr(0,4)==="blob"},xve=function(t){return t.substr(-3).toLowerCase()==="svg"||vve.test(t)},ht=function(){function t(e,i){this.type=0,this.x=e,this.y=i}return t.prototype.add=function(e,i){return new t(this.x+e,this.y+i)},t}(),zu=function(t,e,i){return new ht(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},Zp=function(){function t(e,i,s,n){this.type=1,this.start=e,this.startControl=i,this.endControl=s,this.end=n}return t.prototype.subdivide=function(e,i){var s=zu(this.start,this.startControl,e),n=zu(this.startControl,this.endControl,e),r=zu(this.endControl,this.end,e),o=zu(s,n,e),a=zu(n,r,e),l=zu(o,a,e);return i?new t(this.start,s,o,l):new t(l,a,r,this.end)},t.prototype.add=function(e,i){return new t(this.start.add(e,i),this.startControl.add(e,i),this.endControl.add(e,i),this.end.add(e,i))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),pr=function(t){return t.type===1},Tve=function(){function t(e){var i=e.styles,s=e.bounds,n=jh(i.borderTopLeftRadius,s.width,s.height),r=n[0],o=n[1],a=jh(i.borderTopRightRadius,s.width,s.height),l=a[0],u=a[1],c=jh(i.borderBottomRightRadius,s.width,s.height),h=c[0],A=c[1],f=jh(i.borderBottomLeftRadius,s.width,s.height),m=f[0],p=f[1],x=[];x.push((r+l)/s.width),x.push((m+h)/s.width),x.push((o+p)/s.height),x.push((u+A)/s.height);var C=Math.max.apply(Math,x);C>1&&(r/=C,o/=C,l/=C,u/=C,h/=C,A/=C,m/=C,p/=C);var g=s.width-l,w=s.height-A,S=s.width-h,I=s.height-p,O=i.borderTopWidth,U=i.borderRightWidth,$=i.borderBottomWidth,k=i.borderLeftWidth,P=Ii(i.paddingTop,e.bounds.width),T=Ii(i.paddingRight,e.bounds.width),R=Ii(i.paddingBottom,e.bounds.width),E=Ii(i.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||o>0?Hi(s.left+k/3,s.top+O/3,r-k/3,o-O/3,mi.TOP_LEFT):new ht(s.left+k/3,s.top+O/3),this.topRightBorderDoubleOuterBox=r>0||o>0?Hi(s.left+g,s.top+O/3,l-U/3,u-O/3,mi.TOP_RIGHT):new ht(s.left+s.width-U/3,s.top+O/3),this.bottomRightBorderDoubleOuterBox=h>0||A>0?Hi(s.left+S,s.top+w,h-U/3,A-$/3,mi.BOTTOM_RIGHT):new ht(s.left+s.width-U/3,s.top+s.height-$/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?Hi(s.left+k/3,s.top+I,m-k/3,p-$/3,mi.BOTTOM_LEFT):new ht(s.left+k/3,s.top+s.height-$/3),this.topLeftBorderDoubleInnerBox=r>0||o>0?Hi(s.left+k*2/3,s.top+O*2/3,r-k*2/3,o-O*2/3,mi.TOP_LEFT):new ht(s.left+k*2/3,s.top+O*2/3),this.topRightBorderDoubleInnerBox=r>0||o>0?Hi(s.left+g,s.top+O*2/3,l-U*2/3,u-O*2/3,mi.TOP_RIGHT):new ht(s.left+s.width-U*2/3,s.top+O*2/3),this.bottomRightBorderDoubleInnerBox=h>0||A>0?Hi(s.left+S,s.top+w,h-U*2/3,A-$*2/3,mi.BOTTOM_RIGHT):new ht(s.left+s.width-U*2/3,s.top+s.height-$*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?Hi(s.left+k*2/3,s.top+I,m-k*2/3,p-$*2/3,mi.BOTTOM_LEFT):new ht(s.left+k*2/3,s.top+s.height-$*2/3),this.topLeftBorderStroke=r>0||o>0?Hi(s.left+k/2,s.top+O/2,r-k/2,o-O/2,mi.TOP_LEFT):new ht(s.left+k/2,s.top+O/2),this.topRightBorderStroke=r>0||o>0?Hi(s.left+g,s.top+O/2,l-U/2,u-O/2,mi.TOP_RIGHT):new ht(s.left+s.width-U/2,s.top+O/2),this.bottomRightBorderStroke=h>0||A>0?Hi(s.left+S,s.top+w,h-U/2,A-$/2,mi.BOTTOM_RIGHT):new ht(s.left+s.width-U/2,s.top+s.height-$/2),this.bottomLeftBorderStroke=m>0||p>0?Hi(s.left+k/2,s.top+I,m-k/2,p-$/2,mi.BOTTOM_LEFT):new ht(s.left+k/2,s.top+s.height-$/2),this.topLeftBorderBox=r>0||o>0?Hi(s.left,s.top,r,o,mi.TOP_LEFT):new ht(s.left,s.top),this.topRightBorderBox=l>0||u>0?Hi(s.left+g,s.top,l,u,mi.TOP_RIGHT):new ht(s.left+s.width,s.top),this.bottomRightBorderBox=h>0||A>0?Hi(s.left+S,s.top+w,h,A,mi.BOTTOM_RIGHT):new ht(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=m>0||p>0?Hi(s.left,s.top+I,m,p,mi.BOTTOM_LEFT):new ht(s.left,s.top+s.height),this.topLeftPaddingBox=r>0||o>0?Hi(s.left+k,s.top+O,Math.max(0,r-k),Math.max(0,o-O),mi.TOP_LEFT):new ht(s.left+k,s.top+O),this.topRightPaddingBox=l>0||u>0?Hi(s.left+Math.min(g,s.width-U),s.top+O,g>s.width+U?0:Math.max(0,l-U),Math.max(0,u-O),mi.TOP_RIGHT):new ht(s.left+s.width-U,s.top+O),this.bottomRightPaddingBox=h>0||A>0?Hi(s.left+Math.min(S,s.width-k),s.top+Math.min(w,s.height-$),Math.max(0,h-U),Math.max(0,A-$),mi.BOTTOM_RIGHT):new ht(s.left+s.width-U,s.top+s.height-$),this.bottomLeftPaddingBox=m>0||p>0?Hi(s.left+k,s.top+Math.min(I,s.height-$),Math.max(0,m-k),Math.max(0,p-$),mi.BOTTOM_LEFT):new ht(s.left+k,s.top+s.height-$),this.topLeftContentBox=r>0||o>0?Hi(s.left+k+E,s.top+O+P,Math.max(0,r-(k+E)),Math.max(0,o-(O+P)),mi.TOP_LEFT):new ht(s.left+k+E,s.top+O+P),this.topRightContentBox=l>0||u>0?Hi(s.left+Math.min(g,s.width+k+E),s.top+O+P,g>s.width+k+E?0:l-k+E,u-(O+P),mi.TOP_RIGHT):new ht(s.left+s.width-(U+T),s.top+O+P),this.bottomRightContentBox=h>0||A>0?Hi(s.left+Math.min(S,s.width-(k+E)),s.top+Math.min(w,s.height+O+P),Math.max(0,h-(U+T)),A-($+R),mi.BOTTOM_RIGHT):new ht(s.left+s.width-(U+T),s.top+s.height-($+R)),this.bottomLeftContentBox=m>0||p>0?Hi(s.left+k+E,s.top+I,Math.max(0,m-(k+E)),p-($+R),mi.BOTTOM_LEFT):new ht(s.left+k+E,s.top+s.height-($+R))}return t}(),mi;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(mi||(mi={}));var Hi=function(t,e,i,s,n){var r=4*((Math.sqrt(2)-1)/3),o=i*r,a=s*r,l=t+i,u=e+s;switch(n){case mi.TOP_LEFT:return new Zp(new ht(t,u),new ht(t,u-a),new ht(l-o,e),new ht(l,e));case mi.TOP_RIGHT:return new Zp(new ht(t,e),new ht(t+o,e),new ht(l,u-a),new ht(l,u));case mi.BOTTOM_RIGHT:return new Zp(new ht(l,e),new ht(l,e+a),new ht(t+o,u),new ht(t,u));case mi.BOTTOM_LEFT:default:return new Zp(new ht(l,u),new ht(l-o,u),new ht(t,e+a),new ht(t,e))}},l0=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},_ve=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},u0=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Sve=function(){function t(e,i,s){this.offsetX=e,this.offsetY=i,this.matrix=s,this.type=0,this.target=6}return t}(),eg=function(){function t(e,i){this.path=e,this.target=i,this.type=1}return t}(),Bve=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),kve=function(t){return t.type===0},AP=function(t){return t.type===1},Ive=function(t){return t.type===2},HB=function(t,e){return t.length===e.length?t.some(function(i,s){return i===e[s]}):!1},Dve=function(t,e,i,s,n){return t.map(function(r,o){switch(o){case 0:return r.add(e,i);case 1:return r.add(e+s,i);case 2:return r.add(e+s,i+n);case 3:return r.add(e,i+n)}return r})},fP=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),pP=function(){function t(e,i){if(this.container=e,this.parent=i,this.effects=[],this.curves=new Tve(this.container),this.container.styles.opacity<1&&this.effects.push(new Bve(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new Sve(s,n,r))}if(this.container.styles.overflowX!==0){var o=l0(this.curves),a=u0(this.curves);HB(o,a)?this.effects.push(new eg(o,6)):(this.effects.push(new eg(o,2)),this.effects.push(new eg(a,4)))}}return t.prototype.getEffects=function(e){for(var i=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,n=this.effects.slice(0);s;){var r=s.effects.filter(function(l){return!AP(l)});if(i||s.container.styles.position!==0||!s.parent){if(n.unshift.apply(n,r),i=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=l0(s.curves),a=u0(s.curves);HB(o,a)||n.unshift(new eg(a,6))}}else n.unshift.apply(n,r);s=s.parent}return n.filter(function(l){return Cn(l.target,e)})},t}(),Vw=function(t,e,i,s){t.container.elements.forEach(function(n){var r=Cn(n.flags,4),o=Cn(n.flags,2),a=new pP(n,t);Cn(n.styles.display,2048)&&s.push(a);var l=Cn(n.flags,8)?[]:s;if(r||o){var u=r||n.styles.isPositioned()?i:e,c=new fP(a);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var h=n.styles.zIndex.order;if(h<0){var A=0;u.negativeZIndex.some(function(m,p){return h>m.element.container.styles.zIndex.order?(A=p,!1):A>0}),u.negativeZIndex.splice(A,0,c)}else if(h>0){var f=0;u.positiveZIndex.some(function(m,p){return h>=m.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),u.positiveZIndex.splice(f,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else n.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);Vw(a,c,r?c:i,l)}else n.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Vw(a,e,i,l);Cn(n.flags,8)&&gP(n,l)})},gP=function(t,e){for(var i=t instanceof Ow?t.start:1,s=t instanceof Ow?t.reversed:!1,n=0;n<e.length;n++){var r=e[n];r.container instanceof Z5&&typeof r.container.value=="number"&&r.container.value!==0&&(i=r.container.value),r.listValue=QA(i,r.container.styles.listStyleType,!0),i+=s?-1:1}},Fve=function(t){var e=new pP(t,null),i=new fP(e),s=[];return Vw(e,i,i,s),gP(e.container,s),i},QB=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Pve=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return vr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Lve=function(t,e){switch(e){case 0:return vr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Rve=function(t,e){switch(e){case 0:return tg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return tg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return tg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return tg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},tg=function(t,e){var i=[];return pr(t)?i.push(t.subdivide(.5,!1)):i.push(t),pr(e)?i.push(e.subdivide(.5,!0)):i.push(e),i},vr=function(t,e,i,s){var n=[];return pr(t)?n.push(t.subdivide(.5,!1)):n.push(t),pr(i)?n.push(i.subdivide(.5,!0)):n.push(i),pr(s)?n.push(s.subdivide(.5,!0).reverse()):n.push(s),pr(e)?n.push(e.subdivide(.5,!1).reverse()):n.push(e),n},mP=function(t){var e=t.bounds,i=t.styles;return e.add(i.borderLeftWidth,i.borderTopWidth,-(i.borderRightWidth+i.borderLeftWidth),-(i.borderTopWidth+i.borderBottomWidth))},c0=function(t){var e=t.styles,i=t.bounds,s=Ii(e.paddingLeft,i.width),n=Ii(e.paddingRight,i.width),r=Ii(e.paddingTop,i.width),o=Ii(e.paddingBottom,i.width);return i.add(s+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+s+n),-(e.borderTopWidth+e.borderBottomWidth+r+o))},Mve=function(t,e){return t===0?e.bounds:t===2?c0(e):mP(e)},Ove=function(t,e){return t===0?e.bounds:t===2?c0(e):mP(e)},Jy=function(t,e,i){var s=Mve(ec(t.styles.backgroundOrigin,e),t),n=Ove(ec(t.styles.backgroundClip,e),t),r=Uve(ec(t.styles.backgroundSize,e),i,s),o=r[0],a=r[1],l=jh(ec(t.styles.backgroundPosition,e),s.width-o,s.height-a),u=Nve(ec(t.styles.backgroundRepeat,e),l,r,s,n),c=Math.round(s.left+l[0]),h=Math.round(s.top+l[1]);return[u,c,h,o,a]},Ku=function(t){return xi(t)&&t.value===_c.AUTO},ig=function(t){return typeof t=="number"},Uve=function(t,e,i){var s=e[0],n=e[1],r=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(bn(o)&&a&&bn(a))return[Ii(o,i.width),Ii(a,i.height)];var l=ig(r);if(xi(o)&&(o.value===_c.CONTAIN||o.value===_c.COVER)){if(ig(r)){var u=i.width/i.height;return u<r!=(o.value===_c.COVER)?[i.width,i.width/r]:[i.height*r,i.height]}return[i.width,i.height]}var c=ig(s),h=ig(n),A=c||h;if(Ku(o)&&(!a||Ku(a))){if(c&&h)return[s,n];if(!l&&!A)return[i.width,i.height];if(A&&l){var f=c?s:n*r,m=h?n:s/r;return[f,m]}var p=c?s:i.width,x=h?n:i.height;return[p,x]}if(l){var C=0,g=0;return bn(o)?C=Ii(o,i.width):bn(a)&&(g=Ii(a,i.height)),Ku(o)?C=g*r:(!a||Ku(a))&&(g=C/r),[C,g]}var w=null,S=null;if(bn(o)?w=Ii(o,i.width):a&&bn(a)&&(S=Ii(a,i.height)),w!==null&&(!a||Ku(a))&&(S=c&&h?w/s*n:i.height),S!==null&&Ku(o)&&(w=c&&h?S/n*s:i.width),w!==null&&S!==null)return[w,S];throw new Error("Unable to calculate background-size for element")},ec=function(t,e){var i=t[e];return typeof i>"u"?t[0]:i},Nve=function(t,e,i,s,n){var r=e[0],o=e[1],a=i[0],l=i[1];switch(t){case 2:return[new ht(Math.round(s.left),Math.round(s.top+o)),new ht(Math.round(s.left+s.width),Math.round(s.top+o)),new ht(Math.round(s.left+s.width),Math.round(l+s.top+o)),new ht(Math.round(s.left),Math.round(l+s.top+o))];case 3:return[new ht(Math.round(s.left+r),Math.round(s.top)),new ht(Math.round(s.left+r+a),Math.round(s.top)),new ht(Math.round(s.left+r+a),Math.round(s.height+s.top)),new ht(Math.round(s.left+r),Math.round(s.height+s.top))];case 1:return[new ht(Math.round(s.left+r),Math.round(s.top+o)),new ht(Math.round(s.left+r+a),Math.round(s.top+o)),new ht(Math.round(s.left+r+a),Math.round(s.top+o+l)),new ht(Math.round(s.left+r),Math.round(s.top+o+l))];default:return[new ht(Math.round(n.left),Math.round(n.top)),new ht(Math.round(n.left+n.width),Math.round(n.top)),new ht(Math.round(n.left+n.width),Math.round(n.height+n.top)),new ht(Math.round(n.left),Math.round(n.height+n.top))]}},Hve="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",VB="Hidden Text",Qve=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,i){var s=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=e,s.style.fontSize=i,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),n.src=Hve,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=i,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(VB)),s.appendChild(r),s.appendChild(n);var a=n.offsetTop-r.offsetTop+2;s.removeChild(r),s.appendChild(this._document.createTextNode(VB)),s.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,i){var s=e+" "+i;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(e,i)),this._data[s]},t}(),bP=function(){function t(e,i){this.context=e,this.options=i}return t}(),Vve=1e4,$ve=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n._activeEffects=[],n.canvas=s.canvas?s.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),s.canvas||(n.canvas.width=Math.floor(s.width*s.scale),n.canvas.height=Math.floor(s.height*s.scale),n.canvas.style.width=s.width+"px",n.canvas.style.height=s.height+"px"),n.fontMetrics=new Qve(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-s.x,-s.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),n}return e.prototype.applyEffects=function(i){for(var s=this;this._activeEffects.length;)this.popEffect();i.forEach(function(n){return s.applyEffect(n)})},e.prototype.applyEffect=function(i){this.ctx.save(),Ive(i)&&(this.ctx.globalAlpha=i.opacity),kve(i)&&(this.ctx.translate(i.offsetX,i.offsetY),this.ctx.transform(i.matrix[0],i.matrix[1],i.matrix[2],i.matrix[3],i.matrix[4],i.matrix[5]),this.ctx.translate(-i.offsetX,-i.offsetY)),AP(i)&&(this.path(i.path),this.ctx.clip()),this._activeEffects.push(i)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(i){return ds(this,void 0,void 0,function(){var s;return Wn(this,function(n){switch(n.label){case 0:return s=i.element.container.styles,s.isVisible()?[4,this.renderStackContent(i)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(i){return ds(this,void 0,void 0,function(){return Wn(this,function(s){switch(s.label){case 0:if(Cn(i.container.flags,16))debugger;return i.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(i)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(i)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(i,s,n){var r=this;if(s===0)this.ctx.fillText(i.text,i.bounds.left,i.bounds.top+n);else{var o=R2(i.text);o.reduce(function(a,l){return r.ctx.fillText(l,a,i.bounds.top+n),a+r.ctx.measureText(l).width},i.bounds.left)}},e.prototype.createFontStyle=function(i){var s=i.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=qve(i.fontFamily).join(", "),r=gf(i.fontSize)?""+i.fontSize.number+i.fontSize.unit:i.fontSize.number+"px";return[[i.fontStyle,s,i.fontWeight,r,n].join(" "),n,r]},e.prototype.renderTextNode=function(i,s){return ds(this,void 0,void 0,function(){var n,r,o,a,l,u,c,h,A=this;return Wn(this,function(f){return n=this.createFontStyle(s),r=n[0],o=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),u=l.baseline,c=l.middle,h=s.paintOrder,i.textBounds.forEach(function(m){h.forEach(function(p){switch(p){case 0:A.ctx.fillStyle=Bn(s.color),A.renderTextWithLetterSpacing(m,s.letterSpacing,u);var x=s.textShadow;x.length&&m.text.trim().length&&(x.slice(0).reverse().forEach(function(C){A.ctx.shadowColor=Bn(C.color),A.ctx.shadowOffsetX=C.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=C.offsetY.number*A.options.scale,A.ctx.shadowBlur=C.blur.number,A.renderTextWithLetterSpacing(m,s.letterSpacing,u)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),s.textDecorationLine.length&&(A.ctx.fillStyle=Bn(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(C){switch(C){case 1:A.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+u),m.bounds.width,1);break;case 2:A.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:A.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+c),m.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&m.text.trim().length&&(A.ctx.strokeStyle=Bn(s.webkitTextStrokeColor),A.ctx.lineWidth=s.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+u)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(i,s,n){if(n&&i.intrinsicWidth>0&&i.intrinsicHeight>0){var r=c0(i),o=u0(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,i.intrinsicWidth,i.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(i){return ds(this,void 0,void 0,function(){var s,n,r,o,a,l,g,g,u,c,h,A,S,f,m,I,p,x,C,g,w,S,I;return Wn(this,function(O){switch(O.label){case 0:this.applyEffects(i.getEffects(4)),s=i.container,n=i.curves,r=s.styles,o=0,a=s.textNodes,O.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,r)]):[3,4];case 2:O.sent(),O.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof Y5))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return g=O.sent(),this.renderReplacedElement(s,n,g),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof X5&&this.renderReplacedElement(s,n,s.canvas),!(s instanceof J5))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return g=O.sent(),this.renderReplacedElement(s,n,g),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof iP&&s.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,u.render(s.tree)]):[3,14];case 13:c=O.sent(),s.width&&s.height&&this.ctx.drawImage(c,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),O.label=14;case 14:if(s instanceof M2&&(h=Math.min(s.bounds.width,s.bounds.height),s.type===s0?s.checked&&(this.ctx.save(),this.path([new ht(s.bounds.left+h*.39363,s.bounds.top+h*.79),new ht(s.bounds.left+h*.16,s.bounds.top+h*.5549),new ht(s.bounds.left+h*.27347,s.bounds.top+h*.44071),new ht(s.bounds.left+h*.39694,s.bounds.top+h*.5649),new ht(s.bounds.left+h*.72983,s.bounds.top+h*.23),new ht(s.bounds.left+h*.84,s.bounds.top+h*.34085),new ht(s.bounds.left+h*.39363,s.bounds.top+h*.79)]),this.ctx.fillStyle=Bn(kB),this.ctx.fill(),this.ctx.restore()):s.type===r0&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+h/2,s.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Bn(kB),this.ctx.fill(),this.ctx.restore())),jve(s)&&s.value.length){switch(A=this.createFontStyle(r),S=A[0],f=A[1],m=this.fontMetrics.getMetrics(S,f).baseline,this.ctx.font=S,this.ctx.fillStyle=Bn(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Kve(s.styles.textAlign),I=c0(s),p=0,s.styles.textAlign){case 1:p+=I.width/2;break;case 2:p+=I.width;break}x=I.add(p,0,0,-I.height/2+1),this.ctx.save(),this.path([new ht(I.left,I.top),new ht(I.left+I.width,I.top),new ht(I.left+I.width,I.top+I.height),new ht(I.left,I.top+I.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new CA(s.value,x),r.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Cn(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(C=s.styles.listStyleImage,C.type!==0)return[3,18];g=void 0,w=C.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return g=O.sent(),this.ctx.drawImage(g,s.bounds.left-(g.width+10),s.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:i.listValue&&s.styles.listStyleType!==-1&&(S=this.createFontStyle(r)[0],this.ctx.font=S,this.ctx.fillStyle=Bn(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",I=new sa(s.bounds.left,s.bounds.top+Ii(s.styles.paddingTop,s.bounds.width),s.bounds.width,hB(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new CA(i.listValue,I),r.letterSpacing,hB(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(i){return ds(this,void 0,void 0,function(){var s,n,C,r,o,C,a,l,C,u,c,C,h,A,C,f,m,C,p,x,C;return Wn(this,function(g){switch(g.label){case 0:if(Cn(i.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(i.element)];case 1:g.sent(),s=0,n=i.negativeZIndex,g.label=2;case 2:return s<n.length?(C=n[s],[4,this.renderStack(C)]):[3,5];case 3:g.sent(),g.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(i.element)];case 6:g.sent(),r=0,o=i.nonInlineLevel,g.label=7;case 7:return r<o.length?(C=o[r],[4,this.renderNode(C)]):[3,10];case 8:g.sent(),g.label=9;case 9:return r++,[3,7];case 10:a=0,l=i.nonPositionedFloats,g.label=11;case 11:return a<l.length?(C=l[a],[4,this.renderStack(C)]):[3,14];case 12:g.sent(),g.label=13;case 13:return a++,[3,11];case 14:u=0,c=i.nonPositionedInlineLevel,g.label=15;case 15:return u<c.length?(C=c[u],[4,this.renderStack(C)]):[3,18];case 16:g.sent(),g.label=17;case 17:return u++,[3,15];case 18:h=0,A=i.inlineLevel,g.label=19;case 19:return h<A.length?(C=A[h],[4,this.renderNode(C)]):[3,22];case 20:g.sent(),g.label=21;case 21:return h++,[3,19];case 22:f=0,m=i.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return f<m.length?(C=m[f],[4,this.renderStack(C)]):[3,26];case 24:g.sent(),g.label=25;case 25:return f++,[3,23];case 26:p=0,x=i.positiveZIndex,g.label=27;case 27:return p<x.length?(C=x[p],[4,this.renderStack(C)]):[3,30];case 28:g.sent(),g.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(i){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(i.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(i){this.ctx.beginPath(),this.formatPath(i),this.ctx.closePath()},e.prototype.formatPath=function(i){var s=this;i.forEach(function(n,r){var o=pr(n)?n.start:n;r===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),pr(n)&&s.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},e.prototype.renderRepeat=function(i,s,n,r){this.path(i),this.ctx.fillStyle=s,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},e.prototype.resizeImage=function(i,s,n){var r;if(i.width===s&&i.height===n)return i;var o=(r=this.canvas.ownerDocument)!==null&&r!==void 0?r:document,a=o.createElement("canvas");a.width=Math.max(1,s),a.height=Math.max(1,n);var l=a.getContext("2d");return l.drawImage(i,0,0,i.width,i.height,0,0,s,n),a},e.prototype.renderBackgroundImage=function(i){return ds(this,void 0,void 0,function(){var s,n,r,o,a,l;return Wn(this,function(u){switch(u.label){case 0:s=i.styles.backgroundImage.length-1,n=function(c){var h,A,f,P,V,Q,E,_,$,m,P,V,Q,E,_,p,x,C,g,w,S,I,O,U,$,k,P,T,R,E,_,F,V,Q,G,Y,ee,W,ge,ce,we,Ce;return Wn(this,function(Oe){switch(Oe.label){case 0:if(c.type!==0)return[3,5];h=void 0,A=c.url,Oe.label=1;case 1:return Oe.trys.push([1,3,,4]),[4,r.context.cache.match(A)];case 2:return h=Oe.sent(),[3,4];case 3:return Oe.sent(),r.context.logger.error("Error loading background-image "+A),[3,4];case 4:return h&&(f=Jy(i,s,[h.width,h.height,h.width/h.height]),P=f[0],V=f[1],Q=f[2],E=f[3],_=f[4],$=r.ctx.createPattern(r.resizeImage(h,E,_),"repeat"),r.renderRepeat(P,$,V,Q)),[3,6];case 5:kme(c)?(m=Jy(i,s,[null,null,null]),P=m[0],V=m[1],Q=m[2],E=m[3],_=m[4],p=xme(c.angle,E,_),x=p[0],C=p[1],g=p[2],w=p[3],S=p[4],I=document.createElement("canvas"),I.width=E,I.height=_,O=I.getContext("2d"),U=O.createLinearGradient(C,w,g,S),cB(c.stops,x).forEach(function(de){return U.addColorStop(de.stop,Bn(de.color))}),O.fillStyle=U,O.fillRect(0,0,E,_),E>0&&_>0&&($=r.ctx.createPattern(I,"repeat"),r.renderRepeat(P,$,V,Q))):Ime(c)&&(k=Jy(i,s,[null,null,null]),P=k[0],T=k[1],R=k[2],E=k[3],_=k[4],F=c.position.length===0?[F2]:c.position,V=Ii(F[0],E),Q=Ii(F[F.length-1],_),G=Tme(c,V,Q,E,_),Y=G[0],ee=G[1],Y>0&&ee>0&&(W=r.ctx.createRadialGradient(T+V,R+Q,0,T+V,R+Q,Y),cB(c.stops,Y*2).forEach(function(de){return W.addColorStop(de.stop,Bn(de.color))}),r.path(P),r.ctx.fillStyle=W,Y!==ee?(ge=i.bounds.left+.5*i.bounds.width,ce=i.bounds.top+.5*i.bounds.height,we=ee/Y,Ce=1/we,r.ctx.save(),r.ctx.translate(ge,ce),r.ctx.transform(1,0,0,we,0,0),r.ctx.translate(-ge,-ce),r.ctx.fillRect(T,Ce*(R-ce)+ce,E,_*Ce),r.ctx.restore()):r.ctx.fill())),Oe.label=6;case 6:return s--,[2]}})},r=this,o=0,a=i.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<a.length?(l=a[o],[5,n(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(i,s,n){return ds(this,void 0,void 0,function(){return Wn(this,function(r){return this.path(QB(n,s)),this.ctx.fillStyle=Bn(i),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(i,s,n,r){return ds(this,void 0,void 0,function(){var o,a;return Wn(this,function(l){switch(l.label){case 0:return s<3?[4,this.renderSolidBorder(i,n,r)]:[3,2];case 1:return l.sent(),[2];case 2:return o=Pve(r,n),this.path(o),this.ctx.fillStyle=Bn(i),this.ctx.fill(),a=Lve(r,n),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(i){return ds(this,void 0,void 0,function(){var s,n,r,o,a,l,u,c,h=this;return Wn(this,function(A){switch(A.label){case 0:return this.applyEffects(i.getEffects(2)),s=i.container.styles,n=!Ya(s.backgroundColor)||s.backgroundImage.length,r=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=zve(ec(s.backgroundClip,0),i.curves),n||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ya(s.backgroundColor)||(this.ctx.fillStyle=Bn(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(i.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(f){h.ctx.save();var m=l0(i.curves),p=f.inset?0:Vve,x=Dve(m,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(h.path(m),h.ctx.clip(),h.mask(x)):(h.mask(m),h.ctx.clip(),h.path(x)),h.ctx.shadowOffsetX=f.offsetX.number+p,h.ctx.shadowOffsetY=f.offsetY.number,h.ctx.shadowColor=Bn(f.color),h.ctx.shadowBlur=f.blur.number,h.ctx.fillStyle=f.inset?Bn(f.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),A.label=2;case 2:a=0,l=0,u=r,A.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!Ya(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,i.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,i.curves,3)];case 6:return A.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,i.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,i.curves)];case 10:A.sent(),A.label=11;case 11:a++,A.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(i,s,n,r,o){return ds(this,void 0,void 0,function(){var a,l,u,c,h,A,f,m,p,x,C,g,w,S,I,O,I,O;return Wn(this,function(U){return this.ctx.save(),a=Rve(r,n),l=QB(r,n),o===2&&(this.path(l),this.ctx.clip()),pr(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),pr(l[1])?(h=l[1].end.x,A=l[1].end.y):(h=l[1].x,A=l[1].y),n===0||n===2?f=Math.abs(u-h):f=Math.abs(c-A),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),m=s<3?s*3:s*2,p=s<3?s*2:s,o===3&&(m=s,p=s),x=!0,f<=m*2?x=!1:f<=m*2+p?(C=f/(2*m+p),m*=C,p*=C):(g=Math.floor((f+p)/(m+p)),w=(f-g*m)/(g-1),S=(f-(g+1)*m)/g,p=S<=0||Math.abs(p-w)<Math.abs(p-S)?w:S),x&&(o===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=Bn(i),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(pr(l[0])&&(I=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new ht(I.end.x,I.end.y),new ht(O.start.x,O.start.y)]),this.ctx.stroke()),pr(l[1])&&(I=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new ht(I.end.x,I.end.y),new ht(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(i){return ds(this,void 0,void 0,function(){var s;return Wn(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=Fve(i),[4,this.renderStack(s)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(bP),jve=function(t){return t instanceof tP||t instanceof eP?!0:t instanceof M2&&t.type!==r0&&t.type!==s0},zve=function(t,e){switch(t){case 0:return l0(e);case 2:return _ve(e);case 1:default:return u0(e)}},Kve=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Gve=["-apple-system","system-ui"],qve=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Gve.indexOf(e)===-1}):t},Wve=function(t){Qr(e,t);function e(i,s){var n=t.call(this,i,s)||this;return n.canvas=s.canvas?s.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=s,n.canvas.width=Math.floor(s.width*s.scale),n.canvas.height=Math.floor(s.height*s.scale),n.canvas.style.width=s.width+"px",n.canvas.style.height=s.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-s.x,-s.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),n}return e.prototype.render=function(i){return ds(this,void 0,void 0,function(){var s,n;return Wn(this,function(r){switch(r.label){case 0:return s=Mw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,i),[4,Yve(s)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Bn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(bP),Yve=function(t){return new Promise(function(e,i){var s=new Image;s.onload=function(){e(s)},s.onerror=i,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Xve=function(){function t(e){var i=e.id,s=e.enabled;this.id=i,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Lp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Lp([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Lp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Lp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Jve=function(){function t(e,i){var s;this.windowBounds=i,this.instanceName="#"+t.instanceCount++,this.logger=new Xve({id:this.instanceName,enabled:e.logging}),this.cache=(s=e.cache)!==null&&s!==void 0?s:new bve(this,e)}return t.instanceCount=1,t}(),Zve=function(t,e){return e===void 0&&(e={}),eye(t,e)};typeof window<"u"&&hP.setContext(window);var eye=function(t,e){return ds(void 0,void 0,void 0,function(){var i,s,n,r,o,a,l,u,c,h,A,f,m,p,x,C,g,w,S,I,U,O,U,$,k,P,T,R,E,_,F,V,Q,G,Y,ee,W,ge,ce,we;return Wn(this,function(Ce){switch(Ce.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(i=t.ownerDocument,!i)throw new Error("Element is not attached to a Document");if(s=i.defaultView,!s)throw new Error("Document is not attached to a Window");return n={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},r=ww({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},n),o={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:s.innerWidth,windowHeight:(E=e.windowHeight)!==null&&E!==void 0?E:s.innerHeight,scrollX:(_=e.scrollX)!==null&&_!==void 0?_:s.pageXOffset,scrollY:(F=e.scrollY)!==null&&F!==void 0?F:s.pageYOffset},a=new sa(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new Jve(r,a),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,c={allowTaint:(Q=e.allowTaint)!==null&&Q!==void 0?Q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new UB(l,t,c),A=h.clonedReferenceElement,A?[4,h.toIFrame(i,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Ce.sent(),m=O2(A)||tve(A)?Dpe(A.ownerDocument):rb(l,A),p=m.width,x=m.height,C=m.left,g=m.top,w=tye(l,A,e.backgroundColor),S={canvas:e.canvas,backgroundColor:w,scale:(Y=(G=e.scale)!==null&&G!==void 0?G:s.devicePixelRatio)!==null&&Y!==void 0?Y:1,x:((ee=e.x)!==null&&ee!==void 0?ee:0)+C,y:((W=e.y)!==null&&W!==void 0?W:0)+g,width:(ge=e.width)!==null&&ge!==void 0?ge:Math.ceil(p),height:(ce=e.height)!==null&&ce!==void 0?ce:Math.ceil(x)},u?(l.logger.debug("Document cloned, using foreign object rendering"),U=new Wve(l,S),[4,U.render(A)]):[3,3];case 2:return I=Ce.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+C+","+g+" with size "+p+"x"+x+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=sP(l,A),w===O.styles.backgroundColor&&(O.styles.backgroundColor=Zo.TRANSPARENT),l.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),U=new $ve(l,S),[4,U.render(O)];case 4:I=Ce.sent(),Ce.label=5;case 5:return(!((we=e.removeContainer)!==null&&we!==void 0)||we)&&(UB.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,I]}})})},tye=function(t,e,i){var s=e.ownerDocument,n=s.documentElement?yA(t,getComputedStyle(s.documentElement).backgroundColor):Zo.TRANSPARENT,r=s.body?yA(t,getComputedStyle(s.body).backgroundColor):Zo.TRANSPARENT,o=typeof i=="string"?yA(t,i):i===null?Zo.TRANSPARENT:4294967295;return e===s.documentElement?Ya(n)?Ya(r)?o:r:n:o},Ks={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},$B=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],jB=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],zB=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],_s=typeof window<"u"&&typeof window.document<"u"?window.document:{},ur="fullscreenEnabled"in _s&&Object.keys(Ks)||$B[0]in _s&&$B||jB[0]in _s&&jB||zB[0]in _s&&zB||[],ng={requestFullscreen:function(t){return t[ur[Ks.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[ur[Ks.requestFullscreen]]},get exitFullscreen(){return _s[ur[Ks.exitFullscreen]].bind(_s)},get fullscreenPseudoClass(){return":"+ur[Ks.fullscreen]},addEventListener:function(t,e,i){return _s.addEventListener(ur[Ks[t]],e,i)},removeEventListener:function(t,e,i){return _s.removeEventListener(ur[Ks[t]],e,i)},get fullscreenEnabled(){return!!_s[ur[Ks.fullscreenEnabled]]},set fullscreenEnabled(t){},get fullscreenElement(){return _s[ur[Ks.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return _s[("on"+ur[Ks.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return _s[("on"+ur[Ks.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return _s[("on"+ur[Ks.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return _s[("on"+ur[Ks.fullscreenerror]).toLowerCase()]=t}},Ng={exports:{}},iye=Ng.exports,KB;function nye(){return KB||(KB=1,function(t,e){(function(i,s){s()})(iye,function(){function i(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function s(u,c,h){var A=new XMLHttpRequest;A.open("GET",u),A.responseType="blob",A.onload=function(){l(A.response,c,h)},A.onerror=function(){console.error("could not download file")},A.send()}function n(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function r(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof io=="object"&&io.global===io?io:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,h){var A=o.URL||o.webkitURL,f=document.createElement("a");c=c||u.name||"download",f.download=c,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?r(f):n(f.href)?s(u,c,h):r(f,f.target="_blank")):(f.href=A.createObjectURL(u),setTimeout(function(){A.revokeObjectURL(f.href)},4e4),setTimeout(function(){r(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(i(u,h),c);else if(n(u))s(u,c,h);else{var A=document.createElement("a");A.href=u,A.target="_blank",setTimeout(function(){r(A)})}}:function(u,c,h,A){if(A=A||open("","_blank"),A&&(A.document.title=A.document.body.innerText="downloading..."),typeof u=="string")return s(u,c,h);var f=u.type==="application/octet-stream",m=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||f&&m||a)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var w=x.result;w=p?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),A?A.location.href=w:location=w,A=null},x.readAsDataURL(u)}else{var C=o.URL||o.webkitURL,g=C.createObjectURL(u);A?A.location=g:location.href=g,A=null,setTimeout(function(){C.revokeObjectURL(g)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})}(Ng)),Ng.exports}var GB=nye();const sye={name:"App",components:{PCodeqr:A6,PTexte:u8,PTableau:l9,PImage:V9,PGalerie:Z9,PDessin:A7,PDocument:x7,PAudio:Z7,PSynthese:bN,PVideo:OY,PWebcam:YY,PLien:hX,PIframe:CX,PHtml:MX,PListe:WX,PNuage:BJ,POrdre:vZ,PImagesSequentielles:PZ,PTrous:WZ,PSurlignage:oee,PPendu:Iee,PCartes:pte,PTirageTexte:Pte,PTirageImage:vie,PTirageAudio:Qie,PTirageNombre:eie,PRoue:dne,PHistoire:Cne,PPlateau:Qne,PDes:Ase,PClassement:Dse,PFeu:Ose,PModalites:qse,PGroupes:ore,PChrono:Mre,PRebours:Goe,PHorlogeModulable:tae,PHorloge:Fae,PCalendrier:Kle,PRetroaction:wue,PSonometre:Iue,MGrille:Gue,MInfo:rce,MCorbeille:Fce,MParametres:eAe,Annotation:_pe,Chargement:Ipe},data(){return{chargement:!0,alerte:!1,largeur:0,hauteur:0,pages:[{fond:"./static/img/digitale.jpg",grille:{},annotations:{},annotation:!1}],page:1,chargementPage:!1,modules:["codeqr","texte","image","galerie","document","audio","video","lien","iframe","nuage","tirage-texte","tirage-image","histoire","plateau","des","feu","modalites","groupes","chrono","rebours","horloge","calendrier","retroaction","grille"],panneaux:[],panneauxPage:[],langue:"fr",pleinEcran:!1,listeVoix:[],modale:"",menu:!1,nav:!0,export:{},panneauxExportes:0,exportDonnees:!1,exportTermine:!1,importDonnees:!1,importTermine:!1,retroaction:!1,modalites:!1,annotation:!1,defilement:!1,depart:0,distance:0,audio:"",audioInitialise:!1,evenementClavier:{touche:"",id:""},outilDeplacer:!1,panneauAffiche:"",lectureSeule:!1,corbeille:[]}},computed:{fond(){return this.pages[this.page-1].fond},grille(){return this.pages[this.page-1].grille},annotations(){return this.pages[this.page-1].annotations}},watch:{page:function(t){this.chargementPage=!0,this.annotation=!1,this.export={type:"page",page:t},this.exportDonnees=!0,this.panneauxPage.length===0&&(this.exportTermine=!0)},nav:function(t){t?this.hauteur=document.body.clientHeight-this.convertirRem(7.5):this.hauteur=document.body.clientHeight},lectureSeule:function(t){const e=document.querySelectorAll(".jsPanel");t===!0?(e.forEach(function(i){i.querySelector(".jsPanel-btn-close")&&i.setControlStatus("close","hide"),i.querySelector(".jsPanel-btn-send")&&i.setControlStatus("send","hide")}),this.nav=!1):(e.forEach(function(i){i.querySelector(".jsPanel-btn-close")&&i.setControlStatus("close","show"),i.querySelector(".jsPanel-btn-send")&&i.setControlStatus("send","show")}),this.nav=!0)},panneauAffiche:function(t){document.querySelectorAll(".jsPanel").forEach(function(i){i.classList.remove("actif")}),t!==""&&document.querySelector("#"+t).classList.add("actif")},exportTermine:function(t){if(t===!0&&this.export.type==="page"){const e=this.export.page;this.panneauxPage.forEach(function(s){document.querySelector("#"+s.id)&&document.querySelector("#"+s.id).close()});const i=this.panneaux.filter(function(s){return s.page===e});this.panneauxPage=[],this.$nextTick((function(){this.pages[e-1].hasOwnProperty("annotation")?this.annotation=this.pages[e-1].annotation:this.annotation=!1,this.retroaction=!1,this.modalites=!1,setTimeout((function(){this.panneauxPage.push(...i);for(let s=0;s<this.panneauxPage.length;s++)this.panneauxPage[s].type==="retroaction"&&(this.retroaction=!0),this.panneauxPage[s].type==="modalites"&&(this.modalites=!0);this.$nextTick((function(){this.lectureSeule===!0&&document.querySelectorAll(".jsPanel").forEach(function(n){n.querySelector(".jsPanel-btn-close")&&n.setControlStatus("close","hide")})}).bind(this)),zl("main",{background:!0},(function(){this.chargementPage=!1,this.exportDonnees=!1,this.export={},this.exportTermine=!1,this.panneauxExportes=0,this.panneauxPage.length>0?(document.querySelector("#"+this.panneauxPage[0].id).front(),this.$nextTick((function(){document.querySelector("#"+this.panneauxPage[0].id).focus()}).bind(this))):this.nav?document.querySelector("nav div").focus():!this.nav&&!this.lectureSeule&&document.querySelector("span.nav").focus()}).bind(this))}).bind(this),150)}).bind(this))}else if(t===!0&&this.export.type==="fichier"){const e=this.export.fichier;let i={};i.pages=this.pages,i.page=this.page,i.modules=this.modules,i.panneaux=this.panneaux,i.langue=this.langue,i.nav=this.nav,i.lectureSeule=this.lectureSeule,i.ecran={largeur:this.largeur,hauteur:this.hauteur};const s=new Blob([JSON.stringify(i)],{type:"text/json;charset=utf-8"});GB.saveAs(s,e+".dgs"),this.chargementPage=!1,this.exportDonnees=!1,this.export={},this.exportTermine=!1,this.panneauxExportes=0,this.fermerModale()}else if(t===!0&&this.export.type==="panneau"){const e=this.export.id,i=this.export.page,s=document.querySelector("#modale-panneau #deplacer").checked;this.$nextTick((function(){const n=JSON.parse(JSON.stringify(this.panneaux));n.forEach(function(r){if(r.id===e&&s===!0)r.page=parseInt(i);else if(r.id===e&&s===!1){const o=JSON.parse(JSON.stringify(r));o.page=parseInt(i),o.id="panneau_"+new Date().getTime(),n.push(o)}}),document.querySelector("#"+e)&&s===!0&&document.querySelector("#"+e).close(),this.exportDonnees=!1,this.export={},this.exportTermine=!1,this.panneauxExportes=0,document.querySelector("#conteneur-modale-panneau").remove(),setTimeout((function(){this.panneaux=n}).bind(this),150)}).bind(this))}else if(t===!0&&this.export.type==="corbeille"){const e=this.export.id,i=this.export.module;let s=JSON.parse(JSON.stringify(this.panneaux)),n=JSON.parse(JSON.stringify(this.corbeille)),r;s.forEach(function(o,a){o.id===e&&(n.push(o),s.splice(a,1),r=a)}),this.panneaux=s,this.corbeille=n,document.querySelector("#"+e)&&document.querySelector("#"+e).close(),s.length===1&&document.querySelector("#"+s[0].id)?document.querySelector("#"+s[0].id).focus():s.length>1&&s[r]&&document.querySelector("#"+s[r].id)?document.querySelector("#"+s[r].id).focus():s.length>1&&s[r-1]&&document.querySelector("#"+s[r-1].id)?document.querySelector("#"+s[r-1].id).focus():this.nav?document.querySelector("nav div").focus():!this.nav&&!this.lectureSeule&&document.querySelector("span.nav").focus(),i==="retroaction"?this.retroaction=!1:i==="modalites"&&(this.modalites=!1),this.exportDonnees=!1,this.export={},this.exportTermine=!1,this.panneauxExportes=0,this.chargementPage=!1}}},mounted(){this.verifierDimensions(),this.activerDefilementHorizontal(),document.querySelector("#chargement").addEventListener("animationend",(function(){this.chargement=!1}).bind(this),!1);const t=new URLSearchParams(document.location.search),e=["fr","en","it","es","nl","de","hr"];let i=t.get("lang");e.includes(i)===!0&&(this.langue=i,localStorage.setItem("digiscreen_lang",i));const s=navigator.language.substring(0,2);e.includes(i)===!1&&e.includes(s)===!0&&(this.langue=s),localStorage.getItem("digiscreen_lang")&&(this.langue=localStorage.getItem("digiscreen_lang")),this.$root.$i18n.locale=this.langue,document.getElementsByTagName("html")[0].setAttribute("lang",this.langue),localStorage.getItem("digiscreen_modules")&&(this.modules=JSON.parse(localStorage.getItem("digiscreen_modules")));let n=0;const r=t.get("page");r&&parseInt(r)!==""&&(n=parseInt(r));const o=t.get("dgs");if(o&&o!==""){this.importDonnees=!0;const l=new XMLHttpRequest;l.onload=(function(){if(l.readyState===l.DONE&&l.status===200){let u=l.responseText;u!==""&&this.verifierJSON(u)===!0?(u=JSON.parse(u),this.modules=u.modules,this.panneaux=u.panneaux,(!i||e.includes(i)===!1)&&(this.langue=u.langue,this.$root.$i18n.locale=u.langue),u.hasOwnProperty("nav")&&(this.nav=u.nav),this.importTermine=!0,Object.keys(this.pages[0].annotations).length>0?this.annotation=!0:this.annotation=!1,this.$nextTick((function(){if(this.pages=u.pages,n>0&&n!==1?this.page=n:this.page=u.page,this.page===1){const c=this.panneaux.filter(function(h){return h.page===1});this.panneauxPage=c;for(let h=0;h<this.panneauxPage.length;h++)this.panneauxPage[h].type==="retroaction"&&(this.retroaction=!0),this.panneauxPage[h].type==="modalites"&&(this.modalites=!0)}}).bind(this))):this.importTermine=!0,this.$nextTick((function(){document.querySelector("#import").addEventListener("animationend",(function(){this.importDonnees=!1,this.importTermine=!1}).bind(this))}).bind(this))}}).bind(this),l.open("POST",window.location.href.split("?")[0]+"inc/recuperer_donnees_dgs.php",!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send("dgs="+o)}this.audio=new Audio,this.audio.autoplay=!0,this.audio.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",document.body.addEventListener("touchstart",(function(){this.audioInitialise===!1&&(this.audio.play(),this.audioInitialise=!0)}).bind(this)),document.body.addEventListener("click",(function(){this.audioInitialise===!1&&(this.audio.play(),this.audioInitialise=!0)}).bind(this)),this.recupererVoix();const a=window.speechSynthesis;a&&a.onvoiceschanged!==void 0&&(a.onvoiceschanged=this.recupererVoix),document.addEventListener("keydown",(function(l){if(l.ctrlKey&&l.key==="k")l.preventDefault(),this.capturer();else if(l.ctrlKey&&l.key==="m"&&!this.menu)l.preventDefault(),this.ouvrirMenu();else if(l.ctrlKey&&l.key==="m"&&this.menu)l.preventDefault(),this.fermerMenu();else if(l.ctrlKey&&l.key==="i")l.preventDefault(),this.modale==="info"?this.fermerModale():this.ouvrirModale("info");else if(this.modale===""&&document.querySelector("#conteneur-modale-panneau")&&l.key==="Escape")document.querySelector("#conteneur-modale-panneau").remove();else if(this.modale!==""&&l.key==="Escape")this.fermerModale();else if(l.ctrlKey&&l.key==="e"&&!this.pleinEcran)this.entrerPleinEcran();else if(l.ctrlKey&&l.key==="e"&&this.pleinEcran)this.sortirPleinEcran();else if(l.ctrlKey&&(l.key==="*"||l.key==="l"))l.preventDefault(),this.nav=!this.nav;else if(l.ctrlKey&&l.key==="ArrowLeft")l.preventDefault(),this.page===1?this.page=this.pages.length:this.page--;else if(l.ctrlKey&&l.key==="ArrowRight")l.preventDefault(),this.page===this.pages.length?this.page=1:this.page++;else if(l.ctrlKey&&l.key==="ArrowUp"){if(l.preventDefault(),this.panneauAffiche!==""){const u=this.panneaux.filter((function(c){return c.page===this.page}).bind(this));for(let c=0;c<u.length;c++)if(u[c].id===this.panneauAffiche){if(u[c+1]&&document.querySelector("#"+u[c+1].id)){document.querySelector("#"+u[c+1].id).front(),this.$nextTick((function(){document.querySelector("#"+u[c+1].id).focus()}).bind(this));break}else if(document.querySelector("#"+u[0].id)){document.querySelector("#"+u[0].id).front(),this.$nextTick((function(){document.querySelector("#"+u[0].id).focus()}).bind(this));break}}}}else if(l.ctrlKey&&l.key==="ArrowDown"){if(l.preventDefault(),this.panneauAffiche!==""){const u=this.panneaux.filter((function(c){return c.page===this.page}).bind(this));for(let c=0;c<u.length;c++)if(u[c].id===this.panneauAffiche){if(this.panneauxPage[c-1]&&document.querySelector("#"+u[c-1].id)){document.querySelector("#"+u[c-1].id).front(),this.$nextTick((function(){document.querySelector("#"+u[c-1].id).focus()}).bind(this));break}else if(document.querySelector("#"+u[u.length-1].id)){document.querySelector("#"+u[u.length-1].id).front(),this.$nextTick((function(){document.querySelector("#"+u[u.length-1].id).focus()}).bind(this));break}}}}else(!this.annotation||this.annotation&&this.outilDeplacer)&&l.target.tagName.toLowerCase()!=="input"&&l.target.tagName.toLowerCase()!=="textarea"&&l.target.tagName.toLowerCase()!=="select"&&!l.target.isContentEditable&&!l.target.closest(".pell-content")&&(l.key==="ArrowLeft"||l.key==="ArrowRight"||l.key==="ArrowUp"||l.key==="ArrowDown"||l.key==="m"||l.key==="f"||l.key==="e"||l.key==="s"||l.key==="c"||l.key==="+"||l.key==="-"||l.key==="Delete"&&!this.lectureSeule||l.key==="Escape"&&!this.lectureSeule)&&(l.preventDefault(),this.panneauAffiche!==""&&(this.evenementClavier={event:l,touche:l.key,id:this.panneauAffiche}))}).bind(this),!1),document.querySelector("main").addEventListener("dragover",function(l){l.preventDefault(),l.stopPropagation()},!1),document.querySelector("main").addEventListener("dragcenter",function(l){l.preventDefault(),l.stopPropagation()},!1),document.querySelector("main").addEventListener("drop",(function(l){if(l.preventDefault(),l.stopPropagation(),l.dataTransfer.files&&l.dataTransfer.files.length>0){for(let u=0;u<l.dataTransfer.files.length;u++)if(l.dataTransfer.files[u].type==="application/pdf"||l.dataTransfer.files[u].type.substring(0,5)==="image"||l.dataTransfer.files[u].type.substring(0,5)==="audio"||l.dataTransfer.files[u].type.substring(0,5)==="video"){const c="panneau_"+new Date().getTime()+Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5),h=document.body.clientWidth/2,A=(document.body.clientHeight-this.convertirRem(7.5))/2;let f=l.dataTransfer.files[u].type.substring(0,5);l.dataTransfer.files[u].type==="application/pdf"&&(f="pdf");let m,p;f==="image"?(p=new FileReader,p.readAsDataURL(l.dataTransfer.files[u]),p.onloadend=(function(x){const C=new Image;C.src=x.target.result,C.onload=(function(){if(C.width>1200){const w=document.createElement("canvas"),S=C.width/C.height,I=1200,O=1200/S;w.width=I,w.height=O,w.getContext("2d").drawImage(C,0,0,I,O),m=w.toDataURL("image/jpeg",.85)}else m=x.target.result;const g={page:this.page,id:c,type:f,mode:"lecture",statut:"",dimensions:{},position:{},contenu:{image:m,requete:"",page:1,zoom:1},w:40,h:30,x:h-this.convertirRem(20),y:A-this.convertirRem(15)};this.panneaux.push(g),this.panneauxPage.push(g)}).bind(this)}).bind(this)):f==="audio"?(p=new FileReader,p.readAsDataURL(l.dataTransfer.files[u]),p.onloadend=(function(x){const C=x.target.result;m=window.URL.createObjectURL(l.dataTransfer.files[u]);const g={page:this.page,id:c,type:f,mode:"lecture",statut:"",dimensions:{},position:{},contenu:{audio:m,dataURL:C,vitesse:1},w:40,h:12,x:h-this.convertirRem(20),y:A-this.convertirRem(6)};this.panneaux.push(g),this.panneauxPage.push(g)}).bind(this)):f==="video"?(p=new FileReader,p.readAsDataURL(l.dataTransfer.files[u]),p.onloadend=(function(x){const C=x.target.result;m=window.URL.createObjectURL(l.dataTransfer.files[u]);const g={page:this.page,id:c,type:f,mode:"lecture",statut:"",dimensions:{},position:{},contenu:{video:m,videoId:"",type:l.dataTransfer.files[u].type,dataURL:C,debutMinutes:"",debutSecondes:"",finMinutes:"",finSecondes:""},w:48,h:31.5,x:h-this.convertirRem(24),y:A-this.convertirRem(15.75)};this.panneaux.push(g),this.panneauxPage.push(g)}).bind(this)):f==="pdf"&&(p=new FileReader,p.readAsDataURL(l.dataTransfer.files[u]),p.onloadend=(function(x){const C=x.target.result;m=window.URL.createObjectURL(l.dataTransfer.files[u]);const g={page:this.page,id:c,type:"document",mode:"lecture",statut:"",dimensions:{},position:{},contenu:{document:m,dataURL:C,type:f},w:50,h:35,x:h-this.convertirRem(25),y:A-this.convertirRem(17.5)};this.panneaux.push(g),this.panneauxPage.push(g)}).bind(this))}}}).bind(this),!1),ng.addEventListener("fullscreenchange",(function(){ng.fullscreenElement===null?this.pleinEcran=!1:this.pleinEcran=!0}).bind(this)),window.addEventListener("resize",this.verifierDimensions,!1),window.addEventListener("beforeunload",function(l){l.preventDefault(),l.returnValue=""},!1),window.addEventListener("paste",(function(l){if((!this.annotation||this.annotation&&this.outilDeplacer)&&l.target.tagName.toLowerCase()!=="input"&&l.target.tagName.toLowerCase()!=="textarea"&&!l.target.closest(".pell-content")){const u=l.clipboardData.files,c=document.body.clientWidth/2,h=(document.body.clientHeight-this.convertirRem(7.5))/2;for(let A=0;A<u.length;A++)if(u[A].type.includes("image")){const f="panneau_"+new Date().getTime()+Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5);let m;const p=new FileReader;p.readAsDataURL(u[A]),p.onloadend=(function(x){const C=new Image;C.src=x.target.result,C.onload=(function(){if(C.width>1200){const w=document.createElement("canvas"),S=C.width/C.height,I=1200,O=1200/S;w.width=I,w.height=O,w.getContext("2d").drawImage(C,0,0,I,O),m=w.toDataURL("image/jpeg",.85)}else m=x.target.result;const g={page:this.page,id:f,type:"image",mode:"lecture",statut:"",dimensions:{},position:{},contenu:{image:m,requete:"",page:1,zoom:1},w:40,h:30,x:c-this.convertirRem(20),y:h-this.convertirRem(15)};this.panneaux.push(g),this.panneauxPage.push(g)}).bind(this)}).bind(this)}}}).bind(this),!1)},methods:{definirFond(){return this.fond.substring(0,1)==="#"?{"background-color":this.fond}:this.fond.includes("/img/partition.png")?{"background-image":"url("+this.fond+")","background-size":"contain","background-repeat":"repeat"}:this.fond.split(".").pop()==="png"?{"background-image":"url("+this.fond+")","background-size":"auto","background-repeat":"repeat"}:{"background-image":"url("+this.fond+")"}},creerPanneau(t){if(t==="retroaction"&&this.retroaction===!0){for(let r=0;r<this.panneauxPage.length;r++)if(this.panneauxPage[r].type==="retroaction"){this.fermerPanneau(this.panneauxPage[r].id,t);break}return!1}else if(t==="modalites"&&this.modalites===!0){for(let r=0;r<this.panneauxPage.length;r++)if(this.panneauxPage[r].type==="modalites"){this.fermerPanneau(this.panneauxPage[r].id,t);break}return!1}const e="panneau_"+new Date().getTime()+Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5),i=document.body.clientWidth/2,s=(document.body.clientHeight-this.convertirRem(7.5))/2;let n;switch(t){case"codeqr":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:36,h:46,x:i-this.convertirRem(18),y:s-this.convertirRem(23)};break;case"texte":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:53,h:46,x:i-this.convertirRem(26.5),y:s-this.convertirRem(23)};break;case"tableau":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:50,h:45,x:i-this.convertirRem(25),y:s-this.convertirRem(22.5)};break;case"image":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:27,x:i-this.convertirRem(20),y:s-this.convertirRem(13.5)};break;case"galerie":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:34,x:i-this.convertirRem(30),y:s-this.convertirRem(17)};break;case"dessin":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:48,h:35,x:i-this.convertirRem(24),y:s-this.convertirRem(17.5)};break;case"document":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:16,x:i-this.convertirRem(20),y:s-this.convertirRem(8)};break;case"audio":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:32,x:i-this.convertirRem(20),y:s-this.convertirRem(16)};break;case"synthese":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:41,x:i-this.convertirRem(20),y:s-this.convertirRem(20.5)};break;case"video":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:27,x:i-this.convertirRem(20),y:s-this.convertirRem(13.5)};break;case"webcam":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:22,x:i-this.convertirRem(20),y:s-this.convertirRem(11)};break;case"lien":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:28,x:i-this.convertirRem(20),y:s-this.convertirRem(14)};break;case"iframe":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:22,x:i-this.convertirRem(20),y:s-this.convertirRem(11)};break;case"html":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:44,h:41,x:i-this.convertirRem(22),y:s-this.convertirRem(20.5)};break;case"liste":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:50,h:32,x:i-this.convertirRem(25),y:s-this.convertirRem(16)};break;case"nuage":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:80,h:59.5,x:i-this.convertirRem(40),y:s-this.convertirRem(29.75)};break;case"ordre":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:50.4,x:i-this.convertirRem(23),y:s-this.convertirRem(25.2)};break;case"images-sequentielles":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:34,x:i-this.convertirRem(30),y:s-this.convertirRem(17)};break;case"trous":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:48,x:i-this.convertirRem(23),y:s-this.convertirRem(24)};break;case"surlignage":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:36,x:i-this.convertirRem(23),y:s-this.convertirRem(18)};break;case"pendu":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:64,x:i-this.convertirRem(20),y:s-this.convertirRem(32)};break;case"cartes":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:50,x:i-this.convertirRem(30),y:s-this.convertirRem(25)};break;case"tirage":case"tirage-texte":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:40,x:i-this.convertirRem(23),y:s-this.convertirRem(20)};break;case"tirage-nombre":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:28,x:i-this.convertirRem(23),y:s-this.convertirRem(14)};break;case"tirage-image":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:40,x:i-this.convertirRem(30),y:s-this.convertirRem(20)};break;case"tirage-audio":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:40,x:i-this.convertirRem(30),y:s-this.convertirRem(20)};break;case"roue":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:60,h:46,x:i-this.convertirRem(30),y:s-this.convertirRem(23)};break;case"histoire":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:22,x:i-this.convertirRem(20),y:s-this.convertirRem(11)};break;case"plateau":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:50,x:i-this.convertirRem(20),y:s-this.convertirRem(25)};break;case"des":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:25.4,x:i-this.convertirRem(20),y:s-this.convertirRem(12.7)};break;case"classement":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:45,x:i-this.convertirRem(22.5),y:s-this.convertirRem(21)};break;case"feu":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:28,h:57,x:i-this.convertirRem(14),y:s-this.convertirRem(28.5)};break;case"modalites":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:38,h:56,x:i-this.convertirRem(19),y:s-this.convertirRem(28)},this.modalites=!0;break;case"groupes":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:46,h:42,x:i-this.convertirRem(23),y:s-this.convertirRem(21)};break;case"chrono":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:48,h:28.4,x:i-this.convertirRem(24),y:s-this.convertirRem(14.2)};break;case"rebours":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:42,h:32,x:i-this.convertirRem(21),y:s-this.convertirRem(16)};break;case"horloge-modulable":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:43.6,x:i-this.convertirRem(20),y:s-this.convertirRem(21.8)};break;case"horloge":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:43.6,x:i-this.convertirRem(20),y:s-this.convertirRem(21.8)};break;case"calendrier":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:34,x:i-this.convertirRem(20),y:s-this.convertirRem(17)};break;case"retroaction":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:36,h:31,x:i-this.convertirRem(18),y:s-this.convertirRem(15.5)},this.retroaction=!0;break;case"sonometre":n={page:this.page,id:e,type:t,mode:"",statut:"",dimensions:{},position:{},contenu:"",w:40,h:32,x:i-this.convertirRem(20),y:s-this.convertirRem(16)};break}this.panneaux.push(n),this.panneauxPage.push(n),this.$nextTick((function(){this.afficherPanneau(e)}).bind(this))},modifierPanneau(t){this.panneaux.forEach((function(e,i){e.id===t.id&&(this.panneaux[i].titre=t.titre,this.panneaux[i].mode=t.mode,this.panneaux[i].statut=t.statut,this.panneaux[i].dimensions=t.dimensions,this.panneaux[i].position=t.position,this.panneaux[i].contenu=t.contenu,this.panneaux[i].w=t.w,this.panneaux[i].h=t.h,this.panneaux[i].x=t.x,this.panneaux[i].y=t.y)}).bind(this)),this.panneauxExportes++,this.panneauxExportes===this.panneauxPage.length&&(this.exportTermine=!0)},afficherPanneau(t){this.panneauAffiche=t},fermerPanneau(t,e){this.export={type:"corbeille",id:t,module:e},this.exportDonnees=!0,this.chargementPage=!0,this.panneauxPage.length===0&&(this.exportTermine=!0)},ouvrirModale(t){this.modale=t},fermerModale(){this.modale=""},ouvrirMenu(){this.menu=!0},fermerMenu(){this.menu=!1},reinitialiserGrille(){this.pages[this.page-1].grille={}},capturer(){Zve(document.body,{useCORS:!0}).then((function(t){this.audio.src="./static/audio/photo.mp3",this.audio.play(),GB.saveAs(t.toDataURL("image/jpeg",.95).replace("image/jpeg","image/octet-stream"),"capture_"+new Date().getTime()+".jpg")}).bind(this))},annoter(){this.annotation=!0,this.pages[this.page-1].annotation=!0,this.outilDeplacer=!1},arreterAnnoter(){this.annotation=!1,this.pages[this.page-1].annotation=!1,this.outilDeplacer=!1},definirOutilDeplacer(t){this.outilDeplacer=t},entrerPleinEcran(){ng.requestFullscreen(document.body)},sortirPleinEcran(){ng.exitFullscreen()},afficherPage(t){this.page=t},importer(t){const e=t.target.files[0];if(e===null||e.length===0)return document.querySelector("#televerser").value="",!1;{this.importDonnees=!0;const i=this.page,s=new FileReader;s.onload=(function(n){if(this.verifierJSON(n.target.result)===!1)return this.importTermine=!0,!1;const r=JSON.parse(n.target.result);if(this.pages=r.pages,this.page=r.page,this.modules=r.modules,this.panneaux=r.panneaux,this.corbeille=[],this.langue=r.langue,this.$root.$i18n.locale=r.langue,r.hasOwnProperty("nav")&&(this.nav=r.nav),r.hasOwnProperty("lectureSeule")&&(this.lectureSeule=r.lectureSeule),this.importTermine=!0,i===this.page){this.pages[this.page-1].annotation===!1?this.annotation=!1:this.annotation=!0,this.retroaction=!1,this.modalites=!1,this.panneauxPage.forEach(function(a){document.querySelector("#"+a.id)&&document.querySelector("#"+a.id).close()}),this.panneauxPage=[];const o=r.panneaux.filter(function(a){return a.page===r.page});zl("main",{background:!0},(function(){setTimeout((function(){this.panneauxPage.push(...o);for(let a=0;a<this.panneauxPage.length;a++)this.panneauxPage[a].type==="retroaction"&&(this.retroaction=!0),this.panneauxPage[a].type==="modalites"&&(this.modalites=!0);if(r.hasOwnProperty("ecran")&&r.ecran.largeur>document.body.clientWidth){const a=Math.ceil(document.body.clientWidth/r.ecran.largeur*100);alert(this.$t("alerteEcran",{zoom:a}))}this.$nextTick((function(){this.lectureSeule===!0&&document.querySelectorAll(".jsPanel").forEach(function(l){l.querySelector(".jsPanel-btn-close")&&l.setControlStatus("close","hide")})}).bind(this))}).bind(this),150)}).bind(this))}}).bind(this),s.readAsText(e),document.querySelector("#televerser").value="",this.$nextTick((function(){document.querySelector("#import").addEventListener("animationend",(function(){this.importDonnees=!1,this.importTermine=!1}).bind(this))}).bind(this))}},exporter(){const t=new Date,e=t.getFullYear();let i=t.getMonth()+1;i<10&&(i="0"+i);let s=t.getDate();s<10&&(s="0"+s);let n=t.getHours();n<10&&(n="0"+n);let r=t.getMinutes();r<10&&(r="0"+r);let o=t.getSeconds();o<10&&(o="0"+o);const a="digiscreen_"+s+"-"+i+"-"+e+"_"+n+"-"+r+"-"+o;this.export={type:"fichier",fichier:a},this.exportDonnees=!0,this.chargementPage=!0,this.panneauxPage.length===0&&(this.exportTermine=!0)},modifierModule(t){const e=t.target.value;if(t.target.checked===!0)this.modules.push(e);else{const i=this.modules.indexOf(e);this.modules.splice(i,1)}localStorage.setItem("digiscreen_modules",JSON.stringify(this.modules))},recupererVoix(){const t=window.speechSynthesis;t&&(this.listeVoix=t.getVoices().sort(function(e,i){const s=e.name.toUpperCase(),n=i.name.toUpperCase();return s<n?-1:s==n?0:1}))},verifierJSON(t){try{return JSON.parse(t),!0}catch{return!1}},verifierDimensions(){const t=window.innerWidth;this.$nextTick((function(){this.largeur=document.body.clientWidth,this.nav?this.hauteur=document.body.clientHeight-this.convertirRem(7.5):this.hauteur=document.body.clientHeight}).bind(this)),t<1024?this.alerte=!0:this.alerte&&(this.alerte=!1,this.chargement=!0,this.$nextTick((function(){document.querySelector("#chargement").addEventListener("animationend",(function(){this.chargement=!1}).bind(this))}).bind(this)))},convertirRem(t){const e=window.getComputedStyle(document.querySelector("html"),null).getPropertyValue("font-size");return typeof t<"u"&&t>0?parseFloat(e)*t:parseFloat(e)},activerDefilementHorizontal(){const t=document.querySelector("nav");t.addEventListener("mousedown",this.defilementHorizontalDebut),t.addEventListener("mouseleave",this.defilementHorizontalFin),t.addEventListener("mouseup",this.defilementHorizontalFin),t.addEventListener("mousemove",this.defilementHorizontalEnCours)},defilementHorizontalDebut(t){const e=document.querySelector("nav");this.defilement=!0,this.depart=t.pageX-e.offsetLeft,this.distance=e.scrollLeft},defilementHorizontalFin(){this.defilement=!1},defilementHorizontalEnCours(t){if(!this.defilement)return!1;t.preventDefault();const e=document.querySelector("nav"),s=(t.pageX-e.offsetLeft-this.depart)*1.5;e.scrollLeft=this.distance-s}}},rye={key:0,id:"alerte"},oye={class:"conteneur"},aye={class:"message"},lye={key:1,id:"chargement"},uye=["tabindex","title"],cye={class:"titre"},dye=["tabindex","title"],hye={class:"titre"},Aye=["tabindex","title"],fye={class:"titre"},pye=["tabindex","title"],gye={class:"titre"},mye=["tabindex","title"],bye={class:"titre"},vye=["tabindex","title"],yye={class:"titre"},wye=["tabindex","title"],Cye={class:"titre"},Eye=["tabindex","title"],xye={class:"titre"},Tye=["tabindex","title"],_ye={class:"titre"},Sye=["tabindex","title"],Bye={class:"titre"},kye=["tabindex","title"],Iye={class:"titre"},Dye=["tabindex","title"],Fye={class:"titre"},Pye=["tabindex","title"],Lye={class:"titre"},Rye=["tabindex","title"],Mye={class:"titre"},Oye=["tabindex","title"],Uye={class:"titre"},Nye=["tabindex","title"],Hye={class:"titre"},Qye=["tabindex","title"],Vye={class:"titre"},$ye=["tabindex","title"],jye={class:"titre"},zye=["tabindex","title"],Kye={class:"titre"},Gye=["tabindex","title"],qye={class:"titre"},Wye=["tabindex","title"],Yye={class:"titre"},Xye=["tabindex","title"],Jye={class:"titre"},Zye=["tabindex","title"],e1e={class:"titre"},t1e=["tabindex","title"],i1e={class:"titre"},n1e=["tabindex","title"],s1e={class:"titre"},r1e=["tabindex","title"],o1e={class:"titre"},a1e=["tabindex","title"],l1e={class:"titre"},u1e=["tabindex","title"],c1e={class:"titre"},d1e=["tabindex","title"],h1e={class:"titre"},A1e=["tabindex","title"],f1e={class:"titre"},p1e=["tabindex","title"],g1e={class:"titre"},m1e=["tabindex","title"],b1e={class:"titre"},v1e=["tabindex","title"],y1e={class:"titre"},w1e=["tabindex","title"],C1e={class:"titre"},E1e=["tabindex","title"],x1e={class:"titre"},T1e=["tabindex","title"],_1e={class:"titre"},S1e=["tabindex","title"],B1e={class:"titre"},k1e=["tabindex","title"],I1e={class:"titre"},D1e=["tabindex","title"],F1e={class:"titre"},P1e=["tabindex","title"],L1e={class:"titre"},R1e=["tabindex","title"],M1e={class:"titre"},O1e=["tabindex","title"],U1e={class:"titre"},N1e=["tabindex","title"],H1e={class:"titre"},Q1e=["tabindex","title"],V1e={class:"titre"},$1e=["tabindex","title"],j1e={class:"titre"},z1e=["tabindex","title"],K1e={class:"titre"},G1e=["tabindex","title"],q1e={class:"titre"},W1e=["tabindex","title"],Y1e={class:"titre"},X1e=["tabindex","title"],J1e={class:"titre"},Z1e=["tabindex","title"],ewe={class:"titre"},twe=["tabindex","title"],iwe={class:"titre"},nwe=["tabindex","title"],swe=["tabindex","title"],rwe=["tabindex","title"],owe=["tabindex","title"],awe=["tabindex","title"],lwe=["tabindex","title"],uwe=["tabindex","title"],cwe=["tabindex","title"],dwe=["tabindex","title"],hwe=["tabindex","title"],Awe={key:21,id:"pages","data-html2canvas-ignore":!0},fwe=["tabindex","onClick","onKeydown"],pwe={key:22,id:"audio-bip",src:"./static/audio/bip.mp3",tabindex:"-1",preload:"",style:{display:"none"}},gwe={key:23,id:"audio-cartoon",src:"./static/audio/cartoon.mp3",tabindex:"-1",preload:"",style:{display:"none"}},mwe={key:24,id:"audio-clave",src:"./static/audio/clave.mp3",tabindex:"-1",preload:"",style:{display:"none"}},bwe={key:25,id:"audio-djembe",src:"./static/audio/djembe.mp3",tabindex:"-1",preload:"",style:{display:"none"}},vwe={key:26,id:"audio-goutte",src:"./static/audio/goutte.mp3",tabindex:"-1",preload:"",style:{display:"none"}},ywe={key:27,id:"audio-maraca",src:"./static/audio/maraca.mp3",tabindex:"-1",preload:"",style:{display:"none"}},wwe={key:28,id:"audio-mbira",src:"./static/audio/mbira.mp3",tabindex:"-1",preload:"",style:{display:"none"}},Cwe={key:29,id:"audio-metronome",src:"./static/audio/metronome.mp3",tabindex:"-1",preload:"",style:{display:"none"}},Ewe={key:30,id:"audio-triangle",src:"./static/audio/triangle.mp3",tabindex:"-1",preload:"",style:{display:"none"}};function xwe(t,e,i,s,n,r){const o=Je("Chargement"),a=Je("Annotation"),l=Je("PCodeqr"),u=Je("PTexte"),c=Je("PTableau"),h=Je("PImage"),A=Je("PGalerie"),f=Je("PDessin"),m=Je("PDocument"),p=Je("PAudio"),x=Je("PSynthese"),C=Je("PVideo"),g=Je("PWebcam"),w=Je("PLien"),S=Je("PIframe"),I=Je("PHtml"),O=Je("PListe"),U=Je("PNuage"),$=Je("POrdre"),k=Je("PImagesSequentielles"),P=Je("PTrous"),T=Je("PSurlignage"),R=Je("PPendu"),E=Je("PCartes"),_=Je("PTirageTexte"),F=Je("PTirageNombre"),V=Je("PTirageImage"),Q=Je("PTirageAudio"),G=Je("PRoue"),Y=Je("PHistoire"),ee=Je("PPlateau"),W=Je("PDes"),ge=Je("PClassement"),ce=Je("PFeu"),we=Je("PModalites"),Ce=Je("PGroupes"),Oe=Je("PChrono"),de=Je("PRebours"),Te=Je("PHorlogeModulable"),xe=Je("PHorloge"),He=Je("PCalendrier"),$e=Je("PRetroaction"),oe=Je("PSonometre"),Ae=Je("MGrille"),De=Je("MInfo"),Ie=Je("MCorbeille"),Re=Je("MParametres");return z(),Z("main",{style:hi(r.definirFond())},[n.alerte?(z(),Z("div",rye,[d("div",oye,[e[122]||(e[122]=d("span",{class:"marque"},"Digiscreen by La Digitale",-1)),d("span",aye,te(t.$t("alerte")),1)])])):Me("",!0),n.chargement?(z(),Z("div",lye,"Digiscreen by La Digitale")):Me("",!0),n.importDonnees?(z(),Z("div",{key:2,id:"import",class:je({termine:n.importTermine})},e[123]||(e[123]=[d("div",{class:"chargement"},[d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div"),d("div")],-1)]),2)):Me("",!0),n.chargementPage?(z(),et(o,{key:3,chargementPage:n.chargementPage},null,8,["chargementPage"])):Me("",!0),n.annotation?(z(),et(a,{key:4,panneaux:n.panneaux,annotations:r.annotations,largeur:n.largeur,hauteur:n.hauteur,nav:n.nav,onFermer:r.arreterAnnoter,onOutilDeplacer:r.definirOutilDeplacer},null,8,["panneaux","annotations","largeur","hauteur","nav","onFermer","onOutilDeplacer"])):Me("",!0),Object.keys(r.grille).length>0?(z(),Z("div",{key:5,id:"grille",class:je(r.grille.couleur+" grille-"+r.grille.colonnes)},[(z(!0),Z(vt,null,Yt(r.grille.colonnes*r.grille.lignes,X=>(z(),Z("span",{key:"element_"+X}))),128))],2)):Me("",!0),n.alerte?Me("",!0):(z(),Z("nav",{key:6,class:je({masque:!n.nav}),"data-html2canvas-ignore":!0,tabindex:"-1"},[n.modules.includes("codeqr")?(z(),Z("div",{key:0,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[0]||(e[0]=X=>r.creerPanneau("codeqr")),onKeydown:e[1]||(e[1]=J(X=>r.creerPanneau("codeqr"),["enter"])),title:t.$t("codeqr")},[e[124]||(e[124]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"qr_code")],-1)),d("span",cye,te(t.$t("codeqr")),1)],40,uye)):Me("",!0),n.modules.includes("texte")?(z(),Z("div",{key:1,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[2]||(e[2]=X=>r.creerPanneau("texte")),onKeydown:e[3]||(e[3]=J(X=>r.creerPanneau("texte"),["enter"])),title:t.$t("texte")},[e[125]||(e[125]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"title")],-1)),d("span",hye,te(t.$t("texte")),1)],40,dye)):Me("",!0),n.modules.includes("tableau")?(z(),Z("div",{key:2,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[4]||(e[4]=X=>r.creerPanneau("tableau")),onKeydown:e[5]||(e[5]=J(X=>r.creerPanneau("tableau"),["enter"])),title:t.$t("tableau")},[e[126]||(e[126]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"table_chart")],-1)),d("span",fye,te(t.$t("tableau")),1)],40,Aye)):Me("",!0),n.modules.includes("image")?(z(),Z("div",{key:3,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[6]||(e[6]=X=>r.creerPanneau("image")),onKeydown:e[7]||(e[7]=J(X=>r.creerPanneau("image"),["enter"])),title:t.$t("image")},[e[127]||(e[127]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"insert_photo")],-1)),d("span",gye,te(t.$t("image")),1)],40,pye)):Me("",!0),n.modules.includes("galerie")?(z(),Z("div",{key:4,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[8]||(e[8]=X=>r.creerPanneau("galerie")),onKeydown:e[9]||(e[9]=J(X=>r.creerPanneau("galerie"),["enter"])),title:t.$t("galerieImages")},[e[128]||(e[128]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"view_carousel")],-1)),d("span",bye,te(t.$t("galerie")),1)],40,mye)):Me("",!0),n.modules.includes("dessin")?(z(),Z("div",{key:5,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[10]||(e[10]=X=>r.creerPanneau("dessin")),onKeydown:e[11]||(e[11]=J(X=>r.creerPanneau("dessin"),["enter"])),title:t.$t("dessin")},[e[129]||(e[129]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"gesture")],-1)),d("span",yye,te(t.$t("dessin")),1)],40,vye)):Me("",!0),n.modules.includes("document")?(z(),Z("div",{key:6,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[12]||(e[12]=X=>r.creerPanneau("document")),onKeydown:e[13]||(e[13]=J(X=>r.creerPanneau("document"),["enter"])),title:t.$t("document")},[e[130]||(e[130]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"description")],-1)),d("span",Cye,te(t.$t("doc")),1)],40,wye)):Me("",!0),n.modules.includes("audio")?(z(),Z("div",{key:7,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[14]||(e[14]=X=>r.creerPanneau("audio")),onKeydown:e[15]||(e[15]=J(X=>r.creerPanneau("audio"),["enter"])),title:t.$t("audio")},[e[131]||(e[131]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"volume_up")],-1)),d("span",xye,te(t.$t("audio")),1)],40,Eye)):Me("",!0),n.modules.includes("synthese")?(z(),Z("div",{key:8,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[16]||(e[16]=X=>r.creerPanneau("synthese")),onKeydown:e[17]||(e[17]=J(X=>r.creerPanneau("synthese"),["enter"])),title:t.$t("syntheseVocale")},[e[132]||(e[132]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"record_voice_over")],-1)),d("span",_ye,te(t.$t("synthese")),1)],40,Tye)):Me("",!0),n.modules.includes("video")?(z(),Z("div",{key:9,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[18]||(e[18]=X=>r.creerPanneau("video")),onKeydown:e[19]||(e[19]=J(X=>r.creerPanneau("video"),["enter"])),title:t.$t("video")},[e[133]||(e[133]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"movie_creation")],-1)),d("span",Bye,te(t.$t("video")),1)],40,Sye)):Me("",!0),n.modules.includes("webcam")?(z(),Z("div",{key:10,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[20]||(e[20]=X=>r.creerPanneau("webcam")),onKeydown:e[21]||(e[21]=J(X=>r.creerPanneau("webcam"),["enter"])),title:t.$t("webcam")},[e[134]||(e[134]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"photo_camera")],-1)),d("span",Iye,te(t.$t("webcam")),1)],40,kye)):Me("",!0),n.modules.includes("lien")?(z(),Z("div",{key:11,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[22]||(e[22]=X=>r.creerPanneau("lien")),onKeydown:e[23]||(e[23]=J(X=>r.creerPanneau("lien"),["enter"])),title:t.$t("lien")},[e[135]||(e[135]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"link")],-1)),d("span",Fye,te(t.$t("lien")),1)],40,Dye)):Me("",!0),n.modules.includes("iframe")?(z(),Z("div",{key:12,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[24]||(e[24]=X=>r.creerPanneau("iframe")),onKeydown:e[25]||(e[25]=J(X=>r.creerPanneau("iframe"),["enter"])),title:t.$t("contenuIntegre")},[e[136]||(e[136]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"code")],-1)),d("span",Lye,te(t.$t("iframe")),1)],40,Pye)):Me("",!0),n.modules.includes("html")?(z(),Z("div",{key:13,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[26]||(e[26]=X=>r.creerPanneau("html")),onKeydown:e[27]||(e[27]=J(X=>r.creerPanneau("html"),["enter"])),title:t.$t("html")},[e[137]||(e[137]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"html")],-1)),d("span",Mye,te(t.$t("html")),1)],40,Rye)):Me("",!0),n.modules.includes("liste")?(z(),Z("div",{key:14,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[28]||(e[28]=X=>r.creerPanneau("liste")),onKeydown:e[29]||(e[29]=J(X=>r.creerPanneau("liste"),["enter"])),title:t.$t("liste")},[e[138]||(e[138]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"checklist")],-1)),d("span",Uye,te(t.$t("liste")),1)],40,Oye)):Me("",!0),n.modules.includes("nuage")?(z(),Z("div",{key:15,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[30]||(e[30]=X=>r.creerPanneau("nuage")),onKeydown:e[31]||(e[31]=J(X=>r.creerPanneau("nuage"),["enter"])),title:t.$t("nuageMots")},[e[139]||(e[139]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"cloud")],-1)),d("span",Hye,te(t.$t("nuage")),1)],40,Nye)):Me("",!0),n.modules.includes("ordre")?(z(),Z("div",{key:16,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[32]||(e[32]=X=>r.creerPanneau("ordre")),onKeydown:e[33]||(e[33]=J(X=>r.creerPanneau("ordre"),["enter"])),title:t.$t("remiseOrdre")},[e[140]||(e[140]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"sort_by_alpha")],-1)),d("span",Vye,te(t.$t("ordre")),1)],40,Qye)):Me("",!0),n.modules.includes("images-sequentielles")?(z(),Z("div",{key:17,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[34]||(e[34]=X=>r.creerPanneau("images-sequentielles")),onKeydown:e[35]||(e[35]=J(X=>r.creerPanneau("images-sequentielles"),["enter"])),title:t.$t("imagesSequentielles")},[e[141]||(e[141]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"category")],-1)),d("span",jye,te(t.$t("ordreImage")),1)],40,$ye)):Me("",!0),n.modules.includes("trous")?(z(),Z("div",{key:18,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[36]||(e[36]=X=>r.creerPanneau("trous")),onKeydown:e[37]||(e[37]=J(X=>r.creerPanneau("trous"),["enter"])),title:t.$t("texteATrous")},[e[142]||(e[142]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"wysiwyg")],-1)),d("span",Kye,te(t.$t("trous")),1)],40,zye)):Me("",!0),n.modules.includes("surlignage")?(z(),Z("div",{key:19,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[38]||(e[38]=X=>r.creerPanneau("surlignage")),onKeydown:e[39]||(e[39]=J(X=>r.creerPanneau("surlignage"),["enter"])),title:t.$t("surlignage")},[e[143]||(e[143]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"hdr_strong")],-1)),d("span",qye,te(t.$t("surlignage")),1)],40,Gye)):Me("",!0),n.modules.includes("pendu")?(z(),Z("div",{key:20,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[40]||(e[40]=X=>r.creerPanneau("pendu")),onKeydown:e[41]||(e[41]=J(X=>r.creerPanneau("pendu"),["enter"])),title:t.$t("pendu")},[e[144]||(e[144]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"spellcheck")],-1)),d("span",Yye,te(t.$t("pendu")),1)],40,Wye)):Me("",!0),n.modules.includes("cartes")?(z(),Z("div",{key:21,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[42]||(e[42]=X=>r.creerPanneau("cartes")),onKeydown:e[43]||(e[43]=J(X=>r.creerPanneau("cartes"),["enter"])),title:t.$t("cartes")},[e[145]||(e[145]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"style")],-1)),d("span",Jye,te(t.$t("cartes")),1)],40,Xye)):Me("",!0),n.modules.includes("tirage-texte")?(z(),Z("div",{key:22,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[44]||(e[44]=X=>r.creerPanneau("tirage-texte")),onKeydown:e[45]||(e[45]=J(X=>r.creerPanneau("tirage-texte"),["enter"])),title:t.$t("tirageSortTexte")},[e[146]||(e[146]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"shuffle")],-1)),d("span",e1e,te(t.$t("tirageTexte")),1)],40,Zye)):Me("",!0),n.modules.includes("tirage-nombre")?(z(),Z("div",{key:23,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[46]||(e[46]=X=>r.creerPanneau("tirage-nombre")),onKeydown:e[47]||(e[47]=J(X=>r.creerPanneau("tirage-nombre"),["enter"])),title:t.$t("tirageSortNombre")},[e[147]||(e[147]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"123")],-1)),d("span",i1e,te(t.$t("tirageNombre")),1)],40,t1e)):Me("",!0),n.modules.includes("tirage-image")?(z(),Z("div",{key:24,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[48]||(e[48]=X=>r.creerPanneau("tirage-image")),onKeydown:e[49]||(e[49]=J(X=>r.creerPanneau("tirage-image"),["enter"])),title:t.$t("tirageSortImage")},[e[148]||(e[148]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"collections")],-1)),d("span",s1e,te(t.$t("tirageImage")),1)],40,n1e)):Me("",!0),n.modules.includes("tirage-audio")?(z(),Z("div",{key:25,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[50]||(e[50]=X=>r.creerPanneau("tirage-audio")),onKeydown:e[51]||(e[51]=J(X=>r.creerPanneau("tirage-audio"),["enter"])),title:t.$t("tirageSortAudio")},[e[149]||(e[149]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"subscriptions")],-1)),d("span",o1e,te(t.$t("tirageAudio")),1)],40,r1e)):Me("",!0),n.modules.includes("roue")?(z(),Z("div",{key:26,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[52]||(e[52]=X=>r.creerPanneau("roue")),onKeydown:e[53]||(e[53]=J(X=>r.creerPanneau("roue"),["enter"])),title:t.$t("roue")},[e[150]||(e[150]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"pending")],-1)),d("span",l1e,te(t.$t("roue")),1)],40,a1e)):Me("",!0),n.modules.includes("histoire")?(z(),Z("div",{key:27,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[54]||(e[54]=X=>r.creerPanneau("histoire")),onKeydown:e[55]||(e[55]=J(X=>r.creerPanneau("histoire"),["enter"])),title:t.$t("histoire")},[e[151]||(e[151]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"history_edu")],-1)),d("span",c1e,te(t.$t("histoire")),1)],40,u1e)):Me("",!0),n.modules.includes("plateau")?(z(),Z("div",{key:28,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[56]||(e[56]=X=>r.creerPanneau("plateau")),onKeydown:e[57]||(e[57]=J(X=>r.creerPanneau("plateau"),["enter"])),title:t.$t("plateau")},[e[152]||(e[152]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"grid_on")],-1)),d("span",h1e,te(t.$t("plateau")),1)],40,d1e)):Me("",!0),n.modules.includes("des")?(z(),Z("div",{key:29,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[58]||(e[58]=X=>r.creerPanneau("des")),onKeydown:e[59]||(e[59]=J(X=>r.creerPanneau("des"),["enter"])),title:t.$t("des")},[e[153]||(e[153]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"casino")],-1)),d("span",f1e,te(t.$t("des")),1)],40,A1e)):Me("",!0),n.modules.includes("classement")?(z(),Z("div",{key:30,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[60]||(e[60]=X=>r.creerPanneau("classement")),onKeydown:e[61]||(e[61]=J(X=>r.creerPanneau("classement"),["enter"])),title:t.$t("classement")},[e[154]||(e[154]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"emoji_events")],-1)),d("span",g1e,te(t.$t("classement")),1)],40,p1e)):Me("",!0),n.modules.includes("feu")?(z(),Z("div",{key:31,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[62]||(e[62]=X=>r.creerPanneau("feu")),onKeydown:e[63]||(e[63]=J(X=>r.creerPanneau("feu"),["enter"])),title:t.$t("feuQuadricolore")},[e[155]||(e[155]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"traffic")],-1)),d("span",b1e,te(t.$t("feu")),1)],40,m1e)):Me("",!0),n.modules.includes("modalites")?(z(),Z("div",{key:32,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[64]||(e[64]=X=>r.creerPanneau("modalites")),onKeydown:e[65]||(e[65]=J(X=>r.creerPanneau("modalites"),["enter"])),class:je({actif:n.modalites}),title:t.$t("modalitesTravail")},[e[156]||(e[156]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"group_work")],-1)),d("span",y1e,te(t.$t("modalites")),1)],42,v1e)):Me("",!0),n.modules.includes("groupes")?(z(),Z("div",{key:33,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[66]||(e[66]=X=>r.creerPanneau("groupes")),onKeydown:e[67]||(e[67]=J(X=>r.creerPanneau("groupes"),["enter"])),title:t.$t("groupes")},[e[157]||(e[157]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"group")],-1)),d("span",C1e,te(t.$t("groupes")),1)],40,w1e)):Me("",!0),n.modules.includes("chrono")?(z(),Z("div",{key:34,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[68]||(e[68]=X=>r.creerPanneau("chrono")),onKeydown:e[69]||(e[69]=J(X=>r.creerPanneau("chrono"),["enter"])),title:t.$t("chronometre")},[e[158]||(e[158]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"timer")],-1)),d("span",x1e,te(t.$t("chrono")),1)],40,E1e)):Me("",!0),n.modules.includes("rebours")?(z(),Z("div",{key:35,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[70]||(e[70]=X=>r.creerPanneau("rebours")),onKeydown:e[71]||(e[71]=J(X=>r.creerPanneau("rebours"),["enter"])),title:t.$t("compteRebours")},[e[159]||(e[159]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"hourglass_empty")],-1)),d("span",_1e,te(t.$t("rebours")),1)],40,T1e)):Me("",!0),n.modules.includes("horloge-modulable")?(z(),Z("div",{key:36,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[72]||(e[72]=X=>r.creerPanneau("horloge-modulable")),onKeydown:e[73]||(e[73]=J(X=>r.creerPanneau("horloge-modulable"),["enter"])),title:t.$t("horlogeModulable")},[e[160]||(e[160]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"update")],-1)),d("span",B1e,te(t.$t("horlogeM")),1)],40,S1e)):Me("",!0),n.modules.includes("horloge")?(z(),Z("div",{key:37,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[74]||(e[74]=X=>r.creerPanneau("horloge")),onKeydown:e[75]||(e[75]=J(X=>r.creerPanneau("horloge"),["enter"])),title:t.$t("horloge")},[e[161]||(e[161]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"query_builder")],-1)),d("span",I1e,te(t.$t("horloge")),1)],40,k1e)):Me("",!0),n.modules.includes("calendrier")?(z(),Z("div",{key:38,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[76]||(e[76]=X=>r.creerPanneau("calendrier")),onKeydown:e[77]||(e[77]=J(X=>r.creerPanneau("calendrier"),["enter"])),title:t.$t("calendrier")},[e[162]||(e[162]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"today")],-1)),d("span",F1e,te(t.$t("calendrier")),1)],40,D1e)):Me("",!0),n.modules.includes("sonometre")?(z(),Z("div",{key:39,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[78]||(e[78]=X=>r.creerPanneau("sonometre")),onKeydown:e[79]||(e[79]=J(X=>r.creerPanneau("sonometre"),["enter"])),title:t.$t("sonometre")},[e[163]||(e[163]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"hearing")],-1)),d("span",L1e,te(t.$t("volume")),1)],40,P1e)):Me("",!0),n.modules.includes("retroaction")?(z(),Z("div",{key:40,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[80]||(e[80]=X=>r.creerPanneau("retroaction")),onKeydown:e[81]||(e[81]=J(X=>r.creerPanneau("retroaction"),["enter"])),class:je({actif:n.retroaction}),title:t.$t("retroaction")},[e[164]||(e[164]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"thumb_up")],-1)),d("span",M1e,te(t.$t("retroaction")),1)],42,R1e)):Me("",!0),n.modules.includes("grille")&&Object.keys(r.grille).length===0?(z(),Z("div",{key:41,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[82]||(e[82]=X=>r.ouvrirModale("grille")),onKeydown:e[83]||(e[83]=J(X=>r.ouvrirModale("grille"),["enter"])),title:t.$t("grille")},[e[165]||(e[165]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"view_module")],-1)),d("span",U1e,te(t.$t("grille")),1)],40,O1e)):n.modules.includes("grille")&&Object.keys(r.grille).length>0?(z(),Z("div",{key:42,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[84]||(e[84]=(...X)=>r.reinitialiserGrille&&r.reinitialiserGrille(...X)),onKeydown:e[85]||(e[85]=J((...X)=>r.reinitialiserGrille&&r.reinitialiserGrille(...X),["enter"])),class:"actif",title:t.$t("grille")},[e[166]||(e[166]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"view_module")],-1)),d("span",H1e,te(t.$t("grille")),1)],40,N1e)):Me("",!0),e[175]||(e[175]=d("div",{class:"separateur"},[d("span",null,"·")],-1)),d("div",{role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[86]||(e[86]=(...X)=>r.capturer&&r.capturer(...X)),onKeydown:e[87]||(e[87]=J((...X)=>r.capturer&&r.capturer(...X),["enter"])),title:t.$t("capturer")},[e[167]||(e[167]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"camera")],-1)),d("span",V1e,te(t.$t("capture")),1)],40,Q1e),n.annotation?(z(),Z("div",{key:44,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[90]||(e[90]=(...X)=>r.arreterAnnoter&&r.arreterAnnoter(...X)),onKeydown:e[91]||(e[91]=J((...X)=>r.arreterAnnoter&&r.arreterAnnoter(...X),["enter"])),class:"actif",title:t.$t("annoter")},[e[169]||(e[169]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"rate_review")],-1)),d("span",K1e,te(t.$t("annoter")),1)],40,z1e)):(z(),Z("div",{key:43,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[88]||(e[88]=(...X)=>r.annoter&&r.annoter(...X)),onKeydown:e[89]||(e[89]=J((...X)=>r.annoter&&r.annoter(...X),["enter"])),title:t.$t("annoter")},[e[168]||(e[168]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"rate_review")],-1)),d("span",j1e,te(t.$t("annoter")),1)],40,$1e)),n.pleinEcran?(z(),Z("div",{key:46,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[94]||(e[94]=(...X)=>r.sortirPleinEcran&&r.sortirPleinEcran(...X)),onKeydown:e[95]||(e[95]=J((...X)=>r.sortirPleinEcran&&r.sortirPleinEcran(...X),["enter"])),title:t.$t("sortirPleinEcran")},[e[171]||(e[171]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"close_fullscreen")],-1)),d("span",Y1e,te(t.$t("ecran")),1)],40,W1e)):(z(),Z("div",{key:45,role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[92]||(e[92]=(...X)=>r.entrerPleinEcran&&r.entrerPleinEcran(...X)),onKeydown:e[93]||(e[93]=J((...X)=>r.entrerPleinEcran&&r.entrerPleinEcran(...X),["enter"])),title:t.$t("mettrePleinEcran")},[e[170]||(e[170]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"open_in_full")],-1)),d("span",q1e,te(t.$t("ecran")),1)],40,G1e)),d("div",{role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[96]||(e[96]=X=>r.ouvrirModale("corbeille")),onKeydown:e[97]||(e[97]=J(X=>r.ouvrirModale("corbeille"),["enter"])),title:t.$t("corbeille")},[e[172]||(e[172]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"delete")],-1)),d("span",J1e,te(t.$t("corbeille")),1)],40,X1e),d("div",{role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[98]||(e[98]=(...X)=>r.ouvrirMenu&&r.ouvrirMenu(...X)),onKeydown:e[99]||(e[99]=J((...X)=>r.ouvrirMenu&&r.ouvrirMenu(...X),["enter"])),title:t.$t("options")},[e[173]||(e[173]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"settings")],-1)),d("span",ewe,te(t.$t("options")),1)],40,Z1e),d("div",{role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,onClick:e[100]||(e[100]=X=>r.ouvrirModale("info")),onKeydown:e[101]||(e[101]=J(X=>r.ouvrirModale("info"),["enter"])),title:t.$t("aPropos")},[e[174]||(e[174]=d("span",{class:"icone"},[d("i",{class:"material-icons"},"info")],-1)),d("span",iwe,te(t.$t("aPropos")),1)],40,twe)],2)),n.lectureSeule?(z(),Z("span",{key:7,class:"bouton-capture",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[102]||(e[102]=(...X)=>r.capturer&&r.capturer(...X)),onKeydown:e[103]||(e[103]=J((...X)=>r.capturer&&r.capturer(...X),["enter"])),title:t.$t("capturer"),"data-html2canvas-ignore":!0},e[176]||(e[176]=[d("i",{class:"material-icons"},"camera",-1)]),40,nwe)):Me("",!0),!n.annotation&&n.lectureSeule?(z(),Z("span",{key:8,class:"bouton-annotation",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[104]||(e[104]=(...X)=>r.annoter&&r.annoter(...X)),onKeydown:e[105]||(e[105]=J((...X)=>r.annoter&&r.annoter(...X),["enter"])),title:t.$t("annoter"),"data-html2canvas-ignore":!0},e[177]||(e[177]=[d("i",{class:"material-icons"},"rate_review",-1)]),40,swe)):n.annotation&&n.lectureSeule?(z(),Z("span",{key:9,class:"bouton-annotation vert",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[106]||(e[106]=(...X)=>r.arreterAnnoter&&r.arreterAnnoter(...X)),onKeydown:e[107]||(e[107]=J((...X)=>r.arreterAnnoter&&r.arreterAnnoter(...X),["enter"])),title:t.$t("annoter"),"data-html2canvas-ignore":!0},e[178]||(e[178]=[d("i",{class:"material-icons"},"rate_review",-1)]),40,rwe)):Me("",!0),!n.pleinEcran&&n.lectureSeule?(z(),Z("span",{key:10,class:"bouton-plein-ecran",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[108]||(e[108]=(...X)=>r.entrerPleinEcran&&r.entrerPleinEcran(...X)),onKeydown:e[109]||(e[109]=J((...X)=>r.entrerPleinEcran&&r.entrerPleinEcran(...X),["enter"])),title:t.$t("mettrePleinEcran"),"data-html2canvas-ignore":!0},e[179]||(e[179]=[d("i",{class:"material-icons"},"open_in_full",-1)]),40,owe)):n.pleinEcran&&n.lectureSeule?(z(),Z("span",{key:11,class:"bouton-plein-ecran",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[110]||(e[110]=(...X)=>r.sortirPleinEcran&&r.sortirPleinEcran(...X)),onKeydown:e[111]||(e[111]=J((...X)=>r.sortirPleinEcran&&r.sortirPleinEcran(...X),["enter"])),title:t.$t("sortirPleinEcran"),"data-html2canvas-ignore":!0},e[180]||(e[180]=[d("i",{class:"material-icons"},"close_fullscreen",-1)]),40,awe)):Me("",!0),n.lectureSeule?(z(),Z("span",{key:12,class:"bouton-export",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[112]||(e[112]=(...X)=>r.exporter&&r.exporter(...X)),onKeydown:e[113]||(e[113]=J((...X)=>r.exporter&&r.exporter(...X),["enter"])),title:t.$t("exporterEcran"),"data-html2canvas-ignore":!0},e[181]||(e[181]=[d("i",{class:"material-icons"},"save",-1)]),40,lwe)):Me("",!0),n.nav&&!n.lectureSeule?(z(),Z("span",{key:13,class:"nav",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[114]||(e[114]=X=>n.nav=!1),onKeydown:e[115]||(e[115]=J(X=>n.nav=!1,["enter"])),title:t.$t("masquerOutils"),"data-html2canvas-ignore":!0},e[182]||(e[182]=[d("i",{class:"material-icons"},"expand_more",-1)]),40,uwe)):!n.nav&&!n.lectureSeule?(z(),Z("span",{key:14,class:"nav",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[116]||(e[116]=X=>n.nav=!0),onKeydown:e[117]||(e[117]=J(X=>n.nav=!0,["enter"])),title:t.$t("afficherOutils"),"data-html2canvas-ignore":!0},e[183]||(e[183]=[d("i",{class:"material-icons"},"expand_less",-1)]),40,cwe)):Me("",!0),n.lectureSeule?(z(),Z("span",{key:15,class:"bouton-cadenas orange",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[118]||(e[118]=X=>n.lectureSeule=!1),onKeydown:e[119]||(e[119]=J(X=>n.lectureSeule=!1,["enter"])),title:t.$t("deverrouiller"),"data-html2canvas-ignore":!0},e[184]||(e[184]=[d("i",{class:"material-icons"},"lock",-1)]),40,dwe)):(z(),Z("span",{key:16,class:"bouton-cadenas",role:"button",tabindex:n.modale===""&&!n.menu?0:-1,onClick:e[120]||(e[120]=X=>n.lectureSeule=!0),onKeydown:e[121]||(e[121]=J(X=>n.lectureSeule=!0,["enter"])),title:t.$t("verrouiller"),"data-html2canvas-ignore":!0},e[185]||(e[185]=[d("i",{class:"material-icons"},"lock_open",-1)]),40,hwe)),(z(!0),Z(vt,null,Yt(n.panneauxPage,X=>(z(),Z(vt,null,[X.type==="codeqr"?(z(),et(l,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"codeqr_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="texte"?(z(),et(u,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"texte_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="tableau"?(z(),et(c,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tableau_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="image"?(z(),et(h,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"image_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="galerie"?(z(),et(A,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"galerie_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="dessin"?(z(),et(f,{panneau:X,pages:n.pages,nav:n.nav,largeurPage:n.largeur,hauteurPage:n.hauteur,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"dessin_"+X.id},null,8,["panneau","pages","nav","largeurPage","hauteurPage","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="document"?(z(),et(m,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"document_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="audio"?(z(),et(p,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"audio_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="synthese"?(z(),et(x,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,listeVoix:n.listeVoix,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"synthese_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","listeVoix","onFermer","onExport"])):X.type==="video"?(z(),et(C,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"video_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="webcam"?(z(),et(g,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"webcam_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="lien"?(z(),et(w,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"lien_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="iframe"?(z(),et(S,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"iframe_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="html"?(z(),et(I,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"html_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="liste"?(z(),et(O,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"liste_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="nuage"?(z(),et(U,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"nuage_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="ordre"?(z(),et($,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"ordre_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="images-sequentielles"?(z(),et(k,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"images-sequentielles_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="trous"?(z(),et(P,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"trous_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="surlignage"?(z(),et(T,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"surlignage_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="pendu"?(z(),et(R,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"pendu_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="cartes"?(z(),et(E,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"cartes_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="tirage"||X.type==="tirage-texte"?(z(),et(_,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-texte_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="tirage-nombre"?(z(),et(F,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-nombre_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="tirage-image"?(z(),et(V,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-image_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="tirage-audio"?(z(),et(Q,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"tirage-audio_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="roue"?(z(),et(G,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"roue_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="histoire"?(z(),et(Y,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"histoire_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="plateau"?(z(),et(ee,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"plateau_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="des"?(z(),et(W,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"des_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="classement"?(z(),et(ge,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"classement_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="feu"?(z(),et(ce,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"feu_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="modalites"?(z(),et(we,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"modalites_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="groupes"?(z(),et(Ce,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"groupes_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="chrono"?(z(),et(Oe,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"chrono_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="rebours"?(z(),et(de,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"rebours_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="horloge-modulable"?(z(),et(Te,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"horloge-modulable_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="horloge"?(z(),et(xe,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,langue:n.langue,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"horloge_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","langue","onAfficher","onFermer","onExport"])):X.type==="calendrier"?(z(),et(He,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"calendrier_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="retroaction"?(z(),et($e,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"retroaction_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):X.type==="sonometre"?(z(),et(oe,{panneau:X,pages:n.pages,nav:n.nav,export:n.exportDonnees,evenementClavier:n.evenementClavier,onAfficher:r.afficherPanneau,onFermer:r.fermerPanneau,onExport:r.modifierPanneau,key:"sonometre_"+X.id},null,8,["panneau","pages","nav","export","evenementClavier","onAfficher","onFermer","onExport"])):Me("",!0)],64))),256)),n.modale==="grille"?(z(),et(Ae,{key:17})):n.modale==="info"?(z(),et(De,{key:18})):n.modale==="corbeille"?(z(),et(Ie,{key:19,corbeille:n.corbeille},null,8,["corbeille"])):Me("",!0),n.menu?(z(),et(Re,{key:20})):Me("",!0),n.pages.length>1?(z(),Z("div",Awe,[d("div",null,[(z(!0),Z(vt,null,Yt(n.pages.length,X=>(z(),Z("span",{role:"button",tabindex:n.nav&&!n.lectureSeule&&n.modale===""&&!n.menu?0:-1,class:je({selectionne:n.page===X}),onClick:ae=>r.afficherPage(X),onKeydown:J(ae=>r.afficherPage(X),["enter"]),key:"page_"+X},null,42,fwe))),128))])])):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",pwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",gwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",mwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",bwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",vwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",ywe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",wwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",Cwe)):Me("",!0),n.modules.includes("rebours")?(z(),Z("audio",Ewe)):Me("",!0)],4)}const Twe=It(sye,[["render",xwe]]);/*!
  * shared v10.0.6
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const d0=typeof window<"u",ll=(t,e=!1)=>e?Symbol.for(t):Symbol(t),_we=(t,e,i)=>Swe({l:t,k:e,s:i}),Swe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),un=t=>typeof t=="number"&&isFinite(t),Bwe=t=>U2(t)==="[object Date]",Gc=t=>U2(t)==="[object RegExp]",pb=t=>Zt(t)&&Object.keys(t).length===0,En=Object.assign,kwe=Object.create,Ti=(t=null)=>kwe(t);let qB;const Gl=()=>qB||(qB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ti());function WB(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Iwe=Object.prototype.hasOwnProperty;function Rr(t,e){return Iwe.call(t,e)}const nn=Array.isArray,Mi=t=>typeof t=="function",gt=t=>typeof t=="string",Ai=t=>typeof t=="boolean",gi=t=>t!==null&&typeof t=="object",Dwe=t=>gi(t)&&Mi(t.then)&&Mi(t.catch),vP=Object.prototype.toString,U2=t=>vP.call(t),Zt=t=>U2(t)==="[object Object]",Fwe=t=>t==null?"":nn(t)||Zt(t)&&t.toString===vP?JSON.stringify(t,null,2):String(t);function N2(t,e=""){return t.reduce((i,s,n)=>n===0?i+s:i+e+s,"")}function Pwe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const sg=t=>!gi(t)||nn(t);function Hg(t,e){if(sg(t)||sg(e))throw new Error("Invalid value");const i=[{src:t,des:e}];for(;i.length;){const{src:s,des:n}=i.pop();Object.keys(s).forEach(r=>{r!=="__proto__"&&(gi(s[r])&&!gi(n[r])&&(n[r]=Array.isArray(s[r])?[]:Ti()),sg(n[r])||sg(s[r])?n[r]=s[r]:i.push({src:s[r],des:n[r]}))})}}/*!
  * message-compiler v10.0.6
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Lwe(t,e,i){return{line:t,column:e,offset:i}}function $w(t,e,i){return{start:t,end:e}}const wi={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Rwe=17;function gb(t,e,i={}){const{domain:s,messages:n,args:r}=i,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=s,a}function Mwe(t){throw t}const Uo=" ",Owe="\r",cs="\n",Uwe="\u2028",Nwe="\u2029";function Hwe(t){const e=t;let i=0,s=1,n=1,r=0;const o=U=>e[U]===Owe&&e[U+1]===cs,a=U=>e[U]===cs,l=U=>e[U]===Nwe,u=U=>e[U]===Uwe,c=U=>o(U)||a(U)||l(U)||u(U),h=()=>i,A=()=>s,f=()=>n,m=()=>r,p=U=>o(U)||l(U)||u(U)?cs:e[U],x=()=>p(i),C=()=>p(i+r);function g(){return r=0,c(i)&&(s++,n=0),o(i)&&i++,i++,n++,e[i]}function w(){return o(i+r)&&r++,r++,e[i+r]}function S(){i=0,s=1,n=1,r=0}function I(U=0){r=U}function O(){const U=i+r;for(;U!==i;)g();r=0}return{index:h,line:A,column:f,peekOffset:m,charAt:p,currentChar:x,currentPeek:C,next:g,peek:w,reset:S,resetPeek:I,skipToPeek:O}}const Ta=void 0,Qwe=".",YB="'",Vwe="tokenizer";function $we(t,e={}){const i=e.location!==!1,s=Hwe(t),n=()=>s.index(),r=()=>Lwe(s.line(),s.column(),s.index()),o=r(),a=n(),l={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function h(ae,le,ye,...ke){const Qe=u();if(le.column+=ye,le.offset+=ye,c){const Ve=i?$w(Qe.startLoc,le):null,_e=gb(ae,Ve,{domain:Vwe,args:ke});c(_e)}}function A(ae,le,ye){ae.endLoc=r(),ae.currentType=le;const ke={type:le};return i&&(ke.loc=$w(ae.startLoc,ae.endLoc)),ye!=null&&(ke.value=ye),ke}const f=ae=>A(ae,13);function m(ae,le){return ae.currentChar()===le?(ae.next(),le):(h(wi.EXPECTED_TOKEN,r(),0,le),"")}function p(ae){let le="";for(;ae.currentPeek()===Uo||ae.currentPeek()===cs;)le+=ae.currentPeek(),ae.peek();return le}function x(ae){const le=p(ae);return ae.skipToPeek(),le}function C(ae){if(ae===Ta)return!1;const le=ae.charCodeAt(0);return le>=97&&le<=122||le>=65&&le<=90||le===95}function g(ae){if(ae===Ta)return!1;const le=ae.charCodeAt(0);return le>=48&&le<=57}function w(ae,le){const{currentType:ye}=le;if(ye!==2)return!1;p(ae);const ke=C(ae.currentPeek());return ae.resetPeek(),ke}function S(ae,le){const{currentType:ye}=le;if(ye!==2)return!1;p(ae);const ke=ae.currentPeek()==="-"?ae.peek():ae.currentPeek(),Qe=g(ke);return ae.resetPeek(),Qe}function I(ae,le){const{currentType:ye}=le;if(ye!==2)return!1;p(ae);const ke=ae.currentPeek()===YB;return ae.resetPeek(),ke}function O(ae,le){const{currentType:ye}=le;if(ye!==7)return!1;p(ae);const ke=ae.currentPeek()===".";return ae.resetPeek(),ke}function U(ae,le){const{currentType:ye}=le;if(ye!==8)return!1;p(ae);const ke=C(ae.currentPeek());return ae.resetPeek(),ke}function $(ae,le){const{currentType:ye}=le;if(!(ye===7||ye===11))return!1;p(ae);const ke=ae.currentPeek()===":";return ae.resetPeek(),ke}function k(ae,le){const{currentType:ye}=le;if(ye!==9)return!1;const ke=()=>{const Ve=ae.currentPeek();return Ve==="{"?C(ae.peek()):Ve==="@"||Ve==="|"||Ve===":"||Ve==="."||Ve===Uo||!Ve?!1:Ve===cs?(ae.peek(),ke()):T(ae,!1)},Qe=ke();return ae.resetPeek(),Qe}function P(ae){p(ae);const le=ae.currentPeek()==="|";return ae.resetPeek(),le}function T(ae,le=!0){const ye=(Qe=!1,Ve="")=>{const _e=ae.currentPeek();return _e==="{"||_e==="@"||!_e?Qe:_e==="|"?!(Ve===Uo||Ve===cs):_e===Uo?(ae.peek(),ye(!0,Uo)):_e===cs?(ae.peek(),ye(!0,cs)):!0},ke=ye();return le&&ae.resetPeek(),ke}function R(ae,le){const ye=ae.currentChar();return ye===Ta?Ta:le(ye)?(ae.next(),ye):null}function E(ae){const le=ae.charCodeAt(0);return le>=97&&le<=122||le>=65&&le<=90||le>=48&&le<=57||le===95||le===36}function _(ae){return R(ae,E)}function F(ae){const le=ae.charCodeAt(0);return le>=97&&le<=122||le>=65&&le<=90||le>=48&&le<=57||le===95||le===36||le===45}function V(ae){return R(ae,F)}function Q(ae){const le=ae.charCodeAt(0);return le>=48&&le<=57}function G(ae){return R(ae,Q)}function Y(ae){const le=ae.charCodeAt(0);return le>=48&&le<=57||le>=65&&le<=70||le>=97&&le<=102}function ee(ae){return R(ae,Y)}function W(ae){let le="",ye="";for(;le=G(ae);)ye+=le;return ye}function ge(ae){let le="";for(;;){const ye=ae.currentChar();if(ye==="{"||ye==="}"||ye==="@"||ye==="|"||!ye)break;if(ye===Uo||ye===cs)if(T(ae))le+=ye,ae.next();else{if(P(ae))break;le+=ye,ae.next()}else le+=ye,ae.next()}return le}function ce(ae){x(ae);let le="",ye="";for(;le=V(ae);)ye+=le;return ae.currentChar()===Ta&&h(wi.UNTERMINATED_CLOSING_BRACE,r(),0),ye}function we(ae){x(ae);let le="";return ae.currentChar()==="-"?(ae.next(),le+="-".concat(W(ae))):le+=W(ae),ae.currentChar()===Ta&&h(wi.UNTERMINATED_CLOSING_BRACE,r(),0),le}function Ce(ae){return ae!==YB&&ae!==cs}function Oe(ae){x(ae),m(ae,"'");let le="",ye="";for(;le=R(ae,Ce);)le==="\\"?ye+=de(ae):ye+=le;const ke=ae.currentChar();return ke===cs||ke===Ta?(h(wi.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),ke===cs&&(ae.next(),m(ae,"'")),ye):(m(ae,"'"),ye)}function de(ae){const le=ae.currentChar();switch(le){case"\\":case"'":return ae.next(),"\\".concat(le);case"u":return Te(ae,le,4);case"U":return Te(ae,le,6);default:return h(wi.UNKNOWN_ESCAPE_SEQUENCE,r(),0,le),""}}function Te(ae,le,ye){m(ae,le);let ke="";for(let Qe=0;Qe<ye;Qe++){const Ve=ee(ae);if(!Ve){h(wi.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,"\\".concat(le).concat(ke).concat(ae.currentChar()));break}ke+=Ve}return"\\".concat(le).concat(ke)}function xe(ae){return ae!=="{"&&ae!=="}"&&ae!==Uo&&ae!==cs}function He(ae){x(ae);let le="",ye="";for(;le=R(ae,xe);)ye+=le;return ye}function $e(ae){let le="",ye="";for(;le=_(ae);)ye+=le;return ye}function oe(ae){const le=ye=>{const ke=ae.currentChar();return ke==="{"||ke==="@"||ke==="|"||ke==="("||ke===")"||!ke||ke===Uo?ye:(ye+=ke,ae.next(),le(ye))};return le("")}function Ae(ae){x(ae);const le=m(ae,"|");return x(ae),le}function De(ae,le){let ye=null;switch(ae.currentChar()){case"{":return le.braceNest>=1&&h(wi.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),ae.next(),ye=A(le,2,"{"),x(ae),le.braceNest++,ye;case"}":return le.braceNest>0&&le.currentType===2&&h(wi.EMPTY_PLACEHOLDER,r(),0),ae.next(),ye=A(le,3,"}"),le.braceNest--,le.braceNest>0&&x(ae),le.inLinked&&le.braceNest===0&&(le.inLinked=!1),ye;case"@":return le.braceNest>0&&h(wi.UNTERMINATED_CLOSING_BRACE,r(),0),ye=Ie(ae,le)||f(le),le.braceNest=0,ye;default:{let Qe=!0,Ve=!0,_e=!0;if(P(ae))return le.braceNest>0&&h(wi.UNTERMINATED_CLOSING_BRACE,r(),0),ye=A(le,1,Ae(ae)),le.braceNest=0,le.inLinked=!1,ye;if(le.braceNest>0&&(le.currentType===4||le.currentType===5||le.currentType===6))return h(wi.UNTERMINATED_CLOSING_BRACE,r(),0),le.braceNest=0,Re(ae,le);if(Qe=w(ae,le))return ye=A(le,4,ce(ae)),x(ae),ye;if(Ve=S(ae,le))return ye=A(le,5,we(ae)),x(ae),ye;if(_e=I(ae,le))return ye=A(le,6,Oe(ae)),x(ae),ye;if(!Qe&&!Ve&&!_e)return ye=A(le,12,He(ae)),h(wi.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,ye.value),x(ae),ye;break}}return ye}function Ie(ae,le){const{currentType:ye}=le;let ke=null;const Qe=ae.currentChar();switch((ye===7||ye===8||ye===11||ye===9)&&(Qe===cs||Qe===Uo)&&h(wi.INVALID_LINKED_FORMAT,r(),0),Qe){case"@":return ae.next(),ke=A(le,7,"@"),le.inLinked=!0,ke;case".":return x(ae),ae.next(),A(le,8,".");case":":return x(ae),ae.next(),A(le,9,":");default:return P(ae)?(ke=A(le,1,Ae(ae)),le.braceNest=0,le.inLinked=!1,ke):O(ae,le)||$(ae,le)?(x(ae),Ie(ae,le)):U(ae,le)?(x(ae),A(le,11,$e(ae))):k(ae,le)?(x(ae),Qe==="{"?De(ae,le)||ke:A(le,10,oe(ae))):(ye===7&&h(wi.INVALID_LINKED_FORMAT,r(),0),le.braceNest=0,le.inLinked=!1,Re(ae,le))}}function Re(ae,le){let ye={type:13};if(le.braceNest>0)return De(ae,le)||f(le);if(le.inLinked)return Ie(ae,le)||f(le);switch(ae.currentChar()){case"{":return De(ae,le)||f(le);case"}":return h(wi.UNBALANCED_CLOSING_BRACE,r(),0),ae.next(),A(le,3,"}");case"@":return Ie(ae,le)||f(le);default:{if(P(ae))return ye=A(le,1,Ae(ae)),le.braceNest=0,le.inLinked=!1,ye;if(T(ae))return A(le,0,ge(ae));break}}return ye}function X(){const{currentType:ae,offset:le,startLoc:ye,endLoc:ke}=l;return l.lastType=ae,l.lastOffset=le,l.lastStartLoc=ye,l.lastEndLoc=ke,l.offset=n(),l.startLoc=r(),s.currentChar()===Ta?A(l,13):Re(s,l)}return{nextToken:X,currentOffset:n,currentPosition:r,context:u}}const jwe="parser",zwe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Kwe(t,e,i){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||i,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function Gwe(t={}){const e=t.location!==!1,{onError:i}=t;function s(C,g,w,S,...I){const O=C.currentPosition();if(O.offset+=S,O.column+=S,i){const U=e?$w(w,O):null,$=gb(g,U,{domain:jwe,args:I});i($)}}function n(C,g,w){const S={type:C};return e&&(S.start=g,S.end=g,S.loc={start:w,end:w}),S}function r(C,g,w,S){e&&(C.end=g,C.loc&&(C.loc.end=w))}function o(C,g){const w=C.context(),S=n(3,w.offset,w.startLoc);return S.value=g,r(S,C.currentOffset(),C.currentPosition()),S}function a(C,g){const w=C.context(),{lastOffset:S,lastStartLoc:I}=w,O=n(5,S,I);return O.index=parseInt(g,10),C.nextToken(),r(O,C.currentOffset(),C.currentPosition()),O}function l(C,g){const w=C.context(),{lastOffset:S,lastStartLoc:I}=w,O=n(4,S,I);return O.key=g,C.nextToken(),r(O,C.currentOffset(),C.currentPosition()),O}function u(C,g){const w=C.context(),{lastOffset:S,lastStartLoc:I}=w,O=n(9,S,I);return O.value=g.replace(zwe,Kwe),C.nextToken(),r(O,C.currentOffset(),C.currentPosition()),O}function c(C){const g=C.nextToken(),w=C.context(),{lastOffset:S,lastStartLoc:I}=w,O=n(8,S,I);return g.type!==11?(s(C,wi.UNEXPECTED_EMPTY_LINKED_MODIFIER,w.lastStartLoc,0),O.value="",r(O,S,I),{nextConsumeToken:g,node:O}):(g.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,qr(g)),O.value=g.value||"",r(O,C.currentOffset(),C.currentPosition()),{node:O})}function h(C,g){const w=C.context(),S=n(7,w.offset,w.startLoc);return S.value=g,r(S,C.currentOffset(),C.currentPosition()),S}function A(C){const g=C.context(),w=n(6,g.offset,g.startLoc);let S=C.nextToken();if(S.type===8){const I=c(C);w.modifier=I.node,S=I.nextConsumeToken||C.nextToken()}switch(S.type!==9&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(S)),S=C.nextToken(),S.type===2&&(S=C.nextToken()),S.type){case 10:S.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(S)),w.key=h(C,S.value||"");break;case 4:S.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(S)),w.key=l(C,S.value||"");break;case 5:S.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(S)),w.key=a(C,S.value||"");break;case 6:S.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(S)),w.key=u(C,S.value||"");break;default:{s(C,wi.UNEXPECTED_EMPTY_LINKED_KEY,g.lastStartLoc,0);const I=C.context(),O=n(7,I.offset,I.startLoc);return O.value="",r(O,I.offset,I.startLoc),w.key=O,r(w,I.offset,I.startLoc),{nextConsumeToken:S,node:w}}}return r(w,C.currentOffset(),C.currentPosition()),{node:w}}function f(C){const g=C.context(),w=g.currentType===1?C.currentOffset():g.offset,S=g.currentType===1?g.endLoc:g.startLoc,I=n(2,w,S);I.items=[];let O=null;do{const k=O||C.nextToken();switch(O=null,k.type){case 0:k.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(k)),I.items.push(o(C,k.value||""));break;case 5:k.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(k)),I.items.push(a(C,k.value||""));break;case 4:k.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(k)),I.items.push(l(C,k.value||""));break;case 6:k.value==null&&s(C,wi.UNEXPECTED_LEXICAL_ANALYSIS,g.lastStartLoc,0,qr(k)),I.items.push(u(C,k.value||""));break;case 7:{const P=A(C);I.items.push(P.node),O=P.nextConsumeToken||null;break}}}while(g.currentType!==13&&g.currentType!==1);const U=g.currentType===1?g.lastOffset:C.currentOffset(),$=g.currentType===1?g.lastEndLoc:C.currentPosition();return r(I,U,$),I}function m(C,g,w,S){const I=C.context();let O=S.items.length===0;const U=n(1,g,w);U.cases=[],U.cases.push(S);do{const $=f(C);O||(O=$.items.length===0),U.cases.push($)}while(I.currentType!==13);return O&&s(C,wi.MUST_HAVE_MESSAGES_IN_PLURAL,w,0),r(U,C.currentOffset(),C.currentPosition()),U}function p(C){const g=C.context(),{offset:w,startLoc:S}=g,I=f(C);return g.currentType===13?I:m(C,w,S,I)}function x(C){const g=$we(C,En({},t)),w=g.context(),S=n(0,w.offset,w.startLoc);return e&&S.loc&&(S.loc.source=C),S.body=p(g),t.onCacheKey&&(S.cacheKey=t.onCacheKey(C)),w.currentType!==13&&s(g,wi.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,C[w.offset]||""),r(S,g.currentOffset(),g.currentPosition()),S}return{parse:x}}function qr(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function qwe(t,e={}){const i={ast:t,helpers:new Set};return{context:()=>i,helper:r=>(i.helpers.add(r),r)}}function XB(t,e){for(let i=0;i<t.length;i++)H2(t[i],e)}function H2(t,e){switch(t.type){case 1:XB(t.cases,e),e.helper("plural");break;case 2:XB(t.items,e);break;case 6:{H2(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Wwe(t,e={}){const i=qwe(t);i.helper("normalize"),t.body&&H2(t.body,i);const s=i.context();t.helpers=Array.from(s.helpers)}function Ywe(t){const e=t.body;return e.type===2?JB(e):e.cases.forEach(i=>JB(i)),t}function JB(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let i=0;i<t.items.length;i++){const s=t.items[i];if(!(s.type===3||s.type===9)||s.value==null)break;e.push(s.value)}if(e.length===t.items.length){t.static=N2(e);for(let i=0;i<t.items.length;i++){const s=t.items[i];(s.type===3||s.type===9)&&delete s.value}}}}function tc(t){switch(t.t=t.type,t.type){case 0:{const e=t;tc(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,i=e.cases;for(let s=0;s<i.length;s++)tc(i[s]);e.c=i,delete e.cases;break}case 2:{const e=t,i=e.items;for(let s=0;s<i.length;s++)tc(i[s]);e.i=i,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;tc(e.key),e.k=e.key,delete e.key,e.modifier&&(tc(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function Xwe(t,e){const{filename:i,breakLineCode:s,needIndent:n}=e,r=e.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:n,indentLevel:0};r&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(p,x){o.code+=p}function u(p,x=!0){const C=x?s:"";l(n?C+"  ".repeat(p):C)}function c(p=!0){const x=++o.indentLevel;p&&u(x)}function h(p=!0){const x=--o.indentLevel;p&&u(x)}function A(){u(o.indentLevel)}return{context:a,push:l,indent:c,deindent:h,newline:A,helper:p=>"_".concat(p),needIndent:()=>o.needIndent}}function Jwe(t,e){const{helper:i}=t;t.push("".concat(i("linked"),"(")),qc(t,e.key),e.modifier?(t.push(", "),qc(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Zwe(t,e){const{helper:i,needIndent:s}=t;t.push("".concat(i("normalize"),"([")),t.indent(s());const n=e.items.length;for(let r=0;r<n&&(qc(t,e.items[r]),r!==n-1);r++)t.push(", ");t.deindent(s()),t.push("])")}function eCe(t,e){const{helper:i,needIndent:s}=t;if(e.cases.length>1){t.push("".concat(i("plural"),"([")),t.indent(s());const n=e.cases.length;for(let r=0;r<n&&(qc(t,e.cases[r]),r!==n-1);r++)t.push(", ");t.deindent(s()),t.push("])")}}function tCe(t,e){e.body?qc(t,e.body):t.push("null")}function qc(t,e){const{helper:i}=t;switch(e.type){case 0:tCe(t,e);break;case 1:eCe(t,e);break;case 2:Zwe(t,e);break;case 6:Jwe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push("".concat(i("interpolate"),"(").concat(i("list"),"(").concat(e.index,"))"),e);break;case 4:t.push("".concat(i("interpolate"),"(").concat(i("named"),"(").concat(JSON.stringify(e.key),"))"),e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const iCe=(t,e={})=>{const i=gt(e.mode)?e.mode:"normal",s=gt(e.filename)?e.filename:"message.intl";e.sourceMap;const n=e.breakLineCode!=null?e.breakLineCode:i==="arrow"?";":"\n",r=e.needIndent?e.needIndent:i!=="arrow",o=t.helpers||[],a=Xwe(t,{filename:s,breakLineCode:n,needIndent:r});a.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(r),o.length>0&&(a.push("const { ".concat(N2(o.map(c=>"".concat(c,": _").concat(c)),", ")," } = ctx")),a.newline()),a.push("return "),qc(a,t),a.deindent(r),a.push("}"),delete t.helpers;const{code:l,map:u}=a.context();return{ast:t,code:l,map:u?u.toJSON():void 0}};function nCe(t,e={}){const i=En({},e),s=!!i.jit,n=!!i.minify,r=i.optimize==null?!0:i.optimize,a=Gwe(i).parse(t);return s?(r&&Ywe(a),n&&tc(a),{ast:a,code:""}):(Wwe(a,i),iCe(a,i))}/*!
  * core-base v10.0.6
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function sCe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Gl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Gl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Zy(t){return i=>rCe(i,t)}function rCe(t,e){const i=aCe(e);if(i==null)throw VA(0);if(Q2(i)===1){const r=uCe(i);return t.plural(r.reduce((o,a)=>[...o,ZB(t,a)],[]))}else return ZB(t,i)}const oCe=["b","body"];function aCe(t){return ul(t,oCe)}const lCe=["c","cases"];function uCe(t){return ul(t,lCe,[])}function ZB(t,e){const i=dCe(e);if(i!=null)return t.type==="text"?i:t.normalize([i]);{const s=ACe(e).reduce((n,r)=>[...n,jw(t,r)],[]);return t.normalize(s)}}const cCe=["s","static"];function dCe(t){return ul(t,cCe)}const hCe=["i","items"];function ACe(t){return ul(t,hCe,[])}function jw(t,e){const i=Q2(e);switch(i){case 3:return rg(e,i);case 9:return rg(e,i);case 4:{const s=e;if(Rr(s,"k")&&s.k)return t.interpolate(t.named(s.k));if(Rr(s,"key")&&s.key)return t.interpolate(t.named(s.key));throw VA(i)}case 5:{const s=e;if(Rr(s,"i")&&un(s.i))return t.interpolate(t.list(s.i));if(Rr(s,"index")&&un(s.index))return t.interpolate(t.list(s.index));throw VA(i)}case 6:{const s=e,n=mCe(s),r=vCe(s);return t.linked(jw(t,r),n?jw(t,n):void 0,t.type)}case 7:return rg(e,i);case 8:return rg(e,i);default:throw new Error("unhandled node on format message part: ".concat(i))}}const fCe=["t","type"];function Q2(t){return ul(t,fCe)}const pCe=["v","value"];function rg(t,e){const i=ul(t,pCe);if(i)return i;throw VA(e)}const gCe=["m","modifier"];function mCe(t){return ul(t,gCe)}const bCe=["k","key"];function vCe(t){const e=ul(t,bCe);if(e)return e;throw VA(6)}function ul(t,e,i){for(let s=0;s<e.length;s++){const n=e[s];if(Rr(t,n)&&t[n]!=null)return t[n]}return i}function VA(t){return new Error("unhandled node type: ".concat(t))}const yCe=t=>t;let og=Ti();function Wc(t){return gi(t)&&Q2(t)===0&&(Rr(t,"b")||Rr(t,"body"))}function wCe(t,e={}){let i=!1;const s=e.onError||Mwe;return e.onError=n=>{i=!0,s(n)},{...nCe(t,e),detectError:i}}function CCe(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&gt(t)){Ai(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||yCe)(t),n=og[s];if(n)return n;const{ast:r,detectError:o}=wCe(t,{...e,location:!1,jit:!0}),a=Zy(r);return o?a:og[s]=a}else{const i=t.cacheKey;if(i){const s=og[i];return s||(og[i]=Zy(t))}else return Zy(t)}}let $A=null;function ECe(t){$A=t}function xCe(t,e,i){$A&&$A.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:i})}const TCe=_Ce("function:translate");function _Ce(t){return e=>$A&&$A.emit(t,e)}const Go={INVALID_ARGUMENT:Rwe,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},SCe=24;function qo(t){return gb(t,null,void 0)}function V2(t,e){return e.locale!=null?e4(e.locale):e4(t.locale)}let e1;function e4(t){if(gt(t))return t;if(Mi(t)){if(t.resolvedOnce&&e1!=null)return e1;if(t.constructor.name==="Function"){const e=t();if(Dwe(e))throw qo(Go.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return e1=e}else throw qo(Go.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw qo(Go.NOT_SUPPORT_LOCALE_TYPE)}function BCe(t,e,i){return[...new Set([i,...nn(e)?e:gi(e)?Object.keys(e):gt(e)?[e]:[i]])]}function yP(t,e,i){const s=gt(i)?i:jA,n=t;n.__localeChainCache||(n.__localeChainCache=new Map);let r=n.__localeChainCache.get(s);if(!r){r=[];let o=[i];for(;nn(o);)o=t4(r,o,e);const a=nn(e)||!Zt(e)?e:e.default?e.default:null;o=gt(a)?[a]:a,nn(o)&&t4(r,o,!1),n.__localeChainCache.set(s,r)}return r}function t4(t,e,i){let s=!0;for(let n=0;n<e.length&&Ai(s);n++){const r=e[n];gt(r)&&(s=kCe(t,e[n],i))}return s}function kCe(t,e,i){let s;const n=e.split("-");do{const r=n.join("-");s=ICe(t,r,i),n.splice(-1,1)}while(n.length&&s===!0);return s}function ICe(t,e,i){let s=!1;if(!t.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const n=e.replace(/!/g,"");t.push(n),(nn(i)||Zt(i))&&i[n]&&(s=i[n])}return s}const cl=[];cl[0]={w:[0],i:[3,0],"[":[4],o:[7]};cl[1]={w:[1],".":[2],"[":[4],o:[7]};cl[2]={w:[2],i:[3,0],0:[3,0]};cl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};cl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};cl[5]={"'":[4,0],o:8,l:[5,0]};cl[6]={'"':[4,0],o:8,l:[6,0]};const DCe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function FCe(t){return DCe.test(t)}function PCe(t){const e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e===i&&(e===34||e===39)?t.slice(1,-1):t}function LCe(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function RCe(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:FCe(e)?PCe(e):"*"+e}function MCe(t){const e=[];let i=-1,s=0,n=0,r,o,a,l,u,c,h;const A=[];A[0]=()=>{o===void 0?o=a:o+=a},A[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},A[2]=()=>{A[0](),n++},A[3]=()=>{if(n>0)n--,s=4,A[0]();else{if(n=0,o===void 0||(o=RCe(o),o===!1))return!1;A[1]()}};function f(){const m=t[i+1];if(s===5&&m==="'"||s===6&&m==='"')return i++,a="\\"+m,A[0](),!0}for(;s!==null;)if(i++,r=t[i],!(r==="\\"&&f())){if(l=LCe(r),h=cl[s],u=h[l]||h.l||8,u===8||(s=u[0],u[1]!==void 0&&(c=A[u[1]],c&&(a=r,c()===!1))))return;if(s===7)return e}}const i4=new Map;function OCe(t,e){return gi(t)?t[e]:null}function UCe(t,e){if(!gi(t))return null;let i=i4.get(e);if(i||(i=MCe(e),i&&i4.set(e,i)),!i)return null;const s=i.length;let n=t,r=0;for(;r<s;){const o=n[i[r]];if(o===void 0||Mi(n))return null;n=o,r++}return n}const NCe="10.0.6",mb=-1,jA="en-US",n4="",s4=t=>"".concat(t.charAt(0).toLocaleUpperCase()).concat(t.substr(1));function HCe(){return{upper:(t,e)=>e==="text"&&gt(t)?t.toUpperCase():e==="vnode"&&gi(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&gt(t)?t.toLowerCase():e==="vnode"&&gi(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&gt(t)?s4(t):e==="vnode"&&gi(t)&&"__v_isVNode"in t?s4(t.children):t}}let wP;function QCe(t){wP=t}let CP;function VCe(t){CP=t}let EP;function $Ce(t){EP=t}let xP=null;const jCe=t=>{xP=t},zCe=()=>xP;let TP=null;const r4=t=>{TP=t},KCe=()=>TP;let o4=0;function GCe(t={}){const e=Mi(t.onWarn)?t.onWarn:Pwe,i=gt(t.version)?t.version:NCe,s=gt(t.locale)||Mi(t.locale)?t.locale:jA,n=Mi(s)?jA:s,r=nn(t.fallbackLocale)||Zt(t.fallbackLocale)||gt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:n,o=Zt(t.messages)?t.messages:t1(n),a=Zt(t.datetimeFormats)?t.datetimeFormats:t1(n),l=Zt(t.numberFormats)?t.numberFormats:t1(n),u=En(Ti(),t.modifiers,HCe()),c=t.pluralRules||Ti(),h=Mi(t.missing)?t.missing:null,A=Ai(t.missingWarn)||Gc(t.missingWarn)?t.missingWarn:!0,f=Ai(t.fallbackWarn)||Gc(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,p=!!t.unresolving,x=Mi(t.postTranslation)?t.postTranslation:null,C=Zt(t.processor)?t.processor:null,g=Ai(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,S=Mi(t.messageCompiler)?t.messageCompiler:wP,I=Mi(t.messageResolver)?t.messageResolver:CP||OCe,O=Mi(t.localeFallbacker)?t.localeFallbacker:EP||BCe,U=gi(t.fallbackContext)?t.fallbackContext:void 0,$=t,k=gi($.__datetimeFormatters)?$.__datetimeFormatters:new Map,P=gi($.__numberFormatters)?$.__numberFormatters:new Map,T=gi($.__meta)?$.__meta:{};o4++;const R={version:i,cid:o4,locale:s,fallbackLocale:r,messages:o,modifiers:u,pluralRules:c,missing:h,missingWarn:A,fallbackWarn:f,fallbackFormat:m,unresolving:p,postTranslation:x,processor:C,warnHtmlMessage:g,escapeParameter:w,messageCompiler:S,messageResolver:I,localeFallbacker:O,fallbackContext:U,onWarn:e,__meta:T};return R.datetimeFormats=a,R.numberFormats=l,R.__datetimeFormatters=k,R.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&xCe(R,i,T),R}const t1=t=>({[t]:Ti()});function $2(t,e,i,s,n){const{missing:r,onWarn:o}=t;if(r!==null){const a=r(t,i,e,n);return gt(a)?a:e}else return e}function _h(t,e,i){const s=t;s.__localeChainCache=new Map,t.localeFallbacker(t,i,e)}function qCe(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function WCe(t,e){const i=e.indexOf(t);if(i===-1)return!1;for(let s=i+1;s<e.length;s++)if(qCe(t,e[s]))return!0;return!1}function a4(t,...e){const{datetimeFormats:i,unresolving:s,fallbackLocale:n,onWarn:r,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,u,c,h]=zw(...e),A=Ai(c.missingWarn)?c.missingWarn:t.missingWarn;Ai(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const f=!!c.part,m=V2(t,c),p=o(t,n,m);if(!gt(l)||l==="")return new Intl.DateTimeFormat(m,h).format(u);let x={},C,g=null;const w="datetime format";for(let O=0;O<p.length&&(C=p[O],x=i[C]||{},g=x[l],!Zt(g));O++)$2(t,l,C,A,w);if(!Zt(g)||!gt(C))return s?mb:l;let S="".concat(C,"__").concat(l);pb(h)||(S="".concat(S,"__").concat(JSON.stringify(h)));let I=a.get(S);return I||(I=new Intl.DateTimeFormat(C,En({},g,h)),a.set(S,I)),f?I.formatToParts(u):I.format(u)}const _P=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function zw(...t){const[e,i,s,n]=t,r=Ti();let o=Ti(),a;if(gt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw qo(Go.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?"".concat(l[1].trim()).concat(l[3].trim()):"".concat(l[1].trim(),"T").concat(l[3].trim()):l[1].trim();a=new Date(u);try{a.toISOString()}catch{throw qo(Go.INVALID_ISO_DATE_ARGUMENT)}}else if(Bwe(e)){if(isNaN(e.getTime()))throw qo(Go.INVALID_DATE_ARGUMENT);a=e}else if(un(e))a=e;else throw qo(Go.INVALID_ARGUMENT);return gt(i)?r.key=i:Zt(i)&&Object.keys(i).forEach(l=>{_P.includes(l)?o[l]=i[l]:r[l]=i[l]}),gt(s)?r.locale=s:Zt(s)&&(o=s),Zt(n)&&(o=n),[r.key||"",a,r,o]}function l4(t,e,i){const s=t;for(const n in i){const r="".concat(e,"__").concat(n);s.__datetimeFormatters.has(r)&&s.__datetimeFormatters.delete(r)}}function u4(t,...e){const{numberFormats:i,unresolving:s,fallbackLocale:n,onWarn:r,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,u,c,h]=Kw(...e),A=Ai(c.missingWarn)?c.missingWarn:t.missingWarn;Ai(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const f=!!c.part,m=V2(t,c),p=o(t,n,m);if(!gt(l)||l==="")return new Intl.NumberFormat(m,h).format(u);let x={},C,g=null;const w="number format";for(let O=0;O<p.length&&(C=p[O],x=i[C]||{},g=x[l],!Zt(g));O++)$2(t,l,C,A,w);if(!Zt(g)||!gt(C))return s?mb:l;let S="".concat(C,"__").concat(l);pb(h)||(S="".concat(S,"__").concat(JSON.stringify(h)));let I=a.get(S);return I||(I=new Intl.NumberFormat(C,En({},g,h)),a.set(S,I)),f?I.formatToParts(u):I.format(u)}const SP=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Kw(...t){const[e,i,s,n]=t,r=Ti();let o=Ti();if(!un(e))throw qo(Go.INVALID_ARGUMENT);const a=e;return gt(i)?r.key=i:Zt(i)&&Object.keys(i).forEach(l=>{SP.includes(l)?o[l]=i[l]:r[l]=i[l]}),gt(s)?r.locale=s:Zt(s)&&(o=s),Zt(n)&&(o=n),[r.key||"",a,r,o]}function c4(t,e,i){const s=t;for(const n in i){const r="".concat(e,"__").concat(n);s.__numberFormatters.has(r)&&s.__numberFormatters.delete(r)}}const YCe=t=>t,XCe=t=>"",JCe="text",ZCe=t=>t.length===0?"":N2(t),e2e=Fwe;function d4(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function t2e(t){const e=un(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(un(t.named.count)||un(t.named.n))?un(t.named.count)?t.named.count:un(t.named.n)?t.named.n:e:e}function i2e(t,e){e.count||(e.count=t),e.n||(e.n=t)}function n2e(t={}){const e=t.locale,i=t2e(t),s=gi(t.pluralRules)&&gt(e)&&Mi(t.pluralRules[e])?t.pluralRules[e]:d4,n=gi(t.pluralRules)&&gt(e)&&Mi(t.pluralRules[e])?d4:void 0,r=C=>C[s(i,C.length,n)],o=t.list||[],a=C=>o[C],l=t.named||Ti();un(t.pluralIndex)&&i2e(i,l);const u=C=>l[C];function c(C,g){const w=Mi(t.messages)?t.messages(C,!!g):gi(t.messages)?t.messages[C]:!1;return w||(t.parent?t.parent.message(C):XCe)}const h=C=>t.modifiers?t.modifiers[C]:YCe,A=Zt(t.processor)&&Mi(t.processor.normalize)?t.processor.normalize:ZCe,f=Zt(t.processor)&&Mi(t.processor.interpolate)?t.processor.interpolate:e2e,m=Zt(t.processor)&&gt(t.processor.type)?t.processor.type:JCe,x={list:a,named:u,plural:r,linked:(C,...g)=>{const[w,S]=g;let I="text",O="";g.length===1?gi(w)?(O=w.modifier||O,I=w.type||I):gt(w)&&(O=w||O):g.length===2&&(gt(w)&&(O=w||O),gt(S)&&(I=S||I));const U=c(C,!0)(x),$=I==="vnode"&&nn(U)&&O?U[0]:U;return O?h(O)($,I):$},message:c,type:m,interpolate:f,normalize:A,values:En(Ti(),o,l)};return x}const h4=()=>"",gr=t=>Mi(t);function A4(t,...e){const{fallbackFormat:i,postTranslation:s,unresolving:n,messageCompiler:r,fallbackLocale:o,messages:a}=t,[l,u]=Gw(...e),c=Ai(u.missingWarn)?u.missingWarn:t.missingWarn,h=Ai(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,A=Ai(u.escapeParameter)?u.escapeParameter:t.escapeParameter,f=!!u.resolvedMessage,m=gt(u.default)||Ai(u.default)?Ai(u.default)?r?l:()=>l:u.default:i?r?l:()=>l:null,p=i||m!=null&&(gt(m)||Mi(m)),x=V2(t,u);A&&s2e(u);let[C,g,w]=f?[l,x,a[x]||Ti()]:BP(t,l,x,o,h,c),S=C,I=l;if(!f&&!(gt(S)||Wc(S)||gr(S))&&p&&(S=m,I=S),!f&&(!(gt(S)||Wc(S)||gr(S))||!gt(g)))return n?mb:l;let O=!1;const U=()=>{O=!0},$=gr(S)?S:kP(t,l,g,S,I,U);if(O)return S;const k=a2e(t,g,w,u),P=n2e(k),T=r2e(t,$,P),R=s?s(T,l):T;if(__INTLIFY_PROD_DEVTOOLS__){const E={timestamp:Date.now(),key:gt(l)?l:gr(S)?S.key:"",locale:g||(gr(S)?S.locale:""),format:gt(S)?S:gr(S)?S.source:"",message:R};E.meta=En({},t.__meta,zCe()||{}),TCe(E)}return R}function s2e(t){nn(t.list)?t.list=t.list.map(e=>gt(e)?WB(e):e):gi(t.named)&&Object.keys(t.named).forEach(e=>{gt(t.named[e])&&(t.named[e]=WB(t.named[e]))})}function BP(t,e,i,s,n,r){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:u}=t,c=u(t,s,i);let h=Ti(),A,f=null;const m="translate";for(let p=0;p<c.length&&(A=c[p],h=o[A]||Ti(),(f=l(h,e))===null&&(f=h[e]),!(gt(f)||Wc(f)||gr(f)));p++)if(!WCe(A,c)){const x=$2(t,e,A,r,m);x!==e&&(f=x)}return[f,A,h]}function kP(t,e,i,s,n,r){const{messageCompiler:o,warnHtmlMessage:a}=t;if(gr(s)){const u=s;return u.locale=u.locale||i,u.key=u.key||e,u}if(o==null){const u=()=>s;return u.locale=i,u.key=e,u}const l=o(s,o2e(t,i,n,s,a,r));return l.locale=i,l.key=e,l.source=s,l}function r2e(t,e,i){return e(i)}function Gw(...t){const[e,i,s]=t,n=Ti();if(!gt(e)&&!un(e)&&!gr(e)&&!Wc(e))throw qo(Go.INVALID_ARGUMENT);const r=un(e)?String(e):(gr(e),e);return un(i)?n.plural=i:gt(i)?n.default=i:Zt(i)&&!pb(i)?n.named=i:nn(i)&&(n.list=i),un(s)?n.plural=s:gt(s)?n.default=s:Zt(s)&&En(n,s),[r,n]}function o2e(t,e,i,s,n,r){return{locale:e,key:i,warnHtmlMessage:n,onError:o=>{throw r&&r(o),o},onCacheKey:o=>_we(e,i,o)}}function a2e(t,e,i,s){const{modifiers:n,pluralRules:r,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,A={locale:e,modifiers:n,pluralRules:r,messages:(f,m)=>{let p=o(i,f);if(p==null&&(c||m)){const[,,x]=BP(c||t,f,e,a,l,u);p=o(x,f)}if(gt(p)||Wc(p)){let x=!1;const g=kP(t,f,e,p,f,()=>{x=!0});return x?h4:g}else return gr(p)?p:h4}};return t.processor&&(A.processor=t.processor),s.list&&(A.list=s.list),s.named&&(A.named=s.named),un(s.plural)&&(A.pluralIndex=s.plural),A}sCe();/*!
  * vue-i18n v10.0.6
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const l2e="10.0.6";function u2e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Gl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Gl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Gl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Gl().__INTLIFY_PROD_DEVTOOLS__=!1)}const ms={UNEXPECTED_RETURN_TYPE:SCe,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Ps(t,...e){return gb(t,null,void 0)}const qw=ll("__translateVNode"),Ww=ll("__datetimeParts"),Yw=ll("__numberParts"),IP=ll("__setPluralRules"),DP=ll("__injectWithOption"),Xw=ll("__dispose");function zA(t){if(!gi(t))return t;for(const e in t)if(Rr(t,e))if(!e.includes("."))gi(t[e])&&zA(t[e]);else{const i=e.split("."),s=i.length-1;let n=t,r=!1;for(let o=0;o<s;o++){if(i[o]==="__proto__")throw new Error("unsafe key: ".concat(i[o]));if(i[o]in n||(n[i[o]]=Ti()),!gi(n[i[o]])){r=!0;break}n=n[i[o]]}r||(n[i[s]]=t[e],delete t[e]),gi(n[i[s]])&&zA(n[i[s]])}return t}function j2(t,e){const{messages:i,__i18n:s,messageResolver:n,flatJson:r}=e,o=Zt(i)?i:nn(s)?Ti():{[t]:Ti()};if(nn(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:u}=a;l?(o[l]=o[l]||Ti(),Hg(u,o[l])):Hg(u,o)}else gt(a)&&Hg(JSON.parse(a),o)}),n==null&&r)for(const a in o)Rr(o,a)&&zA(o[a]);return o}function FP(t){return t.type}function PP(t,e,i){let s=gi(e.messages)?e.messages:Ti();"__i18nGlobal"in i&&(s=j2(t.locale.value,{messages:s,__i18n:i.__i18nGlobal}));const n=Object.keys(s);n.length&&n.forEach(r=>{t.mergeLocaleMessage(r,s[r])});{if(gi(e.datetimeFormats)){const r=Object.keys(e.datetimeFormats);r.length&&r.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(gi(e.numberFormats)){const r=Object.keys(e.numberFormats);r.length&&r.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function f4(t){return Vt(WA,null,t,0)}const p4="__INTLIFY_META__",g4=()=>[],c2e=()=>!1;let m4=0;function b4(t){return(e,i,s,n)=>t(i,s,ea()||void 0,n)}const d2e=()=>{const t=ea();let e=null;return t&&(e=FP(t)[p4])?{[p4]:e}:null};function z2(t={}){const{__root:e,__injectWithOption:i}=t,s=e===void 0,n=t.flatJson,r=d0?J4:nR;let o=Ai(t.inheritLocale)?t.inheritLocale:!0;const a=r(e&&o?e.locale.value:gt(t.locale)?t.locale:jA),l=r(e&&o?e.fallbackLocale.value:gt(t.fallbackLocale)||nn(t.fallbackLocale)||Zt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),u=r(j2(a.value,t)),c=r(Zt(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),h=r(Zt(t.numberFormats)?t.numberFormats:{[a.value]:{}});let A=e?e.missingWarn:Ai(t.missingWarn)||Gc(t.missingWarn)?t.missingWarn:!0,f=e?e.fallbackWarn:Ai(t.fallbackWarn)||Gc(t.fallbackWarn)?t.fallbackWarn:!0,m=e?e.fallbackRoot:Ai(t.fallbackRoot)?t.fallbackRoot:!0,p=!!t.fallbackFormat,x=Mi(t.missing)?t.missing:null,C=Mi(t.missing)?b4(t.missing):null,g=Mi(t.postTranslation)?t.postTranslation:null,w=e?e.warnHtmlMessage:Ai(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter;const I=e?e.modifiers:Zt(t.modifiers)?t.modifiers:{};let O=t.pluralRules||e&&e.pluralRules,U;U=(()=>{s&&r4(null);const _e={version:l2e,locale:a.value,fallbackLocale:l.value,messages:u.value,modifiers:I,pluralRules:O,missing:C===null?void 0:C,missingWarn:A,fallbackWarn:f,fallbackFormat:p,unresolving:!0,postTranslation:g===null?void 0:g,warnHtmlMessage:w,escapeParameter:S,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};_e.datetimeFormats=c.value,_e.numberFormats=h.value,_e.__datetimeFormatters=Zt(U)?U.__datetimeFormatters:void 0,_e.__numberFormatters=Zt(U)?U.__numberFormatters:void 0;const Pe=GCe(_e);return s&&r4(Pe),Pe})(),_h(U,a.value,l.value);function k(){return[a.value,l.value,u.value,c.value,h.value]}const P=qu({get:()=>a.value,set:_e=>{a.value=_e,U.locale=a.value}}),T=qu({get:()=>l.value,set:_e=>{l.value=_e,U.fallbackLocale=l.value,_h(U,a.value,_e)}}),R=qu(()=>u.value),E=qu(()=>c.value),_=qu(()=>h.value);function F(){return Mi(g)?g:null}function V(_e){g=_e,U.postTranslation=_e}function Q(){return x}function G(_e){_e!==null&&(C=b4(_e)),x=_e,U.missing=C}const Y=(_e,Pe,Ye,lt,ut,Dt)=>{k();let At;try{__INTLIFY_PROD_DEVTOOLS__,s||(U.fallbackContext=e?KCe():void 0),At=_e(U)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(U.fallbackContext=void 0)}if(Ye!=="translate exists"&&un(At)&&At===mb||Ye==="translate exists"&&!At){const[Rt,pt]=Pe();return e&&m?lt(e):ut(Rt)}else{if(Dt(At))return At;throw Ps(ms.UNEXPECTED_RETURN_TYPE)}};function ee(..._e){return Y(Pe=>Reflect.apply(A4,null,[Pe,..._e]),()=>Gw(..._e),"translate",Pe=>Reflect.apply(Pe.t,Pe,[..._e]),Pe=>Pe,Pe=>gt(Pe))}function W(..._e){const[Pe,Ye,lt]=_e;if(lt&&!gi(lt))throw Ps(ms.INVALID_ARGUMENT);return ee(Pe,Ye,En({resolvedMessage:!0},lt||{}))}function ge(..._e){return Y(Pe=>Reflect.apply(a4,null,[Pe,..._e]),()=>zw(..._e),"datetime format",Pe=>Reflect.apply(Pe.d,Pe,[..._e]),()=>n4,Pe=>gt(Pe))}function ce(..._e){return Y(Pe=>Reflect.apply(u4,null,[Pe,..._e]),()=>Kw(..._e),"number format",Pe=>Reflect.apply(Pe.n,Pe,[..._e]),()=>n4,Pe=>gt(Pe))}function we(_e){return _e.map(Pe=>gt(Pe)||un(Pe)||Ai(Pe)?f4(String(Pe)):Pe)}const Oe={normalize:we,interpolate:_e=>_e,type:"vnode"};function de(..._e){return Y(Pe=>{let Ye;const lt=Pe;try{lt.processor=Oe,Ye=Reflect.apply(A4,null,[lt,..._e])}finally{lt.processor=null}return Ye},()=>Gw(..._e),"translate",Pe=>Pe[qw](..._e),Pe=>[f4(Pe)],Pe=>nn(Pe))}function Te(..._e){return Y(Pe=>Reflect.apply(u4,null,[Pe,..._e]),()=>Kw(..._e),"number format",Pe=>Pe[Yw](..._e),g4,Pe=>gt(Pe)||nn(Pe))}function xe(..._e){return Y(Pe=>Reflect.apply(a4,null,[Pe,..._e]),()=>zw(..._e),"datetime format",Pe=>Pe[Ww](..._e),g4,Pe=>gt(Pe)||nn(Pe))}function He(_e){O=_e,U.pluralRules=O}function $e(_e,Pe){return Y(()=>{if(!_e)return!1;const Ye=gt(Pe)?Pe:a.value,lt=De(Ye),ut=U.messageResolver(lt,_e);return Wc(ut)||gr(ut)||gt(ut)},()=>[_e],"translate exists",Ye=>Reflect.apply(Ye.te,Ye,[_e,Pe]),c2e,Ye=>Ai(Ye))}function oe(_e){let Pe=null;const Ye=yP(U,l.value,a.value);for(let lt=0;lt<Ye.length;lt++){const ut=u.value[Ye[lt]]||{},Dt=U.messageResolver(ut,_e);if(Dt!=null){Pe=Dt;break}}return Pe}function Ae(_e){const Pe=oe(_e);return Pe!=null?Pe:e?e.tm(_e)||{}:{}}function De(_e){return u.value[_e]||{}}function Ie(_e,Pe){if(n){const Ye={[_e]:Pe};for(const lt in Ye)Rr(Ye,lt)&&zA(Ye[lt]);Pe=Ye[_e]}u.value[_e]=Pe,U.messages=u.value}function Re(_e,Pe){u.value[_e]=u.value[_e]||{};const Ye={[_e]:Pe};if(n)for(const lt in Ye)Rr(Ye,lt)&&zA(Ye[lt]);Pe=Ye[_e],Hg(Pe,u.value[_e]),U.messages=u.value}function X(_e){return c.value[_e]||{}}function ae(_e,Pe){c.value[_e]=Pe,U.datetimeFormats=c.value,l4(U,_e,Pe)}function le(_e,Pe){c.value[_e]=En(c.value[_e]||{},Pe),U.datetimeFormats=c.value,l4(U,_e,Pe)}function ye(_e){return h.value[_e]||{}}function ke(_e,Pe){h.value[_e]=Pe,U.numberFormats=h.value,c4(U,_e,Pe)}function Qe(_e,Pe){h.value[_e]=En(h.value[_e]||{},Pe),U.numberFormats=h.value,c4(U,_e,Pe)}m4++,e&&d0&&(Ga(e.locale,_e=>{o&&(a.value=_e,U.locale=_e,_h(U,a.value,l.value))}),Ga(e.fallbackLocale,_e=>{o&&(l.value=_e,U.fallbackLocale=_e,_h(U,a.value,l.value))}));const Ve={id:m4,locale:P,fallbackLocale:T,get inheritLocale(){return o},set inheritLocale(_e){o=_e,_e&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,_h(U,a.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:R,get modifiers(){return I},get pluralRules(){return O||{}},get isGlobal(){return s},get missingWarn(){return A},set missingWarn(_e){A=_e,U.missingWarn=A},get fallbackWarn(){return f},set fallbackWarn(_e){f=_e,U.fallbackWarn=f},get fallbackRoot(){return m},set fallbackRoot(_e){m=_e},get fallbackFormat(){return p},set fallbackFormat(_e){p=_e,U.fallbackFormat=p},get warnHtmlMessage(){return w},set warnHtmlMessage(_e){w=_e,U.warnHtmlMessage=_e},get escapeParameter(){return S},set escapeParameter(_e){S=_e,U.escapeParameter=_e},t:ee,getLocaleMessage:De,setLocaleMessage:Ie,mergeLocaleMessage:Re,getPostTranslationHandler:F,setPostTranslationHandler:V,getMissingHandler:Q,setMissingHandler:G,[IP]:He};return Ve.datetimeFormats=E,Ve.numberFormats=_,Ve.rt=W,Ve.te=$e,Ve.tm=Ae,Ve.d=ge,Ve.n=ce,Ve.getDateTimeFormat=X,Ve.setDateTimeFormat=ae,Ve.mergeDateTimeFormat=le,Ve.getNumberFormat=ye,Ve.setNumberFormat=ke,Ve.mergeNumberFormat=Qe,Ve[DP]=i,Ve[qw]=de,Ve[Ww]=xe,Ve[Yw]=Te,Ve}function h2e(t){const e=gt(t.locale)?t.locale:jA,i=gt(t.fallbackLocale)||nn(t.fallbackLocale)||Zt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,s=Mi(t.missing)?t.missing:void 0,n=Ai(t.silentTranslationWarn)||Gc(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,r=Ai(t.silentFallbackWarn)||Gc(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ai(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Zt(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,c=Mi(t.postTranslation)?t.postTranslation:void 0,h=gt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,A=!!t.escapeParameterHtml,f=Ai(t.sync)?t.sync:!0;let m=t.messages;if(Zt(t.sharedMessages)){const I=t.sharedMessages;m=Object.keys(I).reduce((U,$)=>{const k=U[$]||(U[$]={});return En(k,I[$]),U},m||{})}const{__i18n:p,__root:x,__injectWithOption:C}=t,g=t.datetimeFormats,w=t.numberFormats,S=t.flatJson;return{locale:e,fallbackLocale:i,messages:m,flatJson:S,datetimeFormats:g,numberFormats:w,missing:s,missingWarn:n,fallbackWarn:r,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:h,escapeParameter:A,messageResolver:t.messageResolver,inheritLocale:f,__i18n:p,__root:x,__injectWithOption:C}}function Jw(t={}){const e=z2(h2e(t)),{__extender:i}=t,s={id:e.id,get locale(){return e.locale.value},set locale(n){e.locale.value=n},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(n){e.fallbackLocale.value=n},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(n){e.setMissingHandler(n)},get silentTranslationWarn(){return Ai(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(n){e.missingWarn=Ai(n)?!n:n},get silentFallbackWarn(){return Ai(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(n){e.fallbackWarn=Ai(n)?!n:n},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(n){e.fallbackFormat=n},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(n){e.setPostTranslationHandler(n)},get sync(){return e.inheritLocale},set sync(n){e.inheritLocale=n},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){e.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(n){e.escapeParameter=n},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...n){return Reflect.apply(e.t,e,[...n])},rt(...n){return Reflect.apply(e.rt,e,[...n])},tc(...n){const[r,o,a]=n,l={plural:1};let u=null,c=null;if(!gt(r))throw Ps(ms.INVALID_ARGUMENT);const h=r;return gt(o)?l.locale=o:un(o)?l.plural=o:nn(o)?u=o:Zt(o)&&(c=o),gt(a)?l.locale=a:nn(a)?u=a:Zt(a)&&(c=a),Reflect.apply(e.t,e,[h,u||c||{},l])},te(n,r){return e.te(n,r)},tm(n){return e.tm(n)},getLocaleMessage(n){return e.getLocaleMessage(n)},setLocaleMessage(n,r){e.setLocaleMessage(n,r)},mergeLocaleMessage(n,r){e.mergeLocaleMessage(n,r)},d(...n){return Reflect.apply(e.d,e,[...n])},getDateTimeFormat(n){return e.getDateTimeFormat(n)},setDateTimeFormat(n,r){e.setDateTimeFormat(n,r)},mergeDateTimeFormat(n,r){e.mergeDateTimeFormat(n,r)},n(...n){return Reflect.apply(e.n,e,[...n])},getNumberFormat(n){return e.getNumberFormat(n)},setNumberFormat(n,r){e.setNumberFormat(n,r)},mergeNumberFormat(n,r){e.mergeNumberFormat(n,r)}};return s.__extender=i,s}function A2e(t,e,i){return{beforeCreate(){const s=ea();if(!s)throw Ps(ms.UNEXPECTED_ERROR);const n=this.$options;if(n.i18n){const r=n.i18n;if(n.__i18n&&(r.__i18n=n.__i18n),r.__root=e,this===this.$root)this.$i18n=v4(t,r);else{r.__injectWithOption=!0,r.__extender=i.__vueI18nExtend,this.$i18n=Jw(r);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(n.__i18n)if(this===this.$root)this.$i18n=v4(t,n);else{this.$i18n=Jw({__i18n:n.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:e});const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}else this.$i18n=t;n.__i18nGlobal&&PP(e,n,n),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$tc=(...r)=>this.$i18n.tc(...r),this.$te=(r,o)=>this.$i18n.te(r,o),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r),i.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=ea();if(!s)throw Ps(ms.UNEXPECTED_ERROR);const n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__disposer&&(n.__disposer(),delete n.__disposer,delete n.__extender),i.__deleteInstance(s),delete this.$i18n}}}function v4(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[IP](e.pluralizationRules||t.pluralizationRules);const i=j2(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(i).forEach(s=>t.mergeLocaleMessage(s,i[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>t.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>t.mergeNumberFormat(s,e.numberFormats[s])),t}const K2={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function f2e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((s,n)=>[...s,...n.type===vt?n.children:[n]],[]):e.reduce((i,s)=>{const n=t[s];return n&&(i[s]=n()),i},Ti())}function LP(){return vt}const p2e=Yc({name:"i18n-t",props:En({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>un(t)||!isNaN(t)}},K2),setup(t,e){const{slots:i,attrs:s}=e,n=t.i18n||G2({useScope:t.scope,__useComponent:!0});return()=>{const r=Object.keys(i).filter(h=>h!=="_"),o=Ti();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=gt(t.plural)?+t.plural:t.plural);const a=f2e(e,r),l=n[qw](t.keypath,a,o),u=En(Ti(),s),c=gt(t.tag)||gi(t.tag)?t.tag:LP();return mr(c,u,l)}}}),y4=p2e;function g2e(t){return nn(t)&&!gt(t[0])}function RP(t,e,i,s){const{slots:n,attrs:r}=e;return()=>{const o={part:!0};let a=Ti();t.locale&&(o.locale=t.locale),gt(t.format)?o.key=t.format:gi(t.format)&&(gt(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((A,f)=>i.includes(f)?En(Ti(),A,{[f]:t.format[f]}):A,Ti()));const l=s(t.value,o,a);let u=[o.key];nn(l)?u=l.map((A,f)=>{const m=n[A.type],p=m?m({[A.type]:A.value,index:f,parts:l}):[A.value];return g2e(p)&&(p[0].key="".concat(A.type,"-").concat(f)),p}):gt(l)&&(u=[l]);const c=En(Ti(),r),h=gt(t.tag)||gi(t.tag)?t.tag:LP();return mr(h,c,u)}}const m2e=Yc({name:"i18n-n",props:En({value:{type:Number,required:!0},format:{type:[String,Object]}},K2),setup(t,e){const i=t.i18n||G2({useScope:t.scope,__useComponent:!0});return RP(t,e,SP,(...s)=>i[Yw](...s))}}),w4=m2e,b2e=Yc({name:"i18n-d",props:En({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},K2),setup(t,e){const i=t.i18n||G2({useScope:t.scope,__useComponent:!0});return RP(t,e,_P,(...s)=>i[Ww](...s))}}),C4=b2e;function v2e(t,e){const i=t;if(t.mode==="composition")return i.__getInstance(e)||t.global;{const s=i.__getInstance(e);return s!=null?s.__composer:t.global.__composer}}function y2e(t){const e=o=>{const{instance:a,value:l}=o;if(!a||!a.$)throw Ps(ms.UNEXPECTED_ERROR);const u=v2e(t,a.$),c=E4(l);return[Reflect.apply(u.t,u,[...x4(c)]),u]};return{created:(o,a)=>{const[l,u]=e(a);d0&&t.global===u&&(o.__i18nWatcher=Ga(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{d0&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,u=E4(a);o.textContent=Reflect.apply(l.t,l,[...x4(u)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function E4(t){if(gt(t))return{path:t};if(Zt(t)){if(!("path"in t))throw Ps(ms.REQUIRED_VALUE,"path");return t}else throw Ps(ms.INVALID_VALUE)}function x4(t){const{path:e,locale:i,args:s,choice:n,plural:r}=t,o={},a=s||{};return gt(i)&&(o.locale=i),un(n)&&(o.plural=n),un(r)&&(o.plural=r),[e,a,o]}function w2e(t,e,...i){const s=Zt(i[0])?i[0]:{};(Ai(s.globalInstall)?s.globalInstall:!0)&&([y4.name,"I18nT"].forEach(r=>t.component(r,y4)),[w4.name,"I18nN"].forEach(r=>t.component(r,w4)),[C4.name,"I18nD"].forEach(r=>t.component(r,C4))),t.directive("t",y2e(e))}const C2e=ll("global-vue-i18n");function E2e(t={},e){const i=__VUE_I18N_LEGACY_API__&&Ai(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,s=Ai(t.globalInjection)?t.globalInjection:!0,n=new Map,[r,o]=x2e(t,i),a=ll("");function l(A){return n.get(A)||null}function u(A,f){n.set(A,f)}function c(A){n.delete(A)}const h={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},async install(A,...f){if(A.__VUE_I18N_SYMBOL__=a,A.provide(A.__VUE_I18N_SYMBOL__,h),Zt(f[0])){const x=f[0];h.__composerExtend=x.__composerExtend,h.__vueI18nExtend=x.__vueI18nExtend}let m=null;!i&&s&&(m=F2e(A,h.global)),__VUE_I18N_FULL_INSTALL__&&w2e(A,h,...f),__VUE_I18N_LEGACY_API__&&i&&A.mixin(A2e(o,o.__composer,h));const p=A.unmount;A.unmount=()=>{m&&m(),h.dispose(),p()}},get global(){return o},dispose(){r.stop()},__instances:n,__getInstance:l,__setInstance:u,__deleteInstance:c};return h}function G2(t={}){const e=ea();if(e==null)throw Ps(ms.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ps(ms.NOT_INSTALLED);const i=T2e(e),s=S2e(i),n=FP(e),r=_2e(t,n);if(r==="global")return PP(s,t,n),s;if(r==="parent"){let l=B2e(i,e,t.__useComponent);return l==null&&(l=s),l}const o=i;let a=o.__getInstance(e);if(a==null){const l=En({},t);"__i18n"in n&&(l.__i18n=n.__i18n),s&&(l.__root=s),a=z2(l),o.__composerExtend&&(a[Xw]=o.__composerExtend(a)),I2e(o,e,a),o.__setInstance(e,a)}return a}function x2e(t,e,i){const s=FL(),n=__VUE_I18N_LEGACY_API__&&e?s.run(()=>Jw(t)):s.run(()=>z2(t));if(n==null)throw Ps(ms.UNEXPECTED_ERROR);return[s,n]}function T2e(t){const e=Wh(t.isCE?C2e:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ps(t.isCE?ms.NOT_INSTALLED_WITH_PROVIDE:ms.UNEXPECTED_ERROR);return e}function _2e(t,e){return pb(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function S2e(t){return t.mode==="composition"?t.global:t.global.__composer}function B2e(t,e,i=!1){let s=null;const n=e.root;let r=k2e(e,i);for(;r!=null;){const o=t;if(t.mode==="composition")s=o.__getInstance(r);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(r);a!=null&&(s=a.__composer,i&&s&&!s[DP]&&(s=null))}if(s!=null||n===r)break;r=r.parent}return s}function k2e(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function I2e(t,e,i){qA(()=>{},e),E0(()=>{const s=i;t.__deleteInstance(e);const n=s[Xw];n&&(n(),delete s[Xw])},e)}const D2e=["locale","fallbackLocale","availableLocales"],T4=["t","rt","d","n","tm","te"];function F2e(t,e){const i=Object.create(null);return D2e.forEach(n=>{const r=Object.getOwnPropertyDescriptor(e,n);if(!r)throw Ps(ms.UNEXPECTED_ERROR);const o=$n(r.value)?{get(){return r.value.value},set(a){r.value.value=a}}:{get(){return r.get&&r.get()}};Object.defineProperty(i,n,o)}),t.config.globalProperties.$i18n=i,T4.forEach(n=>{const r=Object.getOwnPropertyDescriptor(e,n);if(!r||!r.value)throw Ps(ms.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,"$".concat(n),r)}),()=>{delete t.config.globalProperties.$i18n,T4.forEach(n=>{delete t.config.globalProperties["$".concat(n)]})}}u2e();QCe(CCe);VCe(UCe);$Ce(yP);if(__INTLIFY_PROD_DEVTOOLS__){const t=Gl();t.__INTLIFY__=!0,ECe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const P2e="Your screen must be at least 1024px wide to use this application.",L2e="QR Code",R2e="Text",M2e="Image",O2e="Drawing",U2e="Doc",N2e="Audio",H2e="TTS",Q2e="Video",V2e="Iframe",$2e="Cloud",j2e="Reorder",z2e="Gaps",K2e="Random text",G2e="Random image",q2e="Dices",W2e="Groups",Y2e="Group",X2e="Timer",J2e="C/D",Z2e="Feedback",eEe="Grid",tEe="Capture",iEe="Annotate",nEe="Screen",sEe="Settings",rEe="About",oEe="Link to audio file",aEe="Playback rate",lEe="Validate",uEe="Start",cEe="Pause",dEe="Timer",hEe="Link or text",AEe="Number of dices",fEe="Roll",pEe="File name",gEe="Number of columns",mEe="Number of rows",bEe="Text color",vEe="Background color",yEe="Link to an image or search on Pixabay",wEe="Search results",CEe="Select an image",EEe="File on your device",xEe="Search",TEe="Document",_Ee="Document on your device (.pdf, .odt, .odp, .ods, .odg)",SEe="Select a document",BEe="Select an audio file",kEe="Select a video",IEe="or",DEe="Wordcloud",FEe="Words",PEe="Size",LEe="Add a word",REe="Add a list of words",MEe="Preview",OEe="Cancel",UEe="Add",NEe="Add a list of words, separated by a comma.",HEe="Example: foxglove, rose, cornflower, poppy",QEe="Type of reorder",VEe="horizontal",$Ee="vertical",jEe="Items (in the correct order)",zEe="Add an item",KEe="Check",GEe="Well done!",qEe="Reorder",WEe="Hours",YEe="Minutes",XEe="Seconds",JEe="Time elapsed",ZEe="Countdown",exe="Text-to-Speech",txe="Text to synthesize",ixe="Rate",nxe="Pitch",sxe="Voice",rxe="Listen",oxe="BY DEFAULT",axe="Link to a video (YouTube, Vimeo or .mp4 file)",lxe="Start",uxe="End",cxe="Min.",dxe="Sec.",hxe="Increase font size",Axe="Reduce font size",fxe="Bold",pxe="Italic",gxe="Underlined",mxe="Strikethrough",bxe="Decimal List",vxe="List",yxe="Align left",wxe="Center",Cxe="Align right",Exe="Black",xxe="Red",Txe="Green",_xe="Blue",Sxe="Yellow",Bxe="Turquoise",kxe="Grey",Ixe="White",Dxe="About Digiscreen",Fxe="is an interactive board for the classroom and the remote classroom made by",Pxe="Contact:",Lxe="Language",Rxe="Page background",Mxe="Select a color",Oxe="Previous page",Uxe="Next page",Nxe="Pages",Hxe="Add a page",Qxe="Import",Vxe="Export",$xe="Import a .dgs file",jxe="Export in .dgs",zxe="Modules",Kxe="Random text drawing",Gxe="Random image drawing",qxe="Fill in the gaps",Wxe="The foxglove is a *plant*.",Yxe="<u>To create a text input</u>: The foxglove is a *plant*.",Xxe="<u>To create select input</u>: The foxglove is *a plant&vert;a tree* (the correct answer must be placed in the first position).",Jxe="List of persons",Zxe="Add the list of persons, separated by a comma.",eTe="Example: John, Betsy, Charlotte, Michael",tTe="Number of people per group",iTe="Text for the drawing",nTe="Images for the drawing",sTe="Add words or phrases, separated by a comma.",rTe="Click or drag and drop the images here",oTe="Delete the item from the list after the draw?",aTe="yes",lTe="no",uTe="Draw",cTe="Embedded content",dTe="Link to a site, document or interactive content",hTe="My text…",ATe="Select",fTe="Free draw",pTe="Move panels",gTe="Undo",mTe="Redo",bTe="Rectangle",vTe="Solid rectangle",yTe="Circle",wTe="Solid circle",CTe="Star",ETe="Line",xTe="Arrow",TTe="Highlight",_Te="Delete",STe="Close",BTe="Lock",kTe="Unlock",ITe="Put forward",DTe="Put backward",FTe="Decrease font size",PTe="Increase font size",LTe="Do you really want to delete all annotations?",RTe="Clear all",MTe="I would like to support this project ❤️.",OTe="Source code",UTe="Clock",NTe="Volume",HTe="Sound level meter",QTe="Sensitivity",VTe="Error while attempting to retrieve the microphone input stream.",$Te="The maximum size accepted is 1 MB. For larger files, it is recommended to use the PDF format.",jTe="Title of this panel:",zTe="Calendar",KTe="Link",GTe="Title of the link",qTe="Activate sound effects?",WTe="Board",YTe="Game board",XTe="Number of pawns",JTe="Display hours?",ZTe="Display the visual countdown?",e_e="Restart",t_e="Duplicate",i_e="Do you really want to delete page {page} and its content?",n_e="Delete current page",s_e="Send to page:",r_e="Gallery",o_e="Image Gallery",a_e="Images of the gallery",l_e="Label",u_e="Webcam",c_e="This browser is not supported.",d_e="No video input has been detected on your device.",h_e="Table",A_e="Rows",f_e="Columns",p_e="Column title",g_e="Add a column",m_e="Delete a column",b_e="Add a row",v_e="Delete a row",y_e="Line number",w_e="Text (1 line)",C_e="Text (several lines)",E_e="HTML",x_e="Link",T_e="Color",__e="Stars",S_e="Progression",B_e="Check",k_e="Orange",I_e="Purple",D_e="List",F_e="List of words, separated by a comma",P_e="Methods",L_e="Silence",R_e="Whisper",M_e="Listen",O_e="Work in pairs",U_e="Work in groups",N_e="Working methods",H_e="Story",Q_e="Number of images",V_e="Source of the images",$_e="Generate",j_e="Random audio drawing",z_e="Audio files for the drawing",K_e="Click or drag and drop the audio files here",G_e="Random audio",q_e="Enter the link to insert:",W_e="Player appearance",Y_e="audio player",X_e="single button",J_e="Type of dice",Z_e="classic",eSe="number",tSe="letter",iSe="Minimum",nSe="Maximum",sSe="The resolution of this screen is lower than the one used when exporting the .dgs file. The position of the panels may be affected. Enlarge the window or use your browser's zoom features to solve this issue. Recommended Zoom: {zoom}% of current zoom level.",rSe="Hangman",oSe="Word to find",aSe="Number of wrong choices",lSe="Characters",uSe="Remaining errors:",cSe="Cards",dSe="Cards format",hSe="landscape",ASe="portrait",fSe="square",pSe="Front",gSe="Back",mSe="Add card",bSe="Select a background color",vSe="+ 1 min.",ySe="- 1 min.",wSe="Display milliseconds?",CSe="Increase opacity",ESe="Decrease opacity",xSe="Sequential images",TSe="Reorder Images",_Se="Images (in correct order)",SSe="Take a screenshot",BSe="Set to full screen",kSe="Exit full screen",ISe="Hide toolbar",DSe="Show toolbar",FSe="Light",PSe="Traffic light",LSe="Wheel",RSe="Wheel items",MSe="Select a file",OSe="HTML Code",USe="Move",NSe="Copy",HSe="Sound",QSe="Beep",VSe="Cartoon",$Se="Clave",jSe="Djembe",zSe="Drops",KSe="Maraca",GSe="Mbira",qSe="Metronome",WSe="Triangle",YSe="Ranking",XSe="Add the names of the people to be added to the ranking, separated by a comma.",JSe="Default number of points",ZSe="Rank",eBe="Change score",tBe="Tolerance threshold (in seconds)",iBe="New name",nBe="Random number drawing",sBe="Random number",rBe="Modular clock",oBe="Mod. clock",aBe="Example",lBe="Trash bin",uBe="No deleted panels.",cBe="Page",dBe="Restore",hBe={alerte:P2e,codeqr:L2e,texte:R2e,image:M2e,dessin:O2e,doc:U2e,audio:N2e,synthese:H2e,video:Q2e,iframe:V2e,nuage:$2e,ordre:j2e,trous:z2e,tirageTexte:K2e,tirageImage:G2e,des:q2e,groupes:W2e,groupe:Y2e,chrono:X2e,rebours:J2e,retroaction:Z2e,grille:eEe,capture:tEe,annoter:iEe,ecran:nEe,options:sEe,aPropos:rEe,lienFichierAudio:oEe,vitesseLecture:aEe,valider:lEe,demarrer:uEe,pause:cEe,chronometre:dEe,lienOuTexte:hEe,nombreDes:AEe,jeter:fEe,nomFichier:pEe,nombreColonnes:gEe,nombreLignes:mEe,couleurTexte:bEe,couleurFond:vEe,lienImageRecherche:yEe,resultatsRecherche:wEe,selectionnerImage:CEe,fichierAppareil:EEe,rechercher:xEe,document:TEe,documentAppareil:_Ee,selectionnerDocument:SEe,selectionnerAudio:BEe,selectionnerVideo:kEe,ou:IEe,nuageMots:DEe,mots:FEe,taille:PEe,ajouterMot:LEe,ajouterListe:REe,apercu:MEe,annuler:OEe,ajouter:UEe,consigneListeMots:NEe,exempleListe:HEe,typeRemiseOrdre:QEe,horizontale:VEe,verticale:$Ee,itemsOrdre:jEe,ajouterItem:zEe,verifier:KEe,bravoExercice:GEe,remiseOrdre:qEe,heures:WEe,minutes:YEe,secondes:XEe,tempsEcoule:JEe,compteRebours:ZEe,syntheseVocale:exe,texteSynthetiser:txe,vitesse:ixe,hauteur:nxe,voix:sxe,ecouter:rxe,parDefaut:oxe,lienVideo:axe,debut:lxe,fin:uxe,min:cxe,sec:dxe,tailleTextePlus:hxe,tailleTexteMoins:Axe,gras:fxe,italique:pxe,souligne:gxe,barre:mxe,listeDecimale:bxe,liste:vxe,alignerGauche:yxe,centrer:wxe,alignerDroite:Cxe,noir:Exe,rouge:xxe,vert:Txe,bleu:_xe,jaune:Sxe,turquoise:Bxe,gris:kxe,blanc:Ixe,aProposDigiscreen:Dxe,digiscreen:Fxe,contact:Pxe,langue:Lxe,arrierePlanPage:Rxe,selectionnerCouleur:Mxe,pagePrecedente:Oxe,pageSuivante:Uxe,pages:Nxe,ajouterPage:Hxe,importer:Qxe,exporter:Vxe,importerEcran:$xe,exporterEcran:jxe,modules:zxe,tirageSortTexte:Kxe,tirageSortImage:Gxe,texteATrous:qxe,exempleTrou:Wxe,consigneTrouSimple:Yxe,consigneTrouSelection:Xxe,listePersonnes:Jxe,consigneGroupe:Zxe,exempleGroupe:eTe,nombrePersonnesGroupe:tTe,texteTirageTexte:iTe,texteTirageImage:nTe,consigneTirageTexte:sTe,selectionnerImages:rTe,supprimerItemTirage:oTe,oui:aTe,non:lTe,tirer:uTe,contenuIntegre:cTe,lienContenuLigne:dTe,monTexte:hTe,selectionner:ATe,dessiner:fTe,deplacerPanneaux:pTe,defaire:gTe,refaire:mTe,rectangle:bTe,rectanglePlein:vTe,cercle:yTe,cerclePlein:wTe,etoile:CTe,ligne:ETe,fleche:xTe,surlignage:TTe,supprimer:_Te,fermer:STe,verrouiller:BTe,deverrouiller:kTe,mettreDevant:ITe,mettreDerriere:DTe,reduireTaille:FTe,augmenterTaille:PTe,reinitialiserAnnotations:LTe,reinitialiser:RTe,soutien:MTe,codeSource:OTe,horloge:UTe,volume:NTe,sonometre:HTe,sensibilite:QTe,erreurSonometre:VTe,erreurTailleFichier:$Te,nouveauTitre:jTe,calendrier:zTe,lien:KTe,titreLien:GTe,activerEffetsSonores:qTe,plateau:WTe,plateauJeu:YTe,nombrePions:XTe,afficherHeures:JTe,afficherDecompteVisuel:ZTe,redemarrer:e_e,dupliquer:t_e,confirmationSuppressionPage:i_e,supprimerPage:n_e,envoyerPage:s_e,galerie:r_e,galerieImages:o_e,texteGalerie:a_e,label:l_e,webcam:u_e,navigateurNonSupporte:c_e,aucuneEntreeVideo:d_e,tableau:h_e,lignes:A_e,colonnes:f_e,titreColonne:p_e,ajouterColonne:g_e,supprimerColonne:m_e,ajouterLigne:b_e,supprimerLigne:v_e,rownum:y_e,plaintext:w_e,textarea:C_e,html:E_e,link:x_e,color:T_e,star:__e,progress:S_e,tickCross:B_e,orange:k_e,pourpre:I_e,list:D_e,listeMots:F_e,modalites:P_e,silence:L_e,chuchotez:R_e,ecoutez:M_e,parlez:O_e,communiquez:U_e,modalitesTravail:N_e,histoire:H_e,nombreImages:Q_e,sourceImages:V_e,generer:$_e,tirageSortAudio:j_e,texteTirageAudio:z_e,selectionnerAudios:K_e,tirageAudio:G_e,adresseLien:q_e,apparence:W_e,lecteur:Y_e,bouton:X_e,typeDe:J_e,classique:Z_e,nombre:eSe,lettre:tSe,minimum:iSe,maximum:nSe,alerteEcran:sSe,pendu:rSe,motATrouver:oSe,nombreErreurs:aSe,caracteres:lSe,erreursRestantes:uSe,cartes:cSe,formatCartes:dSe,paysage:hSe,portrait:ASe,carre:fSe,recto:pSe,verso:gSe,ajouterCarte:mSe,selectionnerCouleurFond:bSe,plus1Min:vSe,moins1Min:ySe,afficherMillisecondes:wSe,augmenterTransparence:CSe,reduireTransparence:ESe,imagesSequentielles:xSe,ordreImage:TSe,imagesOrdre:_Se,capturer:SSe,mettrePleinEcran:BSe,sortirPleinEcran:kSe,masquerOutils:ISe,afficherOutils:DSe,feu:FSe,feuQuadricolore:PSe,roue:LSe,itemsRoue:RSe,selectionnerFichier:MSe,codeHTML:OSe,deplacer:USe,copier:NSe,son:HSe,bip:QSe,cartoon:VSe,clave:$Se,djembe:jSe,gouttes:zSe,maraca:KSe,mbira:GSe,metronome:qSe,triangle:WSe,classement:YSe,consigneClassement:XSe,nombrePoints:JSe,classer:ZSe,modifierScore:eBe,seuilTolerance:tBe,nouveauNom:iBe,tirageSortNombre:nBe,tirageNombre:sBe,horlogeModulable:rBe,horlogeM:oBe,exemple:aBe,corbeille:lBe,aucunPanneauSupprime:uBe,page:cBe,restaurer:dBe},ABe="Votre écran doit avoir une largeur minimale de 1024px pour utiliser l'application.",fBe="Code QR",pBe="Texte",gBe="Image",mBe="Dessin",bBe="Doc",vBe="Audio",yBe="Synth.",wBe="Vidéo",CBe="Iframe",EBe="Nuage",xBe="ReO",TBe="TàT",_Be="TaS texte",SBe="TaS image",BBe="Dés",kBe="Groupes",IBe="Groupe",DBe="Chrono",FBe="Rebours",PBe="Rétroaction",LBe="Grille",RBe="Capture",MBe="Annoter",OBe="Écran",UBe="Options",NBe="À propos",HBe="Lien vers un fichier audio",QBe="Vitesse de lecture",VBe="Valider",$Be="Démarrer",jBe="Pause",zBe="Chronomètre",KBe="Lien ou texte",GBe="Nombre de dés",qBe="Jeter",WBe="Nom du fichier",YBe="Nombre de colonnes",XBe="Nombre de lignes",JBe="Couleur du texte",ZBe="Couleur de fond",e4e="Lien vers une image ou recherche sur Pixabay",t4e="Résultats de recherche",i4e="Sélectionner une image",n4e="Fichier sur votre appareil",s4e="Rechercher",r4e="Document",o4e="Document sur votre appareil (.pdf, .odt, .odp, .ods, .odg)",a4e="Sélectionner un document",l4e="Sélectionner un fichier audio",u4e="Sélectionner une vidéo",c4e="ou",d4e="Nuage de mots",h4e="Mots",A4e="Taille",f4e="Ajouter un mot",p4e="Ajouter une liste de mots",g4e="Aperçu",m4e="Annuler",b4e="Ajouter",v4e="Ajoutez une liste de mots, séparés par une virgule.",y4e="Exemple : digitale, rose, bleuet, coquelicot",w4e="Type de remise en ordre",C4e="horizontale",E4e="verticale",x4e="Items (dans l'ordre correct)",T4e="Ajouter un item",_4e="Vérifier",S4e="Bravo !",B4e="Remise en ordre",k4e="Heures",I4e="Minutes",D4e="Secondes",F4e="Temps écoulé",P4e="Compte à rebours",L4e="Synthèse vocale",R4e="Texte à synthétiser",M4e="Vitesse",O4e="Hauteur",U4e="Voix",N4e="Écouter",H4e="PAR DÉFAUT",Q4e="Lien vers une vidéo (YouTube, Vimeo ou fichier .mp4)",V4e="Début",$4e="Fin",j4e="Min.",z4e="Sec.",K4e="Augmenter la taille",G4e="Réduire la taille",q4e="Gras",W4e="Italique",Y4e="Souligné",X4e="Barré",J4e="Liste décimale",Z4e="Liste",e3e="Aligner à gauche",t3e="Aligner à droite",i3e="Centrer",n3e="Noir",s3e="Rouge",r3e="Vert",o3e="Bleu",a3e="Jaune",l3e="Turquoise",u3e="Gris",c3e="Blanc",d3e="À propos de Digiscreen",h3e="est un fond d'écran interactif pour la classe en présence et à distance réalisé par",A3e="Contact :",f3e="Langue",p3e="Arrière-plan de la page",g3e="Sélectionner une couleur",m3e="Page précédente",b3e="Page suivante",v3e="Pages",y3e="Ajouter une page",w3e="Importer",C3e="Exporter",E3e="Importer un fichier .dgs",x3e="Exporter en .dgs",T3e="Modules",_3e="Tirage au sort texte",S3e="Tirage au sort image",B3e="Texte à trous",k3e="La digitale est une *plante*.",I3e="<u>Champ de texte à compléter</u> : La digitale est une *plante*.",D3e="<u>Champ avec sélection</u> : La digitale est *une plante&vert;un arbre* (la bonne réponse doit être placée en première position).",F3e="Liste des personnes",P3e="Ajoutez la liste des personnes, séparées par une virgule.",L3e="Exemple : Jean, Fleur, Charlotte, Basile",R3e="Nombre de personnes par groupe",M3e="Texte pour le tirage au sort",O3e="Images pour le tirage au sort",U3e="Ajoutez les mots ou les phrases, séparés par une virgule.",N3e="Cliquez ou glissez-déposez les images ici",H3e="Supprimer l'item de la liste après le tirage ?",Q3e="oui",V3e="non",$3e="Tirer",j3e="Contenu intégré",z3e="Lien vers un site, un document ou un contenu interactif",K3e="Mon texte…",G3e="Sélectionner",q3e="Dessiner",W3e="Déplacer les panneaux",Y3e="Défaire",X3e="Refaire",J3e="Rectangle",Z3e="Rectangle plein",eke="Cercle",tke="Cercle plein",ike="Étoile",nke="Ligne",ske="Flèche",rke="Surlignage",oke="Supprimer",ake="Fermer",lke="Verrouiller",uke="Déverrouiller",cke="Mettre devant",dke="Mettre derrière",hke="Réduire la taille du texte",Ake="Augmenter la taille du texte",fke="Souhaitez-vous vraiment supprimer toutes les annotations&nbsp;?",pke="Réinitialiser",gke="Je souhaite apporter mon soutien ❤️.",mke="Code source",bke="Horloge",vke="Volume",yke="Sonomètre",wke="Sensibilité",Cke="Erreur lors de la tentative de récupération du flux d'entrée du microphone.",Eke="La taille maximale acceptée est de 1 Mo. Pour les fichiers de taille supérieure, il est recommandé d'utiliser le format PDF.",xke="Titre de ce panneau :",Tke="Calendrier",_ke="Lien",Ske="Titre du lien",Bke="Activer les effets sonores ?",kke="Plateau",Ike="Plateau de jeu",Dke="Nombre de pions",Fke="Afficher les heures ?",Pke="Afficher le décompte visuel ?",Lke="Redémarrer",Rke="Dupliquer",Mke="Souhaitez-vous vraiment suppimer la page {page} et son contenu&nbsp;?",Oke="Supprimer la page en cours",Uke="Envoyer vers la page :",Nke="Galerie",Hke="Galerie d'images",Qke="Images de la galerie",Vke="Label",$ke="Webcam",jke="Ce navigateur n'est pas pris en charge.",zke="Aucune entrée vidéo n'a été détectée sur votre appareil.",Kke="Tableau",Gke="Lignes",qke="Colonnes",Wke="Titre de la colonne",Yke="Ajouter une colonne",Xke="Supprimer une colonne",Jke="Ajouter une ligne",Zke="Supprimer une ligne",eIe="Numéro de ligne",tIe="Texte (1 ligne)",iIe="Texte (plusieurs lignes)",nIe="HTML",sIe="Lien",rIe="Couleur",oIe="Étoiles",aIe="Progression",lIe="Coche",uIe="Orange",cIe="Pourpre",dIe="Liste",hIe="Liste de mots, séparés par une virgule",AIe="Modalités",fIe="Silence",pIe="Chuchotez",gIe="Écoutez",mIe="Travaillez à 2",bIe="Travaillez en groupe",vIe="Modalités de travail",yIe="Histoire",wIe="Nombre d'images",CIe="Source des images",EIe="Générer",xIe="Tirage au sort audio",TIe="Fichiers audio pour le tirage au sort",_Ie="Cliquez ou glissez-déposez les fichiers audio ici",SIe="TaS audio",BIe="Indiquez le lien à insérer :",kIe="Apparence du lecteur",IIe="lecteur audio",DIe="bouton simple",FIe="Type de dé",PIe="classique",LIe="nombre",RIe="lettre",MIe="Minimum",OIe="Maximum",UIe="La résolution de cet écran est inférieure à celle utilisée lors de l'export du fichier .dgs. La position des panneaux pourrait être affectée. Élargissez la fenêtre ou utilisez les fonctionnalités de zoom de votre navigateur pour contourner ce problème. Zoom recommandé : {zoom}% du niveau de zoom actuel.",NIe="Pendu",HIe="Mot à trouver",QIe="Nombre de choix erronés",VIe="Caractères",$Ie="Erreurs restantes :",jIe="Cartes",zIe="Format des cartes",KIe="paysage",GIe="portrait",qIe="carré",WIe="Recto",YIe="Verso",XIe="Ajouter la carte",JIe="Sélectionner une couleur de fond",ZIe="+ 1 min.",eDe="- 1 min.",tDe="Afficher les millisecondes ?",iDe="Augmenter la transparence",nDe="Réduire la transparence",sDe="Images séquentielles",rDe="ReO Im",oDe="Images (dans l'ordre correct)",aDe="Faire une capture d'écran",lDe="Mettre en plein écran",uDe="Sortir du plein écran",cDe="Masquer la barre d'outils",dDe="Afficher la barre d'outils",hDe="Feu",ADe="Feu quadricolore",fDe="Roue",pDe="Items de la roue",gDe="Sélectionner un fichier",mDe="Code HTML",bDe="Déplacer",vDe="Copier",yDe="Son",wDe="Bip",CDe="Cartoon",EDe="Clave",xDe="Djembé",TDe="Gouttes",_De="Maraca",SDe="Mbira",BDe="Métronome",kDe="Triangle",IDe="Classement",DDe="Ajoutez les noms des personnes à ajouter dans le classement, séparés par une virgule.",FDe="Nombre de points par défaut",PDe="Classer",LDe="Modifier le score",RDe="Seuil de tolérance (en secondes)",MDe="Nouveau nom",ODe="Tirage au sort nombre",UDe="TaS nombre",NDe="Horloge modulable",HDe="Horloge Mod.",QDe="Exemple",VDe="Corbeille",$De="Aucun panneau supprimé.",jDe="Page",zDe="Restaurer",KDe={alerte:ABe,codeqr:fBe,texte:pBe,image:gBe,dessin:mBe,doc:bBe,audio:vBe,synthese:yBe,video:wBe,iframe:CBe,nuage:EBe,ordre:xBe,trous:TBe,tirageTexte:_Be,tirageImage:SBe,des:BBe,groupes:kBe,groupe:IBe,chrono:DBe,rebours:FBe,retroaction:PBe,grille:LBe,capture:RBe,annoter:MBe,ecran:OBe,options:UBe,aPropos:NBe,lienFichierAudio:HBe,vitesseLecture:QBe,valider:VBe,demarrer:$Be,pause:jBe,chronometre:zBe,lienOuTexte:KBe,nombreDes:GBe,jeter:qBe,nomFichier:WBe,nombreColonnes:YBe,nombreLignes:XBe,couleurTexte:JBe,couleurFond:ZBe,lienImageRecherche:e4e,resultatsRecherche:t4e,selectionnerImage:i4e,fichierAppareil:n4e,rechercher:s4e,document:r4e,documentAppareil:o4e,selectionnerDocument:a4e,selectionnerAudio:l4e,selectionnerVideo:u4e,ou:c4e,nuageMots:d4e,mots:h4e,taille:A4e,ajouterMot:f4e,ajouterListe:p4e,apercu:g4e,annuler:m4e,ajouter:b4e,consigneListeMots:v4e,exempleListe:y4e,typeRemiseOrdre:w4e,horizontale:C4e,verticale:E4e,itemsOrdre:x4e,ajouterItem:T4e,verifier:_4e,bravoExercice:S4e,remiseOrdre:B4e,heures:k4e,minutes:I4e,secondes:D4e,tempsEcoule:F4e,compteRebours:P4e,syntheseVocale:L4e,texteSynthetiser:R4e,vitesse:M4e,hauteur:O4e,voix:U4e,ecouter:N4e,parDefaut:H4e,lienVideo:Q4e,debut:V4e,fin:$4e,min:j4e,sec:z4e,tailleTextePlus:K4e,tailleTexteMoins:G4e,gras:q4e,italique:W4e,souligne:Y4e,barre:X4e,listeDecimale:J4e,liste:Z4e,alignerGauche:e3e,alignerDroite:t3e,centrer:i3e,noir:n3e,rouge:s3e,vert:r3e,bleu:o3e,jaune:a3e,turquoise:l3e,gris:u3e,blanc:c3e,aProposDigiscreen:d3e,digiscreen:h3e,contact:A3e,langue:f3e,arrierePlanPage:p3e,selectionnerCouleur:g3e,pagePrecedente:m3e,pageSuivante:b3e,pages:v3e,ajouterPage:y3e,importer:w3e,exporter:C3e,importerEcran:E3e,exporterEcran:x3e,modules:T3e,tirageSortTexte:_3e,tirageSortImage:S3e,texteATrous:B3e,exempleTrou:k3e,consigneTrouSimple:I3e,consigneTrouSelection:D3e,listePersonnes:F3e,consigneGroupe:P3e,exempleGroupe:L3e,nombrePersonnesGroupe:R3e,texteTirageTexte:M3e,texteTirageImage:O3e,consigneTirageTexte:U3e,selectionnerImages:N3e,supprimerItemTirage:H3e,oui:Q3e,non:V3e,tirer:$3e,contenuIntegre:j3e,lienContenuLigne:z3e,monTexte:K3e,selectionner:G3e,dessiner:q3e,deplacerPanneaux:W3e,defaire:Y3e,refaire:X3e,rectangle:J3e,rectanglePlein:Z3e,cercle:eke,cerclePlein:tke,etoile:ike,ligne:nke,fleche:ske,surlignage:rke,supprimer:oke,fermer:ake,verrouiller:lke,deverrouiller:uke,mettreDevant:cke,mettreDerriere:dke,reduireTaille:hke,augmenterTaille:Ake,reinitialiserAnnotations:fke,reinitialiser:pke,soutien:gke,codeSource:mke,horloge:bke,volume:vke,sonometre:yke,sensibilite:wke,erreurSonometre:Cke,erreurTailleFichier:Eke,nouveauTitre:xke,calendrier:Tke,lien:_ke,titreLien:Ske,activerEffetsSonores:Bke,plateau:kke,plateauJeu:Ike,nombrePions:Dke,afficherHeures:Fke,afficherDecompteVisuel:Pke,redemarrer:Lke,dupliquer:Rke,confirmationSuppressionPage:Mke,supprimerPage:Oke,envoyerPage:Uke,galerie:Nke,galerieImages:Hke,texteGalerie:Qke,label:Vke,webcam:$ke,navigateurNonSupporte:jke,aucuneEntreeVideo:zke,tableau:Kke,lignes:Gke,colonnes:qke,titreColonne:Wke,ajouterColonne:Yke,supprimerColonne:Xke,ajouterLigne:Jke,supprimerLigne:Zke,rownum:eIe,plaintext:tIe,textarea:iIe,html:nIe,link:sIe,color:rIe,star:oIe,progress:aIe,tickCross:lIe,orange:uIe,pourpre:cIe,list:dIe,listeMots:hIe,modalites:AIe,silence:fIe,chuchotez:pIe,ecoutez:gIe,parlez:mIe,communiquez:bIe,modalitesTravail:vIe,histoire:yIe,nombreImages:wIe,sourceImages:CIe,generer:EIe,tirageSortAudio:xIe,texteTirageAudio:TIe,selectionnerAudios:_Ie,tirageAudio:SIe,adresseLien:BIe,apparence:kIe,lecteur:IIe,bouton:DIe,typeDe:FIe,classique:PIe,nombre:LIe,lettre:RIe,minimum:MIe,maximum:OIe,alerteEcran:UIe,pendu:NIe,motATrouver:HIe,nombreErreurs:QIe,caracteres:VIe,erreursRestantes:$Ie,cartes:jIe,formatCartes:zIe,paysage:KIe,portrait:GIe,carre:qIe,recto:WIe,verso:YIe,ajouterCarte:XIe,selectionnerCouleurFond:JIe,plus1Min:ZIe,moins1Min:eDe,afficherMillisecondes:tDe,augmenterTransparence:iDe,reduireTransparence:nDe,imagesSequentielles:sDe,ordreImage:rDe,imagesOrdre:oDe,capturer:aDe,mettrePleinEcran:lDe,sortirPleinEcran:uDe,masquerOutils:cDe,afficherOutils:dDe,feu:hDe,feuQuadricolore:ADe,roue:fDe,itemsRoue:pDe,selectionnerFichier:gDe,codeHTML:mDe,deplacer:bDe,copier:vDe,son:yDe,bip:wDe,cartoon:CDe,clave:EDe,djembe:xDe,gouttes:TDe,maraca:_De,mbira:SDe,metronome:BDe,triangle:kDe,classement:IDe,consigneClassement:DDe,nombrePoints:FDe,classer:PDe,modifierScore:LDe,seuilTolerance:RDe,nouveauNom:MDe,tirageSortNombre:ODe,tirageNombre:UDe,horlogeModulable:NDe,horlogeM:HDe,exemple:QDe,corbeille:VDe,aucunPanneauSupprime:$De,page:jDe,restaurer:zDe},GDe="Su pantalla debe tener un ancho mínimo de 1024px para utilizar la aplicación.",qDe="Código QR",WDe="Texto",YDe="Imagen",XDe="Dibujo",JDe="Doc",ZDe="Audio",eFe="Síntesis",tFe="Vídeo",iFe="Iframe",nFe="Nube",sFe="Ordenar",rFe="Esp.Vacios",oFe="Sorteo texto",aFe="Sorteo imagen",lFe="Dados",uFe="Grupos",cFe="Grupo",dFe="Crono",hFe="C.atrás",AFe="Feedback",fFe="Cuadrícula",pFe="Captura",gFe="Anotar",mFe="Pantalla",bFe="Opciones",vFe="Info",yFe="Enlace a un fichero de audio",wFe="Velocidad de lectura",CFe="Confirmar",EFe="Comenzar",xFe="Cronómetro",TFe="Pausa",_Fe="Enlace o texto",SFe="Número de dados",BFe="Lanzar",kFe="Nombre del archivo",IFe="Número de columnas",DFe="Número de filas",FFe="Color del texto",PFe="Color de fondo",LFe="Enlace a una imagen o búsqueda en Pixabay",RFe="Resultados de la búsqueda",MFe="Seleccionar una imagen",OFe="Archivo en su dispositivo",UFe="Buscar",NFe="Documento",HFe="Documento en su dispositivo (.pdf, .odt, .odp, .ods, .odg)",QFe="Seleccionar un documento",VFe="Seleccionar un fichero de audio",$Fe="Seleccionar un vídeo",jFe="o",zFe="Nube de palabras",KFe="Palabras",GFe="Tamaño",qFe="Añadir una palabra",WFe="Añadir una lista de palabras",YFe="Vista previa",XFe="Anular",JFe="Añadir",ZFe="Añadir una lista de palabras, separadas por una coma.",e5e="Ejemplo : digital, rosa, aciano, amapola",t5e="Tipo de puesta en orden",i5e="horizontal",n5e="vertical",s5e="Elementos (en el orden correcto)",r5e="Añadir un elemento",o5e="Verificar",a5e="¡Muy bien!",l5e="Puesta en orden",u5e="Horas",c5e="Minutos",d5e="Segundos",h5e="Tiempo transcurrido",A5e="Cuenta atrás",f5e="Síntesis vocal",p5e="Texto a sintetizar",g5e="Velocidad",m5e="Volumen",b5e="Voz",v5e="Escuchar",y5e="POR DEFECTO",w5e="Enlace al un vídeo (YouTube, Vimeo o .mp4)",C5e="Inicio",E5e="Fin",x5e="Min.",T5e="Seg.",_5e="Aumentar el tamaño",S5e="Reducir el tamaño",B5e="Negrita",k5e="Cursiva",I5e="Subrayado",D5e="Tachado",F5e="Lista decimal",P5e="Lista",L5e="Alinear a la izquierda",R5e="Alinear a la derecha",M5e="Centrar",O5e="Negro",U5e="Rojo",N5e="Verde",H5e="Azul",Q5e="Amarillo",V5e="Turquesa",$5e="Gris",j5e="Blanco",z5e="Información sobre Digiscreen",K5e="es un fondo de pantalla interactivo para la clase presencial y a distancia realizado por",G5e="Contacto:",q5e="Idioma",W5e="Fondo de la página",Y5e="Seleccione un color",X5e="Página anterior",J5e="Página siguiente",Z5e="Páginas",ePe="Añadir una página",tPe="Importar",iPe="Exportar",nPe="Importar un archivo .dgs",sPe="Exportar como .dgs",rPe="Módulos",oPe="Sorteo de textos",aPe="sorteo de imágenes",lPe="Rellenar espacios vacíos",uPe="La digital (_digitalis pupurea_) es una *planta*.",cPe="<u>Campo de texto a completar</u> : La digital (_digitalis pupurea_) es una *planta*.",dPe="<u>Campo con una selección</u> : La digital (_digitalis pupurea_) es una *planta&vert;un árbol* (la respuesta correcta debe ponerse en primera posición).",hPe="Lista de personas",APe="Añadir la lista de personas, separadas por una coma.",fPe="Ejemplo: Juan, Flora, Carlota, Basilio",pPe="Número de personas por grupo",gPe="Texto de los elementos del sorteo",mPe="Imágenes del sorteo",bPe="Añada las palabras o frases, separadas por una coma.",vPe="Haga clic o arrastre y suelte las imágenes aquí",yPe="¿Borrar el elemento de la lista tras salir seleccionado?",wPe="sí",CPe="no",EPe="Sortear",xPe="Contenido integrado",TPe="Enlace a un sitio web, a un documento o a un contenido interactivo",_Pe="Mi texto…",SPe="Seleccionar",BPe="Dibujar",kPe="Mover los paneles",IPe="Deshacer",DPe="Repetir",FPe="Rectángulo",PPe="Rectángulo relleno",LPe="Círculo",RPe="Círculo relleno",MPe="Estrella",OPe="Línea",UPe="Flecha",NPe="Marcar",HPe="Borrar",QPe="Cerrar",VPe="Bloquear",$Pe="Desbloquear",jPe="Poner al frente",zPe="Poner detrás",KPe="Reducir el tamaño del texto",GPe="Aumentar el tamaño del texto",qPe="¿Desea realmente borrar todas las anotaciones?",WPe="Reiniciar",YPe="Deseo aportar mi ayuda ❤.",XPe="Código fuente",JPe="Reloj",ZPe="Volumen",eLe="Sonómetro",tLe="Sensibilidad",iLe="Error al intentar recuperar el flujo de entrada del micrófono.",nLe="El tamaño máximo aceptado es de 1 MB. Para los ficheros de mayor tamaño, se recomienda utilizar el formato PDF.",sLe="Título de esta ventana:",rLe="Calendario",oLe="Enlace",aLe="Título del enlace",lLe="¿Activar los efectos de sonido?",uLe="Tablero",cLe="Tablero de juego",dLe="Número de piezas",hLe="¿Mostrar las horas?",ALe="¿Mostrar el recuento visual?",fLe="Reiniciar",pLe="Duplicar",gLe="¿Realmente quieres eliminar la página {page} y su contenido?",mLe="Eliminar la página actual",bLe="Enviar a la página:",vLe="Galería",yLe="Galería de imágenes",wLe="Imágenes de la galería",CLe="Etiqueta",ELe="Cámara web",xLe="Este navegador no es compatible.",TLe="No se ha detectado ninguna entrada de vídeo en tu dispositivo.",_Le="Tabla",SLe="Líneas",BLe="Columnas",kLe="Título de la columna",ILe="Añadir una columna",DLe="Borrar una columna",FLe="Añadir una línea",PLe="Borrar una línea",LLe="Número de línea",RLe="Texto (1 línea)",MLe="Texto (varias líneas)",OLe="HTML",ULe="Enlace",NLe="Color",HLe="Estrellas",QLe="Progresión",VLe="Tick",$Le="Naranja",jLe="Morado",zLe="Lista",KLe="Lista de palabras, separadas por una coma",GLe="Métodos",qLe="Silencio",WLe="Susurro",YLe="Escuche",XLe="Trabajo en parejas",JLe="Trabajar en grupo",ZLe="Métodos de trabajo",eRe="Historia",tRe="Número de imágenes",iRe="Origen de las imágenes",nRe="Generar",sRe="Sorteo de audio",rRe="Archivos de audio para el sorteo",oRe="Haga clic o arrastre y suelte los archivos de audio aquí",aRe="Sorteo audio",lRe="Indique el enlace que desea insertar:",uRe="Aspecto del reproductor",cRe="reproductor de audio",dRe="botón único",hRe="Tipo de dado",ARe="clásico",fRe="número",pRe="letra",gRe="Mínimo",mRe="Máximo",bRe="La resolución de esta pantalla es inferior a la utilizada al exportar el archivo .dgs. La posición de los paneles puede verse afectada. Amplíe la ventana o utilice las funciones de zoom de su navegador para resolver este problema. Zoom recomendado: {zoom}% del nivel de zoom actual.",vRe="Ahorcado",yRe="Palabra a encontrar",wRe="Número de opciones erróneas",CRe="Letras",ERe="Errores restantes:",xRe="Cartas",TRe="Formato del carta",_Re="apaisado",SRe="retrato",BRe="cuadrado",kRe="Anverso",IRe="Reverso",DRe="Añadir carta",FRe="Seleccionar un color de fondo",PRe="+ 1 min.",LRe="- 1 min.",RRe="¿Mostrar los milisegundos?",MRe="Aumentar la transparencia",ORe="Reducir la transparencia",URe="Imágenes secuenciales",NRe="Orden Imágenes",HRe="Imágenes (en el orden correcto)",QRe="Realizar una captura de pantalla",VRe="Ir a pantalla completa",$Re="Salir de pantalla completa",jRe="Ocultar la barra de herramientas",zRe="Mostrar la barra de herramientas",KRe="Semáforo",GRe="Semáforo de tráfico",qRe="Rueda",WRe="Elementos de rueda",YRe="Seleccionar un fichero",XRe="Código HTML",JRe="Mover",ZRe="Copiar",eMe="Sonido",tMe="Bip",iMe="Cartoon",nMe="Tecla",sMe="Djembe",rMe="Gotas",oMe="Maraca",aMe="Mbira",lMe="Metrónomo",uMe="Triángulo",cMe="Clasificación",dMe="Añada los nombres de las personas que se añadirán a la clasificación, separados por una coma.",hMe="Número de puntos por defecto",AMe="Clasificar",fMe="Cambiar puntuación",pMe="Umbral de tolerancia (en segundos)",gMe="Nuevo nombre",mMe="Sorteo de números",bMe="Sorteo número",vMe="Reloj modular",yMe="Reloj mod.",wMe="Ejemplo",CMe="Papelera",EMe="No se ha borrado ningún panel.",xMe="Página",TMe="Restaurar",_Me={alerte:GDe,codeqr:qDe,texte:WDe,image:YDe,dessin:XDe,doc:JDe,audio:ZDe,synthese:eFe,video:tFe,iframe:iFe,nuage:nFe,ordre:sFe,trous:rFe,tirageTexte:oFe,tirageImage:aFe,des:lFe,groupes:uFe,groupe:cFe,chrono:dFe,rebours:hFe,retroaction:AFe,grille:fFe,capture:pFe,annoter:gFe,ecran:mFe,options:bFe,aPropos:vFe,lienFichierAudio:yFe,vitesseLecture:wFe,valider:CFe,demarrer:EFe,chronometre:xFe,pause:TFe,lienOuTexte:_Fe,nombreDes:SFe,jeter:BFe,nomFichier:kFe,nombreColonnes:IFe,nombreLignes:DFe,couleurTexte:FFe,couleurFond:PFe,lienImageRecherche:LFe,resultatsRecherche:RFe,selectionnerImage:MFe,fichierAppareil:OFe,rechercher:UFe,document:NFe,documentAppareil:HFe,selectionnerDocument:QFe,selectionnerAudio:VFe,selectionnerVideo:$Fe,ou:jFe,nuageMots:zFe,mots:KFe,taille:GFe,ajouterMot:qFe,ajouterListe:WFe,apercu:YFe,annuler:XFe,ajouter:JFe,consigneListeMots:ZFe,exempleListe:e5e,typeRemiseOrdre:t5e,horizontale:i5e,verticale:n5e,itemsOrdre:s5e,ajouterItem:r5e,verifier:o5e,bravoExercice:a5e,remiseOrdre:l5e,heures:u5e,minutes:c5e,secondes:d5e,tempsEcoule:h5e,compteRebours:A5e,syntheseVocale:f5e,texteSynthetiser:p5e,vitesse:g5e,hauteur:m5e,voix:b5e,ecouter:v5e,parDefaut:y5e,lienVideo:w5e,debut:C5e,fin:E5e,min:x5e,sec:T5e,tailleTextePlus:_5e,tailleTexteMoins:S5e,gras:B5e,italique:k5e,souligne:I5e,barre:D5e,listeDecimale:F5e,liste:P5e,alignerGauche:L5e,alignerDroite:R5e,centrer:M5e,noir:O5e,rouge:U5e,vert:N5e,bleu:H5e,jaune:Q5e,turquoise:V5e,gris:$5e,blanc:j5e,aProposDigiscreen:z5e,digiscreen:K5e,contact:G5e,langue:q5e,arrierePlanPage:W5e,selectionnerCouleur:Y5e,pagePrecedente:X5e,pageSuivante:J5e,pages:Z5e,ajouterPage:ePe,importer:tPe,exporter:iPe,importerEcran:nPe,exporterEcran:sPe,modules:rPe,tirageSortTexte:oPe,tirageSortImage:aPe,texteATrous:lPe,exempleTrou:uPe,consigneTrouSimple:cPe,consigneTrouSelection:dPe,listePersonnes:hPe,consigneGroupe:APe,exempleGroupe:fPe,nombrePersonnesGroupe:pPe,texteTirageTexte:gPe,texteTirageImage:mPe,consigneTirageTexte:bPe,selectionnerImages:vPe,supprimerItemTirage:yPe,oui:wPe,non:CPe,tirer:EPe,contenuIntegre:xPe,lienContenuLigne:TPe,monTexte:_Pe,selectionner:SPe,dessiner:BPe,deplacerPanneaux:kPe,defaire:IPe,refaire:DPe,rectangle:FPe,rectanglePlein:PPe,cercle:LPe,cerclePlein:RPe,etoile:MPe,ligne:OPe,fleche:UPe,surlignage:NPe,supprimer:HPe,fermer:QPe,verrouiller:VPe,deverrouiller:$Pe,mettreDevant:jPe,mettreDerriere:zPe,reduireTaille:KPe,augmenterTaille:GPe,reinitialiserAnnotations:qPe,reinitialiser:WPe,soutien:YPe,codeSource:XPe,horloge:JPe,volume:ZPe,sonometre:eLe,sensibilite:tLe,erreurSonometre:iLe,erreurTailleFichier:nLe,nouveauTitre:sLe,calendrier:rLe,lien:oLe,titreLien:aLe,activerEffetsSonores:lLe,plateau:uLe,plateauJeu:cLe,nombrePions:dLe,afficherHeures:hLe,afficherDecompteVisuel:ALe,redemarrer:fLe,dupliquer:pLe,confirmationSuppressionPage:gLe,supprimerPage:mLe,envoyerPage:bLe,galerie:vLe,galerieImages:yLe,texteGalerie:wLe,label:CLe,webcam:ELe,navigateurNonSupporte:xLe,aucuneEntreeVideo:TLe,tableau:_Le,lignes:SLe,colonnes:BLe,titreColonne:kLe,ajouterColonne:ILe,supprimerColonne:DLe,ajouterLigne:FLe,supprimerLigne:PLe,rownum:LLe,plaintext:RLe,textarea:MLe,html:OLe,link:ULe,color:NLe,star:HLe,progress:QLe,tickCross:VLe,orange:$Le,pourpre:jLe,list:zLe,listeMots:KLe,modalites:GLe,silence:qLe,chuchotez:WLe,ecoutez:YLe,parlez:XLe,communiquez:JLe,modalitesTravail:ZLe,histoire:eRe,nombreImages:tRe,sourceImages:iRe,generer:nRe,tirageSortAudio:sRe,texteTirageAudio:rRe,selectionnerAudios:oRe,tirageAudio:aRe,adresseLien:lRe,apparence:uRe,lecteur:cRe,bouton:dRe,typeDe:hRe,classique:ARe,nombre:fRe,lettre:pRe,minimum:gRe,maximum:mRe,alerteEcran:bRe,pendu:vRe,motATrouver:yRe,nombreErreurs:wRe,caracteres:CRe,erreursRestantes:ERe,cartes:xRe,formatCartes:TRe,paysage:_Re,portrait:SRe,carre:BRe,recto:kRe,verso:IRe,ajouterCarte:DRe,selectionnerCouleurFond:FRe,plus1Min:PRe,moins1Min:LRe,afficherMillisecondes:RRe,augmenterTransparence:MRe,reduireTransparence:ORe,imagesSequentielles:URe,ordreImage:NRe,imagesOrdre:HRe,capturer:QRe,mettrePleinEcran:VRe,sortirPleinEcran:$Re,masquerOutils:jRe,afficherOutils:zRe,feu:KRe,feuQuadricolore:GRe,roue:qRe,itemsRoue:WRe,selectionnerFichier:YRe,codeHTML:XRe,deplacer:JRe,copier:ZRe,son:eMe,bip:tMe,cartoon:iMe,clave:nMe,djembe:sMe,gouttes:rMe,maraca:oMe,mbira:aMe,metronome:lMe,triangle:uMe,classement:cMe,consigneClassement:dMe,nombrePoints:hMe,classer:AMe,modifierScore:fMe,seuilTolerance:pMe,nouveauNom:gMe,tirageSortNombre:mMe,tirageNombre:bMe,horlogeModulable:vMe,horlogeM:yMe,exemple:wMe,corbeille:CMe,aucunPanneauSupprime:EMe,page:xMe,restaurer:TMe},SMe="Per utilizzare l'applicazione il tuo schermo deve avere una larghezza minima di 1024 pixel.",BMe="Codice QR",kMe="Testo",IMe="Immagine",DMe="Disegno",FMe="Doc",PMe="Audio",LMe="Sintesi",RMe="Video",MMe="Iframe",OMe="Nuvola",UMe="Riordina",NMe="Cloze",HMe="Sorteggio testo",QMe="Sorteggio immagine",VMe="Dadi",$Me="Gruppi",jMe="Gruppo",zMe="Crono",KMe="Alla rovescia",GMe="Feedback",qMe="Griglia",WMe="Cattura",YMe="Annota",XMe="Schermo",JMe="Impostazioni",ZMe="Info",e6e="Link a un file audio",t6e="Velocità lettura",i6e="Conferma",n6e="Avvia",s6e="Pausa",r6e="Cronometro",o6e="Link o testo",a6e="Numero dei dadi",l6e="Lancia",u6e="Nome del file",c6e="Numero di colonne",d6e="Numero di linee",h6e="Colore del testo",A6e="Colore di sfondo",f6e="Link ad un'immagine o cerca su Pixabay",p6e="Risultati della ricerca",g6e="Seleziona un'immagine",m6e="File sul dispositivo",b6e="Cerca",v6e="Documento",y6e="Documento sul dispositivo (.pdf, .odt, .odp, .ods, .odg)",w6e="Seleziona un documento",C6e="Seleziona un file audio",E6e="Seleziona un video",x6e="o",T6e="Nuvola di parole",_6e="Parole",S6e="Dimensioni",B6e="Aggiungi una parola",k6e="Aggiungi un elenco di parole",I6e="Apri",D6e="Annulla",F6e="Aggiungi",P6e="Aggiungi un elenco di parole, separate da una virgola.",L6e="Esempio: digitale, rosa, fiordaliso, papavero",R6e="Tipo di riordino",M6e="orizzontale",O6e="verticale",U6e="Item (in ordine corretto)",N6e="Aggiungi un item",H6e="Controlla",Q6e="Bravo!",V6e="Rimetti in ordine",$6e="Orario",j6e="Minuti",z6e="Secondi",K6e="Tempo scaduto",G6e="Conto alla rovescia",q6e="Sintesi vocale",W6e="Testo da leggere con la sintesi",Y6e="Velocità",X6e="Volume",J6e="Voce",Z6e="Ascolta",e8e="DEFAULT",t8e="Link verso un video (YouTube, Vimeo o file .mp4)",i8e="Inizio",n8e="Fine",s8e="Min.",r8e="Sec.",o8e="Aumentare la dimensione",a8e="Riduci la dimensione",l8e="Grassetto",u8e="Corsivo",c8e="Sottolineato",d8e="Barrato",h8e="Elenco numerato",A8e="Elenco",f8e="Allinea a sinistra",p8e="Allinea a destra",g8e="Centra",m8e="Nero",b8e="Rosso",v8e="Verde",y8e="Blu",w8e="Giallo",C8e="Turchese",E8e="Grigio",x8e="Bianco",T8e="Info su Digiscreen",_8e="è una schermata interattiva iperr la classe in presenza e a distanza creata da",S8e="Contatti:",B8e="Lingua",k8e="Sfondo della pagina",I8e="Seleziona un colore",D8e="Pagina precedente",F8e="Pagina successiva",P8e="Pagine",L8e="Aggiungi una pagina",R8e="Importa",M8e="Esporta",O8e="Importa un file .dgs",U8e="Esporta come .dgs",N8e="Moduli",H8e="Sorteggio del testo",Q8e="Sorteggio dell'immagine",V8e="Cloze",$8e="La digitale è una *pianta*.",j8e="<u>Campo di testo da completare</u>: La digitale è una *pianta*.",z8e="<u>Campo con selezione</u>: La digitale è *una pianta&vert;un albero* (la risposta esatta deve essere messa in prima posizione).",K8e="Elenco di persone",G8e="Aggiungi un lenco di persone, separate da una virgola.",q8e="Esempio: Gianni, Fleur, Carlotta, Basile",W8e="Numero di persone per gruppo",Y8e="Testo per il sorteggio",X8e="Immagini per il sorteggio",J8e="Aggiungi le parole o le frasi, separate da una virgola.",Z8e="Fare clic o trascinare le immagini qui",eOe="Elimina l'item dall'elenco dopo il sorteggio?",tOe="sì",iOe="no",nOe="Sorteggia",sOe="Embed",rOe="Link a un sito, un documento o un contenuto interattivo",oOe="Il mio testo…",aOe="Seleziona",lOe="Disegna",uOe="Sposta i pannelli",cOe="Annulla",dOe="Rifai",hOe="Rettangolo",AOe="Rettangolo pieno",fOe="Cerchio",pOe="Cerchio pieno",gOe="Stella",mOe="Linea",bOe="Freccia",vOe="Evidenziazione",yOe="Elimina",wOe="Chiudi",COe="Blocca",EOe="Sblocca",xOe="Mettere davanti",TOe="Mettere dietro",_Oe="Ridurre la dimensione del testo",SOe="Aumentare la dimensione del testo",BOe="Vuoi eliminare tutte le annotazioni?",kOe="Reset",IOe="Voglio sostenere questo progetto ❤️.",DOe="Codice sorgente",FOe="Orologio",POe="Volume",LOe="Fonometro",ROe="Sensibilità",MOe="Errore durante il tentativo di recuperare il flusso di input del microfono.",OOe="La dimensione massima accettata è di 1 MB. Per i file più grandi, si raccomanda di utilizzare il formato PDF.",UOe="Titolo di questa finestra:",NOe="Calendario",HOe="Link",QOe="Titolo del link",VOe="Attivare gli effetti sonori?",$Oe="Tabellone",jOe="Tabellone da gioco",zOe="Numero di pedine",KOe="Mostrare le ore?",GOe="Mostrare il conteggio visivo?",qOe="Riavvio",WOe="Duplicare",YOe="Si vuole davvero eliminare la pagina {page} e il suo contenuto?",XOe="Eliminare la pagina corrente",JOe="Invia alla pagina:",ZOe="Galleria",eUe="Galleria di immagini",tUe="Immagini della galleria",iUe="Etichetta",nUe="Webcam",sUe="Questo browser non è supportato.",rUe="Non è stato rilevato alcun ingresso video sul dispositivo.",oUe="Tabella",aUe="Righe",lUe="Colonne",uUe="Titolo della colonna",cUe="Aggiungere una colonna",dUe="Cancellare la colonna",hUe="Aggiungere una riga",AUe="Cancellare una riga",fUe="Numero di riga",pUe="Testo (1 riga)",gUe="Testo (più righe)",mUe="HTML",bUe="Collegamento",vUe="Colore",yUe="Stelle",wUe="Progressione",CUe="Tick",EUe="Arancione",xUe="Viola",TUe="Lista",_Ue="Lista di parole, separate da una virgola",SUe="Metodi",BUe="Silenzio",kUe="Sussurro",IUe="Ascoltare",DUe="Lavorare in coppia",FUe="Lavorare in gruppo",PUe="Metodi di lavoro",LUe="Storia",RUe="Numero di immagini",MUe="Fonte delle immagini",OUe="Generare",UUe="Sorteggio audio",NUe="File audio per il sorteggio",HUe="Fare clic o trascinare i file audio qui",QUe="Sorteggio audio",VUe="Indica il link da inserire:",$Ue="Aspetto del lettore",jUe="lettore audio",zUe="pulsante singolo",KUe="Tipo di dado",GUe="classico",qUe="numero",WUe="lettera",YUe="Minimo",XUe="Massimo",JUe="La risoluzione di questa schermata è inferiore a quella utilizzata per l'esportazione del file .dgs. La posizione dei pannelli potrebbe essere influenzata. Per risolvere il problema, ingrandire la finestra o utilizzare le funzioni di zoom del browser. Zoom consigliato: {zoom}% del livello di zoom corrente.",ZUe="L'impiccato",e9e="Parola da trovare",t9e="Numero di scelte sbagliate",i9e="Lettere",n9e="Errori rimanenti:",s9e="Carte",r9e="Formato della carta",o9e="Orizzontale",a9e="verticale",l9e="quadrato",u9e="Fronte",c9e="Retro",d9e="Aggiungi carta",h9e="Seleziona un colore di sfondo",A9e="+ 1 min.",f9e="- 1 min.",p9e="Mostrare i millisecondi?",g9e="Aumentare la trasparenza",m9e="Ridurre la trasparenza",b9e="Immagini in sequenza",v9e="Riordina Immagini",y9e="Immagini (in ordine corretto)",w9e="Fai uno screenshot",C9e="Vai a schermo intero",E9e="Uscita dallo schermo intero",x9e="Nascondi la barra degli strumenti",T9e="Mostra la barra degli strumenti",_9e="Semaforo",S9e="Semaforo",B9e="Ruota",k9e="Elementi della ruota",I9e="Seleziona un file",D9e="Codice HTML",F9e="Muoversi",P9e="Copia",L9e="Suono",R9e="Bip",M9e="Cartoon",O9e="Chiave",U9e="Djembe",N9e="Gocce",H9e="Maraca",Q9e="Mbira",V9e="Metronomo",$9e="Triangolo",j9e="Classifica",z9e="Aggiungere i nomi delle persone da aggiungere alla classifica, separati da una virgola.",K9e="Numero di punti predefinito",G9e="Classifica",q9e="Cambia il punteggio",W9e="Soglia di tolleranza (in secondi)",Y9e="Nuovo nome",X9e="Sorteggio del numero",J9e="Sorteggio numero",Z9e="Orologio modulare",e7e="Orologio Mod.",t7e="Esempio",i7e="Bin",n7e="Nessun pannello eliminato.",s7e="Pagina",r7e="Ripristina",o7e={alerte:SMe,codeqr:BMe,texte:kMe,image:IMe,dessin:DMe,doc:FMe,audio:PMe,synthese:LMe,video:RMe,iframe:MMe,nuage:OMe,ordre:UMe,trous:NMe,tirageTexte:HMe,tirageImage:QMe,des:VMe,groupes:$Me,groupe:jMe,chrono:zMe,rebours:KMe,retroaction:GMe,grille:qMe,capture:WMe,annoter:YMe,ecran:XMe,options:JMe,aPropos:ZMe,lienFichierAudio:e6e,vitesseLecture:t6e,valider:i6e,demarrer:n6e,pause:s6e,chronometre:r6e,lienOuTexte:o6e,nombreDes:a6e,jeter:l6e,nomFichier:u6e,nombreColonnes:c6e,nombreLignes:d6e,couleurTexte:h6e,couleurFond:A6e,lienImageRecherche:f6e,resultatsRecherche:p6e,selectionnerImage:g6e,fichierAppareil:m6e,rechercher:b6e,document:v6e,documentAppareil:y6e,selectionnerDocument:w6e,selectionnerAudio:C6e,selectionnerVideo:E6e,ou:x6e,nuageMots:T6e,mots:_6e,taille:S6e,ajouterMot:B6e,ajouterListe:k6e,apercu:I6e,annuler:D6e,ajouter:F6e,consigneListeMots:P6e,exempleListe:L6e,typeRemiseOrdre:R6e,horizontale:M6e,verticale:O6e,itemsOrdre:U6e,ajouterItem:N6e,verifier:H6e,bravoExercice:Q6e,remiseOrdre:V6e,heures:$6e,minutes:j6e,secondes:z6e,tempsEcoule:K6e,compteRebours:G6e,syntheseVocale:q6e,texteSynthetiser:W6e,vitesse:Y6e,hauteur:X6e,voix:J6e,ecouter:Z6e,parDefaut:e8e,lienVideo:t8e,debut:i8e,fin:n8e,min:s8e,sec:r8e,tailleTextePlus:o8e,tailleTexteMoins:a8e,gras:l8e,italique:u8e,souligne:c8e,barre:d8e,listeDecimale:h8e,liste:A8e,alignerGauche:f8e,alignerDroite:p8e,centrer:g8e,noir:m8e,rouge:b8e,vert:v8e,bleu:y8e,jaune:w8e,turquoise:C8e,gris:E8e,blanc:x8e,aProposDigiscreen:T8e,digiscreen:_8e,contact:S8e,langue:B8e,arrierePlanPage:k8e,selectionnerCouleur:I8e,pagePrecedente:D8e,pageSuivante:F8e,pages:P8e,ajouterPage:L8e,importer:R8e,exporter:M8e,importerEcran:O8e,exporterEcran:U8e,modules:N8e,tirageSortTexte:H8e,tirageSortImage:Q8e,texteATrous:V8e,exempleTrou:$8e,consigneTrouSimple:j8e,consigneTrouSelection:z8e,listePersonnes:K8e,consigneGroupe:G8e,exempleGroupe:q8e,nombrePersonnesGroupe:W8e,texteTirageTexte:Y8e,texteTirageImage:X8e,consigneTirageTexte:J8e,selectionnerImages:Z8e,supprimerItemTirage:eOe,oui:tOe,non:iOe,tirer:nOe,contenuIntegre:sOe,lienContenuLigne:rOe,monTexte:oOe,selectionner:aOe,dessiner:lOe,deplacerPanneaux:uOe,defaire:cOe,refaire:dOe,rectangle:hOe,rectanglePlein:AOe,cercle:fOe,cerclePlein:pOe,etoile:gOe,ligne:mOe,fleche:bOe,surlignage:vOe,supprimer:yOe,fermer:wOe,verrouiller:COe,deverrouiller:EOe,mettreDevant:xOe,mettreDerriere:TOe,reduireTaille:_Oe,augmenterTaille:SOe,reinitialiserAnnotations:BOe,reinitialiser:kOe,soutien:IOe,codeSource:DOe,horloge:FOe,volume:POe,sonometre:LOe,sensibilite:ROe,erreurSonometre:MOe,erreurTailleFichier:OOe,nouveauTitre:UOe,calendrier:NOe,lien:HOe,titreLien:QOe,activerEffetsSonores:VOe,plateau:$Oe,plateauJeu:jOe,nombrePions:zOe,afficherHeures:KOe,afficherDecompteVisuel:GOe,redemarrer:qOe,dupliquer:WOe,confirmationSuppressionPage:YOe,supprimerPage:XOe,envoyerPage:JOe,galerie:ZOe,galerieImages:eUe,texteGalerie:tUe,label:iUe,webcam:nUe,navigateurNonSupporte:sUe,aucuneEntreeVideo:rUe,tableau:oUe,lignes:aUe,colonnes:lUe,titreColonne:uUe,ajouterColonne:cUe,supprimerColonne:dUe,ajouterLigne:hUe,supprimerLigne:AUe,rownum:fUe,plaintext:pUe,textarea:gUe,html:mUe,link:bUe,color:vUe,star:yUe,progress:wUe,tickCross:CUe,orange:EUe,pourpre:xUe,list:TUe,listeMots:_Ue,modalites:SUe,silence:BUe,chuchotez:kUe,ecoutez:IUe,parlez:DUe,communiquez:FUe,modalitesTravail:PUe,histoire:LUe,nombreImages:RUe,sourceImages:MUe,generer:OUe,tirageSortAudio:UUe,texteTirageAudio:NUe,selectionnerAudios:HUe,tirageAudio:QUe,adresseLien:VUe,apparence:$Ue,lecteur:jUe,bouton:zUe,typeDe:KUe,classique:GUe,nombre:qUe,lettre:WUe,minimum:YUe,maximum:XUe,alerteEcran:JUe,pendu:ZUe,motATrouver:e9e,nombreErreurs:t9e,caracteres:i9e,erreursRestantes:n9e,cartes:s9e,formatCartes:r9e,paysage:o9e,portrait:a9e,carre:l9e,recto:u9e,verso:c9e,ajouterCarte:d9e,selectionnerCouleurFond:h9e,plus1Min:A9e,moins1Min:f9e,afficherMillisecondes:p9e,augmenterTransparence:g9e,reduireTransparence:m9e,imagesSequentielles:b9e,ordreImage:v9e,imagesOrdre:y9e,capturer:w9e,mettrePleinEcran:C9e,sortirPleinEcran:E9e,masquerOutils:x9e,afficherOutils:T9e,feu:_9e,feuQuadricolore:S9e,roue:B9e,itemsRoue:k9e,selectionnerFichier:I9e,codeHTML:D9e,deplacer:F9e,copier:P9e,son:L9e,bip:R9e,cartoon:M9e,clave:O9e,djembe:U9e,gouttes:N9e,maraca:H9e,mbira:Q9e,metronome:V9e,triangle:$9e,classement:j9e,consigneClassement:z9e,nombrePoints:K9e,classer:G9e,modifierScore:q9e,seuilTolerance:W9e,nouveauNom:Y9e,tirageSortNombre:X9e,tirageNombre:J9e,horlogeModulable:Z9e,horlogeM:e7e,exemple:t7e,corbeille:i7e,aucunPanneauSupprime:n7e,page:s7e,restaurer:r7e},a7e="Jouw scherm moet minstens 1024px breed zijn om deze app te gebruiken.",l7e="QR-code",u7e="Tekst",c7e="Foto",d7e="Tekening",h7e="Doc",A7e="Audio",f7e="Synth.",p7e="Video",g7e="Iframe",m7e="Wolk",b7e="Herschik",v7e="Vul in",y7e="Random tekst",w7e="Random beelden",C7e="Dobbel",E7e="Groepen",x7e="Groep",T7e="Timer",_7e="Tel af",S7e="Feedback",B7e="Tabel",k7e="Knip",I7e="Annoteer",D7e="Scherm",F7e="Opties",P7e="Over",L7e="Link naar audiobestand",R7e="Afspeelsnelheid",M7e="Start",O7e="Start",U7e="Pause",N7e="Timer",H7e="Link of tekst",Q7e="Aantal dobbels",V7e="Gooi",$7e="Bestandsnaam",j7e="Aantal kolommen",z7e="Aantal rijen",K7e="Tekstkleur",G7e="Achtergrondkleur",q7e="Link naar afb. of zoek op Pixabay",W7e="Resultaat",Y7e="Kies een afb.",X7e="Eigen bestand",J7e="Zoek",Z7e="Bestand",eNe="Eigen bestand (.pdf, .odt, .odp, .ods, .odg)",tNe="Kies en bestand",iNe="Kies een audiofile",nNe="Kies een video",sNe="of",rNe="Woordenwolk",oNe="Woorden",aNe="Tekens",lNe="Voeg een woord toe",uNe="Voeg een woordenlijst toe",cNe="Voorbeeld",dNe="Annuleer",hNe="Voeg toe",ANe="Voeg woorden toe, gescheiden door een komma.",fNe="Voorbeeld: vos, wolf, marter, wezel",pNe="Hoe wil je het uitlijnen?",gNe="horizontaal",mNe="verticaal",bNe="Items (in de juiste volgorde ingeven)",vNe="Voeg een item toe",yNe="Controleer",wNe="Goed gedaan!",CNe="Herschik",ENe="Uren",xNe="Minuten",TNe="Seconds",_Ne="Verlopen tijd",SNe="Aftelklok",BNe="Tekst naar spraak",kNe="Tekst om samen te vatten",INe="Snelheid",DNe="Hoogte",FNe="Stem",PNe="Luister",LNe="STANDAARD",RNe="Link naar een video (YouTube, Vimeo of .mp4 file)",MNe="Start",ONe="Einde",UNe="Min.",NNe="Sec.",HNe="Vergroot lettergrootte",QNe="Verklein lettergrootte",VNe="Veld",$Ne="Scheef",jNe="Onderlijnd",zNe="Doorstreept",KNe="Decimalen",GNe="Lijst",qNe="Links uitlijnen",WNe="Midden",YNe="Rechts uitlijnen",XNe="Zwart",JNe="Rooded",ZNe="Groen",eHe="Blauw",tHe="Geel",iHe="Turquoise",nHe="Grijs",sHe="Wit",rHe="Over Digiscreen",oHe="is een interactief bord voor in de klas en voor de afstandsles, gemaakt door",aHe="Contact:",lHe="Taal",uHe="Achtergrond",cHe="Kies een kleur",dHe="Vorige pagina",hHe="Volgende pagina",AHe="Pagina's",fHe="Voeg een pagina toe",pHe="Importeer",gHe="Exporteer",mHe="Importeer een .dgs-bestand",bHe="Exporteren als .dgs",vHe="Modules",yHe="Teksten van tekenen",wHe="Tekenen van beelden",CHe="Vul de tekst aan",EHe="De vos is een *zoogdier*.",xHe="<u>Invultekst</u>: De vos is een *zoogdier*.",THe="<u>Invultekst met keuze</u>: De vos is een *zoogdier&vert;vogel* (het juiste antwoord moet eerst staan).",_He="Maak groepjes",SHe="Voeg namen toe, gescheiden door een komma.",BHe="Voorbeeld: Vic, Ferre, Bas, Briek, Marie",kHe="Aantal personen per groep",IHe="Elementen voor de trekking",DHe="Beelden voor de trekking",FHe="Voeg woorden, namen of zinnen toe, gescheiden door een komma.",PHe="Klik of sleep de afbeeldingen hierheen",LHe="Het item verwijderen uit de trekking als het eenmaal gekozen is?",RHe="ja",MHe="nee",OHe="Trekking",UHe="Embed",NHe="Link naar een site, een online doc of interactieve inhoud",HHe="Mijn tekst…",QHe="Selecteer",VHe="Vrij tekenen",$He="Panelen verplaatsen",jHe="Ongedaan maken",zHe="Opnieuw",KHe="Rechthoek",GHe="Gevulde rechthoek",qHe="Cirkel",WHe="Gevulde cirkel",YHe="Ster",XHe="Lijn",JHe="Pijl",ZHe="Markeer",eQe="Verwijder",tQe="Sluit",iQe="Op slot",nQe="Vrijgeven",sQe="Zet voor",rQe="Zet achter",oQe="Tekst verkleinen",aQe="Tekst vergroten",lQe="Wil je alle aantekeningen verwijderen?",uQe="Verwijder alles",cQe="Ik wil dit project graag steunen ❤️.",dQe="Broncode",hQe="Klok",AQe="Volume",fQe="Volumemeter",pQe="Gevoeligheid",gQe="Foutmelding bij poging om het inputsignaal van de micro te vinden.",mQe="De maximum bestandsgrootte is 1 MB. Voor grotere bestanden is het beter PDF te gebruiken.",bQe="Titel van dit paneel:",vQe="Kalender",yQe="Link",wQe="Titel van de link",CQe="Geluidseffecten activeren?",EQe="Bord",xQe="Spelbord",TQe="Aantal stuks",_Qe="Uren weergeven?",SQe="De visuele telling weergeven?",BQe="Herstart",kQe="Duplicaat",IQe="Wil je echt pagina {page} en zijn inhoud verwijderen?",DQe="Verwijder de huidige pagina",FQe="Stuur naar pagina:",PQe="Galerij",LQe="Afbeeldingen galerij",RQe="Galerij afbeeldingen",MQe="Etiket",OQe="Webcam",UQe="Deze browser wordt niet ondersteund.",NQe="Er is geen video-ingang gedetecteerd op uw toestel.",HQe="Tabel",QQe="Regels",VQe="Kolommen",$Qe="Titel van de kolom",jQe="Een kolom toevoegen",zQe="Een kolom verwijderen",KQe="Een regel toevoegen",GQe="Een regel verwijderen",qQe="Lijnnummer",WQe="Tekst (1 regel)",YQe="Tekst (meerdere regels)",XQe="HTML",JQe="Link",ZQe="Kleur",eVe="Sterren",tVe="Progressie",iVe="Tik",nVe="Oranje",sVe="Paars",rVe="Lijst",oVe="Lijst van woorden, gescheiden door een komma",aVe="Methoden",lVe="Stilte",uVe="Fluister",cVe="Luister",dVe="Werken in paren",hVe="Werken in groepen",AVe="Werkmethoden",fVe="Geschiedenis",pVe="Aantal beelden",gVe="Bron van de beelden",mVe="Genereer",bVe="Audio tekenen",vVe="Audiobestanden voor de trekking",yVe="Klik of sleep de audiobestanden hierheen",wVe="Random audio",CVe="Specificeer de link die moet worden ingevoegd:",EVe="Speler uiterlijk",xVe="audiospeler",TVe="enkele knop",_Ve="Soort dobbelsteen",SVe="klassiek",BVe="getal",kVe="letter",IVe="Minimum",DVe="Maximum",FVe="De resolutie van dit scherm is lager dan die van het .dgs-bestand. De positie van de panelen kan worden beïnvloed. Vergroot het venster of gebruik de zoomfuncties van uw browser om dit probleem op te lossen. Aanbevolen zoom: {zoom}% van het huidige zoomniveau.",PVe="Beul",LVe="Woord te vinden",RVe="Aantal foute keuzes",MVe="Letters",OVe="Resterende fouten:",UVe="Kaarten",NVe="Kaartformaat",HVe="liggend",QVe="staand",VVe="vierkant",$Ve="Voorkant",jVe="Achterkant",zVe="Kaart toevoegen",KVe="Selecteer een achtergrondkleur",GVe="+ 1 min.",qVe="- 1 min.",WVe="Milliseconden weergeven?",YVe="Transparantie verhogen",XVe="Transparantie verminderen",JVe="Sequentiële beelden",ZVe="Herschik beelden",e$e="Afbeeldingen (in de juiste volgorde ingeven)",t$e="Maak een screenshot",i$e="Naar volledig scherm",n$e="Volledig scherm afsluiten",s$e="Werkbalk verbergen",r$e="Werkbalk tonen",o$e="Licht",a$e="Verkeerslicht",l$e="Wiel",u$e="Wielonderdelen",c$e="Kies een bestand",d$e="HTML-code",h$e="Verplaatsen",A$e="Kopiëren",f$e="Geluid",p$e="Piep",g$e="Cartoon",m$e="Toets",b$e="Djembe",v$e="Druppels",y$e="Maraca",w$e="Mbira",C$e="Metronoom",E$e="Driehoek",x$e="Rangschikking",T$e="Voeg de namen toe van de personen die moeten worden toegevoegd aan de ranglijst, gescheiden door een komma.",_$e="Standaard aantal punten",S$e="Klassificeren",B$e="Wijzig score",k$e="Tolerantiedrempel (in seconden)",I$e="Nieuwe naam",D$e="Getallen tekenen",F$e="Random Getallen",P$e="Modulaire klok",L$e="Mod. klok",R$e="Voorbeeld",M$e="Bak",O$e="Geen panelen verwijderd.",U$e="Pagina",N$e="Herstellen",H$e={alerte:a7e,codeqr:l7e,texte:u7e,image:c7e,dessin:d7e,doc:h7e,audio:A7e,synthese:f7e,video:p7e,iframe:g7e,nuage:m7e,ordre:b7e,trous:v7e,tirageTexte:y7e,tirageImage:w7e,des:C7e,groupes:E7e,groupe:x7e,chrono:T7e,rebours:_7e,retroaction:S7e,grille:B7e,capture:k7e,annoter:I7e,ecran:D7e,options:F7e,aPropos:P7e,lienFichierAudio:L7e,vitesseLecture:R7e,valider:M7e,demarrer:O7e,pause:U7e,chronometre:N7e,lienOuTexte:H7e,nombreDes:Q7e,jeter:V7e,nomFichier:$7e,nombreColonnes:j7e,nombreLignes:z7e,couleurTexte:K7e,couleurFond:G7e,lienImageRecherche:q7e,resultatsRecherche:W7e,selectionnerImage:Y7e,fichierAppareil:X7e,rechercher:J7e,document:Z7e,documentAppareil:eNe,selectionnerDocument:tNe,selectionnerAudio:iNe,selectionnerVideo:nNe,ou:sNe,nuageMots:rNe,mots:oNe,taille:aNe,ajouterMot:lNe,ajouterListe:uNe,apercu:cNe,annuler:dNe,ajouter:hNe,consigneListeMots:ANe,exempleListe:fNe,typeRemiseOrdre:pNe,horizontale:gNe,verticale:mNe,itemsOrdre:bNe,ajouterItem:vNe,verifier:yNe,bravoExercice:wNe,remiseOrdre:CNe,heures:ENe,minutes:xNe,secondes:TNe,tempsEcoule:_Ne,compteRebours:SNe,syntheseVocale:BNe,texteSynthetiser:kNe,vitesse:INe,hauteur:DNe,voix:FNe,ecouter:PNe,parDefaut:LNe,lienVideo:RNe,debut:MNe,fin:ONe,min:UNe,sec:NNe,tailleTextePlus:HNe,tailleTexteMoins:QNe,gras:VNe,italique:$Ne,souligne:jNe,barre:zNe,listeDecimale:KNe,liste:GNe,alignerGauche:qNe,centrer:WNe,alignerDroite:YNe,noir:XNe,rouge:JNe,vert:ZNe,bleu:eHe,jaune:tHe,turquoise:iHe,gris:nHe,blanc:sHe,aProposDigiscreen:rHe,digiscreen:oHe,contact:aHe,langue:lHe,arrierePlanPage:uHe,selectionnerCouleur:cHe,pagePrecedente:dHe,pageSuivante:hHe,pages:AHe,ajouterPage:fHe,importer:pHe,exporter:gHe,importerEcran:mHe,exporterEcran:bHe,modules:vHe,tirageSortTexte:yHe,tirageSortImage:wHe,texteATrous:CHe,exempleTrou:EHe,consigneTrouSimple:xHe,consigneTrouSelection:THe,listePersonnes:_He,consigneGroupe:SHe,exempleGroupe:BHe,nombrePersonnesGroupe:kHe,texteTirageTexte:IHe,texteTirageImage:DHe,consigneTirageTexte:FHe,selectionnerImages:PHe,supprimerItemTirage:LHe,oui:RHe,non:MHe,tirer:OHe,contenuIntegre:UHe,lienContenuLigne:NHe,monTexte:HHe,selectionner:QHe,dessiner:VHe,deplacerPanneaux:$He,defaire:jHe,refaire:zHe,rectangle:KHe,rectanglePlein:GHe,cercle:qHe,cerclePlein:WHe,etoile:YHe,ligne:XHe,fleche:JHe,surlignage:ZHe,supprimer:eQe,fermer:tQe,verrouiller:iQe,deverrouiller:nQe,mettreDevant:sQe,mettreDerriere:rQe,reduireTaille:oQe,augmenterTaille:aQe,reinitialiserAnnotations:lQe,reinitialiser:uQe,soutien:cQe,codeSource:dQe,horloge:hQe,volume:AQe,sonometre:fQe,sensibilite:pQe,erreurSonometre:gQe,erreurTailleFichier:mQe,nouveauTitre:bQe,calendrier:vQe,lien:yQe,titreLien:wQe,activerEffetsSonores:CQe,plateau:EQe,plateauJeu:xQe,nombrePions:TQe,afficherHeures:_Qe,afficherDecompteVisuel:SQe,redemarrer:BQe,dupliquer:kQe,confirmationSuppressionPage:IQe,supprimerPage:DQe,envoyerPage:FQe,galerie:PQe,galerieImages:LQe,texteGalerie:RQe,label:MQe,webcam:OQe,navigateurNonSupporte:UQe,aucuneEntreeVideo:NQe,tableau:HQe,lignes:QQe,colonnes:VQe,titreColonne:$Qe,ajouterColonne:jQe,supprimerColonne:zQe,ajouterLigne:KQe,supprimerLigne:GQe,rownum:qQe,plaintext:WQe,textarea:YQe,html:XQe,link:JQe,color:ZQe,star:eVe,progress:tVe,tickCross:iVe,orange:nVe,pourpre:sVe,list:rVe,listeMots:oVe,modalites:aVe,silence:lVe,chuchotez:uVe,ecoutez:cVe,parlez:dVe,communiquez:hVe,modalitesTravail:AVe,histoire:fVe,nombreImages:pVe,sourceImages:gVe,generer:mVe,tirageSortAudio:bVe,texteTirageAudio:vVe,selectionnerAudios:yVe,tirageAudio:wVe,adresseLien:CVe,apparence:EVe,lecteur:xVe,bouton:TVe,typeDe:_Ve,classique:SVe,nombre:BVe,lettre:kVe,minimum:IVe,maximum:DVe,alerteEcran:FVe,pendu:PVe,motATrouver:LVe,nombreErreurs:RVe,caracteres:MVe,erreursRestantes:OVe,cartes:UVe,formatCartes:NVe,paysage:HVe,portrait:QVe,carre:VVe,recto:$Ve,verso:jVe,ajouterCarte:zVe,selectionnerCouleurFond:KVe,plus1Min:GVe,moins1Min:qVe,afficherMillisecondes:WVe,augmenterTransparence:YVe,reduireTransparence:XVe,imagesSequentielles:JVe,ordreImage:ZVe,imagesOrdre:e$e,capturer:t$e,mettrePleinEcran:i$e,sortirPleinEcran:n$e,masquerOutils:s$e,afficherOutils:r$e,feu:o$e,feuQuadricolore:a$e,roue:l$e,itemsRoue:u$e,selectionnerFichier:c$e,codeHTML:d$e,deplacer:h$e,copier:A$e,son:f$e,bip:p$e,cartoon:g$e,clave:m$e,djembe:b$e,gouttes:v$e,maraca:y$e,mbira:w$e,metronome:C$e,triangle:E$e,classement:x$e,consigneClassement:T$e,nombrePoints:_$e,classer:S$e,modifierScore:B$e,seuilTolerance:k$e,nouveauNom:I$e,tirageSortNombre:D$e,tirageNombre:F$e,horlogeModulable:P$e,horlogeM:L$e,exemple:R$e,corbeille:M$e,aucunPanneauSupprime:O$e,page:U$e,restaurer:N$e},Q$e="Damit du diese App nutzen kann, muss deine Auflösung mindestens 1024px breit sein.",V$e="QR Code",$$e="Text",j$e="Bild",z$e="Zeichnung",K$e="Dokumente",G$e="Audio",q$e="TTS",W$e="Video",Y$e="Iframe",X$e="Wolke",J$e="Ordnen",Z$e="Lücken",eje="Zufall Text",tje="Zufall Bild",ije="Würfel",nje="Gruppen",sje="Gruppe",rje="Stoppuhr",oje="Timer",aje="Feedback",lje="Raster",uje="Bildschirmfoto",cje="Annotieren",dje="Vollbild",hje="Einstellungen",Aje="Über",fje="Link zur Audio Datei",pje="Wiedergabegeschwindigkeit",gje="Bestätigen",mje="Start",bje="Pause",vje="Timer",yje="Link oder Text",wje="Anzahl der Würfel",Cje="Würfeln",Eje="Dateiname",xje="Anzahl der Spalten",Tje="Anzahl der Reihen",_je="Textfarbe",Sje="Hintergrundfarbe",Bje="Link zu einem Bild oder Suche bei Pixabay",kje="Suchergebnisse",Ije="Wähle ein Bild",Dje="Datei auf Deinem Gerät",Fje="Suche",Pje="Dokument",Lje="Dokument auf Deinem Gerät (.pdf, .odt, .odp, .ods, .odg)",Rje="Wähle ein Dokument",Mje="Wähle eine Audiodatei",Oje="Wähle eine Videodatei",Uje="oder",Nje="Wortwolke",Hje="Wörter",Qje="Größe",Vje="Wort hinzufügen",$je="Liste von Wörtern hinzufügen",jje="Vorschau",zje="Abbrechen",Kje="Hinzufügen",Gje="Liste von Wörtern hinzufügen, separiert mit Kommas.",qje="Beispiel: Fingerhut, Rose, Tulpe, Veilchen",Wje="Sortierungstyp",Yje="horizontal",Xje="vertikal",Jje="Elemente (in der korrekten Reihenfolge)",Zje="Elemente hinzufügen",eze="Überprüfen",tze="Gut gemacht!",ize="Sortieren",nze="Stunden",sze="Minuten",rze="Sekunden",oze="Vergangene Zeit",aze="Countdown",lze="Text-to-Speech",uze="Text für Sprachausgabe",cze="Geschwindigkeit",dze="Tonhöhe",hze="Stimme",Aze="Listen",fze="Standartwert",pze="Link zu einem Video (Youtube, Vimeo oder sonstige Video-Datei)",gze="Start",mze="Ende",bze="Min.",vze="Sek.",yze="Schriftgröße vergrößern",wze="Schriftgröße verkleinern",Cze="Fett",Eze="Kursiv",xze="Unterstrichen",Tze="Durchgestrichen",_ze="Dezimal Liste",Sze="Liste",Bze="Linksbündig",kze="Zentriert",Ize="Rechtsbündig",Dze="Schwarz",Fze="Rot",Pze="Grün",Lze="Blau",Rze="Gelb",Mze="Türkis",Oze="Grau",Uze="Weiß",Nze="Über Digiscreen",Hze="ist eine interaktive Tafel für das Klassenzimmer und den virtuellen Klassenraum von",Qze="Kontakt:",Vze="Sprache",$ze="Seitenhintergrund",jze="Wähle eine Farbe",zze="Vorherige Seite",Kze="Nächste Seite",Gze="Seiten",qze="Seite hinzufügen",Wze="Import",Yze="Export",Xze="Importieren einer .dgs-Datei",Jze="Exportieren als .dgs",Zze="Module",eKe="Textverlosung",tKe="Bildverlosung",iKe="Fülle die Lücken",nKe="Der Fingerhut ist eine *Pflanze*.",sKe="<u>Um einen Eingabetext zu erzeugen schreibe</u>: Der Fingerhut ist eine *Pflanze*.",rKe="<u>Um eine Auswahlliste zu erzeugen schreibe</u>: Der Fingerhut ist *eine Pflanze&vert;ein Baum* (die richtige Antwort muss zuerst genannt werden).",oKe="Gruppeneinteilung",aKe="Füge eine Liste mit Personen hinzu, trenne mit einem Komma.",lKe="Beispiel: Holger, Nele, Charlotte, Ulrich",uKe="Größe der Gruppe",cKe="Text für die Verlosung",dKe="Bilder für die Verlosung",hKe="Füge Wörter oder Begriffe hinzu, trenne mit einem Komma.",AKe="Klicken Sie hier oder ziehen Sie die Bilder per Drag & Drop",fKe="Liste nach dem Bestätigen löschen?",pKe="Ja",gKe="Nein",mKe="Los ziehen",bKe="Eingebetteter Inhalt",vKe="Link zu einer Seite, einem Dokument oder interaktivem Inhalt",yKe="Mein Text…",wKe="Auswählen",CKe="Zeichnen",EKe="Verschiebe Elemente",xKe="Rückgängig",TKe="Wiederherstellen",_Ke="Rechteck",SKe="Gefülltes Rechteck",BKe="Kreis",kKe="Gefüllter Kreis",IKe="Stern",DKe="Linie",FKe="Pfeil",PKe="Hervorgehoben",LKe="Löschen",RKe="Schließen",MKe="Sperren",OKe="Entsperren",UKe="Vorwärts",NKe="Zurück",HKe="Schrift verkleinern",QKe="Schrift vergrößern",VKe="Möchtest Du wirklich alle Annotationen löschen?",$Ke="Alles löschen",jKe="Ich möchte dieses Projekt unterstützen ❤️.",zKe="Quellcode",KKe="Uhr",GKe="Lautstärke",qKe="Lautstärkemesser",WKe="Sensivität",YKe="Fehler beim Versuch das Mikrofon zu öffnen.",XKe="Die maximale Größe beträgt 1 MB. Bei größeren Dateien wird das PDF Format empfohlen.",JKe="Titel dieser Tafel:",ZKe="Kalender",eGe="Link",tGe="Titel des Links",iGe="Geräusche aktivieren?",nGe="Spiel",sGe="Spielbrett",rGe="Anzahl der Spielfigren",oGe="Stunden anzeigen?",aGe="Visuelle Zählung anzeigen?",lGe="Neustart",uGe="Duplizieren",cGe="Möchten Sie die Seite {page} und ihren Inhalt wirklich löschen?",dGe="Löschen der aktuellen Seite",hGe="Senden an Seite:",AGe="Galerie",fGe="Bildergalerie",pGe="Bilder in der Galerie",gGe="Label",mGe="Webcam",bGe="Dieser Browser wird nicht unterstützt.",vGe="Es wurde kein Videoeingang auf Ihrem Gerät erkannt.",yGe="Tabelle",wGe="Zeilen",CGe="Spalten",EGe="Titel der Spalte",xGe="Spalte hinzufügen",TGe="Spalte löschen",_Ge="Zeile hinzufügen",SGe="Zeile löschen",BGe="Nummer der Zeile",kGe="Text (eine Zeile)",IGe="Text (mehrere Zeilen)",DGe="HTML",FGe="Link",PGe="Farbe",LGe="Sterne",RGe="Progression",MGe="Check",OGe="Orange",UGe="Purpur",NGe="Liste",HGe="Liste von Wörtern, getrennt durch ein Komma",QGe="Modalitäten",VGe="Stille",$Ge="Flüstern",jGe="Hören",zGe="Arbeiten Sie zu zweit",KGe="Arbeiten Sie in einer Gruppe",GGe="Arbeitsmodalitäten",qGe="Geschichte",WGe="Anzahl der Bilder",YGe="Quelle der Bilder",XGe="Generieren",JGe="Audioverlosung",ZGe="Audiodateien für die Verlosung",eqe="Klicken oder Drag & Drop der Audiodateien hier",tqe="Zufall Audio",iqe="Geben Sie den einzufügenden Link an:",nqe="Erscheinungsbild des Players",sqe="Audioplayer",rqe="einfache Taste",oqe="Würfeltyp",aqe="klassisch",lqe="Zahl",uqe="Buchstabe",cqe="Minimum",dqe="Maximum",hqe="Die Auflösung dieses Bildschirms ist geringer als die beim Export der .dgs-Datei verwendete. Die Position der Panels könnte beeinträchtigt sein. Vergrößern Sie das Fenster oder verwenden Sie die Zoomfunktionen Ihres Browsers, um das Problem zu beheben. Empfohlener Zoom: {Zoom}% der aktuellen Zoomstufe.",Aqe="Gehängte",fqe="Wort zu finden",pqe="Anzahl der falschen Auswahlen",gqe="Buchstaben",mqe="Verbleibende Fehler:",bqe="Karten",vqe="Kartenformat",yqe="Querformat",wqe="Hochformat",Cqe="Quadratisch",Eqe="Vorderseite",xqe="Rückseite",Tqe="Karte hinzufügen",_qe="Hintergrundfarbe auswählen",Sqe="+ 1 Min.",Bqe="- 1 Min.",kqe="Millisekunden anzeigen?",Iqe="Transparenz erhöhen",Dqe="Transparenz reduzieren",Fqe="Sequentielle Bilder",Pqe="Bilder ordnen",Lqe="Bilder (in der korrekten Reihenfolge)",Rqe="Screenshot machen",Mqe="In Vollbildmodus bringen",Oqe="Vom Vollbildmodus zurücktreten",Uqe="Toolbar ausblenden",Nqe="Toolbar einblenden",Hqe="Ampel",Qqe="Vierfarbige Ampel",Vqe="Rad",$qe="Items auf dem Rad",jqe="Wähle ein Datei",zqe="HTML-Code",Kqe="Verschieben",Gqe="Kopieren",qqe="Ton",Wqe="Piep",Yqe="Cartoon",Xqe="Clave",Jqe="Djembe",Zqe="Tropfen",eWe="Maraca",tWe="Mbira",iWe="Metronom",nWe="Triangel",sWe="Rangliste",rWe="Fügen Sie die Namen der Personen, die in die Rangliste aufgenommen werden sollen, durch ein Komma getrennt hinzu.",oWe="Punktzahl Standard",aWe="Einordnen",lWe="Bearbeiten der Punktzahl",uWe="Toleranzschwelle (in Sekunden)",cWe="Neuer Name",dWe="Anzahlverlozung",hWe="Zufall Anzahl",AWe="Uhr Anpassbar",fWe="Uhr Anp.",pWe="Beispiel",gWe="Korb",mWe="Kein Panel gelöscht.",bWe="Seite",vWe="Wiederherstellen",yWe={alerte:Q$e,codeqr:V$e,texte:$$e,image:j$e,dessin:z$e,doc:K$e,audio:G$e,synthese:q$e,video:W$e,iframe:Y$e,nuage:X$e,ordre:J$e,trous:Z$e,tirageTexte:eje,tirageImage:tje,des:ije,groupes:nje,groupe:sje,chrono:rje,rebours:oje,retroaction:aje,grille:lje,capture:uje,annoter:cje,ecran:dje,options:hje,aPropos:Aje,lienFichierAudio:fje,vitesseLecture:pje,valider:gje,demarrer:mje,pause:bje,chronometre:vje,lienOuTexte:yje,nombreDes:wje,jeter:Cje,nomFichier:Eje,nombreColonnes:xje,nombreLignes:Tje,couleurTexte:_je,couleurFond:Sje,lienImageRecherche:Bje,resultatsRecherche:kje,selectionnerImage:Ije,fichierAppareil:Dje,rechercher:Fje,document:Pje,documentAppareil:Lje,selectionnerDocument:Rje,selectionnerAudio:Mje,selectionnerVideo:Oje,ou:Uje,nuageMots:Nje,mots:Hje,taille:Qje,ajouterMot:Vje,ajouterListe:$je,apercu:jje,annuler:zje,ajouter:Kje,consigneListeMots:Gje,exempleListe:qje,typeRemiseOrdre:Wje,horizontale:Yje,verticale:Xje,itemsOrdre:Jje,ajouterItem:Zje,verifier:eze,bravoExercice:tze,remiseOrdre:ize,heures:nze,minutes:sze,secondes:rze,tempsEcoule:oze,compteRebours:aze,syntheseVocale:lze,texteSynthetiser:uze,vitesse:cze,hauteur:dze,voix:hze,ecouter:Aze,parDefaut:fze,lienVideo:pze,debut:gze,fin:mze,min:bze,sec:vze,tailleTextePlus:yze,tailleTexteMoins:wze,gras:Cze,italique:Eze,souligne:xze,barre:Tze,listeDecimale:_ze,liste:Sze,alignerGauche:Bze,centrer:kze,alignerDroite:Ize,noir:Dze,rouge:Fze,vert:Pze,bleu:Lze,jaune:Rze,turquoise:Mze,gris:Oze,blanc:Uze,aProposDigiscreen:Nze,digiscreen:Hze,contact:Qze,langue:Vze,arrierePlanPage:$ze,selectionnerCouleur:jze,pagePrecedente:zze,pageSuivante:Kze,pages:Gze,ajouterPage:qze,importer:Wze,exporter:Yze,importerEcran:Xze,exporterEcran:Jze,modules:Zze,tirageSortTexte:eKe,tirageSortImage:tKe,texteATrous:iKe,exempleTrou:nKe,consigneTrouSimple:sKe,consigneTrouSelection:rKe,listePersonnes:oKe,consigneGroupe:aKe,exempleGroupe:lKe,nombrePersonnesGroupe:uKe,texteTirageTexte:cKe,texteTirageImage:dKe,consigneTirageTexte:hKe,selectionnerImages:AKe,supprimerItemTirage:fKe,oui:pKe,non:gKe,tirer:mKe,contenuIntegre:bKe,lienContenuLigne:vKe,monTexte:yKe,selectionner:wKe,dessiner:CKe,deplacerPanneaux:EKe,defaire:xKe,refaire:TKe,rectangle:_Ke,rectanglePlein:SKe,cercle:BKe,cerclePlein:kKe,etoile:IKe,ligne:DKe,fleche:FKe,surlignage:PKe,supprimer:LKe,fermer:RKe,verrouiller:MKe,deverrouiller:OKe,mettreDevant:UKe,mettreDerriere:NKe,reduireTaille:HKe,augmenterTaille:QKe,reinitialiserAnnotations:VKe,reinitialiser:$Ke,soutien:jKe,codeSource:zKe,horloge:KKe,volume:GKe,sonometre:qKe,sensibilite:WKe,erreurSonometre:YKe,erreurTailleFichier:XKe,nouveauTitre:JKe,calendrier:ZKe,lien:eGe,titreLien:tGe,activerEffetsSonores:iGe,plateau:nGe,plateauJeu:sGe,nombrePions:rGe,afficherHeures:oGe,afficherDecompteVisuel:aGe,redemarrer:lGe,dupliquer:uGe,confirmationSuppressionPage:cGe,supprimerPage:dGe,envoyerPage:hGe,galerie:AGe,galerieImages:fGe,texteGalerie:pGe,label:gGe,webcam:mGe,navigateurNonSupporte:bGe,aucuneEntreeVideo:vGe,tableau:yGe,lignes:wGe,colonnes:CGe,titreColonne:EGe,ajouterColonne:xGe,supprimerColonne:TGe,ajouterLigne:_Ge,supprimerLigne:SGe,rownum:BGe,plaintext:kGe,textarea:IGe,html:DGe,link:FGe,color:PGe,star:LGe,progress:RGe,tickCross:MGe,orange:OGe,pourpre:UGe,list:NGe,listeMots:HGe,modalites:QGe,silence:VGe,chuchotez:$Ge,ecoutez:jGe,parlez:zGe,communiquez:KGe,modalitesTravail:GGe,histoire:qGe,nombreImages:WGe,sourceImages:YGe,generer:XGe,tirageSortAudio:JGe,texteTirageAudio:ZGe,selectionnerAudios:eqe,tirageAudio:tqe,adresseLien:iqe,apparence:nqe,lecteur:sqe,bouton:rqe,typeDe:oqe,classique:aqe,nombre:lqe,lettre:uqe,minimum:cqe,maximum:dqe,alerteEcran:hqe,pendu:Aqe,motATrouver:fqe,nombreErreurs:pqe,caracteres:gqe,erreursRestantes:mqe,cartes:bqe,formatCartes:vqe,paysage:yqe,portrait:wqe,carre:Cqe,recto:Eqe,verso:xqe,ajouterCarte:Tqe,selectionnerCouleurFond:_qe,plus1Min:Sqe,moins1Min:Bqe,afficherMillisecondes:kqe,augmenterTransparence:Iqe,reduireTransparence:Dqe,imagesSequentielles:Fqe,ordreImage:Pqe,imagesOrdre:Lqe,capturer:Rqe,mettrePleinEcran:Mqe,sortirPleinEcran:Oqe,masquerOutils:Uqe,afficherOutils:Nqe,feu:Hqe,feuQuadricolore:Qqe,roue:Vqe,itemsRoue:$qe,selectionnerFichier:jqe,codeHTML:zqe,deplacer:Kqe,copier:Gqe,son:qqe,bip:Wqe,cartoon:Yqe,clave:Xqe,djembe:Jqe,gouttes:Zqe,maraca:eWe,mbira:tWe,metronome:iWe,triangle:nWe,classement:sWe,consigneClassement:rWe,nombrePoints:oWe,classer:aWe,modifierScore:lWe,seuilTolerance:uWe,nouveauNom:cWe,tirageSortNombre:dWe,tirageNombre:hWe,horlogeModulable:AWe,horlogeM:fWe,exemple:pWe,corbeille:gWe,aucunPanneauSupprime:mWe,page:bWe,restaurer:vWe},wWe="Za korištenje ove aplikacije vaš zaslon mora biti širok najmanje 1024px.",CWe="QR kod",EWe="Tekst",xWe="Slika",TWe="Crtež",_We="Dokument",SWe="Zvuk",BWe="Tekst-u-govor",kWe="Video",IWe="Ugradi kod",DWe="Oblak",FWe="Redoslijed",PWe="Praznine",LWe="Crtanje teksta",RWe="Crtanje slike",MWe="Kockice",OWe="Grupe",UWe="Grupa",NWe="Štoperica",HWe="Odbrojavanje",QWe="Povratne informacije",VWe="Mreža",$We="Izrezak",jWe="Komentirati",zWe="ZAslon",KWe="Postavke",GWe="O",qWe="Veza na audio datoteku",WWe="Brzina reprodukcije",YWe="Potvrdi",XWe="Start",JWe="Pauza",ZWe="Štopreica",eYe="Veza ili tekst",tYe="Broj ili kocka",iYe="Zavrti",nYe="Naziv datoteke",sYe="Broj stupaca",rYe="Broj redaka",oYe="Boja tekst",aYe="Boja pozadine",lYe="Veza na sliku ili pretraživanje na Pixabayu",uYe="Rezultati pretraživanja",cYe="Odabrite sliku",dYe="Datoteka na vašem uređaju",hYe="Traži",AYe="Dokument",fYe="Dokument na uređaju (.pdf, .odt, .odp, .ods, .odg)",pYe="Odaberite dokument",gYe="Odaberite zvučni zapis",mYe="Odaberite video",bYe="ili",vYe="Oblak riječi",yYe="Riječi",wYe="Veličina",CYe="Dodajte riječ",EYe="Dodajte popis riječi",xYe="Pregled",TYe="Otkaži",_Ye="Dodati",SYe="Dodajte popis riječi, odvojenih zarezom.",BYe="Primjer: tulipan,ruža,perunika",kYe="Uredi redoslijed",IYe="vodoravno",DYe="okomito",FYe="Stavke (pravilnim redoslijedom)",PYe="Dodajte stavku",LYe="Provjeri",RYe="Well done!",MYe="Preurediti",OYe="Sati",UYe="Minute",NYe="Sekunde",HYe="Vrijeme je isteklo",QYe="Odbrjavanje",VYe="Tekst u govor",$Ye="Tekst za sintetizaciju",jYe="Brzina",zYe="Bacanje",KYe="Glas",GYe="Slušaj",qYe="PO ZADANOM",WYe="Veza na videozapis (YouTube, Vimeo ili.mp4 datoteku)",YYe="Početak",XYe="Kraj",JYe="Min.",ZYe="Sec.",eXe="Povećajte veličinu fonta",tXe="Smanjite veličinu fonta",iXe="Podebljanje",nXe="Ukošenje",sXe="Podcrtavanje",rXe="Precrtavanje",oXe="Decimalni popis",aXe="Popis",lXe="Lijevo poravnanje",uXe="Središte",cXe="Desno poravnanje",dXe="Crno",hXe="Crveno",AXe="Zeleno",fXe="Plavo",pXe="Žuto",gXe="Tirkizno",mXe="Sivo",bXe="Bijelo",vXe="O Digiscreenu",yXe="je interaktivna ploča za učionicu i udaljenu učionicu koju je izradio",wXe="Kontakt:",CXe="Jezik",EXe="Pozadina stranice",xXe="Odaberite boju",TXe="Prethodna stranica",_Xe="Sljedeća stranica",SXe="Stranice",BXe="Dodajte stranicu",kXe="Uvoz",IXe="Izvoz",DXe="Uvezite .dgs datoteku",FXe="Izvezi u .dgs",PXe="Moduli",LXe="Slučajni crtež teksta",RXe="Slučajni crtež slike",MXe="Popunite preaznine",OXe="Cijet je *biljka*.",UXe="<u>za izradu unosa teksta</u>: cvijet je *biljka*.",NXe="<u>za izradu odabranog unosa</u>: cvijet je *biljka&vert;životinja* (točan odgovor mora biti postavljen na prvo mjesto).",HXe="Popis osoba",QXe="Dodajte popis osoba odvojenih zarezom.",VXe="Primjer: Ivan, Luka, Petra, Tia",$Xe="Broj osoba po grupi",jXe="Tekst za crtež",zXe="Slike za crtež",KXe="Dodajte riječi ili izraze odvojene zarezom.",GXe="Kliknite ili povucite i ispustite slike ovdje",qXe="Izbrišite stavku s popisa nakon izvlačenja?",WXe="DA",YXe="NE",XXe="Crtati",JXe="Ugrađeni sadržaj",ZXe="Veza na stranicu, dokument ili interaktivni sadržaj",eJe="Moj tekst…",tJe="Odaberi",iJe="Slobodan crtež",nJe="Pomaknite ploče",sJe="Poništi",rJe="Ponovi",oJe="pravokutnik",aJe="puni pravokutnik",lJe="krug",uJe="puni krug",cJe="zvijezda",dJe="crta",hJe="strelica",AJe="istaknutot",fJe="izbrisati",pJe="zatvori",gJe="zaključaj",mJe="otključaj",bJe="Stavite naprijed",vJe="Stavite iza",yJe="Smanjite veličinu fonta",wJe="Povećajte veličinu fonta",CJe="Želite li stvarno izbrisati sve napomene?",EJe="Očistiti sve",xJe="Želim podržati ovaj projekt ❤️.",TJe="Izvorni kod",_Je="Sat",SJe="Jačina zvuka",BJe="Mjerač razine zvuka",kJe="Osjetljivost",IJe="Pogreška pri pokušaju dohvaćanja ulaznog toka mikrofona.",DJe="Maksimalna prihvaćena veličina je 1 MB. Za veće datoteke preporuča se korištenje PDF formata.",FJe="Naslov ove ploče:",PJe="Kalendar",LJe="Poveznica",RJe="Naslov poveznice",MJe="Aktivirajte zvučne efekte?",OJe="Ploča",UJe="Igra na ploči",NJe="Broj igrača",HJe="Prikaži sate?",QJe="Prikaz vizualnog brojanja?",VJe="Restart",$Je="Duplicirati",jJe="Jeste li sigurni da želite izbrisati stranicu {page} i njezin sadržaj?",zJe="Brisanje trenutne stranice",KJe="Pošalji na stranicu:",GJe="Galerija",qJe="Galerija slika",WJe="Slike galerije",YJe="Etiketa",XJe="Web kamera",JJe="Ovaj preglednik nije podržan.",ZJe="Na uređaju nije otkriven nikakav video ulaz.",eZe="Stol",tZe="Linije",iZe="Kolone",nZe="Naslov stupca",sZe="Dodavanje stupca",rZe="Brisanje stupca",oZe="Dodavanje retka",aZe="Brisanje retka",lZe="Broj retka",uZe="Tekst (1 redak)",cZe="Tekst (više redaka)",dZe="HTML",hZe="Povezati",AZe="Boja",fZe="Zvijezde",pZe="Napredovanje",gZe="Krpelj",mZe="Naranča",bZe="Ljubičast",vZe="Popis",yZe="Popis riječi odvojenih zarezom",wZe="Dogovori",CZe="Budi tiho",EZe="Šapat",xZe="Slušati",TZe="Rad s 2",_Ze="Rad u grupama",SZe="Radni dogovori",BZe="Povijest",kZe="Broj slika",IZe="Izvor slike",DZe="Generirati",FZe="Slučajni crtež audio",PZe="Audiodatoteke za izvlačenje",LZe="Kliknite ili povucite i ispustite audiodatoteke ovdje",RZe="Crtanje audio",MZe="Unesite vezu za umetanje:",OZe="Čitač",UZe="audio player",NZe="jednostruki gumb",HZe="Vrsta kockica",QZe="klasičan",VZe="broj",$Ze="pismo",jZe="Minimum",zZe="Maksimum",KZe="Razlučivost ovog zaslona niža je od razlučivosti koja se koristi pri izvozu.dgs datoteke. To bi moglo utjecati na položaj panela. Proširite prozor ili riješite taj problem pomoću značajki zumiranja preglednika. Preporučeno zumiranje: {zoom}% trenutne razine zumiranja.",GZe="Dželat",qZe="Word za pronalaženje",WZe="Broj pogrešnih izbora",YZe="Pisma",XZe="Preostale pogreške:",JZe="Kartice",ZZe="Veličine kartica",eet="ladanje",tet="portret",iet="rub",net="Ispred",set="Leđa",ret="Dodaj kartu",oet="Odabir boje pozadine",aet="+ 1 min.",uet="- 1 min.",cet="Prikaži milisekunde?",det="Povećajte prozirnost",het="Smanjite prozirnost",Aet="Sekvencijalne slike",fet="Redoslijed Slike",pet="Slike (ispravnim redoslijedom)",get="Napravite snimku zaslona",met="Stavite na cijeli zaslon",bet="Izađi iz cijelog zaslona",vet="Sakrij alatnu traku",yet="Prikaži alatnu traku",wet="Semafor",Cet="Semafor",Eet="Kotač",xet="Predmeti kotača",Tet="Odaberite datoteku",_et="HTML kôd",Bet="Micati",ket="Kopija",Iet="Zvuk",Det="Bip",Fet="Cartoon",Pet="Clave",Let="Djembé",Ret="Kapi",Met="Makača",Oet="Mbira",Uet="Metronom",Net="Trokut",Het="Rangiranje",Qet="Dodajte imena osoba koje želite dodati na rang listu, odvojena zarezom.",Vet="Zadani broj bodova",$et="Klasificirati",jet="Uredi rezultat",zet="Prag dopuštenog odstupanja (u sekundama)",Ket="Novo ime",Get="Broj za crtež",qet="Crtanje broj",Wet="Modularni sat",Yet="Mod. Sat",Xet="Primjer",Jet="Košara",Zet="Ploče nisu uklonjene.",ett="Stranica",ttt="Vratiti",itt={alerte:wWe,codeqr:CWe,texte:EWe,image:xWe,dessin:TWe,doc:_We,audio:SWe,synthese:BWe,video:kWe,iframe:IWe,nuage:DWe,ordre:FWe,trous:PWe,tirageTexte:LWe,tirageImage:RWe,des:MWe,groupes:OWe,groupe:UWe,chrono:NWe,rebours:HWe,retroaction:QWe,grille:VWe,capture:$We,annoter:jWe,ecran:zWe,options:KWe,aPropos:GWe,lienFichierAudio:qWe,vitesseLecture:WWe,valider:YWe,demarrer:XWe,pause:JWe,chronometre:ZWe,lienOuTexte:eYe,nombreDes:tYe,jeter:iYe,nomFichier:nYe,nombreColonnes:sYe,nombreLignes:rYe,couleurTexte:oYe,couleurFond:aYe,lienImageRecherche:lYe,resultatsRecherche:uYe,selectionnerImage:cYe,fichierAppareil:dYe,rechercher:hYe,document:AYe,documentAppareil:fYe,selectionnerDocument:pYe,selectionnerAudio:gYe,selectionnerVideo:mYe,ou:bYe,nuageMots:vYe,mots:yYe,taille:wYe,ajouterMot:CYe,ajouterListe:EYe,apercu:xYe,annuler:TYe,ajouter:_Ye,consigneListeMots:SYe,exempleListe:BYe,typeRemiseOrdre:kYe,horizontale:IYe,verticale:DYe,itemsOrdre:FYe,ajouterItem:PYe,verifier:LYe,bravoExercice:RYe,remiseOrdre:MYe,heures:OYe,minutes:UYe,secondes:NYe,tempsEcoule:HYe,compteRebours:QYe,syntheseVocale:VYe,texteSynthetiser:$Ye,vitesse:jYe,hauteur:zYe,voix:KYe,ecouter:GYe,parDefaut:qYe,lienVideo:WYe,debut:YYe,fin:XYe,min:JYe,sec:ZYe,tailleTextePlus:eXe,tailleTexteMoins:tXe,gras:iXe,italique:nXe,souligne:sXe,barre:rXe,listeDecimale:oXe,liste:aXe,alignerGauche:lXe,centrer:uXe,alignerDroite:cXe,noir:dXe,rouge:hXe,vert:AXe,bleu:fXe,jaune:pXe,turquoise:gXe,gris:mXe,blanc:bXe,aProposDigiscreen:vXe,digiscreen:yXe,contact:wXe,langue:CXe,arrierePlanPage:EXe,selectionnerCouleur:xXe,pagePrecedente:TXe,pageSuivante:_Xe,pages:SXe,ajouterPage:BXe,importer:kXe,exporter:IXe,importerEcran:DXe,exporterEcran:FXe,modules:PXe,tirageSortTexte:LXe,tirageSortImage:RXe,texteATrous:MXe,exempleTrou:OXe,consigneTrouSimple:UXe,consigneTrouSelection:NXe,listePersonnes:HXe,consigneGroupe:QXe,exempleGroupe:VXe,nombrePersonnesGroupe:$Xe,texteTirageTexte:jXe,texteTirageImage:zXe,consigneTirageTexte:KXe,selectionnerImages:GXe,supprimerItemTirage:qXe,oui:WXe,non:YXe,tirer:XXe,contenuIntegre:JXe,lienContenuLigne:ZXe,monTexte:eJe,selectionner:tJe,dessiner:iJe,deplacerPanneaux:nJe,defaire:sJe,refaire:rJe,rectangle:oJe,rectanglePlein:aJe,cercle:lJe,cerclePlein:uJe,etoile:cJe,ligne:dJe,fleche:hJe,surlignage:AJe,supprimer:fJe,fermer:pJe,verrouiller:gJe,deverrouiller:mJe,mettreDevant:bJe,mettreDerriere:vJe,reduireTaille:yJe,augmenterTaille:wJe,reinitialiserAnnotations:CJe,reinitialiser:EJe,soutien:xJe,codeSource:TJe,horloge:_Je,volume:SJe,sonometre:BJe,sensibilite:kJe,erreurSonometre:IJe,erreurTailleFichier:DJe,nouveauTitre:FJe,calendrier:PJe,lien:LJe,titreLien:RJe,activerEffetsSonores:MJe,plateau:OJe,plateauJeu:UJe,nombrePions:NJe,afficherHeures:HJe,afficherDecompteVisuel:QJe,redemarrer:VJe,dupliquer:$Je,confirmationSuppressionPage:jJe,supprimerPage:zJe,envoyerPage:KJe,galerie:GJe,galerieImages:qJe,texteGalerie:WJe,label:YJe,webcam:XJe,navigateurNonSupporte:JJe,aucuneEntreeVideo:ZJe,tableau:eZe,lignes:tZe,colonnes:iZe,titreColonne:nZe,ajouterColonne:sZe,supprimerColonne:rZe,ajouterLigne:oZe,supprimerLigne:aZe,rownum:lZe,plaintext:uZe,textarea:cZe,html:dZe,link:hZe,color:AZe,star:fZe,progress:pZe,tickCross:gZe,orange:mZe,pourpre:bZe,list:vZe,listeMots:yZe,modalites:wZe,silence:CZe,chuchotez:EZe,ecoutez:xZe,parlez:TZe,communiquez:_Ze,modalitesTravail:SZe,histoire:BZe,nombreImages:kZe,sourceImages:IZe,generer:DZe,tirageSortAudio:FZe,texteTirageAudio:PZe,selectionnerAudios:LZe,tirageAudio:RZe,adresseLien:MZe,apparence:OZe,lecteur:UZe,bouton:NZe,typeDe:HZe,classique:QZe,nombre:VZe,lettre:$Ze,minimum:jZe,maximum:zZe,alerteEcran:KZe,pendu:GZe,motATrouver:qZe,nombreErreurs:WZe,caracteres:YZe,erreursRestantes:XZe,cartes:JZe,formatCartes:ZZe,paysage:eet,portrait:tet,carre:iet,recto:net,verso:set,ajouterCarte:ret,selectionnerCouleurFond:oet,plus1Min:aet,moins1Min:uet,afficherMillisecondes:cet,augmenterTransparence:det,reduireTransparence:het,imagesSequentielles:Aet,ordreImage:fet,imagesOrdre:pet,capturer:get,mettrePleinEcran:met,sortirPleinEcran:bet,masquerOutils:vet,afficherOutils:yet,feu:wet,feuQuadricolore:Cet,roue:Eet,itemsRoue:xet,selectionnerFichier:Tet,codeHTML:_et,deplacer:Bet,copier:ket,son:Iet,bip:Det,cartoon:Fet,clave:Pet,djembe:Let,gouttes:Ret,maraca:Met,mbira:Oet,metronome:Uet,triangle:Net,classement:Het,consigneClassement:Qet,nombrePoints:Vet,classer:$et,modifierScore:jet,seuilTolerance:zet,nouveauNom:Ket,tirageSortNombre:Get,tirageNombre:qet,horlogeModulable:Wet,horlogeM:Yet,exemple:Xet,corbeille:Jet,aucunPanneauSupprime:Zet,page:ett,restaurer:ttt},ntt={en:hBe,fr:KDe,es:_Me,it:o7e,nl:H$e,de:yWe,hr:itt};function h0(t){if(!Ri.autoDrawEnabled){const e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const _4={key:!0,style:!0,elm:!0,isRootInsert:!0},i1=".vue-konva-event";function MP(t,e,i,s){const n=t.__konvaNode,r={};let o=!1;for(let a in i){if(_4.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",u=i[a]!==e[a];if(l&&u){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),n==null||n.off(c+i1,i[a])}!e.hasOwnProperty(a)&&(n==null||n.setAttr(a,void 0))}for(let a in e){if(_4.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const u=i[a]!==e[a];if(l&&u){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),e[a]&&(n==null||n.off(c+i1),n==null||n.on(c+i1,e[a]))}!l&&(e[a]!==i[a]||s&&e[a]!==(n==null?void 0:n.getAttr(a)))&&(o=!0,r[a]=e[a])}o&&n&&(n.setAttrs(r),h0(n))}const stt="v";function rtt(t){function e(i){return i!=null&&i.__konvaNode?i:i!=null&&i.parent?e(i.parent):(console.error("vue-konva error: Can not find parent node"),null)}return e(t.parent)}function OP(t){return t.component?t.component.__konvaNode||OP(t.component.subTree):null}function ott(t){const{el:e,component:i}=t,s=OP(t);if(e!=null&&e.tagName&&i&&!s){const n=e.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'.concat(n,'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.')),null}return s}function att(t){const e=n=>!!(n!=null&&n.hasOwnProperty("component")),i=n=>Array.isArray(n),s=n=>e(n)?[n,...s(n.children)]:i(n)?n.flatMap(s):[];return s(t.children)}function UP(t,e){const i=att(t),s=[];i.forEach(r=>{const o=ott(r);o&&s.push(o)});let n=!1;s.forEach((r,o)=>{r.getZIndex()!==o&&(r.setZIndex(o),n=!0)}),n&&h0(e)}const ltt=Yc({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(t,{attrs:e,slots:i,expose:s}){const n=ea();if(!n)return;const r=KA({}),o=J4(null),a=new Ri.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});n.__konvaNode=a,c();function l(){return n==null?void 0:n.__konvaNode}function u(){return n==null?void 0:n.__konvaNode}function c(){if(!n)return;const h=r||{},A={...e,...t.config};MP(n,A,h,t.__useStrictMode),Object.assign(r,A)}return qA(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),c()}),C0(()=>{c(),UP(n.subTree,a)}),pC(()=>{a.destroy()}),Ga(()=>t.config,c,{deep:!0}),s({getStage:u,getNode:l}),console.log(e),()=>{var h;return mr("div",{ref:o,style:e==null?void 0:e.style},(h=i.default)==null?void 0:h.call(i))}}}),utt=".vue-konva-event",ctt={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function dtt(t,e){return Yc({name:t,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(i,{attrs:s,slots:n,expose:r}){const o=ea();if(!o)return;const a=KA({}),l=new e;o.__konvaNode=l,o.vnode.__konvaNode=l,h();function u(){return o==null?void 0:o.__konvaNode}function c(){return o==null?void 0:o.__konvaNode}function h(){if(!o)return;const f={};for(const x in o==null?void 0:o.vnode.props)x.slice(0,2)==="on"&&(f[x]=o.vnode.props[x]);const m=a||{},p={...s,...i.config,...f};MP(o,p,m,i.__useStrictMode),Object.assign(a,p)}qA(()=>{var f;const m=(f=rtt(o))==null?void 0:f.__konvaNode;m&&"add"in m&&m.add(l),h0(l)}),E0(()=>{h0(l),l.destroy(),l.off(utt)}),C0(()=>{h(),UP(o.subTree,l)}),Ga(()=>i.config,h,{deep:!0}),r({getStage:c,getNode:u});const A=ctt.hasOwnProperty(t);return()=>{var f;return A?mr("template",{},(f=n.default)==null?void 0:f.call(n)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const htt={install:(t,e)=>{const i=(e==null?void 0:e.prefix)||stt,s={Arc:Ri.Arc,Arrow:Ri.Arrow,Circle:Ri.Circle,Ellipse:Ri.Ellipse,FastLayer:Ri.FastLayer,Group:Ri.Group,Image:Ri.Image,Label:Ri.Label,Layer:Ri.Layer,Line:Ri.Line,Path:Ri.Path,Rect:Ri.Rect,RegularPolygon:Ri.RegularPolygon,Ring:Ri.Ring,Shape:Ri.Shape,Sprite:Ri.Sprite,Star:Ri.Star,Tag:Ri.Tag,Text:Ri.Text,TextPath:Ri.TextPath,Transformer:Ri.Transformer,Wedge:Ri.Wedge,...e==null?void 0:e.customNodes};[ltt,...Object.entries(s).map(([n,r])=>dtt(n,r))].forEach(n=>{t.component("".concat(i).concat(n.name),n)})}},Att=E2e({locale:"fr",fallbackLocale:"fr",messages:ntt}),q2=JM(Twe);q2.use(Att);q2.use(htt);q2.mount("#app");
